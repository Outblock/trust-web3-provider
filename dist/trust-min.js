(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}var _events=require("events");function _classCallCheck(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),o)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_setPrototypeOf(t,e)}function _createSuper(t){var r=_isNativeReflectConstruct();return function(){var e,o=_getPrototypeOf(t);if(r){var s=_getPrototypeOf(this).constructor;e=Reflect.construct(o,arguments,s)}else e=o.apply(this,arguments);return _possibleConstructorReturn(this,e)}}function _possibleConstructorReturn(t,e){if(e&&("object"==_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(_isNativeReflectConstruct=function _isNativeReflectConstruct(){return!!t})()}function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(t)}var BaseProvider=function(_EventEmitter){_inherits(BaseProvider,_EventEmitter);var _super=_createSuper(BaseProvider);function BaseProvider(config){var _this;_classCallCheck(this,BaseProvider);_this=_super.call(this);_this.isDebug=!!config.isDebug;_this.isTrust=false;_this.isFlowWallet=true;return _this}_createClass(BaseProvider,[{key:"postMessage",value:function postMessage(handler,id,data){var object={id:id,name:handler,object:data,network:this.providerNetwork};if(window.trustwallet.postMessage){window.trustwallet.postMessage(object)}else{console.error("postMessage is not available")}}},{key:"sendResponse",value:function sendResponse(id,result){var callback=this.callbacks.get(id);if(this.isDebug){console.log("<== sendResponse id: ".concat(id,", result: ").concat(JSON.stringify(result)))}if(callback){callback(null,result);this.callbacks["delete"](id)}else{console.log("callback id: ".concat(id," not found"))}}},{key:"sendError",value:function sendError(id,error){console.log("<== ".concat(id," sendError ").concat(error));var callback=this.callbacks.get(id);if(callback){callback(error instanceof Error?error:new Error(error),null);this.callbacks["delete"](id)}}}]);return BaseProvider}(_events.EventEmitter);module.exports=BaseProvider},{events:60}],2:[function(require,module,exports){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _classCallCheck(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),o)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf(t,e)}function _createSuper(t){var r=_isNativeReflectConstruct();return function(){var e,o=_getPrototypeOf(t);if(r){var s=_getPrototypeOf(this).constructor;e=Reflect.construct(o,arguments,s)}else e=o.apply(this,arguments);return _possibleConstructorReturn(this,e)}}function _possibleConstructorReturn(t,e){if(e&&("object"==_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _wrapNativeSuper(t){var r="function"==typeof Map?new Map:void 0;return _wrapNativeSuper=function _wrapNativeSuper(t){if(null===t||!_isNativeFunction(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==r){if(r.has(t))return r.get(t);r.set(t,Wrapper)}function Wrapper(){return _construct(t,arguments,_getPrototypeOf(this).constructor)}return Wrapper.prototype=Object.create(t.prototype,{constructor:{value:Wrapper,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(Wrapper,t)},_wrapNativeSuper(t)}function _construct(t,e,r){if(_isNativeReflectConstruct())return Reflect.construct.apply(null,arguments);var o=[null];o.push.apply(o,e);var p=new(t.bind.apply(t,o));return r&&_setPrototypeOf(p,r.prototype),p}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(_isNativeReflectConstruct=function _isNativeReflectConstruct(){return!!t})()}function _isNativeFunction(t){try{return-1!==Function.toString.call(t).indexOf("[native code]")}catch(n){return"function"==typeof t}}function _setPrototypeOf(t,e){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_setPrototypeOf(t,e)}function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(t)}var ProviderRpcError=function(_Error){_inherits(ProviderRpcError,_Error);var _super=_createSuper(ProviderRpcError);function ProviderRpcError(code,message){var _this;_classCallCheck(this,ProviderRpcError);_this=_super.call(this);_this.code=code;_this.message=message;return _this}_createClass(ProviderRpcError,[{key:"toString",value:function toString(){return"".concat(this.message," (").concat(this.code,")")}}]);return ProviderRpcError}(_wrapNativeSuper(Error));module.exports=ProviderRpcError},{}],3:[function(require,module,exports){"use strict";var _rpc=_interopRequireDefault(require("./rpc"));var _error=_interopRequireDefault(require("./error"));var _utils=_interopRequireDefault(require("./utils"));var _id_mapping=_interopRequireDefault(require("./id_mapping"));var _isutf=_interopRequireDefault(require("isutf8"));var _ethSigUtil=require("@metamask/eth-sig-util");var _viem=require("viem");var _base_provider=_interopRequireDefault(require("./base_provider"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _slicedToArray(r,e){return _arrayWithHoles(r)||_iterableToArrayLimit(r,e)||_unsupportedIterableToArray(r,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++){n[e]=r[e]}return n}function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0){}}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t["return"]&&(u=t["return"](),Object(u)!==u))return}finally{if(o)throw n}}return a}}function _arrayWithHoles(r){if(Array.isArray(r))return r}function _classCallCheck(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),o)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function _get(){return _get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var p=_superPropBase(e,t);if(p){var n=Object.getOwnPropertyDescriptor(p,t);return n.get?n.get.call(arguments.length<3?e:r):n.value}},_get.apply(null,arguments)}function _superPropBase(t,o){for(;!{}.hasOwnProperty.call(t,o)&&null!==(t=_getPrototypeOf(t));){}return t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_setPrototypeOf(t,e)}function _createSuper(t){var r=_isNativeReflectConstruct();return function(){var e,o=_getPrototypeOf(t);if(r){var s=_getPrototypeOf(this).constructor;e=Reflect.construct(o,arguments,s)}else e=o.apply(this,arguments);return _possibleConstructorReturn(this,e)}}function _possibleConstructorReturn(t,e){if(e&&("object"==_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(_isNativeReflectConstruct=function _isNativeReflectConstruct(){return!!t})()}function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(t)}var TrustWeb3Provider=function(_BaseProvider){_inherits(TrustWeb3Provider,_BaseProvider);var _super=_createSuper(TrustWeb3Provider);function TrustWeb3Provider(config){var _this;_classCallCheck(this,TrustWeb3Provider);_this=_super.call(this,config);_this.setConfig(config);_this.providerNetwork="ethereum";_this.idMapping=new _id_mapping["default"];_this.callbacks=new Map;_this.wrapResults=new Map;_this.isMetaMask=!!config.ethereum.isMetaMask;_this.emitConnect(_this.chainId);return _this}_createClass(TrustWeb3Provider,[{key:"setAddress",value:function setAddress(address){var lowerAddress=(address||"").toLowerCase();this.address=lowerAddress;this.ready=!!address;try{for(var i=0;i<window.frames.length;i++){var frame=window.frames[i];if(frame.ethereum&&frame.ethereum.isTrust){frame.ethereum.address=lowerAddress;frame.ethereum.ready=!!address}}}catch(error){console.log(error)}}},{key:"setConfig",value:function setConfig(config){this.setAddress(config.ethereum.address);this.networkVersion=""+config.ethereum.chainId;this.chainId="0x"+(config.ethereum.chainId||1).toString(16);this.rpc=new _rpc["default"](config.ethereum.rpcUrl);this.isDebug=!!config.isDebug}},{key:"request",value:function request(payload){var that=this;if(!(this instanceof TrustWeb3Provider)){that=window.ethereum}return that._request(payload,false)}},{key:"isConnected",value:function isConnected(){return true}},{key:"enable",value:function enable(){console.log("enable() is deprecated, please use window.ethereum.request({method: 'eth_requestAccounts'}) instead.");return this.request({method:"eth_requestAccounts",params:[]})}},{key:"send",value:function send(payload){if(this.isDebug){console.log("==> send payload ".concat(JSON.stringify(payload)))}var response={jsonrpc:"2.0",id:payload.id};switch(payload.method){case"eth_accounts":response.result=this.eth_accounts();break;case"eth_coinbase":response.result=this.eth_coinbase();break;case"net_version":response.result=this.net_version();break;case"eth_chainId":response.result=this.eth_chainId();break;default:throw new _error["default"](4200,"Trust does not support calling ".concat(payload.method," synchronously without a callback. Please provide a callback parameter to call ").concat(payload.method," asynchronously."))}return response}},{key:"sendAsync",value:function sendAsync(payload,callback){console.log("sendAsync(data, callback) is deprecated, please use window.ethereum.request(data) instead.");var that=this;if(!(this instanceof TrustWeb3Provider)){that=window.ethereum}if(Array.isArray(payload)){Promise.all(payload.map(function(_payload){return that._request(_payload)})).then(function(data){return callback(null,data)})["catch"](function(error){return callback(error,null)})}else{that._request(payload).then(function(data){return callback(null,data)})["catch"](function(error){return callback(error,null)})}}},{key:"_request",value:function _request(payload){var _this2=this;var wrapResult=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;this.idMapping.tryIntifyId(payload);if(this.isDebug){console.log("==> _request payload ".concat(JSON.stringify(payload)))}this.fillJsonRpcVersion(payload);return new Promise(function(resolve,reject){if(!payload.id){payload.id=_utils["default"].genId()}_this2.callbacks.set(payload.id,function(error,data){if(error){reject(error)}else{resolve(data)}});_this2.wrapResults.set(payload.id,wrapResult);switch(payload.method){case"eth_accounts":return _this2.sendResponse(payload.id,_this2.eth_accounts());case"eth_coinbase":return _this2.sendResponse(payload.id,_this2.eth_coinbase());case"net_version":return _this2.sendResponse(payload.id,_this2.net_version());case"eth_chainId":return _this2.sendResponse(payload.id,_this2.eth_chainId());case"eth_sign":return _this2.eth_sign(payload);case"personal_sign":return _this2.personal_sign(payload);case"personal_ecRecover":return _this2.personal_ecRecover(payload);case"eth_signTypedData_v3":return _this2.eth_signTypedData(payload,_ethSigUtil.SignTypedDataVersion.V3);case"eth_signTypedData_v4":return _this2.eth_signTypedData(payload,_ethSigUtil.SignTypedDataVersion.V4);case"eth_signTypedData":return _this2.eth_signTypedData(payload,_ethSigUtil.SignTypedDataVersion.V1);case"eth_sendTransaction":return _this2.eth_sendTransaction(payload);case"eth_requestAccounts":return _this2.eth_requestAccounts(payload);case"wallet_watchAsset":return _this2.wallet_watchAsset(payload);case"wallet_addEthereumChain":return _this2.wallet_addEthereumChain(payload);case"wallet_switchEthereumChain":return _this2.wallet_switchEthereumChain(payload);case"eth_newFilter":case"eth_newBlockFilter":case"eth_newPendingTransactionFilter":case"eth_uninstallFilter":case"eth_subscribe":throw new _error["default"](4200,"Trust does not support calling ".concat(payload.method,". Please use your own solution"));default:_this2.callbacks["delete"](payload.id);_this2.wrapResults["delete"](payload.id);return _this2.rpc.call(payload).then(function(response){if(_this2.isDebug){console.log("<== rpc response ".concat(JSON.stringify(response)))}wrapResult?resolve(response):resolve(response.result)})["catch"](reject)}})}},{key:"fillJsonRpcVersion",value:function fillJsonRpcVersion(payload){if(payload.jsonrpc===undefined){payload.jsonrpc="2.0"}}},{key:"emitConnect",value:function emitConnect(chainId){this.emit("connect",{chainId:chainId})}},{key:"emitChainChanged",value:function emitChainChanged(chainId){this.emit("chainChanged",chainId);this.emit("networkChanged",chainId)}},{key:"eth_accounts",value:function eth_accounts(){return this.address?[this.address]:[]}},{key:"eth_coinbase",value:function eth_coinbase(){return this.address}},{key:"net_version",value:function net_version(){return this.networkVersion}},{key:"eth_chainId",value:function eth_chainId(){return this.chainId}},{key:"eth_sign",value:function eth_sign(payload){var _payload$params=_slicedToArray(payload.params,2),address=_payload$params[0],message=_payload$params[1];var buffer=_utils["default"].messageToBuffer(message);var hex=_utils["default"].bufferToHex(buffer);if((0,_isutf["default"])(buffer)){this.postMessage("signPersonalMessage",payload.id,{data:hex,address:address})}else{this.postMessage("signMessage",payload.id,{data:hex,address:address})}}},{key:"personal_sign",value:function personal_sign(payload){var _payload$params2,_payload$params3;var message;var address;if(typeof((_payload$params2=payload.params)===null||_payload$params2===void 0?void 0:_payload$params2[0].toLowerCase())==="string"&&this.address===((_payload$params3=payload.params)===null||_payload$params3===void 0?void 0:_payload$params3[0].toLowerCase())){message=payload.params[1];address=payload.params[0]}else{message=payload.params[0];address=payload.params[1]}var buffer=_utils["default"].messageToBuffer(message);if(buffer.length===0){var hex=_utils["default"].bufferToHex(message);this.postMessage("signPersonalMessage",payload.id,{data:hex,address:address})}else{this.postMessage("signPersonalMessage",payload.id,{data:message,address:address})}}},{key:"personal_ecRecover",value:function personal_ecRecover(payload){this.postMessage("ecRecover",payload.id,{signature:payload.params[1],message:payload.params[0]})}},{key:"eth_signTypedData",value:function eth_signTypedData(payload,version){var _payload$params4,_payload$params5;var address;var data;if(typeof((_payload$params4=payload.params)===null||_payload$params4===void 0?void 0:_payload$params4[0])==="string"&&this.address===((_payload$params5=payload.params)===null||_payload$params5===void 0?void 0:_payload$params5[0].toLowerCase())){data=payload.params[1];address=payload.params[0]}else{data=payload.params[0];address=payload.params[1]}var message=typeof data==="string"?JSON.parse(data):data;var _ref=message.domain||{},chainId=_ref.chainId;if(!chainId||Number(chainId)!==Number(this.chainId)){throw new Error("Provided chainId does not match the currently active chain")}console.log("use viem hashTypedData");var hash=version!==_ethSigUtil.SignTypedDataVersion.V1?(0,_viem.hashTypedData)(message):"";this.postMessage("signTypedMessage",payload.id,{data:hash,raw:typeof data==="string"?data:JSON.stringify(data),address:address,version:version})}},{key:"eth_sendTransaction",value:function eth_sendTransaction(payload){this.postMessage("signTransaction",payload.id,payload.params[0])}},{key:"eth_requestAccounts",value:function eth_requestAccounts(payload){this.postMessage("requestAccounts",payload.id,{})}},{key:"wallet_watchAsset",value:function wallet_watchAsset(payload){var options=payload.params.options;this.postMessage("watchAsset",payload.id,{type:payload.type,contract:options.address,symbol:options.symbol,decimals:options.decimals||0})}},{key:"wallet_addEthereumChain",value:function wallet_addEthereumChain(payload){this.postMessage("addEthereumChain",payload.id,payload.params[0])}},{key:"wallet_switchEthereumChain",value:function wallet_switchEthereumChain(payload){this.postMessage("switchEthereumChain",payload.id,payload.params[0])}},{key:"postMessage",value:function postMessage(handler,id,data){if(this.ready||handler==="requestAccounts"){_get(_getPrototypeOf(TrustWeb3Provider.prototype),"postMessage",this).call(this,handler,id,data)}else{this.sendError(id,new _error["default"](4100,"provider is not ready"))}}},{key:"sendResponse",value:function sendResponse(id,result){var originId=this.idMapping.tryPopId(id)||id;var callback=this.callbacks.get(id);var wrapResult=this.wrapResults.get(id);var data={jsonrpc:"2.0",id:originId};if(result!==null&&_typeof(result)==="object"&&result.jsonrpc&&result.result){data.result=result.result}else{data.result=result}if(this.isDebug){console.log("<== sendResponse id: ".concat(id,", result: ").concat(JSON.stringify(result),", data: ").concat(JSON.stringify(data)))}if(callback){wrapResult?callback(null,data):callback(null,result);this.callbacks["delete"](id)}else{console.log("callback id: ".concat(id," not found"));for(var i=0;i<window.frames.length;i++){var frame=window.frames[i];try{if(frame.ethereum.callbacks.has(id)){frame.ethereum.sendResponse(id,result)}}catch(error){console.log("send response to frame error: ".concat(error))}}}}}]);return TrustWeb3Provider}(_base_provider["default"]);module.exports=TrustWeb3Provider},{"./base_provider":1,"./error":2,"./id_mapping":4,"./rpc":526,"./utils":527,"@metamask/eth-sig-util":7,isutf8:77,viem:372}],4:[function(require,module,exports){"use strict";var _utils=_interopRequireDefault(require("./utils"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _classCallCheck(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),o)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}var IdMapping=function(){function IdMapping(){_classCallCheck(this,IdMapping);this.intIds=new Map}_createClass(IdMapping,[{key:"tryIntifyId",value:function tryIntifyId(payload){if(!payload.id){payload.id=_utils["default"].genId();return}if(typeof payload.id!=="number"){var newId=_utils["default"].genId();this.intIds.set(newId,payload.id);payload.id=newId}}},{key:"tryRestoreId",value:function tryRestoreId(payload){var id=this.tryPopId(payload.id);if(id){payload.id=id}}},{key:"tryPopId",value:function tryPopId(id){var originId=this.intIds.get(id);if(originId){this.intIds["delete"](id)}return originId}}]);return IdMapping}();module.exports=IdMapping},{"./utils":527}],5:[function(require,module,exports){"use strict";var _ethereum_provider=_interopRequireDefault(require("./ethereum_provider"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}window.trustwallet={Provider:_ethereum_provider["default"],postMessage:null};window.flowwallet={Provider:_ethereum_provider["default"],postMessage:null}},{"./ethereum_provider":3}],6:[function(require,module,exports){(function(Buffer){(function(){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}var __createBinding=void 0&&(void 0).__createBinding||(Object.create?function(o,m,k,k2){if(k2===undefined)k2=k;Object.defineProperty(o,k2,{enumerable:true,get:function get(){return m[k]}})}:function(o,m,k,k2){if(k2===undefined)k2=k;o[k2]=m[k]});var __setModuleDefault=void 0&&(void 0).__setModuleDefault||(Object.create?function(o,v){Object.defineProperty(o,"default",{enumerable:true,value:v})}:function(o,v){o["default"]=v});var __importStar=void 0&&(void 0).__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(mod!=null)for(var k in mod){if(k!=="default"&&Object.prototype.hasOwnProperty.call(mod,k))__createBinding(result,mod,k)}__setModuleDefault(result,mod);return result};Object.defineProperty(exports,"__esModule",{value:true});exports.getEncryptionPublicKey=exports.decryptSafely=exports.decrypt=exports.encryptSafely=exports.encrypt=void 0;var nacl=__importStar(require("tweetnacl"));var naclUtil=__importStar(require("tweetnacl-util"));var utils_1=require("./utils");function encrypt(_ref){var publicKey=_ref.publicKey,data=_ref.data,version=_ref.version;if(utils_1.isNullish(publicKey)){throw new Error("Missing publicKey parameter")}else if(utils_1.isNullish(data)){throw new Error("Missing data parameter")}else if(utils_1.isNullish(version)){throw new Error("Missing version parameter")}switch(version){case"x25519-xsalsa20-poly1305":{if(typeof data!=="string"){throw new Error("Message data must be given as a string")}var ephemeralKeyPair=nacl.box.keyPair();var pubKeyUInt8Array;try{pubKeyUInt8Array=naclUtil.decodeBase64(publicKey)}catch(err){throw new Error("Bad public key")}var msgParamsUInt8Array=naclUtil.decodeUTF8(data);var nonce=nacl.randomBytes(nacl.box.nonceLength);var encryptedMessage=nacl.box(msgParamsUInt8Array,nonce,pubKeyUInt8Array,ephemeralKeyPair.secretKey);var output={version:"x25519-xsalsa20-poly1305",nonce:naclUtil.encodeBase64(nonce),ephemPublicKey:naclUtil.encodeBase64(ephemeralKeyPair.publicKey),ciphertext:naclUtil.encodeBase64(encryptedMessage)};return output}default:throw new Error("Encryption type/version not supported")}}exports.encrypt=encrypt;function encryptSafely(_ref2){var publicKey=_ref2.publicKey,data=_ref2.data,version=_ref2.version;if(utils_1.isNullish(publicKey)){throw new Error("Missing publicKey parameter")}else if(utils_1.isNullish(data)){throw new Error("Missing data parameter")}else if(utils_1.isNullish(version)){throw new Error("Missing version parameter")}var DEFAULT_PADDING_LENGTH=Math.pow(2,11);var NACL_EXTRA_BYTES=16;if(_typeof(data)==="object"&&"toJSON"in data){throw new Error("Cannot encrypt with toJSON property.  Please remove toJSON property")}var dataWithPadding={data:data,padding:""};var dataLength=Buffer.byteLength(JSON.stringify(dataWithPadding),"utf-8");var modVal=dataLength%DEFAULT_PADDING_LENGTH;var padLength=0;if(modVal>0){padLength=DEFAULT_PADDING_LENGTH-modVal-NACL_EXTRA_BYTES}dataWithPadding.padding="0".repeat(padLength);var paddedMessage=JSON.stringify(dataWithPadding);return encrypt({publicKey:publicKey,data:paddedMessage,version:version})}exports.encryptSafely=encryptSafely;function decrypt(_ref3){var encryptedData=_ref3.encryptedData,privateKey=_ref3.privateKey;if(utils_1.isNullish(encryptedData)){throw new Error("Missing encryptedData parameter")}else if(utils_1.isNullish(privateKey)){throw new Error("Missing privateKey parameter")}switch(encryptedData.version){case"x25519-xsalsa20-poly1305":{var recieverPrivateKeyUint8Array=nacl_decodeHex(privateKey);var recieverEncryptionPrivateKey=nacl.box.keyPair.fromSecretKey(recieverPrivateKeyUint8Array).secretKey;var nonce=naclUtil.decodeBase64(encryptedData.nonce);var ciphertext=naclUtil.decodeBase64(encryptedData.ciphertext);var ephemPublicKey=naclUtil.decodeBase64(encryptedData.ephemPublicKey);var decryptedMessage=nacl.box.open(ciphertext,nonce,ephemPublicKey,recieverEncryptionPrivateKey);var output;try{output=naclUtil.encodeUTF8(decryptedMessage)}catch(err){throw new Error("Decryption failed.")}if(output){return output}throw new Error("Decryption failed.")}default:throw new Error("Encryption type/version not supported.")}}exports.decrypt=decrypt;function decryptSafely(_ref4){var encryptedData=_ref4.encryptedData,privateKey=_ref4.privateKey;if(utils_1.isNullish(encryptedData)){throw new Error("Missing encryptedData parameter")}else if(utils_1.isNullish(privateKey)){throw new Error("Missing privateKey parameter")}var dataWithPadding=JSON.parse(decrypt({encryptedData:encryptedData,privateKey:privateKey}));return dataWithPadding.data}exports.decryptSafely=decryptSafely;function getEncryptionPublicKey(privateKey){var privateKeyUint8Array=nacl_decodeHex(privateKey);var encryptionPublicKey=nacl.box.keyPair.fromSecretKey(privateKeyUint8Array).publicKey;return naclUtil.encodeBase64(encryptionPublicKey)}exports.getEncryptionPublicKey=getEncryptionPublicKey;function nacl_decodeHex(msgHex){var msgBase64=Buffer.from(msgHex,"hex").toString("base64");return naclUtil.decodeBase64(msgBase64)}}).call(this)}).call(this,require("buffer").Buffer)},{"./utils":10,buffer:168,tweetnacl:120,"tweetnacl-util":119}],7:[function(require,module,exports){"use strict";var __createBinding=void 0&&(void 0).__createBinding||(Object.create?function(o,m,k,k2){if(k2===undefined)k2=k;Object.defineProperty(o,k2,{enumerable:true,get:function get(){return m[k]}})}:function(o,m,k,k2){if(k2===undefined)k2=k;o[k2]=m[k]});var __exportStar=void 0&&(void 0).__exportStar||function(m,exports){for(var p in m){if(p!=="default"&&!Object.prototype.hasOwnProperty.call(exports,p))__createBinding(exports,m,p)}};Object.defineProperty(exports,"__esModule",{value:true});exports.normalize=exports.concatSig=void 0;__exportStar(require("./personal-sign"),exports);__exportStar(require("./sign-typed-data"),exports);__exportStar(require("./encryption"),exports);var utils_1=require("./utils");Object.defineProperty(exports,"concatSig",{enumerable:true,get:function get(){return utils_1.concatSig}});Object.defineProperty(exports,"normalize",{enumerable:true,get:function get(){return utils_1.normalize}})},{"./encryption":6,"./personal-sign":8,"./sign-typed-data":9,"./utils":10}],8:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.extractPublicKey=exports.recoverPersonalSignature=exports.personalSign=void 0;var ethereumjs_util_1=require("ethereumjs-util");var utils_1=require("./utils");function personalSign(_ref){var privateKey=_ref.privateKey,data=_ref.data;if(utils_1.isNullish(data)){throw new Error("Missing data parameter")}else if(utils_1.isNullish(privateKey)){throw new Error("Missing privateKey parameter")}var message=utils_1.legacyToBuffer(data);var msgHash=ethereumjs_util_1.hashPersonalMessage(message);var sig=ethereumjs_util_1.ecsign(msgHash,privateKey);var serialized=utils_1.concatSig(ethereumjs_util_1.toBuffer(sig.v),sig.r,sig.s);return serialized}exports.personalSign=personalSign;function recoverPersonalSignature(_ref2){var data=_ref2.data,signature=_ref2.signature;if(utils_1.isNullish(data)){throw new Error("Missing data parameter")}else if(utils_1.isNullish(signature)){throw new Error("Missing signature parameter")}var publicKey=getPublicKeyFor(data,signature);var sender=ethereumjs_util_1.publicToAddress(publicKey);var senderHex=ethereumjs_util_1.bufferToHex(sender);return senderHex}exports.recoverPersonalSignature=recoverPersonalSignature;function extractPublicKey(_ref3){var data=_ref3.data,signature=_ref3.signature;if(utils_1.isNullish(data)){throw new Error("Missing data parameter")}else if(utils_1.isNullish(signature)){throw new Error("Missing signature parameter")}var publicKey=getPublicKeyFor(data,signature);return"0x".concat(publicKey.toString("hex"))}exports.extractPublicKey=extractPublicKey;function getPublicKeyFor(message,signature){var messageHash=ethereumjs_util_1.hashPersonalMessage(utils_1.legacyToBuffer(message));return utils_1.recoverPublicKey(messageHash,signature)}},{"./utils":10,"ethereumjs-util":15}],9:[function(require,module,exports){(function(Buffer){(function(){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _toConsumableArray(r){return _arrayWithoutHoles(r)||_iterableToArray(r)||_unsupportedIterableToArray(r)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}function _arrayWithoutHoles(r){if(Array.isArray(r))return _arrayLikeToArray(r)}function _createForOfIteratorHelper(r,e){var t="undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(!t){if(Array.isArray(r)||(t=_unsupportedIterableToArray(r))||e&&r&&"number"==typeof r.length){t&&(r=t);var _n=0,F=function F(){};return{s:F,n:function n(){return _n>=r.length?{done:!0}:{done:!1,value:r[_n++]}},e:function e(r){throw r},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function s(){t=t.call(r)},n:function n(){var r=t.next();return a=r.done,r},e:function e(r){u=!0,o=r},f:function f(){try{a||null==t["return"]||t["return"]()}finally{if(u)throw o}}}}function _slicedToArray(r,e){return _arrayWithHoles(r)||_iterableToArrayLimit(r,e)||_unsupportedIterableToArray(r,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++){n[e]=r[e]}return n}function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0){}}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t["return"]&&(u=t["return"](),Object(u)!==u))return}finally{if(o)throw n}}return a}}function _arrayWithHoles(r){if(Array.isArray(r))return r}Object.defineProperty(exports,"__esModule",{value:true});exports.recoverTypedSignature=exports.signTypedData=exports.typedSignatureHash=exports.TypedDataUtils=exports.TYPED_MESSAGE_SCHEMA=exports.SignTypedDataVersion=void 0;var ethereumjs_util_1=require("ethereumjs-util");var ethereumjs_abi_1=require("ethereumjs-abi");var utils_1=require("./utils");var SignTypedDataVersion;(function(SignTypedDataVersion){SignTypedDataVersion["V1"]="V1";SignTypedDataVersion["V3"]="V3";SignTypedDataVersion["V4"]="V4"})(SignTypedDataVersion=exports.SignTypedDataVersion||(exports.SignTypedDataVersion={}));exports.TYPED_MESSAGE_SCHEMA={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]};function validateVersion(version,allowedVersions){if(!Object.keys(SignTypedDataVersion).includes(version)){throw new Error("Invalid version: '".concat(version,"'"))}else if(allowedVersions&&!allowedVersions.includes(version)){throw new Error("SignTypedDataVersion not allowed: '".concat(version,"'. Allowed versions are: ").concat(allowedVersions.join(", ")))}}function encodeField(types,name,type,value,version){validateVersion(version,[SignTypedDataVersion.V3,SignTypedDataVersion.V4]);if(types[type]!==undefined){return["bytes32",version===SignTypedDataVersion.V4&&value==null?"0x0000000000000000000000000000000000000000000000000000000000000000":ethereumjs_util_1.keccak(encodeData(type,value,types,version))]}if(value===undefined){throw new Error("missing value for field ".concat(name," of type ").concat(type))}if(type==="bytes"){return["bytes32",ethereumjs_util_1.keccak(value)]}if(type==="string"){if(typeof value==="string"){value=Buffer.from(value,"utf8")}return["bytes32",ethereumjs_util_1.keccak(value)]}if(type.lastIndexOf("]")===type.length-1){if(version===SignTypedDataVersion.V3){throw new Error("Arrays are unimplemented in encodeData; use V4 extension")}var parsedType=type.slice(0,type.lastIndexOf("["));var typeValuePairs=value.map(function(item){return encodeField(types,name,parsedType,item,version)});return["bytes32",ethereumjs_util_1.keccak(ethereumjs_abi_1.rawEncode(typeValuePairs.map(function(_ref){var _ref2=_slicedToArray(_ref,1),t=_ref2[0];return t}),typeValuePairs.map(function(_ref3){var _ref4=_slicedToArray(_ref3,2),v=_ref4[1];return v})))]}return[type,value]}function encodeData(primaryType,data,types,version){validateVersion(version,[SignTypedDataVersion.V3,SignTypedDataVersion.V4]);var encodedTypes=["bytes32"];var encodedValues=[hashType(primaryType,types)];var _iterator=_createForOfIteratorHelper(types[primaryType]),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var field=_step.value;if(version===SignTypedDataVersion.V3&&data[field.name]===undefined){continue}var _encodeField=encodeField(types,field.name,field.type,data[field.name],version),_encodeField2=_slicedToArray(_encodeField,2),type=_encodeField2[0],value=_encodeField2[1];encodedTypes.push(type);encodedValues.push(value)}}catch(err){_iterator.e(err)}finally{_iterator.f()}return ethereumjs_abi_1.rawEncode(encodedTypes,encodedValues)}function encodeType(primaryType,types){var result="";var unsortedDeps=findTypeDependencies(primaryType,types);unsortedDeps["delete"](primaryType);var deps=[primaryType].concat(_toConsumableArray(Array.from(unsortedDeps).sort()));var _iterator2=_createForOfIteratorHelper(deps),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var type=_step2.value;var children=types[type];if(!children){throw new Error("No type definition specified: ".concat(type))}result+="".concat(type,"(").concat(types[type].map(function(_ref5){var name=_ref5.name,t=_ref5.type;return"".concat(t," ").concat(name)}).join(","),")")}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}return result}function findTypeDependencies(primaryType,types){var results=arguments.length>2&&arguments[2]!==undefined?arguments[2]:new Set;var _primaryType$match=primaryType.match(/^[0-9A-Z_a-z]*/);var _primaryType$match2=_slicedToArray(_primaryType$match,1);primaryType=_primaryType$match2[0];if(results.has(primaryType)||types[primaryType]===undefined){return results}results.add(primaryType);var _iterator3=_createForOfIteratorHelper(types[primaryType]),_step3;try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var field=_step3.value;findTypeDependencies(field.type,types,results)}}catch(err){_iterator3.e(err)}finally{_iterator3.f()}return results}function hashStruct(primaryType,data,types,version){validateVersion(version,[SignTypedDataVersion.V3,SignTypedDataVersion.V4]);return ethereumjs_util_1.keccak(encodeData(primaryType,data,types,version))}function hashType(primaryType,types){return ethereumjs_util_1.keccak(encodeType(primaryType,types))}function sanitizeData(data){var sanitizedData={};for(var key in exports.TYPED_MESSAGE_SCHEMA.properties){if(data[key]){sanitizedData[key]=data[key]}}if("types"in sanitizedData){sanitizedData.types=Object.assign({EIP712Domain:[]},sanitizedData.types)}return sanitizedData}function eip712Hash(typedData,version){validateVersion(version,[SignTypedDataVersion.V3,SignTypedDataVersion.V4]);var sanitizedData=sanitizeData(typedData);var parts=[Buffer.from("1901","hex")];parts.push(hashStruct("EIP712Domain",sanitizedData.domain,sanitizedData.types,version));if(sanitizedData.primaryType!=="EIP712Domain"){parts.push(hashStruct(sanitizedData.primaryType,sanitizedData.message,sanitizedData.types,version))}return ethereumjs_util_1.keccak(Buffer.concat(parts))}exports.TypedDataUtils={encodeData:encodeData,encodeType:encodeType,findTypeDependencies:findTypeDependencies,hashStruct:hashStruct,hashType:hashType,sanitizeData:sanitizeData,eip712Hash:eip712Hash};function typedSignatureHash(typedData){var hashBuffer=_typedSignatureHash(typedData);return ethereumjs_util_1.bufferToHex(hashBuffer)}exports.typedSignatureHash=typedSignatureHash;function _typedSignatureHash(typedData){var error=new Error("Expect argument to be non-empty array");if(_typeof(typedData)!=="object"||!("length"in typedData)||!typedData.length){throw error}var data=typedData.map(function(e){if(e.type!=="bytes"){return e.value}return utils_1.legacyToBuffer(e.value)});var types=typedData.map(function(e){return e.type});var schema=typedData.map(function(e){if(!e.name){throw error}return"".concat(e.type," ").concat(e.name)});return ethereumjs_abi_1.soliditySHA3(["bytes32","bytes32"],[ethereumjs_abi_1.soliditySHA3(new Array(typedData.length).fill("string"),schema),ethereumjs_abi_1.soliditySHA3(types,data)])}function signTypedData(_ref6){var privateKey=_ref6.privateKey,data=_ref6.data,version=_ref6.version;validateVersion(version);if(utils_1.isNullish(data)){throw new Error("Missing data parameter")}else if(utils_1.isNullish(privateKey)){throw new Error("Missing private key parameter")}var messageHash=version===SignTypedDataVersion.V1?_typedSignatureHash(data):exports.TypedDataUtils.eip712Hash(data,version);var sig=ethereumjs_util_1.ecsign(messageHash,privateKey);return utils_1.concatSig(ethereumjs_util_1.toBuffer(sig.v),sig.r,sig.s)}exports.signTypedData=signTypedData;function recoverTypedSignature(_ref7){var data=_ref7.data,signature=_ref7.signature,version=_ref7.version;validateVersion(version);if(utils_1.isNullish(data)){throw new Error("Missing data parameter")}else if(utils_1.isNullish(signature)){throw new Error("Missing signature parameter")}var messageHash=version===SignTypedDataVersion.V1?_typedSignatureHash(data):exports.TypedDataUtils.eip712Hash(data,version);var publicKey=utils_1.recoverPublicKey(messageHash,signature);var sender=ethereumjs_util_1.publicToAddress(publicKey);return ethereumjs_util_1.bufferToHex(sender)}exports.recoverTypedSignature=recoverTypedSignature}).call(this)}).call(this,require("buffer").Buffer)},{"./utils":10,buffer:168,"ethereumjs-abi":47,"ethereumjs-util":15}],10:[function(require,module,exports){(function(Buffer){(function(){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}Object.defineProperty(exports,"__esModule",{value:true});exports.normalize=exports.recoverPublicKey=exports.concatSig=exports.legacyToBuffer=exports.isNullish=exports.padWithZeroes=void 0;var ethereumjs_util_1=require("ethereumjs-util");var ethjs_util_1=require("ethjs-util");function padWithZeroes(hexString,targetLength){if(hexString!==""&&!/^[0-9a-f]+$/i.test(hexString)){throw new Error("Expected an unprefixed hex string. Received: ".concat(hexString))}if(targetLength<0){throw new Error("Expected a non-negative integer target length. Received: ".concat(targetLength))}return String.prototype.padStart.call(hexString,targetLength,"0")}exports.padWithZeroes=padWithZeroes;function isNullish(value){return value===null||value===undefined}exports.isNullish=isNullish;function legacyToBuffer(value){return typeof value==="string"&&!ethjs_util_1.isHexString(value)?Buffer.from(value):ethereumjs_util_1.toBuffer(value)}exports.legacyToBuffer=legacyToBuffer;function concatSig(v,r,s){var rSig=ethereumjs_util_1.fromSigned(r);var sSig=ethereumjs_util_1.fromSigned(s);var vSig=ethereumjs_util_1.bufferToInt(v);var rStr=padWithZeroes(ethereumjs_util_1.toUnsigned(rSig).toString("hex"),64);var sStr=padWithZeroes(ethereumjs_util_1.toUnsigned(sSig).toString("hex"),64);var vStr=ethjs_util_1.stripHexPrefix(ethjs_util_1.intToHex(vSig));return ethereumjs_util_1.addHexPrefix(rStr.concat(sStr,vStr))}exports.concatSig=concatSig;function recoverPublicKey(messageHash,signature){var sigParams=ethereumjs_util_1.fromRpcSig(signature);return ethereumjs_util_1.ecrecover(messageHash,sigParams.v,sigParams.r,sigParams.s)}exports.recoverPublicKey=recoverPublicKey;function normalize(input){if(!input){return undefined}if(typeof input==="number"){var buffer=ethereumjs_util_1.toBuffer(input);input=ethereumjs_util_1.bufferToHex(buffer)}if(typeof input!=="string"){var msg="eth-sig-util.normalize() requires hex string or integer input.";msg+=" received ".concat(_typeof(input),": ").concat(input);throw new Error(msg)}return ethereumjs_util_1.addHexPrefix(input.toLowerCase())}exports.normalize=normalize}).call(this)}).call(this,require("buffer").Buffer)},{buffer:168,"ethereumjs-util":15,"ethjs-util":59}],11:[function(require,module,exports){(function(Buffer){(function(){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.importPublic=exports.privateToPublic=exports.privateToAddress=exports.publicToAddress=exports.pubToAddress=exports.isValidPublic=exports.isValidPrivate=exports.isPrecompiled=exports.generateAddress2=exports.generateAddress=exports.isValidChecksumAddress=exports.toChecksumAddress=exports.isZeroAddress=exports.isValidAddress=exports.zeroAddress=void 0;var assert=require("assert");var ethjsUtil=require("ethjs-util");var secp256k1=require("./secp256k1v3-adapter");var BN=require("bn.js");var bytes_1=require("./bytes");var hash_1=require("./hash");exports.zeroAddress=function(){var addressLength=20;var addr=bytes_1.zeros(addressLength);return bytes_1.bufferToHex(addr)};exports.isValidAddress=function(address){return/^0x[0-9a-fA-F]{40}$/.test(address)};exports.isZeroAddress=function(address){var zeroAddr=exports.zeroAddress();return zeroAddr===bytes_1.addHexPrefix(address)};exports.toChecksumAddress=function(address,eip1191ChainId){address=ethjsUtil.stripHexPrefix(address).toLowerCase();var prefix=eip1191ChainId!==undefined?eip1191ChainId.toString()+"0x":"";var hash=hash_1.keccak(prefix+address).toString("hex");var ret="0x";for(var i=0;i<address.length;i++){if(parseInt(hash[i],16)>=8){ret+=address[i].toUpperCase()}else{ret+=address[i]}}return ret};exports.isValidChecksumAddress=function(address,eip1191ChainId){return exports.isValidAddress(address)&&exports.toChecksumAddress(address,eip1191ChainId)===address};exports.generateAddress=function(from,nonce){from=bytes_1.toBuffer(from);var nonceBN=new BN(nonce);if(nonceBN.isZero()){return hash_1.rlphash([from,null]).slice(-20)}return hash_1.rlphash([from,Buffer.from(nonceBN.toArray())]).slice(-20)};exports.generateAddress2=function(from,salt,initCode){var fromBuf=bytes_1.toBuffer(from);var saltBuf=bytes_1.toBuffer(salt);var initCodeBuf=bytes_1.toBuffer(initCode);assert(fromBuf.length===20);assert(saltBuf.length===32);var address=hash_1.keccak256(Buffer.concat([Buffer.from("ff","hex"),fromBuf,saltBuf,hash_1.keccak256(initCodeBuf)]));return address.slice(-20)};exports.isPrecompiled=function(address){var a=bytes_1.unpad(address);return a.length===1&&a[0]>=1&&a[0]<=8};exports.isValidPrivate=function(privateKey){return secp256k1.privateKeyVerify(privateKey)};exports.isValidPublic=function(publicKey,sanitize){if(sanitize===void 0){sanitize=false}if(publicKey.length===64){return secp256k1.publicKeyVerify(Buffer.concat([Buffer.from([4]),publicKey]))}if(!sanitize){return false}return secp256k1.publicKeyVerify(publicKey)};exports.pubToAddress=function(pubKey,sanitize){if(sanitize===void 0){sanitize=false}pubKey=bytes_1.toBuffer(pubKey);if(sanitize&&pubKey.length!==64){pubKey=secp256k1.publicKeyConvert(pubKey,false).slice(1)}assert(pubKey.length===64);return hash_1.keccak(pubKey).slice(-20)};exports.publicToAddress=exports.pubToAddress;exports.privateToAddress=function(privateKey){return exports.publicToAddress(exports.privateToPublic(privateKey))};exports.privateToPublic=function(privateKey){privateKey=bytes_1.toBuffer(privateKey);return secp256k1.publicKeyCreate(privateKey,false).slice(1)};exports.importPublic=function(publicKey){publicKey=bytes_1.toBuffer(publicKey);if(publicKey.length!==64){publicKey=secp256k1.publicKeyConvert(publicKey,false).slice(1)}return publicKey}}).call(this)}).call(this,require("buffer").Buffer)},{"./bytes":12,"./hash":14,"./secp256k1v3-adapter":17,assert:162,"bn.js":21,buffer:168,"ethjs-util":59}],12:[function(require,module,exports){(function(Buffer){(function(){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.baToJSON=exports.addHexPrefix=exports.toUnsigned=exports.fromSigned=exports.bufferToHex=exports.bufferToInt=exports.toBuffer=exports.stripZeros=exports.unpad=exports.setLengthRight=exports.setLength=exports.setLengthLeft=exports.zeros=void 0;var ethjsUtil=require("ethjs-util");var BN=require("bn.js");exports.zeros=function(bytes){return Buffer.allocUnsafe(bytes).fill(0)};exports.setLengthLeft=function(msg,length,right){if(right===void 0){right=false}var buf=exports.zeros(length);msg=exports.toBuffer(msg);if(right){if(msg.length<length){msg.copy(buf);return buf}return msg.slice(0,length)}else{if(msg.length<length){msg.copy(buf,length-msg.length);return buf}return msg.slice(-length)}};exports.setLength=exports.setLengthLeft;exports.setLengthRight=function(msg,length){return exports.setLength(msg,length,true)};exports.unpad=function(a){a=ethjsUtil.stripHexPrefix(a);var first=a[0];while(a.length>0&&first.toString()==="0"){a=a.slice(1);first=a[0]}return a};exports.stripZeros=exports.unpad;exports.toBuffer=function(v){if(!Buffer.isBuffer(v)){if(Array.isArray(v)){v=Buffer.from(v)}else if(typeof v==="string"){if(ethjsUtil.isHexString(v)){v=Buffer.from(ethjsUtil.padToEven(ethjsUtil.stripHexPrefix(v)),"hex")}else{throw new Error("Cannot convert string to buffer. toBuffer only supports 0x-prefixed hex strings and this string was given: "+v)}}else if(typeof v==="number"){v=ethjsUtil.intToBuffer(v)}else if(v===null||v===undefined){v=Buffer.allocUnsafe(0)}else if(BN.isBN(v)){v=v.toArrayLike(Buffer)}else if(v.toArray){v=Buffer.from(v.toArray())}else{throw new Error("invalid type")}}return v};exports.bufferToInt=function(buf){return new BN(exports.toBuffer(buf)).toNumber()};exports.bufferToHex=function(buf){buf=exports.toBuffer(buf);return"0x"+buf.toString("hex")};exports.fromSigned=function(num){return new BN(num).fromTwos(256)};exports.toUnsigned=function(num){return Buffer.from(num.toTwos(256).toArray())};exports.addHexPrefix=function(str){if(typeof str!=="string"){return str}return ethjsUtil.isHexPrefixed(str)?str:"0x"+str};exports.baToJSON=function(ba){if(Buffer.isBuffer(ba)){return"0x"+ba.toString("hex")}else if(ba instanceof Array){var array=[];for(var i=0;i<ba.length;i++){array.push(exports.baToJSON(ba[i]))}return array}}}).call(this)}).call(this,require("buffer").Buffer)},{"bn.js":21,buffer:168,"ethjs-util":59}],13:[function(require,module,exports){(function(Buffer){(function(){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.KECCAK256_RLP=exports.KECCAK256_RLP_S=exports.KECCAK256_RLP_ARRAY=exports.KECCAK256_RLP_ARRAY_S=exports.KECCAK256_NULL=exports.KECCAK256_NULL_S=exports.TWO_POW256=exports.MAX_INTEGER=void 0;var BN=require("bn.js");exports.MAX_INTEGER=new BN("ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff",16);exports.TWO_POW256=new BN("10000000000000000000000000000000000000000000000000000000000000000",16);exports.KECCAK256_NULL_S="c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470";exports.KECCAK256_NULL=Buffer.from(exports.KECCAK256_NULL_S,"hex");exports.KECCAK256_RLP_ARRAY_S="1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347";exports.KECCAK256_RLP_ARRAY=Buffer.from(exports.KECCAK256_RLP_ARRAY_S,"hex");exports.KECCAK256_RLP_S="56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421";exports.KECCAK256_RLP=Buffer.from(exports.KECCAK256_RLP_S,"hex")}).call(this)}).call(this,require("buffer").Buffer)},{"bn.js":21,buffer:168}],14:[function(require,module,exports){(function(Buffer){(function(){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.rlphash=exports.ripemd160=exports.sha256=exports.keccak256=exports.keccak=void 0;var _a=require("ethereum-cryptography/keccak"),keccak224=_a.keccak224,keccak384=_a.keccak384,k256=_a.keccak256,keccak512=_a.keccak512;var createHash=require("create-hash");var ethjsUtil=require("ethjs-util");var rlp=require("rlp");var bytes_1=require("./bytes");exports.keccak=function(a,bits){if(bits===void 0){bits=256}if(typeof a==="string"&&!ethjsUtil.isHexString(a)){a=Buffer.from(a,"utf8")}else{a=bytes_1.toBuffer(a)}if(!bits)bits=256;switch(bits){case 224:{return keccak224(a)}case 256:{return k256(a)}case 384:{return keccak384(a)}case 512:{return keccak512(a)}default:{throw new Error("Invald algorithm: keccak"+bits)}}};exports.keccak256=function(a){return exports.keccak(a)};exports.sha256=function(a){a=bytes_1.toBuffer(a);return createHash("sha256").update(a).digest()};exports.ripemd160=function(a,padded){a=bytes_1.toBuffer(a);var hash=createHash("rmd160").update(a).digest();if(padded===true){return bytes_1.setLength(hash,32)}else{return hash}};exports.rlphash=function(a){return exports.keccak(rlp.encode(a))}}).call(this)}).call(this,require("buffer").Buffer)},{"./bytes":12,buffer:168,"create-hash":26,"ethereum-cryptography/keccak":44,"ethjs-util":59,rlp:104}],15:[function(require,module,exports){"use strict";var __createBinding=void 0&&(void 0).__createBinding||(Object.create?function(o,m,k,k2){if(k2===undefined)k2=k;Object.defineProperty(o,k2,{enumerable:true,get:function get(){return m[k]}})}:function(o,m,k,k2){if(k2===undefined)k2=k;o[k2]=m[k]});var __exportStar=void 0&&(void 0).__exportStar||function(m,exports){for(var p in m){if(p!=="default"&&!exports.hasOwnProperty(p))__createBinding(exports,m,p)}};Object.defineProperty(exports,"__esModule",{value:true});exports.secp256k1=exports.rlp=exports.BN=void 0;var secp256k1=require("./secp256k1v3-adapter");exports.secp256k1=secp256k1;var ethjsUtil=require("ethjs-util");var BN=require("bn.js");exports.BN=BN;var rlp=require("rlp");exports.rlp=rlp;Object.assign(exports,ethjsUtil);__exportStar(require("./constants"),exports);__exportStar(require("./account"),exports);__exportStar(require("./hash"),exports);__exportStar(require("./signature"),exports);__exportStar(require("./bytes"),exports);__exportStar(require("./object"),exports)},{"./account":11,"./bytes":12,"./constants":13,"./hash":14,"./object":16,"./secp256k1v3-adapter":17,"./signature":20,"bn.js":21,"ethjs-util":59,rlp:104}],16:[function(require,module,exports){(function(Buffer){(function(){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}Object.defineProperty(exports,"__esModule",{value:true});exports.defineProperties=void 0;var assert=require("assert");var ethjsUtil=require("ethjs-util");var rlp=require("rlp");var bytes_1=require("./bytes");exports.defineProperties=function(self,fields,data){self.raw=[];self._fields=[];self.toJSON=function(label){if(label===void 0){label=false}if(label){var obj_1={};self._fields.forEach(function(field){obj_1[field]="0x"+self[field].toString("hex")});return obj_1}return bytes_1.baToJSON(self.raw)};self.serialize=function serialize(){return rlp.encode(self.raw)};fields.forEach(function(field,i){self._fields.push(field.name);function getter(){return self.raw[i]}function setter(v){v=bytes_1.toBuffer(v);if(v.toString("hex")==="00"&&!field.allowZero){v=Buffer.allocUnsafe(0)}if(field.allowLess&&field.length){v=bytes_1.stripZeros(v);assert(field.length>=v.length,"The field "+field.name+" must not have more "+field.length+" bytes")}else if(!(field.allowZero&&v.length===0)&&field.length){assert(field.length===v.length,"The field "+field.name+" must have byte length of "+field.length)}self.raw[i]=v}Object.defineProperty(self,field.name,{enumerable:true,configurable:true,get:getter,set:setter});if(field["default"]){self[field.name]=field["default"]}if(field.alias){Object.defineProperty(self,field.alias,{enumerable:false,configurable:true,set:setter,get:getter})}});if(data){if(typeof data==="string"){data=Buffer.from(ethjsUtil.stripHexPrefix(data),"hex")}if(Buffer.isBuffer(data)){data=rlp.decode(data)}if(Array.isArray(data)){if(data.length>self._fields.length){throw new Error("wrong number of fields in data")}data.forEach(function(d,i){self[self._fields[i]]=bytes_1.toBuffer(d)})}else if(_typeof(data)==="object"){var keys_1=Object.keys(data);fields.forEach(function(field){if(keys_1.indexOf(field.name)!==-1)self[field.name]=data[field.name];if(keys_1.indexOf(field.alias)!==-1)self[field.alias]=data[field.alias]})}else{throw new Error("invalid data")}}}}).call(this)}).call(this,require("buffer").Buffer)},{"./bytes":12,assert:162,buffer:168,"ethjs-util":59,rlp:104}],17:[function(require,module,exports){(function(Buffer){(function(){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ecdhUnsafe=exports.ecdh=exports.recover=exports.verify=exports.sign=exports.signatureImportLax=exports.signatureImport=exports.signatureExport=exports.signatureNormalize=exports.publicKeyCombine=exports.publicKeyTweakMul=exports.publicKeyTweakAdd=exports.publicKeyVerify=exports.publicKeyConvert=exports.publicKeyCreate=exports.privateKeyTweakMul=exports.privateKeyTweakAdd=exports.privateKeyModInverse=exports.privateKeyNegate=exports.privateKeyImport=exports.privateKeyExport=exports.privateKeyVerify=void 0;var secp256k1=require("ethereum-cryptography/secp256k1");var secp256k1v3=require("./secp256k1v3-lib/index");var der=require("./secp256k1v3-lib/der");exports.privateKeyVerify=function(privateKey){if(privateKey.length!==32){return false}return secp256k1.privateKeyVerify(Uint8Array.from(privateKey))};exports.privateKeyExport=function(privateKey,compressed){if(privateKey.length!==32){throw new RangeError("private key length is invalid")}var publicKey=secp256k1v3.privateKeyExport(privateKey,compressed);return der.privateKeyExport(privateKey,publicKey,compressed)};exports.privateKeyImport=function(privateKey){privateKey=der.privateKeyImport(privateKey);if(privateKey!==null&&privateKey.length===32&&exports.privateKeyVerify(privateKey)){return privateKey}throw new Error("couldn't import from DER format")};exports.privateKeyNegate=function(privateKey){return Buffer.from(secp256k1.privateKeyNegate(Uint8Array.from(privateKey)))};exports.privateKeyModInverse=function(privateKey){if(privateKey.length!==32){throw new Error("private key length is invalid")}return Buffer.from(secp256k1v3.privateKeyModInverse(Uint8Array.from(privateKey)))};exports.privateKeyTweakAdd=function(privateKey,tweak){return Buffer.from(secp256k1.privateKeyTweakAdd(Uint8Array.from(privateKey),tweak))};exports.privateKeyTweakMul=function(privateKey,tweak){return Buffer.from(secp256k1.privateKeyTweakMul(Uint8Array.from(privateKey),Uint8Array.from(tweak)))};exports.publicKeyCreate=function(privateKey,compressed){return Buffer.from(secp256k1.publicKeyCreate(Uint8Array.from(privateKey),compressed))};exports.publicKeyConvert=function(publicKey,compressed){return Buffer.from(secp256k1.publicKeyConvert(Uint8Array.from(publicKey),compressed))};exports.publicKeyVerify=function(publicKey){if(publicKey.length!==33&&publicKey.length!==65){return false}return secp256k1.publicKeyVerify(Uint8Array.from(publicKey))};exports.publicKeyTweakAdd=function(publicKey,tweak,compressed){return Buffer.from(secp256k1.publicKeyTweakAdd(Uint8Array.from(publicKey),Uint8Array.from(tweak),compressed))};exports.publicKeyTweakMul=function(publicKey,tweak,compressed){return Buffer.from(secp256k1.publicKeyTweakMul(Uint8Array.from(publicKey),Uint8Array.from(tweak),compressed))};exports.publicKeyCombine=function(publicKeys,compressed){var keys=[];publicKeys.forEach(function(publicKey){keys.push(Uint8Array.from(publicKey))});return Buffer.from(secp256k1.publicKeyCombine(keys,compressed))};exports.signatureNormalize=function(signature){return Buffer.from(secp256k1.signatureNormalize(Uint8Array.from(signature)))};exports.signatureExport=function(signature){return Buffer.from(secp256k1.signatureExport(Uint8Array.from(signature)))};exports.signatureImport=function(signature){return Buffer.from(secp256k1.signatureImport(Uint8Array.from(signature)))};exports.signatureImportLax=function(signature){if(signature.length===0){throw new RangeError("signature length is invalid")}var sigObj=der.signatureImportLax(signature);if(sigObj===null){throw new Error("couldn't parse DER signature")}return secp256k1v3.signatureImport(sigObj)};exports.sign=function(message,privateKey,options){if(options===null){throw new TypeError("options should be an Object")}var signOptions=undefined;if(options){signOptions={};if(options.data===null){throw new TypeError("options.data should be a Buffer")}if(options.data){if(options.data.length!=32){throw new RangeError("options.data length is invalid")}signOptions.data=new Uint8Array(options.data)}if(options.noncefn===null){throw new TypeError("options.noncefn should be a Function")}if(options.noncefn){signOptions.noncefn=function(message,privateKey,algo,data,attempt){var bufferAlgo=algo!=null?Buffer.from(algo):null;var bufferData=data!=null?Buffer.from(data):null;var buffer=Buffer.from("");if(options.noncefn){buffer=options.noncefn(Buffer.from(message),Buffer.from(privateKey),bufferAlgo,bufferData,attempt)}return new Uint8Array(buffer)}}}var sig=secp256k1.ecdsaSign(Uint8Array.from(message),Uint8Array.from(privateKey),signOptions);return{signature:Buffer.from(sig.signature),recovery:sig.recid}};exports.verify=function(message,signature,publicKey){return secp256k1.ecdsaVerify(Uint8Array.from(signature),Uint8Array.from(message),publicKey)};exports.recover=function(message,signature,recid,compressed){return Buffer.from(secp256k1.ecdsaRecover(Uint8Array.from(signature),recid,Uint8Array.from(message),compressed))};exports.ecdh=function(publicKey,privateKey){return Buffer.from(secp256k1.ecdh(Uint8Array.from(publicKey),Uint8Array.from(privateKey),{}))};exports.ecdhUnsafe=function(publicKey,privateKey,compressed){if(publicKey.length!==33&&publicKey.length!==65){throw new RangeError("public key length is invalid")}if(privateKey.length!==32){throw new RangeError("private key length is invalid")}return Buffer.from(secp256k1v3.ecdhUnsafe(Uint8Array.from(publicKey),Uint8Array.from(privateKey),compressed))}}).call(this)}).call(this,require("buffer").Buffer)},{"./secp256k1v3-lib/der":18,"./secp256k1v3-lib/index":19,buffer:168,"ethereum-cryptography/secp256k1":46}],18:[function(require,module,exports){(function(Buffer){(function(){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var EC_PRIVKEY_EXPORT_DER_COMPRESSED=Buffer.from([48,129,211,2,1,1,4,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,129,133,48,129,130,2,1,1,48,44,6,7,42,134,72,206,61,1,1,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,252,47,48,6,4,1,0,4,1,7,4,33,2,121,190,102,126,249,220,187,172,85,160,98,149,206,135,11,7,2,155,252,219,45,206,40,217,89,242,129,91,22,248,23,152,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65,2,1,1,161,36,3,34,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);var EC_PRIVKEY_EXPORT_DER_UNCOMPRESSED=Buffer.from([48,130,1,19,2,1,1,4,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,129,165,48,129,162,2,1,1,48,44,6,7,42,134,72,206,61,1,1,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,252,47,48,6,4,1,0,4,1,7,4,65,4,121,190,102,126,249,220,187,172,85,160,98,149,206,135,11,7,2,155,252,219,45,206,40,217,89,242,129,91,22,248,23,152,72,58,218,119,38,163,196,101,93,164,251,252,14,17,8,168,253,23,180,72,166,133,84,25,156,71,208,143,251,16,212,184,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65,2,1,1,161,68,3,66,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);exports.privateKeyExport=function(privateKey,publicKey,compressed){if(compressed===void 0){compressed=true}var result=Buffer.from(compressed?EC_PRIVKEY_EXPORT_DER_COMPRESSED:EC_PRIVKEY_EXPORT_DER_UNCOMPRESSED);privateKey.copy(result,compressed?8:9);publicKey.copy(result,compressed?181:214);return result};exports.privateKeyImport=function(privateKey){var length=privateKey.length;var index=0;if(length<index+1||privateKey[index]!==48)return null;index+=1;if(length<index+1||!(privateKey[index]&128))return null;var lenb=privateKey[index]&127;index+=1;if(lenb<1||lenb>2)return null;if(length<index+lenb)return null;var len=privateKey[index+lenb-1]|(lenb>1?privateKey[index+lenb-2]<<8:0);index+=lenb;if(length<index+len)return null;if(length<index+3||privateKey[index]!==2||privateKey[index+1]!==1||privateKey[index+2]!==1){return null}index+=3;if(length<index+2||privateKey[index]!==4||privateKey[index+1]>32||length<index+2+privateKey[index+1]){return null}return privateKey.slice(index+2,index+2+privateKey[index+1])};exports.signatureImportLax=function(signature){var r=Buffer.alloc(32,0);var s=Buffer.alloc(32,0);var length=signature.length;var index=0;if(signature[index++]!==48){return null}var lenbyte=signature[index++];if(lenbyte&128){index+=lenbyte-128;if(index>length){return null}}if(signature[index++]!==2){return null}var rlen=signature[index++];if(rlen&128){lenbyte=rlen-128;if(index+lenbyte>length){return null}for(;lenbyte>0&&signature[index]===0;index+=1,lenbyte-=1){}for(rlen=0;lenbyte>0;index+=1,lenbyte-=1){rlen=(rlen<<8)+signature[index]}}if(rlen>length-index){return null}var rindex=index;index+=rlen;if(signature[index++]!==2){return null}var slen=signature[index++];if(slen&128){lenbyte=slen-128;if(index+lenbyte>length){return null}for(;lenbyte>0&&signature[index]===0;index+=1,lenbyte-=1){}for(slen=0;lenbyte>0;index+=1,lenbyte-=1){slen=(slen<<8)+signature[index]}}if(slen>length-index){return null}var sindex=index;index+=slen;for(;rlen>0&&signature[rindex]===0;rlen-=1,rindex+=1){}if(rlen>32){return null}var rvalue=signature.slice(rindex,rindex+rlen);rvalue.copy(r,32-rvalue.length);for(;slen>0&&signature[sindex]===0;slen-=1,sindex+=1){}if(slen>32){return null}var svalue=signature.slice(sindex,sindex+slen);svalue.copy(s,32-svalue.length);return{r:r,s:s}}}).call(this)}).call(this,require("buffer").Buffer)},{buffer:168}],19:[function(require,module,exports){(function(Buffer){(function(){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var BN=require("bn.js");var EC=require("elliptic").ec;var ec=new EC("secp256k1");var ecparams=ec.curve;exports.privateKeyExport=function(privateKey,compressed){if(compressed===void 0){compressed=true}var d=new BN(privateKey);if(d.ucmp(ecparams.n)>=0){throw new Error("couldn't export to DER format")}var point=ec.g.mul(d);return toPublicKey(point.getX(),point.getY(),compressed)};exports.privateKeyModInverse=function(privateKey){var bn=new BN(privateKey);if(bn.ucmp(ecparams.n)>=0||bn.isZero()){throw new Error("private key range is invalid")}return bn.invm(ecparams.n).toArrayLike(Buffer,"be",32)};exports.signatureImport=function(sigObj){var r=new BN(sigObj.r);if(r.ucmp(ecparams.n)>=0){r=new BN(0)}var s=new BN(sigObj.s);if(s.ucmp(ecparams.n)>=0){s=new BN(0)}return Buffer.concat([r.toArrayLike(Buffer,"be",32),s.toArrayLike(Buffer,"be",32)])};exports.ecdhUnsafe=function(publicKey,privateKey,compressed){if(compressed===void 0){compressed=true}var point=ec.keyFromPublic(publicKey);var scalar=new BN(privateKey);if(scalar.ucmp(ecparams.n)>=0||scalar.isZero()){throw new Error("scalar was invalid (zero or overflow)")}var shared=point.pub.mul(scalar);return toPublicKey(shared.getX(),shared.getY(),compressed)};var toPublicKey=function toPublicKey(x,y,compressed){var publicKey;if(compressed){publicKey=Buffer.alloc(33);publicKey[0]=y.isOdd()?3:2;x.toArrayLike(Buffer,"be",32).copy(publicKey,1)}else{publicKey=Buffer.alloc(65);publicKey[0]=4;x.toArrayLike(Buffer,"be",32).copy(publicKey,1);y.toArrayLike(Buffer,"be",32).copy(publicKey,33)}return publicKey}}).call(this)}).call(this,require("buffer").Buffer)},{"bn.js":21,buffer:168,elliptic:27}],20:[function(require,module,exports){(function(Buffer){(function(){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.hashPersonalMessage=exports.isValidSignature=exports.fromRpcSig=exports.toRpcSig=exports.ecrecover=exports.ecsign=void 0;var secp256k1=require("./secp256k1v3-adapter");var BN=require("bn.js");var bytes_1=require("./bytes");var hash_1=require("./hash");exports.ecsign=function(msgHash,privateKey,chainId){var sig=secp256k1.sign(msgHash,privateKey);var recovery=sig.recovery;var ret={r:sig.signature.slice(0,32),s:sig.signature.slice(32,64),v:chainId?recovery+(chainId*2+35):recovery+27};return ret};exports.ecrecover=function(msgHash,v,r,s,chainId){var signature=Buffer.concat([bytes_1.setLength(r,32),bytes_1.setLength(s,32)],64);var recovery=calculateSigRecovery(v,chainId);if(!isValidSigRecovery(recovery)){throw new Error("Invalid signature v value")}var senderPubKey=secp256k1.recover(msgHash,signature,recovery);return secp256k1.publicKeyConvert(senderPubKey,false).slice(1)};exports.toRpcSig=function(v,r,s,chainId){var recovery=calculateSigRecovery(v,chainId);if(!isValidSigRecovery(recovery)){throw new Error("Invalid signature v value")}return bytes_1.bufferToHex(Buffer.concat([bytes_1.setLengthLeft(r,32),bytes_1.setLengthLeft(s,32),bytes_1.toBuffer(v)]))};exports.fromRpcSig=function(sig){var buf=bytes_1.toBuffer(sig);if(buf.length!==65){throw new Error("Invalid signature length")}var v=buf[64];if(v<27){v+=27}return{v:v,r:buf.slice(0,32),s:buf.slice(32,64)}};exports.isValidSignature=function(v,r,s,homesteadOrLater,chainId){if(homesteadOrLater===void 0){homesteadOrLater=true}var SECP256K1_N_DIV_2=new BN("7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0",16);var SECP256K1_N=new BN("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141",16);if(r.length!==32||s.length!==32){return false}if(!isValidSigRecovery(calculateSigRecovery(v,chainId))){return false}var rBN=new BN(r);var sBN=new BN(s);if(rBN.isZero()||rBN.gt(SECP256K1_N)||sBN.isZero()||sBN.gt(SECP256K1_N)){return false}if(homesteadOrLater&&sBN.cmp(SECP256K1_N_DIV_2)===1){return false}return true};exports.hashPersonalMessage=function(message){var prefix=Buffer.from("Ethereum Signed Message:\n"+message.length.toString(),"utf-8");return hash_1.keccak(Buffer.concat([prefix,message]))};function calculateSigRecovery(v,chainId){return chainId?v-(2*chainId+35):v-27}function isValidSigRecovery(recovery){return recovery===0||recovery===1}}).call(this)}).call(this,require("buffer").Buffer)},{"./bytes":12,"./hash":14,"./secp256k1v3-adapter":17,"bn.js":21,buffer:168}],21:[function(require,module,exports){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}(function(module,exports){"use strict";function assert(val,msg){if(!val)throw new Error(msg||"Assertion failed")}function inherits(ctor,superCtor){ctor.super_=superCtor;var TempCtor=function TempCtor(){};TempCtor.prototype=superCtor.prototype;ctor.prototype=new TempCtor;ctor.prototype.constructor=ctor}function BN(number,base,endian){if(BN.isBN(number)){return number}this.negative=0;this.words=null;this.length=0;this.red=null;if(number!==null){if(base==="le"||base==="be"){endian=base;base=10}this._init(number||0,base||10,endian||"be")}}if(_typeof(module)==="object"){module.exports=BN}else{exports.BN=BN}BN.BN=BN;BN.wordSize=26;var Buffer;try{if(typeof window!=="undefined"&&typeof window.Buffer!=="undefined"){Buffer=window.Buffer}else{Buffer=require("buffer").Buffer}}catch(e){}BN.isBN=function isBN(num){if(num instanceof BN){return true}return num!==null&&_typeof(num)==="object"&&num.constructor.wordSize===BN.wordSize&&Array.isArray(num.words)};BN.max=function max(left,right){if(left.cmp(right)>0)return left;return right};BN.min=function min(left,right){if(left.cmp(right)<0)return left;return right};BN.prototype._init=function init(number,base,endian){if(typeof number==="number"){return this._initNumber(number,base,endian)}if(_typeof(number)==="object"){return this._initArray(number,base,endian)}if(base==="hex"){base=16}assert(base===(base|0)&&base>=2&&base<=36);number=number.toString().replace(/\s+/g,"");var start=0;if(number[0]==="-"){start++;this.negative=1}if(start<number.length){if(base===16){this._parseHex(number,start,endian)}else{this._parseBase(number,base,start);if(endian==="le"){this._initArray(this.toArray(),base,endian)}}}};BN.prototype._initNumber=function _initNumber(number,base,endian){if(number<0){this.negative=1;number=-number}if(number<67108864){this.words=[number&67108863];this.length=1}else if(number<4503599627370496){this.words=[number&67108863,number/67108864&67108863];this.length=2}else{assert(number<9007199254740992);this.words=[number&67108863,number/67108864&67108863,1];this.length=3}if(endian!=="le")return;this._initArray(this.toArray(),base,endian)};BN.prototype._initArray=function _initArray(number,base,endian){assert(typeof number.length==="number");if(number.length<=0){this.words=[0];this.length=1;return this}this.length=Math.ceil(number.length/3);this.words=new Array(this.length);for(var i=0;i<this.length;i++){this.words[i]=0}var j,w;var off=0;if(endian==="be"){for(i=number.length-1,j=0;i>=0;i-=3){w=number[i]|number[i-1]<<8|number[i-2]<<16;this.words[j]|=w<<off&67108863;this.words[j+1]=w>>>26-off&67108863;off+=24;if(off>=26){off-=26;j++}}}else if(endian==="le"){for(i=0,j=0;i<number.length;i+=3){w=number[i]|number[i+1]<<8|number[i+2]<<16;this.words[j]|=w<<off&67108863;this.words[j+1]=w>>>26-off&67108863;off+=24;if(off>=26){off-=26;j++}}}return this.strip()};function parseHex4Bits(string,index){var c=string.charCodeAt(index);if(c>=65&&c<=70){return c-55}else if(c>=97&&c<=102){return c-87}else{return c-48&15}}function parseHexByte(string,lowerBound,index){var r=parseHex4Bits(string,index);if(index-1>=lowerBound){r|=parseHex4Bits(string,index-1)<<4}return r}BN.prototype._parseHex=function _parseHex(number,start,endian){this.length=Math.ceil((number.length-start)/6);this.words=new Array(this.length);for(var i=0;i<this.length;i++){this.words[i]=0}var off=0;var j=0;var w;if(endian==="be"){for(i=number.length-1;i>=start;i-=2){w=parseHexByte(number,start,i)<<off;this.words[j]|=w&67108863;if(off>=18){off-=18;j+=1;this.words[j]|=w>>>26}else{off+=8}}}else{var parseLength=number.length-start;for(i=parseLength%2===0?start+1:start;i<number.length;i+=2){w=parseHexByte(number,start,i)<<off;this.words[j]|=w&67108863;if(off>=18){off-=18;j+=1;this.words[j]|=w>>>26}else{off+=8}}}this.strip()};function parseBase(str,start,end,mul){var r=0;var len=Math.min(str.length,end);for(var i=start;i<len;i++){var c=str.charCodeAt(i)-48;r*=mul;if(c>=49){r+=c-49+10}else if(c>=17){r+=c-17+10}else{r+=c}}return r}BN.prototype._parseBase=function _parseBase(number,base,start){this.words=[0];this.length=1;for(var limbLen=0,limbPow=1;limbPow<=67108863;limbPow*=base){limbLen++}limbLen--;limbPow=limbPow/base|0;var total=number.length-start;var mod=total%limbLen;var end=Math.min(total,total-mod)+start;var word=0;for(var i=start;i<end;i+=limbLen){word=parseBase(number,i,i+limbLen,base);this.imuln(limbPow);if(this.words[0]+word<67108864){this.words[0]+=word}else{this._iaddn(word)}}if(mod!==0){var pow=1;word=parseBase(number,i,number.length,base);for(i=0;i<mod;i++){pow*=base}this.imuln(pow);if(this.words[0]+word<67108864){this.words[0]+=word}else{this._iaddn(word)}}this.strip()};BN.prototype.copy=function copy(dest){dest.words=new Array(this.length);for(var i=0;i<this.length;i++){dest.words[i]=this.words[i]}dest.length=this.length;dest.negative=this.negative;dest.red=this.red};BN.prototype.clone=function clone(){var r=new BN(null);this.copy(r);return r};BN.prototype._expand=function _expand(size){while(this.length<size){this.words[this.length++]=0}return this};BN.prototype.strip=function strip(){while(this.length>1&&this.words[this.length-1]===0){this.length--}return this._normSign()};BN.prototype._normSign=function _normSign(){if(this.length===1&&this.words[0]===0){this.negative=0}return this};BN.prototype.inspect=function inspect(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var zeros=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"];var groupSizes=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5];var groupBases=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];BN.prototype.toString=function toString(base,padding){base=base||10;padding=padding|0||1;var out;if(base===16||base==="hex"){out="";var off=0;var carry=0;for(var i=0;i<this.length;i++){var w=this.words[i];var word=((w<<off|carry)&16777215).toString(16);carry=w>>>24-off&16777215;if(carry!==0||i!==this.length-1){out=zeros[6-word.length]+word+out}else{out=word+out}off+=2;if(off>=26){off-=26;i--}}if(carry!==0){out=carry.toString(16)+out}while(out.length%padding!==0){out="0"+out}if(this.negative!==0){out="-"+out}return out}if(base===(base|0)&&base>=2&&base<=36){var groupSize=groupSizes[base];var groupBase=groupBases[base];out="";var c=this.clone();c.negative=0;while(!c.isZero()){var r=c.modn(groupBase).toString(base);c=c.idivn(groupBase);if(!c.isZero()){out=zeros[groupSize-r.length]+r+out}else{out=r+out}}if(this.isZero()){out="0"+out}while(out.length%padding!==0){out="0"+out}if(this.negative!==0){out="-"+out}return out}assert(false,"Base should be between 2 and 36")};BN.prototype.toNumber=function toNumber(){var ret=this.words[0];if(this.length===2){ret+=this.words[1]*67108864}else if(this.length===3&&this.words[2]===1){ret+=4503599627370496+this.words[1]*67108864}else if(this.length>2){assert(false,"Number can only safely store up to 53 bits")}return this.negative!==0?-ret:ret};BN.prototype.toJSON=function toJSON(){return this.toString(16)};BN.prototype.toBuffer=function toBuffer(endian,length){assert(typeof Buffer!=="undefined");return this.toArrayLike(Buffer,endian,length)};BN.prototype.toArray=function toArray(endian,length){return this.toArrayLike(Array,endian,length)};BN.prototype.toArrayLike=function toArrayLike(ArrayType,endian,length){var byteLength=this.byteLength();var reqLength=length||Math.max(1,byteLength);assert(byteLength<=reqLength,"byte array longer than desired length");assert(reqLength>0,"Requested array length <= 0");this.strip();var littleEndian=endian==="le";var res=new ArrayType(reqLength);var b,i;var q=this.clone();if(!littleEndian){for(i=0;i<reqLength-byteLength;i++){res[i]=0}for(i=0;!q.isZero();i++){b=q.andln(255);q.iushrn(8);res[reqLength-i-1]=b}}else{for(i=0;!q.isZero();i++){b=q.andln(255);q.iushrn(8);res[i]=b}for(;i<reqLength;i++){res[i]=0}}return res};if(Math.clz32){BN.prototype._countBits=function _countBits(w){return 32-Math.clz32(w)}}else{BN.prototype._countBits=function _countBits(w){var t=w;var r=0;if(t>=4096){r+=13;t>>>=13}if(t>=64){r+=7;t>>>=7}if(t>=8){r+=4;t>>>=4}if(t>=2){r+=2;t>>>=2}return r+t}}BN.prototype._zeroBits=function _zeroBits(w){if(w===0)return 26;var t=w;var r=0;if((t&8191)===0){r+=13;t>>>=13}if((t&127)===0){r+=7;t>>>=7}if((t&15)===0){r+=4;t>>>=4}if((t&3)===0){r+=2;t>>>=2}if((t&1)===0){r++}return r};BN.prototype.bitLength=function bitLength(){var w=this.words[this.length-1];var hi=this._countBits(w);return(this.length-1)*26+hi};function toBitArray(num){var w=new Array(num.bitLength());for(var bit=0;bit<w.length;bit++){var off=bit/26|0;var wbit=bit%26;w[bit]=(num.words[off]&1<<wbit)>>>wbit}return w}BN.prototype.zeroBits=function zeroBits(){if(this.isZero())return 0;var r=0;for(var i=0;i<this.length;i++){var b=this._zeroBits(this.words[i]);r+=b;if(b!==26)break}return r};BN.prototype.byteLength=function byteLength(){return Math.ceil(this.bitLength()/8)};BN.prototype.toTwos=function toTwos(width){if(this.negative!==0){return this.abs().inotn(width).iaddn(1)}return this.clone()};BN.prototype.fromTwos=function fromTwos(width){if(this.testn(width-1)){return this.notn(width).iaddn(1).ineg()}return this.clone()};BN.prototype.isNeg=function isNeg(){return this.negative!==0};BN.prototype.neg=function neg(){return this.clone().ineg()};BN.prototype.ineg=function ineg(){if(!this.isZero()){this.negative^=1}return this};BN.prototype.iuor=function iuor(num){while(this.length<num.length){this.words[this.length++]=0}for(var i=0;i<num.length;i++){this.words[i]=this.words[i]|num.words[i]}return this.strip()};BN.prototype.ior=function ior(num){assert((this.negative|num.negative)===0);return this.iuor(num)};BN.prototype.or=function or(num){if(this.length>num.length)return this.clone().ior(num);return num.clone().ior(this)};BN.prototype.uor=function uor(num){if(this.length>num.length)return this.clone().iuor(num);return num.clone().iuor(this)};BN.prototype.iuand=function iuand(num){var b;if(this.length>num.length){b=num}else{b=this}for(var i=0;i<b.length;i++){this.words[i]=this.words[i]&num.words[i]}this.length=b.length;return this.strip()};BN.prototype.iand=function iand(num){assert((this.negative|num.negative)===0);return this.iuand(num)};BN.prototype.and=function and(num){if(this.length>num.length)return this.clone().iand(num);return num.clone().iand(this)};BN.prototype.uand=function uand(num){if(this.length>num.length)return this.clone().iuand(num);return num.clone().iuand(this)};BN.prototype.iuxor=function iuxor(num){var a;var b;if(this.length>num.length){a=this;b=num}else{a=num;b=this}for(var i=0;i<b.length;i++){this.words[i]=a.words[i]^b.words[i]}if(this!==a){for(;i<a.length;i++){this.words[i]=a.words[i]}}this.length=a.length;return this.strip()};BN.prototype.ixor=function ixor(num){assert((this.negative|num.negative)===0);return this.iuxor(num)};BN.prototype.xor=function xor(num){if(this.length>num.length)return this.clone().ixor(num);return num.clone().ixor(this)};BN.prototype.uxor=function uxor(num){if(this.length>num.length)return this.clone().iuxor(num);return num.clone().iuxor(this)};BN.prototype.inotn=function inotn(width){assert(typeof width==="number"&&width>=0);var bytesNeeded=Math.ceil(width/26)|0;var bitsLeft=width%26;this._expand(bytesNeeded);if(bitsLeft>0){bytesNeeded--}for(var i=0;i<bytesNeeded;i++){this.words[i]=~this.words[i]&67108863}if(bitsLeft>0){this.words[i]=~this.words[i]&67108863>>26-bitsLeft}return this.strip()};BN.prototype.notn=function notn(width){return this.clone().inotn(width)};BN.prototype.setn=function setn(bit,val){assert(typeof bit==="number"&&bit>=0);var off=bit/26|0;var wbit=bit%26;this._expand(off+1);if(val){this.words[off]=this.words[off]|1<<wbit}else{this.words[off]=this.words[off]&~(1<<wbit)}return this.strip()};BN.prototype.iadd=function iadd(num){var r;if(this.negative!==0&&num.negative===0){this.negative=0;r=this.isub(num);this.negative^=1;return this._normSign()}else if(this.negative===0&&num.negative!==0){num.negative=0;r=this.isub(num);num.negative=1;return r._normSign()}var a,b;if(this.length>num.length){a=this;b=num}else{a=num;b=this}var carry=0;for(var i=0;i<b.length;i++){r=(a.words[i]|0)+(b.words[i]|0)+carry;this.words[i]=r&67108863;carry=r>>>26}for(;carry!==0&&i<a.length;i++){r=(a.words[i]|0)+carry;this.words[i]=r&67108863;carry=r>>>26}this.length=a.length;if(carry!==0){this.words[this.length]=carry;this.length++}else if(a!==this){for(;i<a.length;i++){this.words[i]=a.words[i]}}return this};BN.prototype.add=function add(num){var res;if(num.negative!==0&&this.negative===0){num.negative=0;res=this.sub(num);num.negative^=1;return res}else if(num.negative===0&&this.negative!==0){this.negative=0;res=num.sub(this);this.negative=1;return res}if(this.length>num.length)return this.clone().iadd(num);return num.clone().iadd(this)};BN.prototype.isub=function isub(num){if(num.negative!==0){num.negative=0;var r=this.iadd(num);num.negative=1;return r._normSign()}else if(this.negative!==0){this.negative=0;this.iadd(num);this.negative=1;return this._normSign()}var cmp=this.cmp(num);if(cmp===0){this.negative=0;this.length=1;this.words[0]=0;return this}var a,b;if(cmp>0){a=this;b=num}else{a=num;b=this}var carry=0;for(var i=0;i<b.length;i++){r=(a.words[i]|0)-(b.words[i]|0)+carry;carry=r>>26;this.words[i]=r&67108863}for(;carry!==0&&i<a.length;i++){r=(a.words[i]|0)+carry;carry=r>>26;this.words[i]=r&67108863}if(carry===0&&i<a.length&&a!==this){for(;i<a.length;i++){this.words[i]=a.words[i]}}this.length=Math.max(this.length,i);if(a!==this){this.negative=1}return this.strip()};BN.prototype.sub=function sub(num){return this.clone().isub(num)};function smallMulTo(self,num,out){out.negative=num.negative^self.negative;var len=self.length+num.length|0;out.length=len;len=len-1|0;var a=self.words[0]|0;var b=num.words[0]|0;var r=a*b;var lo=r&67108863;var carry=r/67108864|0;out.words[0]=lo;for(var k=1;k<len;k++){var ncarry=carry>>>26;var rword=carry&67108863;var maxJ=Math.min(k,num.length-1);for(var j=Math.max(0,k-self.length+1);j<=maxJ;j++){var i=k-j|0;a=self.words[i]|0;b=num.words[j]|0;r=a*b+rword;ncarry+=r/67108864|0;rword=r&67108863}out.words[k]=rword|0;carry=ncarry|0}if(carry!==0){out.words[k]=carry|0}else{out.length--}return out.strip()}var comb10MulTo=function comb10MulTo(self,num,out){var a=self.words;var b=num.words;var o=out.words;var c=0;var lo;var mid;var hi;var a0=a[0]|0;var al0=a0&8191;var ah0=a0>>>13;var a1=a[1]|0;var al1=a1&8191;var ah1=a1>>>13;var a2=a[2]|0;var al2=a2&8191;var ah2=a2>>>13;var a3=a[3]|0;var al3=a3&8191;var ah3=a3>>>13;var a4=a[4]|0;var al4=a4&8191;var ah4=a4>>>13;var a5=a[5]|0;var al5=a5&8191;var ah5=a5>>>13;var a6=a[6]|0;var al6=a6&8191;var ah6=a6>>>13;var a7=a[7]|0;var al7=a7&8191;var ah7=a7>>>13;var a8=a[8]|0;var al8=a8&8191;var ah8=a8>>>13;var a9=a[9]|0;var al9=a9&8191;var ah9=a9>>>13;var b0=b[0]|0;var bl0=b0&8191;var bh0=b0>>>13;var b1=b[1]|0;var bl1=b1&8191;var bh1=b1>>>13;var b2=b[2]|0;var bl2=b2&8191;var bh2=b2>>>13;var b3=b[3]|0;var bl3=b3&8191;var bh3=b3>>>13;var b4=b[4]|0;var bl4=b4&8191;var bh4=b4>>>13;var b5=b[5]|0;var bl5=b5&8191;var bh5=b5>>>13;var b6=b[6]|0;var bl6=b6&8191;var bh6=b6>>>13;var b7=b[7]|0;var bl7=b7&8191;var bh7=b7>>>13;var b8=b[8]|0;var bl8=b8&8191;var bh8=b8>>>13;var b9=b[9]|0;var bl9=b9&8191;var bh9=b9>>>13;out.negative=self.negative^num.negative;out.length=19;lo=Math.imul(al0,bl0);mid=Math.imul(al0,bh0);mid=mid+Math.imul(ah0,bl0)|0;hi=Math.imul(ah0,bh0);var w0=(c+lo|0)+((mid&8191)<<13)|0;c=(hi+(mid>>>13)|0)+(w0>>>26)|0;w0&=67108863;lo=Math.imul(al1,bl0);mid=Math.imul(al1,bh0);mid=mid+Math.imul(ah1,bl0)|0;hi=Math.imul(ah1,bh0);lo=lo+Math.imul(al0,bl1)|0;mid=mid+Math.imul(al0,bh1)|0;mid=mid+Math.imul(ah0,bl1)|0;hi=hi+Math.imul(ah0,bh1)|0;var w1=(c+lo|0)+((mid&8191)<<13)|0;c=(hi+(mid>>>13)|0)+(w1>>>26)|0;w1&=67108863;lo=Math.imul(al2,bl0);mid=Math.imul(al2,bh0);mid=mid+Math.imul(ah2,bl0)|0;hi=Math.imul(ah2,bh0);lo=lo+Math.imul(al1,bl1)|0;mid=mid+Math.imul(al1,bh1)|0;mid=mid+Math.imul(ah1,bl1)|0;hi=hi+Math.imul(ah1,bh1)|0;lo=lo+Math.imul(al0,bl2)|0;mid=mid+Math.imul(al0,bh2)|0;mid=mid+Math.imul(ah0,bl2)|0;hi=hi+Math.imul(ah0,bh2)|0;var w2=(c+lo|0)+((mid&8191)<<13)|0;c=(hi+(mid>>>13)|0)+(w2>>>26)|0;w2&=67108863;lo=Math.imul(al3,bl0);mid=Math.imul(al3,bh0);mid=mid+Math.imul(ah3,bl0)|0;hi=Math.imul(ah3,bh0);lo=lo+Math.imul(al2,bl1)|0;mid=mid+Math.imul(al2,bh1)|0;mid=mid+Math.imul(ah2,bl1)|0;hi=hi+Math.imul(ah2,bh1)|0;lo=lo+Math.imul(al1,bl2)|0;mid=mid+Math.imul(al1,bh2)|0;mid=mid+Math.imul(ah1,bl2)|0;hi=hi+Math.imul(ah1,bh2)|0;lo=lo+Math.imul(al0,bl3)|0;mid=mid+Math.imul(al0,bh3)|0;mid=mid+Math.imul(ah0,bl3)|0;hi=hi+Math.imul(ah0,bh3)|0;var w3=(c+lo|0)+((mid&8191)<<13)|0;c=(hi+(mid>>>13)|0)+(w3>>>26)|0;w3&=67108863;lo=Math.imul(al4,bl0);mid=Math.imul(al4,bh0);mid=mid+Math.imul(ah4,bl0)|0;hi=Math.imul(ah4,bh0);lo=lo+Math.imul(al3,bl1)|0;mid=mid+Math.imul(al3,bh1)|0;mid=mid+Math.imul(ah3,bl1)|0;hi=hi+Math.imul(ah3,bh1)|0;lo=lo+Math.imul(al2,bl2)|0;mid=mid+Math.imul(al2,bh2)|0;mid=mid+Math.imul(ah2,bl2)|0;hi=hi+Math.imul(ah2,bh2)|0;lo=lo+Math.imul(al1,bl3)|0;mid=mid+Math.imul(al1,bh3)|0;mid=mid+Math.imul(ah1,bl3)|0;hi=hi+Math.imul(ah1,bh3)|0;lo=lo+Math.imul(al0,bl4)|0;mid=mid+Math.imul(al0,bh4)|0;mid=mid+Math.imul(ah0,bl4)|0;hi=hi+Math.imul(ah0,bh4)|0;var w4=(c+lo|0)+((mid&8191)<<13)|0;c=(hi+(mid>>>13)|0)+(w4>>>26)|0;w4&=67108863;lo=Math.imul(al5,bl0);mid=Math.imul(al5,bh0);mid=mid+Math.imul(ah5,bl0)|0;hi=Math.imul(ah5,bh0);lo=lo+Math.imul(al4,bl1)|0;mid=mid+Math.imul(al4,bh1)|0;mid=mid+Math.imul(ah4,bl1)|0;hi=hi+Math.imul(ah4,bh1)|0;lo=lo+Math.imul(al3,bl2)|0;mid=mid+Math.imul(al3,bh2)|0;mid=mid+Math.imul(ah3,bl2)|0;hi=hi+Math.imul(ah3,bh2)|0;lo=lo+Math.imul(al2,bl3)|0;mid=mid+Math.imul(al2,bh3)|0;mid=mid+Math.imul(ah2,bl3)|0;hi=hi+Math.imul(ah2,bh3)|0;lo=lo+Math.imul(al1,bl4)|0;mid=mid+Math.imul(al1,bh4)|0;mid=mid+Math.imul(ah1,bl4)|0;hi=hi+Math.imul(ah1,bh4)|0;lo=lo+Math.imul(al0,bl5)|0;mid=mid+Math.imul(al0,bh5)|0;mid=mid+Math.imul(ah0,bl5)|0;hi=hi+Math.imul(ah0,bh5)|0;var w5=(c+lo|0)+((mid&8191)<<13)|0;c=(hi+(mid>>>13)|0)+(w5>>>26)|0;w5&=67108863;lo=Math.imul(al6,bl0);mid=Math.imul(al6,bh0);mid=mid+Math.imul(ah6,bl0)|0;hi=Math.imul(ah6,bh0);lo=lo+Math.imul(al5,bl1)|0;mid=mid+Math.imul(al5,bh1)|0;mid=mid+Math.imul(ah5,bl1)|0;hi=hi+Math.imul(ah5,bh1)|0;lo=lo+Math.imul(al4,bl2)|0;mid=mid+Math.imul(al4,bh2)|0;mid=mid+Math.imul(ah4,bl2)|0;hi=hi+Math.imul(ah4,bh2)|0;lo=lo+Math.imul(al3,bl3)|0;mid=mid+Math.imul(al3,bh3)|0;mid=mid+Math.imul(ah3,bl3)|0;hi=hi+Math.imul(ah3,bh3)|0;lo=lo+Math.imul(al2,bl4)|0;mid=mid+Math.imul(al2,bh4)|0;mid=mid+Math.imul(ah2,bl4)|0;hi=hi+Math.imul(ah2,bh4)|0;lo=lo+Math.imul(al1,bl5)|0;mid=mid+Math.imul(al1,bh5)|0;mid=mid+Math.imul(ah1,bl5)|0;hi=hi+Math.imul(ah1,bh5)|0;lo=lo+Math.imul(al0,bl6)|0;mid=mid+Math.imul(al0,bh6)|0;mid=mid+Math.imul(ah0,bl6)|0;hi=hi+Math.imul(ah0,bh6)|0;var w6=(c+lo|0)+((mid&8191)<<13)|0;c=(hi+(mid>>>13)|0)+(w6>>>26)|0;w6&=67108863;lo=Math.imul(al7,bl0);mid=Math.imul(al7,bh0);mid=mid+Math.imul(ah7,bl0)|0;hi=Math.imul(ah7,bh0);lo=lo+Math.imul(al6,bl1)|0;mid=mid+Math.imul(al6,bh1)|0;mid=mid+Math.imul(ah6,bl1)|0;hi=hi+Math.imul(ah6,bh1)|0;lo=lo+Math.imul(al5,bl2)|0;mid=mid+Math.imul(al5,bh2)|0;mid=mid+Math.imul(ah5,bl2)|0;hi=hi+Math.imul(ah5,bh2)|0;lo=lo+Math.imul(al4,bl3)|0;mid=mid+Math.imul(al4,bh3)|0;mid=mid+Math.imul(ah4,bl3)|0;hi=hi+Math.imul(ah4,bh3)|0;lo=lo+Math.imul(al3,bl4)|0;mid=mid+Math.imul(al3,bh4)|0;mid=mid+Math.imul(ah3,bl4)|0;hi=hi+Math.imul(ah3,bh4)|0;lo=lo+Math.imul(al2,bl5)|0;mid=mid+Math.imul(al2,bh5)|0;mid=mid+Math.imul(ah2,bl5)|0;hi=hi+Math.imul(ah2,bh5)|0;lo=lo+Math.imul(al1,bl6)|0;mid=mid+Math.imul(al1,bh6)|0;mid=mid+Math.imul(ah1,bl6)|0;hi=hi+Math.imul(ah1,bh6)|0;lo=lo+Math.imul(al0,bl7)|0;mid=mid+Math.imul(al0,bh7)|0;mid=mid+Math.imul(ah0,bl7)|0;hi=hi+Math.imul(ah0,bh7)|0;var w7=(c+lo|0)+((mid&8191)<<13)|0;c=(hi+(mid>>>13)|0)+(w7>>>26)|0;w7&=67108863;lo=Math.imul(al8,bl0);mid=Math.imul(al8,bh0);mid=mid+Math.imul(ah8,bl0)|0;hi=Math.imul(ah8,bh0);lo=lo+Math.imul(al7,bl1)|0;mid=mid+Math.imul(al7,bh1)|0;mid=mid+Math.imul(ah7,bl1)|0;hi=hi+Math.imul(ah7,bh1)|0;lo=lo+Math.imul(al6,bl2)|0;mid=mid+Math.imul(al6,bh2)|0;mid=mid+Math.imul(ah6,bl2)|0;hi=hi+Math.imul(ah6,bh2)|0;lo=lo+Math.imul(al5,bl3)|0;mid=mid+Math.imul(al5,bh3)|0;mid=mid+Math.imul(ah5,bl3)|0;hi=hi+Math.imul(ah5,bh3)|0;lo=lo+Math.imul(al4,bl4)|0;mid=mid+Math.imul(al4,bh4)|0;mid=mid+Math.imul(ah4,bl4)|0;hi=hi+Math.imul(ah4,bh4)|0;lo=lo+Math.imul(al3,bl5)|0;mid=mid+Math.imul(al3,bh5)|0;mid=mid+Math.imul(ah3,bl5)|0;hi=hi+Math.imul(ah3,bh5)|0;lo=lo+Math.imul(al2,bl6)|0;mid=mid+Math.imul(al2,bh6)|0;mid=mid+Math.imul(ah2,bl6)|0;hi=hi+Math.imul(ah2,bh6)|0;lo=lo+Math.imul(al1,bl7)|0;mid=mid+Math.imul(al1,bh7)|0;mid=mid+Math.imul(ah1,bl7)|0;hi=hi+Math.imul(ah1,bh7)|0;lo=lo+Math.imul(al0,bl8)|0;mid=mid+Math.imul(al0,bh8)|0;mid=mid+Math.imul(ah0,bl8)|0;hi=hi+Math.imul(ah0,bh8)|0;var w8=(c+lo|0)+((mid&8191)<<13)|0;c=(hi+(mid>>>13)|0)+(w8>>>26)|0;w8&=67108863;lo=Math.imul(al9,bl0);mid=Math.imul(al9,bh0);mid=mid+Math.imul(ah9,bl0)|0;hi=Math.imul(ah9,bh0);lo=lo+Math.imul(al8,bl1)|0;mid=mid+Math.imul(al8,bh1)|0;mid=mid+Math.imul(ah8,bl1)|0;hi=hi+Math.imul(ah8,bh1)|0;lo=lo+Math.imul(al7,bl2)|0;mid=mid+Math.imul(al7,bh2)|0;mid=mid+Math.imul(ah7,bl2)|0;hi=hi+Math.imul(ah7,bh2)|0;lo=lo+Math.imul(al6,bl3)|0;mid=mid+Math.imul(al6,bh3)|0;mid=mid+Math.imul(ah6,bl3)|0;hi=hi+Math.imul(ah6,bh3)|0;lo=lo+Math.imul(al5,bl4)|0;mid=mid+Math.imul(al5,bh4)|0;mid=mid+Math.imul(ah5,bl4)|0;hi=hi+Math.imul(ah5,bh4)|0;lo=lo+Math.imul(al4,bl5)|0;mid=mid+Math.imul(al4,bh5)|0;mid=mid+Math.imul(ah4,bl5)|0;hi=hi+Math.imul(ah4,bh5)|0;lo=lo+Math.imul(al3,bl6)|0;mid=mid+Math.imul(al3,bh6)|0;mid=mid+Math.imul(ah3,bl6)|0;hi=hi+Math.imul(ah3,bh6)|0;lo=lo+Math.imul(al2,bl7)|0;mid=mid+Math.imul(al2,bh7)|0;mid=mid+Math.imul(ah2,bl7)|0;hi=hi+Math.imul(ah2,bh7)|0;lo=lo+Math.imul(al1,bl8)|0;mid=mid+Math.imul(al1,bh8)|0;mid=mid+Math.imul(ah1,bl8)|0;hi=hi+Math.imul(ah1,bh8)|0;lo=lo+Math.imul(al0,bl9)|0;mid=mid+Math.imul(al0,bh9)|0;mid=mid+Math.imul(ah0,bl9)|0;hi=hi+Math.imul(ah0,bh9)|0;var w9=(c+lo|0)+((mid&8191)<<13)|0;c=(hi+(mid>>>13)|0)+(w9>>>26)|0;w9&=67108863;lo=Math.imul(al9,bl1);mid=Math.imul(al9,bh1);mid=mid+Math.imul(ah9,bl1)|0;hi=Math.imul(ah9,bh1);lo=lo+Math.imul(al8,bl2)|0;mid=mid+Math.imul(al8,bh2)|0;mid=mid+Math.imul(ah8,bl2)|0;hi=hi+Math.imul(ah8,bh2)|0;lo=lo+Math.imul(al7,bl3)|0;mid=mid+Math.imul(al7,bh3)|0;mid=mid+Math.imul(ah7,bl3)|0;hi=hi+Math.imul(ah7,bh3)|0;lo=lo+Math.imul(al6,bl4)|0;mid=mid+Math.imul(al6,bh4)|0;mid=mid+Math.imul(ah6,bl4)|0;hi=hi+Math.imul(ah6,bh4)|0;lo=lo+Math.imul(al5,bl5)|0;mid=mid+Math.imul(al5,bh5)|0;mid=mid+Math.imul(ah5,bl5)|0;hi=hi+Math.imul(ah5,bh5)|0;lo=lo+Math.imul(al4,bl6)|0;mid=mid+Math.imul(al4,bh6)|0;mid=mid+Math.imul(ah4,bl6)|0;hi=hi+Math.imul(ah4,bh6)|0;lo=lo+Math.imul(al3,bl7)|0;mid=mid+Math.imul(al3,bh7)|0;mid=mid+Math.imul(ah3,bl7)|0;hi=hi+Math.imul(ah3,bh7)|0;lo=lo+Math.imul(al2,bl8)|0;mid=mid+Math.imul(al2,bh8)|0;mid=mid+Math.imul(ah2,bl8)|0;hi=hi+Math.imul(ah2,bh8)|0;lo=lo+Math.imul(al1,bl9)|0;mid=mid+Math.imul(al1,bh9)|0;mid=mid+Math.imul(ah1,bl9)|0;hi=hi+Math.imul(ah1,bh9)|0;var w10=(c+lo|0)+((mid&8191)<<13)|0;c=(hi+(mid>>>13)|0)+(w10>>>26)|0;w10&=67108863;lo=Math.imul(al9,bl2);mid=Math.imul(al9,bh2);mid=mid+Math.imul(ah9,bl2)|0;hi=Math.imul(ah9,bh2);lo=lo+Math.imul(al8,bl3)|0;mid=mid+Math.imul(al8,bh3)|0;mid=mid+Math.imul(ah8,bl3)|0;hi=hi+Math.imul(ah8,bh3)|0;lo=lo+Math.imul(al7,bl4)|0;mid=mid+Math.imul(al7,bh4)|0;mid=mid+Math.imul(ah7,bl4)|0;hi=hi+Math.imul(ah7,bh4)|0;lo=lo+Math.imul(al6,bl5)|0;mid=mid+Math.imul(al6,bh5)|0;mid=mid+Math.imul(ah6,bl5)|0;hi=hi+Math.imul(ah6,bh5)|0;lo=lo+Math.imul(al5,bl6)|0;mid=mid+Math.imul(al5,bh6)|0;mid=mid+Math.imul(ah5,bl6)|0;hi=hi+Math.imul(ah5,bh6)|0;lo=lo+Math.imul(al4,bl7)|0;mid=mid+Math.imul(al4,bh7)|0;mid=mid+Math.imul(ah4,bl7)|0;hi=hi+Math.imul(ah4,bh7)|0;lo=lo+Math.imul(al3,bl8)|0;mid=mid+Math.imul(al3,bh8)|0;mid=mid+Math.imul(ah3,bl8)|0;hi=hi+Math.imul(ah3,bh8)|0;lo=lo+Math.imul(al2,bl9)|0;mid=mid+Math.imul(al2,bh9)|0;mid=mid+Math.imul(ah2,bl9)|0;hi=hi+Math.imul(ah2,bh9)|0;var w11=(c+lo|0)+((mid&8191)<<13)|0;c=(hi+(mid>>>13)|0)+(w11>>>26)|0;w11&=67108863;lo=Math.imul(al9,bl3);mid=Math.imul(al9,bh3);mid=mid+Math.imul(ah9,bl3)|0;hi=Math.imul(ah9,bh3);lo=lo+Math.imul(al8,bl4)|0;mid=mid+Math.imul(al8,bh4)|0;mid=mid+Math.imul(ah8,bl4)|0;hi=hi+Math.imul(ah8,bh4)|0;lo=lo+Math.imul(al7,bl5)|0;mid=mid+Math.imul(al7,bh5)|0;mid=mid+Math.imul(ah7,bl5)|0;hi=hi+Math.imul(ah7,bh5)|0;lo=lo+Math.imul(al6,bl6)|0;mid=mid+Math.imul(al6,bh6)|0;mid=mid+Math.imul(ah6,bl6)|0;hi=hi+Math.imul(ah6,bh6)|0;lo=lo+Math.imul(al5,bl7)|0;mid=mid+Math.imul(al5,bh7)|0;mid=mid+Math.imul(ah5,bl7)|0;hi=hi+Math.imul(ah5,bh7)|0;lo=lo+Math.imul(al4,bl8)|0;mid=mid+Math.imul(al4,bh8)|0;mid=mid+Math.imul(ah4,bl8)|0;hi=hi+Math.imul(ah4,bh8)|0;lo=lo+Math.imul(al3,bl9)|0;mid=mid+Math.imul(al3,bh9)|0;mid=mid+Math.imul(ah3,bl9)|0;hi=hi+Math.imul(ah3,bh9)|0;var w12=(c+lo|0)+((mid&8191)<<13)|0;c=(hi+(mid>>>13)|0)+(w12>>>26)|0;w12&=67108863;lo=Math.imul(al9,bl4);mid=Math.imul(al9,bh4);mid=mid+Math.imul(ah9,bl4)|0;hi=Math.imul(ah9,bh4);lo=lo+Math.imul(al8,bl5)|0;mid=mid+Math.imul(al8,bh5)|0;mid=mid+Math.imul(ah8,bl5)|0;hi=hi+Math.imul(ah8,bh5)|0;lo=lo+Math.imul(al7,bl6)|0;mid=mid+Math.imul(al7,bh6)|0;mid=mid+Math.imul(ah7,bl6)|0;hi=hi+Math.imul(ah7,bh6)|0;lo=lo+Math.imul(al6,bl7)|0;mid=mid+Math.imul(al6,bh7)|0;mid=mid+Math.imul(ah6,bl7)|0;hi=hi+Math.imul(ah6,bh7)|0;lo=lo+Math.imul(al5,bl8)|0;mid=mid+Math.imul(al5,bh8)|0;mid=mid+Math.imul(ah5,bl8)|0;hi=hi+Math.imul(ah5,bh8)|0;lo=lo+Math.imul(al4,bl9)|0;mid=mid+Math.imul(al4,bh9)|0;mid=mid+Math.imul(ah4,bl9)|0;hi=hi+Math.imul(ah4,bh9)|0;var w13=(c+lo|0)+((mid&8191)<<13)|0;c=(hi+(mid>>>13)|0)+(w13>>>26)|0;w13&=67108863;lo=Math.imul(al9,bl5);mid=Math.imul(al9,bh5);mid=mid+Math.imul(ah9,bl5)|0;hi=Math.imul(ah9,bh5);lo=lo+Math.imul(al8,bl6)|0;mid=mid+Math.imul(al8,bh6)|0;mid=mid+Math.imul(ah8,bl6)|0;hi=hi+Math.imul(ah8,bh6)|0;lo=lo+Math.imul(al7,bl7)|0;mid=mid+Math.imul(al7,bh7)|0;mid=mid+Math.imul(ah7,bl7)|0;hi=hi+Math.imul(ah7,bh7)|0;lo=lo+Math.imul(al6,bl8)|0;mid=mid+Math.imul(al6,bh8)|0;mid=mid+Math.imul(ah6,bl8)|0;hi=hi+Math.imul(ah6,bh8)|0;lo=lo+Math.imul(al5,bl9)|0;mid=mid+Math.imul(al5,bh9)|0;mid=mid+Math.imul(ah5,bl9)|0;hi=hi+Math.imul(ah5,bh9)|0;var w14=(c+lo|0)+((mid&8191)<<13)|0;c=(hi+(mid>>>13)|0)+(w14>>>26)|0;w14&=67108863;lo=Math.imul(al9,bl6);mid=Math.imul(al9,bh6);mid=mid+Math.imul(ah9,bl6)|0;hi=Math.imul(ah9,bh6);lo=lo+Math.imul(al8,bl7)|0;mid=mid+Math.imul(al8,bh7)|0;mid=mid+Math.imul(ah8,bl7)|0;hi=hi+Math.imul(ah8,bh7)|0;lo=lo+Math.imul(al7,bl8)|0;mid=mid+Math.imul(al7,bh8)|0;mid=mid+Math.imul(ah7,bl8)|0;hi=hi+Math.imul(ah7,bh8)|0;lo=lo+Math.imul(al6,bl9)|0;mid=mid+Math.imul(al6,bh9)|0;mid=mid+Math.imul(ah6,bl9)|0;hi=hi+Math.imul(ah6,bh9)|0;var w15=(c+lo|0)+((mid&8191)<<13)|0;c=(hi+(mid>>>13)|0)+(w15>>>26)|0;w15&=67108863;lo=Math.imul(al9,bl7);mid=Math.imul(al9,bh7);mid=mid+Math.imul(ah9,bl7)|0;hi=Math.imul(ah9,bh7);lo=lo+Math.imul(al8,bl8)|0;mid=mid+Math.imul(al8,bh8)|0;mid=mid+Math.imul(ah8,bl8)|0;hi=hi+Math.imul(ah8,bh8)|0;lo=lo+Math.imul(al7,bl9)|0;mid=mid+Math.imul(al7,bh9)|0;mid=mid+Math.imul(ah7,bl9)|0;hi=hi+Math.imul(ah7,bh9)|0;var w16=(c+lo|0)+((mid&8191)<<13)|0;c=(hi+(mid>>>13)|0)+(w16>>>26)|0;w16&=67108863;lo=Math.imul(al9,bl8);mid=Math.imul(al9,bh8);mid=mid+Math.imul(ah9,bl8)|0;hi=Math.imul(ah9,bh8);lo=lo+Math.imul(al8,bl9)|0;mid=mid+Math.imul(al8,bh9)|0;mid=mid+Math.imul(ah8,bl9)|0;hi=hi+Math.imul(ah8,bh9)|0;var w17=(c+lo|0)+((mid&8191)<<13)|0;c=(hi+(mid>>>13)|0)+(w17>>>26)|0;w17&=67108863;lo=Math.imul(al9,bl9);mid=Math.imul(al9,bh9);mid=mid+Math.imul(ah9,bl9)|0;hi=Math.imul(ah9,bh9);var w18=(c+lo|0)+((mid&8191)<<13)|0;c=(hi+(mid>>>13)|0)+(w18>>>26)|0;w18&=67108863;o[0]=w0;o[1]=w1;o[2]=w2;o[3]=w3;o[4]=w4;o[5]=w5;o[6]=w6;o[7]=w7;o[8]=w8;o[9]=w9;o[10]=w10;o[11]=w11;o[12]=w12;o[13]=w13;o[14]=w14;o[15]=w15;o[16]=w16;o[17]=w17;o[18]=w18;if(c!==0){o[19]=c;out.length++}return out};if(!Math.imul){comb10MulTo=smallMulTo}function bigMulTo(self,num,out){out.negative=num.negative^self.negative;out.length=self.length+num.length;var carry=0;var hncarry=0;for(var k=0;k<out.length-1;k++){var ncarry=hncarry;hncarry=0;var rword=carry&67108863;var maxJ=Math.min(k,num.length-1);for(var j=Math.max(0,k-self.length+1);j<=maxJ;j++){var i=k-j;var a=self.words[i]|0;var b=num.words[j]|0;var r=a*b;var lo=r&67108863;ncarry=ncarry+(r/67108864|0)|0;lo=lo+rword|0;rword=lo&67108863;ncarry=ncarry+(lo>>>26)|0;hncarry+=ncarry>>>26;ncarry&=67108863}out.words[k]=rword;carry=ncarry;ncarry=hncarry}if(carry!==0){out.words[k]=carry}else{out.length--}return out.strip()}function jumboMulTo(self,num,out){var fftm=new FFTM;return fftm.mulp(self,num,out)}BN.prototype.mulTo=function mulTo(num,out){var res;var len=this.length+num.length;if(this.length===10&&num.length===10){res=comb10MulTo(this,num,out)}else if(len<63){res=smallMulTo(this,num,out)}else if(len<1024){res=bigMulTo(this,num,out)}else{res=jumboMulTo(this,num,out)}return res};function FFTM(x,y){this.x=x;this.y=y}FFTM.prototype.makeRBT=function makeRBT(N){var t=new Array(N);var l=BN.prototype._countBits(N)-1;for(var i=0;i<N;i++){t[i]=this.revBin(i,l,N)}return t};FFTM.prototype.revBin=function revBin(x,l,N){if(x===0||x===N-1)return x;var rb=0;for(var i=0;i<l;i++){rb|=(x&1)<<l-i-1;x>>=1}return rb};FFTM.prototype.permute=function permute(rbt,rws,iws,rtws,itws,N){for(var i=0;i<N;i++){rtws[i]=rws[rbt[i]];itws[i]=iws[rbt[i]]}};FFTM.prototype.transform=function transform(rws,iws,rtws,itws,N,rbt){this.permute(rbt,rws,iws,rtws,itws,N);for(var s=1;s<N;s<<=1){var l=s<<1;var rtwdf=Math.cos(2*Math.PI/l);var itwdf=Math.sin(2*Math.PI/l);for(var p=0;p<N;p+=l){var rtwdf_=rtwdf;var itwdf_=itwdf;for(var j=0;j<s;j++){var re=rtws[p+j];var ie=itws[p+j];var ro=rtws[p+j+s];var io=itws[p+j+s];var rx=rtwdf_*ro-itwdf_*io;io=rtwdf_*io+itwdf_*ro;ro=rx;rtws[p+j]=re+ro;itws[p+j]=ie+io;rtws[p+j+s]=re-ro;itws[p+j+s]=ie-io;if(j!==l){rx=rtwdf*rtwdf_-itwdf*itwdf_;itwdf_=rtwdf*itwdf_+itwdf*rtwdf_;rtwdf_=rx}}}}};FFTM.prototype.guessLen13b=function guessLen13b(n,m){var N=Math.max(m,n)|1;var odd=N&1;var i=0;for(N=N/2|0;N;N=N>>>1){i++}return 1<<i+1+odd};FFTM.prototype.conjugate=function conjugate(rws,iws,N){if(N<=1)return;for(var i=0;i<N/2;i++){var t=rws[i];rws[i]=rws[N-i-1];rws[N-i-1]=t;t=iws[i];iws[i]=-iws[N-i-1];iws[N-i-1]=-t}};FFTM.prototype.normalize13b=function normalize13b(ws,N){var carry=0;for(var i=0;i<N/2;i++){var w=Math.round(ws[2*i+1]/N)*8192+Math.round(ws[2*i]/N)+carry;ws[i]=w&67108863;if(w<67108864){carry=0}else{carry=w/67108864|0}}return ws};FFTM.prototype.convert13b=function convert13b(ws,len,rws,N){var carry=0;for(var i=0;i<len;i++){carry=carry+(ws[i]|0);rws[2*i]=carry&8191;carry=carry>>>13;rws[2*i+1]=carry&8191;carry=carry>>>13}for(i=2*len;i<N;++i){rws[i]=0}assert(carry===0);assert((carry&~8191)===0)};FFTM.prototype.stub=function stub(N){var ph=new Array(N);for(var i=0;i<N;i++){ph[i]=0}return ph};FFTM.prototype.mulp=function mulp(x,y,out){var N=2*this.guessLen13b(x.length,y.length);var rbt=this.makeRBT(N);var _=this.stub(N);var rws=new Array(N);var rwst=new Array(N);var iwst=new Array(N);var nrws=new Array(N);var nrwst=new Array(N);var niwst=new Array(N);var rmws=out.words;rmws.length=N;this.convert13b(x.words,x.length,rws,N);this.convert13b(y.words,y.length,nrws,N);this.transform(rws,_,rwst,iwst,N,rbt);this.transform(nrws,_,nrwst,niwst,N,rbt);for(var i=0;i<N;i++){var rx=rwst[i]*nrwst[i]-iwst[i]*niwst[i];iwst[i]=rwst[i]*niwst[i]+iwst[i]*nrwst[i];rwst[i]=rx}this.conjugate(rwst,iwst,N);this.transform(rwst,iwst,rmws,_,N,rbt);this.conjugate(rmws,_,N);this.normalize13b(rmws,N);out.negative=x.negative^y.negative;out.length=x.length+y.length;return out.strip()};BN.prototype.mul=function mul(num){var out=new BN(null);out.words=new Array(this.length+num.length);return this.mulTo(num,out)};BN.prototype.mulf=function mulf(num){var out=new BN(null);out.words=new Array(this.length+num.length);return jumboMulTo(this,num,out)};BN.prototype.imul=function imul(num){return this.clone().mulTo(num,this)};BN.prototype.imuln=function imuln(num){assert(typeof num==="number");assert(num<67108864);var carry=0;for(var i=0;i<this.length;i++){var w=(this.words[i]|0)*num;var lo=(w&67108863)+(carry&67108863);carry>>=26;carry+=w/67108864|0;carry+=lo>>>26;this.words[i]=lo&67108863}if(carry!==0){this.words[i]=carry;this.length++}return this};BN.prototype.muln=function muln(num){return this.clone().imuln(num)};BN.prototype.sqr=function sqr(){return this.mul(this)};BN.prototype.isqr=function isqr(){return this.imul(this.clone())};BN.prototype.pow=function pow(num){var w=toBitArray(num);if(w.length===0)return new BN(1);var res=this;for(var i=0;i<w.length;i++,res=res.sqr()){if(w[i]!==0)break}if(++i<w.length){for(var q=res.sqr();i<w.length;i++,q=q.sqr()){if(w[i]===0)continue;res=res.mul(q)}}return res};BN.prototype.iushln=function iushln(bits){assert(typeof bits==="number"&&bits>=0);var r=bits%26;var s=(bits-r)/26;var carryMask=67108863>>>26-r<<26-r;var i;if(r!==0){var carry=0;for(i=0;i<this.length;i++){var newCarry=this.words[i]&carryMask;var c=(this.words[i]|0)-newCarry<<r;this.words[i]=c|carry;carry=newCarry>>>26-r}if(carry){this.words[i]=carry;this.length++}}if(s!==0){for(i=this.length-1;i>=0;i--){this.words[i+s]=this.words[i]}for(i=0;i<s;i++){this.words[i]=0}this.length+=s}return this.strip()};BN.prototype.ishln=function ishln(bits){assert(this.negative===0);return this.iushln(bits)};BN.prototype.iushrn=function iushrn(bits,hint,extended){assert(typeof bits==="number"&&bits>=0);var h;if(hint){h=(hint-hint%26)/26}else{h=0}var r=bits%26;var s=Math.min((bits-r)/26,this.length);var mask=67108863^67108863>>>r<<r;var maskedWords=extended;h-=s;h=Math.max(0,h);if(maskedWords){for(var i=0;i<s;i++){maskedWords.words[i]=this.words[i]}maskedWords.length=s}if(s===0){}else if(this.length>s){this.length-=s;for(i=0;i<this.length;i++){this.words[i]=this.words[i+s]}}else{this.words[0]=0;this.length=1}var carry=0;for(i=this.length-1;i>=0&&(carry!==0||i>=h);i--){var word=this.words[i]|0;this.words[i]=carry<<26-r|word>>>r;carry=word&mask}if(maskedWords&&carry!==0){maskedWords.words[maskedWords.length++]=carry}if(this.length===0){this.words[0]=0;this.length=1}return this.strip()};BN.prototype.ishrn=function ishrn(bits,hint,extended){assert(this.negative===0);return this.iushrn(bits,hint,extended)};BN.prototype.shln=function shln(bits){return this.clone().ishln(bits)};BN.prototype.ushln=function ushln(bits){return this.clone().iushln(bits)};BN.prototype.shrn=function shrn(bits){return this.clone().ishrn(bits)};BN.prototype.ushrn=function ushrn(bits){return this.clone().iushrn(bits)};BN.prototype.testn=function testn(bit){assert(typeof bit==="number"&&bit>=0);var r=bit%26;var s=(bit-r)/26;var q=1<<r;if(this.length<=s)return false;var w=this.words[s];return!!(w&q)};BN.prototype.imaskn=function imaskn(bits){assert(typeof bits==="number"&&bits>=0);var r=bits%26;var s=(bits-r)/26;assert(this.negative===0,"imaskn works only with positive numbers");if(this.length<=s){return this}if(r!==0){s++}this.length=Math.min(s,this.length);if(r!==0){var mask=67108863^67108863>>>r<<r;this.words[this.length-1]&=mask}return this.strip()};BN.prototype.maskn=function maskn(bits){return this.clone().imaskn(bits)};BN.prototype.iaddn=function iaddn(num){assert(typeof num==="number");assert(num<67108864);if(num<0)return this.isubn(-num);if(this.negative!==0){if(this.length===1&&(this.words[0]|0)<num){this.words[0]=num-(this.words[0]|0);this.negative=0;return this}this.negative=0;this.isubn(num);this.negative=1;return this}return this._iaddn(num)};BN.prototype._iaddn=function _iaddn(num){this.words[0]+=num;for(var i=0;i<this.length&&this.words[i]>=67108864;i++){this.words[i]-=67108864;if(i===this.length-1){this.words[i+1]=1}else{this.words[i+1]++}}this.length=Math.max(this.length,i+1);return this};BN.prototype.isubn=function isubn(num){assert(typeof num==="number");assert(num<67108864);if(num<0)return this.iaddn(-num);if(this.negative!==0){this.negative=0;this.iaddn(num);this.negative=1;return this}this.words[0]-=num;if(this.length===1&&this.words[0]<0){this.words[0]=-this.words[0];this.negative=1}else{for(var i=0;i<this.length&&this.words[i]<0;i++){this.words[i]+=67108864;this.words[i+1]-=1}}return this.strip()};BN.prototype.addn=function addn(num){return this.clone().iaddn(num)};BN.prototype.subn=function subn(num){return this.clone().isubn(num)};BN.prototype.iabs=function iabs(){this.negative=0;return this};BN.prototype.abs=function abs(){return this.clone().iabs()};BN.prototype._ishlnsubmul=function _ishlnsubmul(num,mul,shift){var len=num.length+shift;var i;this._expand(len);var w;var carry=0;for(i=0;i<num.length;i++){w=(this.words[i+shift]|0)+carry;var right=(num.words[i]|0)*mul;w-=right&67108863;carry=(w>>26)-(right/67108864|0);this.words[i+shift]=w&67108863}for(;i<this.length-shift;i++){w=(this.words[i+shift]|0)+carry;carry=w>>26;this.words[i+shift]=w&67108863}if(carry===0)return this.strip();assert(carry===-1);carry=0;for(i=0;i<this.length;i++){w=-(this.words[i]|0)+carry;carry=w>>26;this.words[i]=w&67108863}this.negative=1;return this.strip()};BN.prototype._wordDiv=function _wordDiv(num,mode){var shift=this.length-num.length;var a=this.clone();var b=num;var bhi=b.words[b.length-1]|0;var bhiBits=this._countBits(bhi);shift=26-bhiBits;if(shift!==0){b=b.ushln(shift);a.iushln(shift);bhi=b.words[b.length-1]|0}var m=a.length-b.length;var q;if(mode!=="mod"){q=new BN(null);q.length=m+1;q.words=new Array(q.length);for(var i=0;i<q.length;i++){q.words[i]=0}}var diff=a.clone()._ishlnsubmul(b,1,m);if(diff.negative===0){a=diff;if(q){q.words[m]=1}}for(var j=m-1;j>=0;j--){var qj=(a.words[b.length+j]|0)*67108864+(a.words[b.length+j-1]|0);qj=Math.min(qj/bhi|0,67108863);a._ishlnsubmul(b,qj,j);while(a.negative!==0){qj--;a.negative=0;a._ishlnsubmul(b,1,j);if(!a.isZero()){a.negative^=1}}if(q){q.words[j]=qj}}if(q){q.strip()}a.strip();if(mode!=="div"&&shift!==0){a.iushrn(shift)}return{div:q||null,mod:a}};BN.prototype.divmod=function divmod(num,mode,positive){assert(!num.isZero());if(this.isZero()){return{div:new BN(0),mod:new BN(0)}}var div,mod,res;if(this.negative!==0&&num.negative===0){res=this.neg().divmod(num,mode);if(mode!=="mod"){div=res.div.neg()}if(mode!=="div"){mod=res.mod.neg();if(positive&&mod.negative!==0){mod.iadd(num)}}return{div:div,mod:mod}}if(this.negative===0&&num.negative!==0){res=this.divmod(num.neg(),mode);if(mode!=="mod"){div=res.div.neg()}return{div:div,mod:res.mod}}if((this.negative&num.negative)!==0){res=this.neg().divmod(num.neg(),mode);if(mode!=="div"){mod=res.mod.neg();if(positive&&mod.negative!==0){mod.isub(num)}}return{div:res.div,mod:mod}}if(num.length>this.length||this.cmp(num)<0){return{div:new BN(0),mod:this}}if(num.length===1){if(mode==="div"){return{div:this.divn(num.words[0]),mod:null}}if(mode==="mod"){return{div:null,mod:new BN(this.modn(num.words[0]))}}return{div:this.divn(num.words[0]),mod:new BN(this.modn(num.words[0]))}}return this._wordDiv(num,mode)};BN.prototype.div=function div(num){return this.divmod(num,"div",false).div};BN.prototype.mod=function mod(num){return this.divmod(num,"mod",false).mod};BN.prototype.umod=function umod(num){return this.divmod(num,"mod",true).mod};BN.prototype.divRound=function divRound(num){var dm=this.divmod(num);if(dm.mod.isZero())return dm.div;var mod=dm.div.negative!==0?dm.mod.isub(num):dm.mod;var half=num.ushrn(1);var r2=num.andln(1);var cmp=mod.cmp(half);if(cmp<0||r2===1&&cmp===0)return dm.div;return dm.div.negative!==0?dm.div.isubn(1):dm.div.iaddn(1)};BN.prototype.modn=function modn(num){assert(num<=67108863);var p=(1<<26)%num;var acc=0;for(var i=this.length-1;i>=0;i--){acc=(p*acc+(this.words[i]|0))%num}return acc};BN.prototype.idivn=function idivn(num){assert(num<=67108863);var carry=0;for(var i=this.length-1;i>=0;i--){var w=(this.words[i]|0)+carry*67108864;this.words[i]=w/num|0;carry=w%num}return this.strip()};BN.prototype.divn=function divn(num){return this.clone().idivn(num)};BN.prototype.egcd=function egcd(p){assert(p.negative===0);assert(!p.isZero());var x=this;var y=p.clone();if(x.negative!==0){x=x.umod(p)}else{x=x.clone()}var A=new BN(1);var B=new BN(0);var C=new BN(0);var D=new BN(1);var g=0;while(x.isEven()&&y.isEven()){x.iushrn(1);y.iushrn(1);++g}var yp=y.clone();var xp=x.clone();while(!x.isZero()){for(var i=0,im=1;(x.words[0]&im)===0&&i<26;++i,im<<=1){}if(i>0){x.iushrn(i);while(i-- >0){if(A.isOdd()||B.isOdd()){A.iadd(yp);B.isub(xp)}A.iushrn(1);B.iushrn(1)}}for(var j=0,jm=1;(y.words[0]&jm)===0&&j<26;++j,jm<<=1){}if(j>0){y.iushrn(j);while(j-- >0){if(C.isOdd()||D.isOdd()){C.iadd(yp);D.isub(xp)}C.iushrn(1);D.iushrn(1)}}if(x.cmp(y)>=0){x.isub(y);A.isub(C);B.isub(D)}else{y.isub(x);C.isub(A);D.isub(B)}}return{a:C,b:D,gcd:y.iushln(g)}};BN.prototype._invmp=function _invmp(p){assert(p.negative===0);assert(!p.isZero());var a=this;var b=p.clone();if(a.negative!==0){a=a.umod(p)}else{a=a.clone()}var x1=new BN(1);var x2=new BN(0);var delta=b.clone();while(a.cmpn(1)>0&&b.cmpn(1)>0){for(var i=0,im=1;(a.words[0]&im)===0&&i<26;++i,im<<=1){}if(i>0){a.iushrn(i);while(i-- >0){if(x1.isOdd()){x1.iadd(delta)}x1.iushrn(1)}}for(var j=0,jm=1;(b.words[0]&jm)===0&&j<26;++j,jm<<=1){}if(j>0){b.iushrn(j);while(j-- >0){if(x2.isOdd()){x2.iadd(delta)}x2.iushrn(1)}}if(a.cmp(b)>=0){a.isub(b);x1.isub(x2)}else{b.isub(a);x2.isub(x1)}}var res;if(a.cmpn(1)===0){res=x1}else{res=x2}if(res.cmpn(0)<0){res.iadd(p)}return res};BN.prototype.gcd=function gcd(num){if(this.isZero())return num.abs();if(num.isZero())return this.abs();var a=this.clone();var b=num.clone();a.negative=0;b.negative=0;for(var shift=0;a.isEven()&&b.isEven();shift++){a.iushrn(1);b.iushrn(1)}do{while(a.isEven()){a.iushrn(1)}while(b.isEven()){b.iushrn(1)}var r=a.cmp(b);if(r<0){var t=a;a=b;b=t}else if(r===0||b.cmpn(1)===0){break}a.isub(b)}while(true);return b.iushln(shift)};BN.prototype.invm=function invm(num){return this.egcd(num).a.umod(num)};BN.prototype.isEven=function isEven(){return(this.words[0]&1)===0};BN.prototype.isOdd=function isOdd(){return(this.words[0]&1)===1};BN.prototype.andln=function andln(num){return this.words[0]&num};BN.prototype.bincn=function bincn(bit){assert(typeof bit==="number");var r=bit%26;var s=(bit-r)/26;var q=1<<r;if(this.length<=s){this._expand(s+1);this.words[s]|=q;return this}var carry=q;for(var i=s;carry!==0&&i<this.length;i++){var w=this.words[i]|0;w+=carry;carry=w>>>26;w&=67108863;this.words[i]=w}if(carry!==0){this.words[i]=carry;this.length++}return this};BN.prototype.isZero=function isZero(){return this.length===1&&this.words[0]===0};BN.prototype.cmpn=function cmpn(num){var negative=num<0;if(this.negative!==0&&!negative)return-1;if(this.negative===0&&negative)return 1;this.strip();var res;if(this.length>1){res=1}else{if(negative){num=-num}assert(num<=67108863,"Number is too big");var w=this.words[0]|0;res=w===num?0:w<num?-1:1}if(this.negative!==0)return-res|0;return res};BN.prototype.cmp=function cmp(num){if(this.negative!==0&&num.negative===0)return-1;if(this.negative===0&&num.negative!==0)return 1;var res=this.ucmp(num);if(this.negative!==0)return-res|0;return res};BN.prototype.ucmp=function ucmp(num){if(this.length>num.length)return 1;if(this.length<num.length)return-1;var res=0;for(var i=this.length-1;i>=0;i--){var a=this.words[i]|0;var b=num.words[i]|0;if(a===b)continue;if(a<b){res=-1}else if(a>b){res=1}break}return res};BN.prototype.gtn=function gtn(num){return this.cmpn(num)===1};BN.prototype.gt=function gt(num){return this.cmp(num)===1};BN.prototype.gten=function gten(num){return this.cmpn(num)>=0};BN.prototype.gte=function gte(num){return this.cmp(num)>=0};BN.prototype.ltn=function ltn(num){return this.cmpn(num)===-1};BN.prototype.lt=function lt(num){return this.cmp(num)===-1};BN.prototype.lten=function lten(num){return this.cmpn(num)<=0};BN.prototype.lte=function lte(num){return this.cmp(num)<=0};BN.prototype.eqn=function eqn(num){return this.cmpn(num)===0};BN.prototype.eq=function eq(num){return this.cmp(num)===0};BN.red=function red(num){return new Red(num)};BN.prototype.toRed=function toRed(ctx){assert(!this.red,"Already a number in reduction context");assert(this.negative===0,"red works only with positives");return ctx.convertTo(this)._forceRed(ctx)};BN.prototype.fromRed=function fromRed(){assert(this.red,"fromRed works only with numbers in reduction context");return this.red.convertFrom(this)};BN.prototype._forceRed=function _forceRed(ctx){this.red=ctx;return this};BN.prototype.forceRed=function forceRed(ctx){assert(!this.red,"Already a number in reduction context");return this._forceRed(ctx)};BN.prototype.redAdd=function redAdd(num){assert(this.red,"redAdd works only with red numbers");return this.red.add(this,num)};BN.prototype.redIAdd=function redIAdd(num){assert(this.red,"redIAdd works only with red numbers");return this.red.iadd(this,num)};BN.prototype.redSub=function redSub(num){assert(this.red,"redSub works only with red numbers");return this.red.sub(this,num)};BN.prototype.redISub=function redISub(num){assert(this.red,"redISub works only with red numbers");return this.red.isub(this,num)};BN.prototype.redShl=function redShl(num){assert(this.red,"redShl works only with red numbers");return this.red.shl(this,num)};BN.prototype.redMul=function redMul(num){assert(this.red,"redMul works only with red numbers");this.red._verify2(this,num);return this.red.mul(this,num)};BN.prototype.redIMul=function redIMul(num){assert(this.red,"redMul works only with red numbers");this.red._verify2(this,num);return this.red.imul(this,num)};BN.prototype.redSqr=function redSqr(){assert(this.red,"redSqr works only with red numbers");this.red._verify1(this);return this.red.sqr(this)};BN.prototype.redISqr=function redISqr(){assert(this.red,"redISqr works only with red numbers");this.red._verify1(this);return this.red.isqr(this)};BN.prototype.redSqrt=function redSqrt(){assert(this.red,"redSqrt works only with red numbers");this.red._verify1(this);return this.red.sqrt(this)};BN.prototype.redInvm=function redInvm(){assert(this.red,"redInvm works only with red numbers");this.red._verify1(this);return this.red.invm(this)};BN.prototype.redNeg=function redNeg(){assert(this.red,"redNeg works only with red numbers");this.red._verify1(this);return this.red.neg(this)};BN.prototype.redPow=function redPow(num){assert(this.red&&!num.red,"redPow(normalNum)");this.red._verify1(this);return this.red.pow(this,num)};var primes={k256:null,p224:null,p192:null,p25519:null};function MPrime(name,p){this.name=name;this.p=new BN(p,16);this.n=this.p.bitLength();this.k=new BN(1).iushln(this.n).isub(this.p);this.tmp=this._tmp()}MPrime.prototype._tmp=function _tmp(){var tmp=new BN(null);tmp.words=new Array(Math.ceil(this.n/13));return tmp};MPrime.prototype.ireduce=function ireduce(num){var r=num;var rlen;do{this.split(r,this.tmp);r=this.imulK(r);r=r.iadd(this.tmp);rlen=r.bitLength()}while(rlen>this.n);var cmp=rlen<this.n?-1:r.ucmp(this.p);if(cmp===0){r.words[0]=0;r.length=1}else if(cmp>0){r.isub(this.p)}else{if(r.strip!==undefined){r.strip()}else{r._strip()}}return r};MPrime.prototype.split=function split(input,out){input.iushrn(this.n,0,out)};MPrime.prototype.imulK=function imulK(num){return num.imul(this.k)};function K256(){MPrime.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}inherits(K256,MPrime);K256.prototype.split=function split(input,output){var mask=4194303;var outLen=Math.min(input.length,9);for(var i=0;i<outLen;i++){output.words[i]=input.words[i]}output.length=outLen;if(input.length<=9){input.words[0]=0;input.length=1;return}var prev=input.words[9];output.words[output.length++]=prev&mask;for(i=10;i<input.length;i++){var next=input.words[i]|0;input.words[i-10]=(next&mask)<<4|prev>>>22;prev=next}prev>>>=22;input.words[i-10]=prev;if(prev===0&&input.length>10){input.length-=10}else{input.length-=9}};K256.prototype.imulK=function imulK(num){num.words[num.length]=0;num.words[num.length+1]=0;num.length+=2;var lo=0;for(var i=0;i<num.length;i++){var w=num.words[i]|0;lo+=w*977;num.words[i]=lo&67108863;lo=w*64+(lo/67108864|0)}if(num.words[num.length-1]===0){num.length--;if(num.words[num.length-1]===0){num.length--}}return num};function P224(){MPrime.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}inherits(P224,MPrime);function P192(){MPrime.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}inherits(P192,MPrime);function P25519(){MPrime.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}inherits(P25519,MPrime);P25519.prototype.imulK=function imulK(num){var carry=0;for(var i=0;i<num.length;i++){var hi=(num.words[i]|0)*19+carry;var lo=hi&67108863;hi>>>=26;num.words[i]=lo;carry=hi}if(carry!==0){num.words[num.length++]=carry}return num};BN._prime=function prime(name){if(primes[name])return primes[name];var prime;if(name==="k256"){prime=new K256}else if(name==="p224"){prime=new P224}else if(name==="p192"){prime=new P192}else if(name==="p25519"){prime=new P25519}else{throw new Error("Unknown prime "+name)}primes[name]=prime;return prime};function Red(m){if(typeof m==="string"){var prime=BN._prime(m);this.m=prime.p;this.prime=prime}else{assert(m.gtn(1),"modulus must be greater than 1");this.m=m;this.prime=null}}Red.prototype._verify1=function _verify1(a){assert(a.negative===0,"red works only with positives");assert(a.red,"red works only with red numbers")};Red.prototype._verify2=function _verify2(a,b){assert((a.negative|b.negative)===0,"red works only with positives");assert(a.red&&a.red===b.red,"red works only with red numbers")};Red.prototype.imod=function imod(a){if(this.prime)return this.prime.ireduce(a)._forceRed(this);return a.umod(this.m)._forceRed(this)};Red.prototype.neg=function neg(a){if(a.isZero()){return a.clone()}return this.m.sub(a)._forceRed(this)};Red.prototype.add=function add(a,b){this._verify2(a,b);var res=a.add(b);if(res.cmp(this.m)>=0){res.isub(this.m)}return res._forceRed(this)};Red.prototype.iadd=function iadd(a,b){this._verify2(a,b);var res=a.iadd(b);if(res.cmp(this.m)>=0){res.isub(this.m)}return res};Red.prototype.sub=function sub(a,b){this._verify2(a,b);var res=a.sub(b);if(res.cmpn(0)<0){res.iadd(this.m)}return res._forceRed(this)};Red.prototype.isub=function isub(a,b){this._verify2(a,b);var res=a.isub(b);if(res.cmpn(0)<0){res.iadd(this.m)}return res};Red.prototype.shl=function shl(a,num){this._verify1(a);return this.imod(a.ushln(num))};Red.prototype.imul=function imul(a,b){this._verify2(a,b);return this.imod(a.imul(b))};Red.prototype.mul=function mul(a,b){this._verify2(a,b);return this.imod(a.mul(b))};Red.prototype.isqr=function isqr(a){return this.imul(a,a.clone())};Red.prototype.sqr=function sqr(a){return this.mul(a,a)};Red.prototype.sqrt=function sqrt(a){if(a.isZero())return a.clone();var mod3=this.m.andln(3);assert(mod3%2===1);if(mod3===3){var pow=this.m.add(new BN(1)).iushrn(2);return this.pow(a,pow)}var q=this.m.subn(1);var s=0;while(!q.isZero()&&q.andln(1)===0){s++;q.iushrn(1)}assert(!q.isZero());var one=new BN(1).toRed(this);var nOne=one.redNeg();var lpow=this.m.subn(1).iushrn(1);var z=this.m.bitLength();z=new BN(2*z*z).toRed(this);while(this.pow(z,lpow).cmp(nOne)!==0){z.redIAdd(nOne)}var c=this.pow(z,q);var r=this.pow(a,q.addn(1).iushrn(1));var t=this.pow(a,q);var m=s;while(t.cmp(one)!==0){var tmp=t;for(var i=0;tmp.cmp(one)!==0;i++){tmp=tmp.redSqr()}assert(i<m);var b=this.pow(c,new BN(1).iushln(m-i-1));r=r.redMul(b);c=b.redSqr();t=t.redMul(c);m=i}return r};Red.prototype.invm=function invm(a){var inv=a._invmp(this.m);if(inv.negative!==0){inv.negative=0;return this.imod(inv).redNeg()}else{return this.imod(inv)}};Red.prototype.pow=function pow(a,num){if(num.isZero())return new BN(1).toRed(this);if(num.cmpn(1)===0)return a.clone();var windowSize=4;var wnd=new Array(1<<windowSize);wnd[0]=new BN(1).toRed(this);wnd[1]=a;for(var i=2;i<wnd.length;i++){wnd[i]=this.mul(wnd[i-1],a)}var res=wnd[0];var current=0;var currentLen=0;var start=num.bitLength()%26;if(start===0){start=26}for(i=num.length-1;i>=0;i--){var word=num.words[i];for(var j=start-1;j>=0;j--){var bit=word>>j&1;if(res!==wnd[0]){res=this.sqr(res)}if(bit===0&&current===0){currentLen=0;continue}current<<=1;current|=bit;currentLen++;if(currentLen!==windowSize&&(i!==0||j!==0))continue;res=this.mul(res,wnd[current]);currentLen=0;current=0}start=26}return res};Red.prototype.convertTo=function convertTo(num){var r=num.umod(this.m);return r===num?r.clone():r};Red.prototype.convertFrom=function convertFrom(num){var res=num.clone();res.red=null;return res};BN.mont=function mont(num){return new Mont(num)};function Mont(m){Red.call(this,m);this.shift=this.m.bitLength();if(this.shift%26!==0){this.shift+=26-this.shift%26}this.r=new BN(1).iushln(this.shift);this.r2=this.imod(this.r.sqr());this.rinv=this.r._invmp(this.m);this.minv=this.rinv.mul(this.r).isubn(1).div(this.m);this.minv=this.minv.umod(this.r);this.minv=this.r.sub(this.minv)}inherits(Mont,Red);Mont.prototype.convertTo=function convertTo(num){return this.imod(num.ushln(this.shift))};Mont.prototype.convertFrom=function convertFrom(num){var r=this.imod(num.mul(this.rinv));r.red=null;return r};Mont.prototype.imul=function imul(a,b){if(a.isZero()||b.isZero()){a.words[0]=0;a.length=1;return a}var t=a.imul(b);var c=t.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m);var u=t.isub(c).iushrn(this.shift);var res=u;if(u.cmp(this.m)>=0){res=u.isub(this.m)}else if(u.cmpn(0)<0){res=u.iadd(this.m)}return res._forceRed(this)};Mont.prototype.mul=function mul(a,b){if(a.isZero()||b.isZero())return new BN(0)._forceRed(this);var t=a.mul(b);var c=t.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m);var u=t.isub(c).iushrn(this.shift);var res=u;if(u.cmp(this.m)>=0){res=u.isub(this.m)}else if(u.cmpn(0)<0){res=u.iadd(this.m)}return res._forceRed(this)};Mont.prototype.invm=function invm(a){var res=this.imod(a._invmp(this.m).mul(this.r2));return res._forceRed(this)}})(typeof module==="undefined"||module,void 0)},{buffer:167}],22:[function(require,module,exports){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}(function(module,exports){"use strict";function assert(val,msg){if(!val)throw new Error(msg||"Assertion failed")}function inherits(ctor,superCtor){ctor.super_=superCtor;var TempCtor=function TempCtor(){};TempCtor.prototype=superCtor.prototype;ctor.prototype=new TempCtor;ctor.prototype.constructor=ctor}function BN(number,base,endian){if(BN.isBN(number)){return number}this.negative=0;this.words=null;this.length=0;this.red=null;if(number!==null){if(base==="le"||base==="be"){endian=base;base=10}this._init(number||0,base||10,endian||"be")}}if(_typeof(module)==="object"){module.exports=BN}else{exports.BN=BN}BN.BN=BN;BN.wordSize=26;var Buffer;try{if(typeof window!=="undefined"&&typeof window.Buffer!=="undefined"){Buffer=window.Buffer}else{Buffer=require("buffer").Buffer}}catch(e){}BN.isBN=function isBN(num){if(num instanceof BN){return true}return num!==null&&_typeof(num)==="object"&&num.constructor.wordSize===BN.wordSize&&Array.isArray(num.words)};BN.max=function max(left,right){if(left.cmp(right)>0)return left;return right};BN.min=function min(left,right){if(left.cmp(right)<0)return left;return right};BN.prototype._init=function init(number,base,endian){if(typeof number==="number"){return this._initNumber(number,base,endian)}if(_typeof(number)==="object"){return this._initArray(number,base,endian)}if(base==="hex"){base=16}assert(base===(base|0)&&base>=2&&base<=36);number=number.toString().replace(/\s+/g,"");var start=0;if(number[0]==="-"){start++;this.negative=1}if(start<number.length){if(base===16){this._parseHex(number,start,endian)}else{this._parseBase(number,base,start);if(endian==="le"){this._initArray(this.toArray(),base,endian)}}}};BN.prototype._initNumber=function _initNumber(number,base,endian){if(number<0){this.negative=1;number=-number}if(number<67108864){this.words=[number&67108863];this.length=1}else if(number<4503599627370496){this.words=[number&67108863,number/67108864&67108863];this.length=2}else{assert(number<9007199254740992);this.words=[number&67108863,number/67108864&67108863,1];this.length=3}if(endian!=="le")return;this._initArray(this.toArray(),base,endian)};BN.prototype._initArray=function _initArray(number,base,endian){assert(typeof number.length==="number");if(number.length<=0){this.words=[0];this.length=1;return this}this.length=Math.ceil(number.length/3);this.words=new Array(this.length);for(var i=0;i<this.length;i++){this.words[i]=0}var j,w;var off=0;if(endian==="be"){for(i=number.length-1,j=0;i>=0;i-=3){w=number[i]|number[i-1]<<8|number[i-2]<<16;this.words[j]|=w<<off&67108863;this.words[j+1]=w>>>26-off&67108863;off+=24;if(off>=26){off-=26;j++}}}else if(endian==="le"){for(i=0,j=0;i<number.length;i+=3){w=number[i]|number[i+1]<<8|number[i+2]<<16;this.words[j]|=w<<off&67108863;this.words[j+1]=w>>>26-off&67108863;off+=24;if(off>=26){off-=26;j++}}}return this.strip()};function parseHex4Bits(string,index){var c=string.charCodeAt(index);if(c>=65&&c<=70){return c-55}else if(c>=97&&c<=102){return c-87}else{return c-48&15}}function parseHexByte(string,lowerBound,index){var r=parseHex4Bits(string,index);if(index-1>=lowerBound){r|=parseHex4Bits(string,index-1)<<4}return r}BN.prototype._parseHex=function _parseHex(number,start,endian){this.length=Math.ceil((number.length-start)/6);this.words=new Array(this.length);for(var i=0;i<this.length;i++){this.words[i]=0}var off=0;var j=0;var w;if(endian==="be"){for(i=number.length-1;i>=start;i-=2){w=parseHexByte(number,start,i)<<off;this.words[j]|=w&67108863;if(off>=18){off-=18;j+=1;this.words[j]|=w>>>26}else{off+=8}}}else{var parseLength=number.length-start;for(i=parseLength%2===0?start+1:start;i<number.length;i+=2){w=parseHexByte(number,start,i)<<off;this.words[j]|=w&67108863;if(off>=18){off-=18;j+=1;this.words[j]|=w>>>26}else{off+=8}}}this.strip()};function parseBase(str,start,end,mul){var r=0;var len=Math.min(str.length,end);for(var i=start;i<len;i++){var c=str.charCodeAt(i)-48;r*=mul;if(c>=49){r+=c-49+10}else if(c>=17){r+=c-17+10}else{r+=c}}return r}BN.prototype._parseBase=function _parseBase(number,base,start){this.words=[0];this.length=1;for(var limbLen=0,limbPow=1;limbPow<=67108863;limbPow*=base){limbLen++}limbLen--;limbPow=limbPow/base|0;var total=number.length-start;var mod=total%limbLen;var end=Math.min(total,total-mod)+start;var word=0;for(var i=start;i<end;i+=limbLen){word=parseBase(number,i,i+limbLen,base);this.imuln(limbPow);if(this.words[0]+word<67108864){this.words[0]+=word}else{this._iaddn(word)}}if(mod!==0){var pow=1;word=parseBase(number,i,number.length,base);for(i=0;i<mod;i++){pow*=base}this.imuln(pow);if(this.words[0]+word<67108864){this.words[0]+=word}else{this._iaddn(word)}}this.strip()};BN.prototype.copy=function copy(dest){dest.words=new Array(this.length);for(var i=0;i<this.length;i++){dest.words[i]=this.words[i]}dest.length=this.length;dest.negative=this.negative;dest.red=this.red};BN.prototype.clone=function clone(){var r=new BN(null);this.copy(r);return r};BN.prototype._expand=function _expand(size){while(this.length<size){this.words[this.length++]=0}return this};BN.prototype.strip=function strip(){while(this.length>1&&this.words[this.length-1]===0){this.length--}return this._normSign()};BN.prototype._normSign=function _normSign(){if(this.length===1&&this.words[0]===0){this.negative=0}return this};BN.prototype.inspect=function inspect(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var zeros=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"];var groupSizes=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5];var groupBases=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];BN.prototype.toString=function toString(base,padding){base=base||10;padding=padding|0||1;var out;if(base===16||base==="hex"){out="";var off=0;var carry=0;for(var i=0;i<this.length;i++){var w=this.words[i];var word=((w<<off|carry)&16777215).toString(16);carry=w>>>24-off&16777215;off+=2;if(off>=26){off-=26;i--}if(carry!==0||i!==this.length-1){out=zeros[6-word.length]+word+out}else{out=word+out}}if(carry!==0){out=carry.toString(16)+out}while(out.length%padding!==0){out="0"+out}if(this.negative!==0){out="-"+out}return out}if(base===(base|0)&&base>=2&&base<=36){var groupSize=groupSizes[base];var groupBase=groupBases[base];out="";var c=this.clone();c.negative=0;while(!c.isZero()){var r=c.modn(groupBase).toString(base);c=c.idivn(groupBase);if(!c.isZero()){out=zeros[groupSize-r.length]+r+out}else{out=r+out}}if(this.isZero()){out="0"+out}while(out.length%padding!==0){out="0"+out}if(this.negative!==0){out="-"+out}return out}assert(false,"Base should be between 2 and 36")};BN.prototype.toNumber=function toNumber(){var ret=this.words[0];if(this.length===2){ret+=this.words[1]*67108864}else if(this.length===3&&this.words[2]===1){ret+=4503599627370496+this.words[1]*67108864}else if(this.length>2){assert(false,"Number can only safely store up to 53 bits")}return this.negative!==0?-ret:ret};BN.prototype.toJSON=function toJSON(){return this.toString(16)};BN.prototype.toBuffer=function toBuffer(endian,length){assert(typeof Buffer!=="undefined");return this.toArrayLike(Buffer,endian,length)};BN.prototype.toArray=function toArray(endian,length){return this.toArrayLike(Array,endian,length)};BN.prototype.toArrayLike=function toArrayLike(ArrayType,endian,length){var byteLength=this.byteLength();var reqLength=length||Math.max(1,byteLength);assert(byteLength<=reqLength,"byte array longer than desired length");assert(reqLength>0,"Requested array length <= 0");this.strip();var littleEndian=endian==="le";var res=new ArrayType(reqLength);var b,i;var q=this.clone();if(!littleEndian){for(i=0;i<reqLength-byteLength;i++){res[i]=0}for(i=0;!q.isZero();i++){b=q.andln(255);q.iushrn(8);res[reqLength-i-1]=b}}else{for(i=0;!q.isZero();i++){b=q.andln(255);q.iushrn(8);res[i]=b}for(;i<reqLength;i++){res[i]=0}}return res};if(Math.clz32){BN.prototype._countBits=function _countBits(w){return 32-Math.clz32(w)}}else{BN.prototype._countBits=function _countBits(w){var t=w;var r=0;if(t>=4096){r+=13;t>>>=13}if(t>=64){r+=7;t>>>=7}if(t>=8){r+=4;t>>>=4}if(t>=2){r+=2;t>>>=2}return r+t}}BN.prototype._zeroBits=function _zeroBits(w){if(w===0)return 26;var t=w;var r=0;if((t&8191)===0){r+=13;t>>>=13}if((t&127)===0){r+=7;t>>>=7}if((t&15)===0){r+=4;t>>>=4}if((t&3)===0){r+=2;t>>>=2}if((t&1)===0){r++}return r};BN.prototype.bitLength=function bitLength(){var w=this.words[this.length-1];var hi=this._countBits(w);return(this.length-1)*26+hi};function toBitArray(num){var w=new Array(num.bitLength());for(var bit=0;bit<w.length;bit++){var off=bit/26|0;var wbit=bit%26;w[bit]=(num.words[off]&1<<wbit)>>>wbit}return w}BN.prototype.zeroBits=function zeroBits(){if(this.isZero())return 0;var r=0;for(var i=0;i<this.length;i++){var b=this._zeroBits(this.words[i]);r+=b;if(b!==26)break}return r};BN.prototype.byteLength=function byteLength(){return Math.ceil(this.bitLength()/8)};BN.prototype.toTwos=function toTwos(width){if(this.negative!==0){return this.abs().inotn(width).iaddn(1)}return this.clone()};BN.prototype.fromTwos=function fromTwos(width){if(this.testn(width-1)){return this.notn(width).iaddn(1).ineg()}return this.clone()};BN.prototype.isNeg=function isNeg(){return this.negative!==0};BN.prototype.neg=function neg(){return this.clone().ineg()};BN.prototype.ineg=function ineg(){if(!this.isZero()){this.negative^=1}return this};BN.prototype.iuor=function iuor(num){while(this.length<num.length){this.words[this.length++]=0}for(var i=0;i<num.length;i++){this.words[i]=this.words[i]|num.words[i]}return this.strip()};BN.prototype.ior=function ior(num){assert((this.negative|num.negative)===0);return this.iuor(num)};BN.prototype.or=function or(num){if(this.length>num.length)return this.clone().ior(num);return num.clone().ior(this)};BN.prototype.uor=function uor(num){if(this.length>num.length)return this.clone().iuor(num);return num.clone().iuor(this)};BN.prototype.iuand=function iuand(num){var b;if(this.length>num.length){b=num}else{b=this}for(var i=0;i<b.length;i++){this.words[i]=this.words[i]&num.words[i]}this.length=b.length;return this.strip()};BN.prototype.iand=function iand(num){assert((this.negative|num.negative)===0);return this.iuand(num)};BN.prototype.and=function and(num){if(this.length>num.length)return this.clone().iand(num);return num.clone().iand(this)};BN.prototype.uand=function uand(num){if(this.length>num.length)return this.clone().iuand(num);return num.clone().iuand(this)};BN.prototype.iuxor=function iuxor(num){var a;var b;if(this.length>num.length){a=this;b=num}else{a=num;b=this}for(var i=0;i<b.length;i++){this.words[i]=a.words[i]^b.words[i]}if(this!==a){for(;i<a.length;i++){this.words[i]=a.words[i]}}this.length=a.length;return this.strip()};BN.prototype.ixor=function ixor(num){assert((this.negative|num.negative)===0);return this.iuxor(num)};BN.prototype.xor=function xor(num){if(this.length>num.length)return this.clone().ixor(num);return num.clone().ixor(this)};BN.prototype.uxor=function uxor(num){if(this.length>num.length)return this.clone().iuxor(num);return num.clone().iuxor(this)};BN.prototype.inotn=function inotn(width){assert(typeof width==="number"&&width>=0);var bytesNeeded=Math.ceil(width/26)|0;var bitsLeft=width%26;this._expand(bytesNeeded);if(bitsLeft>0){bytesNeeded--}for(var i=0;i<bytesNeeded;i++){this.words[i]=~this.words[i]&67108863}if(bitsLeft>0){this.words[i]=~this.words[i]&67108863>>26-bitsLeft}return this.strip()};BN.prototype.notn=function notn(width){return this.clone().inotn(width)};BN.prototype.setn=function setn(bit,val){assert(typeof bit==="number"&&bit>=0);var off=bit/26|0;var wbit=bit%26;this._expand(off+1);if(val){this.words[off]=this.words[off]|1<<wbit}else{this.words[off]=this.words[off]&~(1<<wbit)}return this.strip()};BN.prototype.iadd=function iadd(num){var r;if(this.negative!==0&&num.negative===0){this.negative=0;r=this.isub(num);this.negative^=1;return this._normSign()}else if(this.negative===0&&num.negative!==0){num.negative=0;r=this.isub(num);num.negative=1;return r._normSign()}var a,b;if(this.length>num.length){a=this;b=num}else{a=num;b=this}var carry=0;for(var i=0;i<b.length;i++){r=(a.words[i]|0)+(b.words[i]|0)+carry;this.words[i]=r&67108863;carry=r>>>26}for(;carry!==0&&i<a.length;i++){r=(a.words[i]|0)+carry;this.words[i]=r&67108863;carry=r>>>26}this.length=a.length;if(carry!==0){this.words[this.length]=carry;this.length++}else if(a!==this){for(;i<a.length;i++){this.words[i]=a.words[i]}}return this};BN.prototype.add=function add(num){var res;if(num.negative!==0&&this.negative===0){num.negative=0;res=this.sub(num);num.negative^=1;return res}else if(num.negative===0&&this.negative!==0){this.negative=0;res=num.sub(this);this.negative=1;return res}if(this.length>num.length)return this.clone().iadd(num);return num.clone().iadd(this)};BN.prototype.isub=function isub(num){if(num.negative!==0){num.negative=0;var r=this.iadd(num);num.negative=1;return r._normSign()}else if(this.negative!==0){this.negative=0;this.iadd(num);this.negative=1;return this._normSign()}var cmp=this.cmp(num);if(cmp===0){this.negative=0;this.length=1;this.words[0]=0;return this}var a,b;if(cmp>0){a=this;b=num}else{a=num;b=this}var carry=0;for(var i=0;i<b.length;i++){r=(a.words[i]|0)-(b.words[i]|0)+carry;carry=r>>26;this.words[i]=r&67108863}for(;carry!==0&&i<a.length;i++){r=(a.words[i]|0)+carry;carry=r>>26;this.words[i]=r&67108863}if(carry===0&&i<a.length&&a!==this){for(;i<a.length;i++){this.words[i]=a.words[i]}}this.length=Math.max(this.length,i);if(a!==this){this.negative=1}return this.strip()};BN.prototype.sub=function sub(num){return this.clone().isub(num)};function smallMulTo(self,num,out){out.negative=num.negative^self.negative;var len=self.length+num.length|0;out.length=len;len=len-1|0;var a=self.words[0]|0;var b=num.words[0]|0;var r=a*b;var lo=r&67108863;var carry=r/67108864|0;out.words[0]=lo;for(var k=1;k<len;k++){var ncarry=carry>>>26;var rword=carry&67108863;var maxJ=Math.min(k,num.length-1);for(var j=Math.max(0,k-self.length+1);j<=maxJ;j++){var i=k-j|0;a=self.words[i]|0;b=num.words[j]|0;r=a*b+rword;ncarry+=r/67108864|0;rword=r&67108863}out.words[k]=rword|0;carry=ncarry|0}if(carry!==0){out.words[k]=carry|0}else{out.length--}return out.strip()}var comb10MulTo=function comb10MulTo(self,num,out){var a=self.words;var b=num.words;var o=out.words;var c=0;var lo;var mid;var hi;var a0=a[0]|0;var al0=a0&8191;var ah0=a0>>>13;var a1=a[1]|0;var al1=a1&8191;var ah1=a1>>>13;var a2=a[2]|0;var al2=a2&8191;var ah2=a2>>>13;var a3=a[3]|0;var al3=a3&8191;var ah3=a3>>>13;var a4=a[4]|0;var al4=a4&8191;var ah4=a4>>>13;var a5=a[5]|0;var al5=a5&8191;var ah5=a5>>>13;var a6=a[6]|0;var al6=a6&8191;var ah6=a6>>>13;var a7=a[7]|0;var al7=a7&8191;var ah7=a7>>>13;var a8=a[8]|0;var al8=a8&8191;var ah8=a8>>>13;var a9=a[9]|0;var al9=a9&8191;var ah9=a9>>>13;var b0=b[0]|0;var bl0=b0&8191;var bh0=b0>>>13;var b1=b[1]|0;var bl1=b1&8191;var bh1=b1>>>13;var b2=b[2]|0;var bl2=b2&8191;var bh2=b2>>>13;var b3=b[3]|0;var bl3=b3&8191;var bh3=b3>>>13;var b4=b[4]|0;var bl4=b4&8191;var bh4=b4>>>13;var b5=b[5]|0;var bl5=b5&8191;var bh5=b5>>>13;var b6=b[6]|0;var bl6=b6&8191;var bh6=b6>>>13;var b7=b[7]|0;var bl7=b7&8191;var bh7=b7>>>13;var b8=b[8]|0;var bl8=b8&8191;var bh8=b8>>>13;var b9=b[9]|0;var bl9=b9&8191;var bh9=b9>>>13;out.negative=self.negative^num.negative;out.length=19;lo=Math.imul(al0,bl0);mid=Math.imul(al0,bh0);mid=mid+Math.imul(ah0,bl0)|0;hi=Math.imul(ah0,bh0);var w0=(c+lo|0)+((mid&8191)<<13)|0;c=(hi+(mid>>>13)|0)+(w0>>>26)|0;w0&=67108863;lo=Math.imul(al1,bl0);mid=Math.imul(al1,bh0);mid=mid+Math.imul(ah1,bl0)|0;hi=Math.imul(ah1,bh0);lo=lo+Math.imul(al0,bl1)|0;mid=mid+Math.imul(al0,bh1)|0;mid=mid+Math.imul(ah0,bl1)|0;hi=hi+Math.imul(ah0,bh1)|0;var w1=(c+lo|0)+((mid&8191)<<13)|0;c=(hi+(mid>>>13)|0)+(w1>>>26)|0;w1&=67108863;lo=Math.imul(al2,bl0);mid=Math.imul(al2,bh0);mid=mid+Math.imul(ah2,bl0)|0;hi=Math.imul(ah2,bh0);lo=lo+Math.imul(al1,bl1)|0;mid=mid+Math.imul(al1,bh1)|0;mid=mid+Math.imul(ah1,bl1)|0;hi=hi+Math.imul(ah1,bh1)|0;lo=lo+Math.imul(al0,bl2)|0;mid=mid+Math.imul(al0,bh2)|0;mid=mid+Math.imul(ah0,bl2)|0;hi=hi+Math.imul(ah0,bh2)|0;var w2=(c+lo|0)+((mid&8191)<<13)|0;c=(hi+(mid>>>13)|0)+(w2>>>26)|0;w2&=67108863;lo=Math.imul(al3,bl0);mid=Math.imul(al3,bh0);mid=mid+Math.imul(ah3,bl0)|0;hi=Math.imul(ah3,bh0);lo=lo+Math.imul(al2,bl1)|0;mid=mid+Math.imul(al2,bh1)|0;mid=mid+Math.imul(ah2,bl1)|0;hi=hi+Math.imul(ah2,bh1)|0;lo=lo+Math.imul(al1,bl2)|0;mid=mid+Math.imul(al1,bh2)|0;mid=mid+Math.imul(ah1,bl2)|0;hi=hi+Math.imul(ah1,bh2)|0;lo=lo+Math.imul(al0,bl3)|0;mid=mid+Math.imul(al0,bh3)|0;mid=mid+Math.imul(ah0,bl3)|0;hi=hi+Math.imul(ah0,bh3)|0;var w3=(c+lo|0)+((mid&8191)<<13)|0;c=(hi+(mid>>>13)|0)+(w3>>>26)|0;w3&=67108863;lo=Math.imul(al4,bl0);mid=Math.imul(al4,bh0);mid=mid+Math.imul(ah4,bl0)|0;hi=Math.imul(ah4,bh0);lo=lo+Math.imul(al3,bl1)|0;mid=mid+Math.imul(al3,bh1)|0;mid=mid+Math.imul(ah3,bl1)|0;hi=hi+Math.imul(ah3,bh1)|0;lo=lo+Math.imul(al2,bl2)|0;mid=mid+Math.imul(al2,bh2)|0;mid=mid+Math.imul(ah2,bl2)|0;hi=hi+Math.imul(ah2,bh2)|0;lo=lo+Math.imul(al1,bl3)|0;mid=mid+Math.imul(al1,bh3)|0;mid=mid+Math.imul(ah1,bl3)|0;hi=hi+Math.imul(ah1,bh3)|0;lo=lo+Math.imul(al0,bl4)|0;mid=mid+Math.imul(al0,bh4)|0;mid=mid+Math.imul(ah0,bl4)|0;hi=hi+Math.imul(ah0,bh4)|0;var w4=(c+lo|0)+((mid&8191)<<13)|0;c=(hi+(mid>>>13)|0)+(w4>>>26)|0;w4&=67108863;lo=Math.imul(al5,bl0);mid=Math.imul(al5,bh0);mid=mid+Math.imul(ah5,bl0)|0;hi=Math.imul(ah5,bh0);lo=lo+Math.imul(al4,bl1)|0;mid=mid+Math.imul(al4,bh1)|0;mid=mid+Math.imul(ah4,bl1)|0;hi=hi+Math.imul(ah4,bh1)|0;lo=lo+Math.imul(al3,bl2)|0;mid=mid+Math.imul(al3,bh2)|0;mid=mid+Math.imul(ah3,bl2)|0;hi=hi+Math.imul(ah3,bh2)|0;lo=lo+Math.imul(al2,bl3)|0;mid=mid+Math.imul(al2,bh3)|0;mid=mid+Math.imul(ah2,bl3)|0;hi=hi+Math.imul(ah2,bh3)|0;lo=lo+Math.imul(al1,bl4)|0;mid=mid+Math.imul(al1,bh4)|0;mid=mid+Math.imul(ah1,bl4)|0;hi=hi+Math.imul(ah1,bh4)|0;lo=lo+Math.imul(al0,bl5)|0;mid=mid+Math.imul(al0,bh5)|0;mid=mid+Math.imul(ah0,bl5)|0;hi=hi+Math.imul(ah0,bh5)|0;var w5=(c+lo|0)+((mid&8191)<<13)|0;c=(hi+(mid>>>13)|0)+(w5>>>26)|0;w5&=67108863;lo=Math.imul(al6,bl0);mid=Math.imul(al6,bh0);mid=mid+Math.imul(ah6,bl0)|0;hi=Math.imul(ah6,bh0);lo=lo+Math.imul(al5,bl1)|0;mid=mid+Math.imul(al5,bh1)|0;mid=mid+Math.imul(ah5,bl1)|0;hi=hi+Math.imul(ah5,bh1)|0;lo=lo+Math.imul(al4,bl2)|0;mid=mid+Math.imul(al4,bh2)|0;mid=mid+Math.imul(ah4,bl2)|0;hi=hi+Math.imul(ah4,bh2)|0;lo=lo+Math.imul(al3,bl3)|0;mid=mid+Math.imul(al3,bh3)|0;mid=mid+Math.imul(ah3,bl3)|0;hi=hi+Math.imul(ah3,bh3)|0;lo=lo+Math.imul(al2,bl4)|0;mid=mid+Math.imul(al2,bh4)|0;mid=mid+Math.imul(ah2,bl4)|0;hi=hi+Math.imul(ah2,bh4)|0;lo=lo+Math.imul(al1,bl5)|0;mid=mid+Math.imul(al1,bh5)|0;mid=mid+Math.imul(ah1,bl5)|0;hi=hi+Math.imul(ah1,bh5)|0;lo=lo+Math.imul(al0,bl6)|0;mid=mid+Math.imul(al0,bh6)|0;mid=mid+Math.imul(ah0,bl6)|0;hi=hi+Math.imul(ah0,bh6)|0;var w6=(c+lo|0)+((mid&8191)<<13)|0;c=(hi+(mid>>>13)|0)+(w6>>>26)|0;w6&=67108863;lo=Math.imul(al7,bl0);mid=Math.imul(al7,bh0);mid=mid+Math.imul(ah7,bl0)|0;hi=Math.imul(ah7,bh0);lo=lo+Math.imul(al6,bl1)|0;mid=mid+Math.imul(al6,bh1)|0;mid=mid+Math.imul(ah6,bl1)|0;hi=hi+Math.imul(ah6,bh1)|0;lo=lo+Math.imul(al5,bl2)|0;mid=mid+Math.imul(al5,bh2)|0;mid=mid+Math.imul(ah5,bl2)|0;hi=hi+Math.imul(ah5,bh2)|0;lo=lo+Math.imul(al4,bl3)|0;mid=mid+Math.imul(al4,bh3)|0;mid=mid+Math.imul(ah4,bl3)|0;hi=hi+Math.imul(ah4,bh3)|0;lo=lo+Math.imul(al3,bl4)|0;mid=mid+Math.imul(al3,bh4)|0;mid=mid+Math.imul(ah3,bl4)|0;hi=hi+Math.imul(ah3,bh4)|0;lo=lo+Math.imul(al2,bl5)|0;mid=mid+Math.imul(al2,bh5)|0;mid=mid+Math.imul(ah2,bl5)|0;hi=hi+Math.imul(ah2,bh5)|0;lo=lo+Math.imul(al1,bl6)|0;mid=mid+Math.imul(al1,bh6)|0;mid=mid+Math.imul(ah1,bl6)|0;hi=hi+Math.imul(ah1,bh6)|0;lo=lo+Math.imul(al0,bl7)|0;mid=mid+Math.imul(al0,bh7)|0;mid=mid+Math.imul(ah0,bl7)|0;hi=hi+Math.imul(ah0,bh7)|0;var w7=(c+lo|0)+((mid&8191)<<13)|0;c=(hi+(mid>>>13)|0)+(w7>>>26)|0;w7&=67108863;lo=Math.imul(al8,bl0);mid=Math.imul(al8,bh0);mid=mid+Math.imul(ah8,bl0)|0;hi=Math.imul(ah8,bh0);lo=lo+Math.imul(al7,bl1)|0;mid=mid+Math.imul(al7,bh1)|0;mid=mid+Math.imul(ah7,bl1)|0;hi=hi+Math.imul(ah7,bh1)|0;lo=lo+Math.imul(al6,bl2)|0;mid=mid+Math.imul(al6,bh2)|0;mid=mid+Math.imul(ah6,bl2)|0;hi=hi+Math.imul(ah6,bh2)|0;lo=lo+Math.imul(al5,bl3)|0;mid=mid+Math.imul(al5,bh3)|0;mid=mid+Math.imul(ah5,bl3)|0;hi=hi+Math.imul(ah5,bh3)|0;lo=lo+Math.imul(al4,bl4)|0;mid=mid+Math.imul(al4,bh4)|0;mid=mid+Math.imul(ah4,bl4)|0;hi=hi+Math.imul(ah4,bh4)|0;lo=lo+Math.imul(al3,bl5)|0;mid=mid+Math.imul(al3,bh5)|0;mid=mid+Math.imul(ah3,bl5)|0;hi=hi+Math.imul(ah3,bh5)|0;lo=lo+Math.imul(al2,bl6)|0;mid=mid+Math.imul(al2,bh6)|0;mid=mid+Math.imul(ah2,bl6)|0;hi=hi+Math.imul(ah2,bh6)|0;lo=lo+Math.imul(al1,bl7)|0;mid=mid+Math.imul(al1,bh7)|0;mid=mid+Math.imul(ah1,bl7)|0;hi=hi+Math.imul(ah1,bh7)|0;lo=lo+Math.imul(al0,bl8)|0;mid=mid+Math.imul(al0,bh8)|0;mid=mid+Math.imul(ah0,bl8)|0;hi=hi+Math.imul(ah0,bh8)|0;var w8=(c+lo|0)+((mid&8191)<<13)|0;c=(hi+(mid>>>13)|0)+(w8>>>26)|0;w8&=67108863;lo=Math.imul(al9,bl0);mid=Math.imul(al9,bh0);mid=mid+Math.imul(ah9,bl0)|0;hi=Math.imul(ah9,bh0);lo=lo+Math.imul(al8,bl1)|0;mid=mid+Math.imul(al8,bh1)|0;mid=mid+Math.imul(ah8,bl1)|0;hi=hi+Math.imul(ah8,bh1)|0;lo=lo+Math.imul(al7,bl2)|0;mid=mid+Math.imul(al7,bh2)|0;mid=mid+Math.imul(ah7,bl2)|0;hi=hi+Math.imul(ah7,bh2)|0;lo=lo+Math.imul(al6,bl3)|0;mid=mid+Math.imul(al6,bh3)|0;mid=mid+Math.imul(ah6,bl3)|0;hi=hi+Math.imul(ah6,bh3)|0;lo=lo+Math.imul(al5,bl4)|0;mid=mid+Math.imul(al5,bh4)|0;mid=mid+Math.imul(ah5,bl4)|0;hi=hi+Math.imul(ah5,bh4)|0;lo=lo+Math.imul(al4,bl5)|0;mid=mid+Math.imul(al4,bh5)|0;mid=mid+Math.imul(ah4,bl5)|0;hi=hi+Math.imul(ah4,bh5)|0;lo=lo+Math.imul(al3,bl6)|0;mid=mid+Math.imul(al3,bh6)|0;mid=mid+Math.imul(ah3,bl6)|0;hi=hi+Math.imul(ah3,bh6)|0;lo=lo+Math.imul(al2,bl7)|0;mid=mid+Math.imul(al2,bh7)|0;mid=mid+Math.imul(ah2,bl7)|0;hi=hi+Math.imul(ah2,bh7)|0;lo=lo+Math.imul(al1,bl8)|0;mid=mid+Math.imul(al1,bh8)|0;mid=mid+Math.imul(ah1,bl8)|0;hi=hi+Math.imul(ah1,bh8)|0;lo=lo+Math.imul(al0,bl9)|0;mid=mid+Math.imul(al0,bh9)|0;mid=mid+Math.imul(ah0,bl9)|0;hi=hi+Math.imul(ah0,bh9)|0;var w9=(c+lo|0)+((mid&8191)<<13)|0;c=(hi+(mid>>>13)|0)+(w9>>>26)|0;w9&=67108863;lo=Math.imul(al9,bl1);mid=Math.imul(al9,bh1);mid=mid+Math.imul(ah9,bl1)|0;hi=Math.imul(ah9,bh1);lo=lo+Math.imul(al8,bl2)|0;mid=mid+Math.imul(al8,bh2)|0;mid=mid+Math.imul(ah8,bl2)|0;hi=hi+Math.imul(ah8,bh2)|0;lo=lo+Math.imul(al7,bl3)|0;mid=mid+Math.imul(al7,bh3)|0;mid=mid+Math.imul(ah7,bl3)|0;hi=hi+Math.imul(ah7,bh3)|0;lo=lo+Math.imul(al6,bl4)|0;mid=mid+Math.imul(al6,bh4)|0;mid=mid+Math.imul(ah6,bl4)|0;hi=hi+Math.imul(ah6,bh4)|0;lo=lo+Math.imul(al5,bl5)|0;mid=mid+Math.imul(al5,bh5)|0;mid=mid+Math.imul(ah5,bl5)|0;hi=hi+Math.imul(ah5,bh5)|0;lo=lo+Math.imul(al4,bl6)|0;mid=mid+Math.imul(al4,bh6)|0;mid=mid+Math.imul(ah4,bl6)|0;hi=hi+Math.imul(ah4,bh6)|0;lo=lo+Math.imul(al3,bl7)|0;mid=mid+Math.imul(al3,bh7)|0;mid=mid+Math.imul(ah3,bl7)|0;hi=hi+Math.imul(ah3,bh7)|0;lo=lo+Math.imul(al2,bl8)|0;mid=mid+Math.imul(al2,bh8)|0;mid=mid+Math.imul(ah2,bl8)|0;hi=hi+Math.imul(ah2,bh8)|0;lo=lo+Math.imul(al1,bl9)|0;mid=mid+Math.imul(al1,bh9)|0;mid=mid+Math.imul(ah1,bl9)|0;hi=hi+Math.imul(ah1,bh9)|0;var w10=(c+lo|0)+((mid&8191)<<13)|0;c=(hi+(mid>>>13)|0)+(w10>>>26)|0;w10&=67108863;lo=Math.imul(al9,bl2);mid=Math.imul(al9,bh2);mid=mid+Math.imul(ah9,bl2)|0;hi=Math.imul(ah9,bh2);lo=lo+Math.imul(al8,bl3)|0;mid=mid+Math.imul(al8,bh3)|0;mid=mid+Math.imul(ah8,bl3)|0;hi=hi+Math.imul(ah8,bh3)|0;lo=lo+Math.imul(al7,bl4)|0;mid=mid+Math.imul(al7,bh4)|0;mid=mid+Math.imul(ah7,bl4)|0;hi=hi+Math.imul(ah7,bh4)|0;lo=lo+Math.imul(al6,bl5)|0;mid=mid+Math.imul(al6,bh5)|0;mid=mid+Math.imul(ah6,bl5)|0;hi=hi+Math.imul(ah6,bh5)|0;lo=lo+Math.imul(al5,bl6)|0;mid=mid+Math.imul(al5,bh6)|0;mid=mid+Math.imul(ah5,bl6)|0;hi=hi+Math.imul(ah5,bh6)|0;lo=lo+Math.imul(al4,bl7)|0;mid=mid+Math.imul(al4,bh7)|0;mid=mid+Math.imul(ah4,bl7)|0;hi=hi+Math.imul(ah4,bh7)|0;lo=lo+Math.imul(al3,bl8)|0;mid=mid+Math.imul(al3,bh8)|0;mid=mid+Math.imul(ah3,bl8)|0;hi=hi+Math.imul(ah3,bh8)|0;lo=lo+Math.imul(al2,bl9)|0;mid=mid+Math.imul(al2,bh9)|0;mid=mid+Math.imul(ah2,bl9)|0;hi=hi+Math.imul(ah2,bh9)|0;var w11=(c+lo|0)+((mid&8191)<<13)|0;c=(hi+(mid>>>13)|0)+(w11>>>26)|0;w11&=67108863;lo=Math.imul(al9,bl3);mid=Math.imul(al9,bh3);mid=mid+Math.imul(ah9,bl3)|0;hi=Math.imul(ah9,bh3);lo=lo+Math.imul(al8,bl4)|0;mid=mid+Math.imul(al8,bh4)|0;mid=mid+Math.imul(ah8,bl4)|0;hi=hi+Math.imul(ah8,bh4)|0;lo=lo+Math.imul(al7,bl5)|0;mid=mid+Math.imul(al7,bh5)|0;mid=mid+Math.imul(ah7,bl5)|0;hi=hi+Math.imul(ah7,bh5)|0;lo=lo+Math.imul(al6,bl6)|0;mid=mid+Math.imul(al6,bh6)|0;mid=mid+Math.imul(ah6,bl6)|0;hi=hi+Math.imul(ah6,bh6)|0;lo=lo+Math.imul(al5,bl7)|0;mid=mid+Math.imul(al5,bh7)|0;mid=mid+Math.imul(ah5,bl7)|0;hi=hi+Math.imul(ah5,bh7)|0;lo=lo+Math.imul(al4,bl8)|0;mid=mid+Math.imul(al4,bh8)|0;mid=mid+Math.imul(ah4,bl8)|0;hi=hi+Math.imul(ah4,bh8)|0;lo=lo+Math.imul(al3,bl9)|0;mid=mid+Math.imul(al3,bh9)|0;mid=mid+Math.imul(ah3,bl9)|0;hi=hi+Math.imul(ah3,bh9)|0;var w12=(c+lo|0)+((mid&8191)<<13)|0;c=(hi+(mid>>>13)|0)+(w12>>>26)|0;w12&=67108863;lo=Math.imul(al9,bl4);mid=Math.imul(al9,bh4);mid=mid+Math.imul(ah9,bl4)|0;hi=Math.imul(ah9,bh4);lo=lo+Math.imul(al8,bl5)|0;mid=mid+Math.imul(al8,bh5)|0;mid=mid+Math.imul(ah8,bl5)|0;hi=hi+Math.imul(ah8,bh5)|0;lo=lo+Math.imul(al7,bl6)|0;mid=mid+Math.imul(al7,bh6)|0;mid=mid+Math.imul(ah7,bl6)|0;hi=hi+Math.imul(ah7,bh6)|0;lo=lo+Math.imul(al6,bl7)|0;mid=mid+Math.imul(al6,bh7)|0;mid=mid+Math.imul(ah6,bl7)|0;hi=hi+Math.imul(ah6,bh7)|0;lo=lo+Math.imul(al5,bl8)|0;mid=mid+Math.imul(al5,bh8)|0;mid=mid+Math.imul(ah5,bl8)|0;hi=hi+Math.imul(ah5,bh8)|0;lo=lo+Math.imul(al4,bl9)|0;mid=mid+Math.imul(al4,bh9)|0;mid=mid+Math.imul(ah4,bl9)|0;hi=hi+Math.imul(ah4,bh9)|0;var w13=(c+lo|0)+((mid&8191)<<13)|0;c=(hi+(mid>>>13)|0)+(w13>>>26)|0;w13&=67108863;lo=Math.imul(al9,bl5);mid=Math.imul(al9,bh5);mid=mid+Math.imul(ah9,bl5)|0;hi=Math.imul(ah9,bh5);lo=lo+Math.imul(al8,bl6)|0;mid=mid+Math.imul(al8,bh6)|0;mid=mid+Math.imul(ah8,bl6)|0;hi=hi+Math.imul(ah8,bh6)|0;lo=lo+Math.imul(al7,bl7)|0;mid=mid+Math.imul(al7,bh7)|0;mid=mid+Math.imul(ah7,bl7)|0;hi=hi+Math.imul(ah7,bh7)|0;lo=lo+Math.imul(al6,bl8)|0;mid=mid+Math.imul(al6,bh8)|0;mid=mid+Math.imul(ah6,bl8)|0;hi=hi+Math.imul(ah6,bh8)|0;lo=lo+Math.imul(al5,bl9)|0;mid=mid+Math.imul(al5,bh9)|0;mid=mid+Math.imul(ah5,bl9)|0;hi=hi+Math.imul(ah5,bh9)|0;var w14=(c+lo|0)+((mid&8191)<<13)|0;c=(hi+(mid>>>13)|0)+(w14>>>26)|0;w14&=67108863;lo=Math.imul(al9,bl6);mid=Math.imul(al9,bh6);mid=mid+Math.imul(ah9,bl6)|0;hi=Math.imul(ah9,bh6);lo=lo+Math.imul(al8,bl7)|0;mid=mid+Math.imul(al8,bh7)|0;mid=mid+Math.imul(ah8,bl7)|0;hi=hi+Math.imul(ah8,bh7)|0;lo=lo+Math.imul(al7,bl8)|0;mid=mid+Math.imul(al7,bh8)|0;mid=mid+Math.imul(ah7,bl8)|0;hi=hi+Math.imul(ah7,bh8)|0;lo=lo+Math.imul(al6,bl9)|0;mid=mid+Math.imul(al6,bh9)|0;mid=mid+Math.imul(ah6,bl9)|0;hi=hi+Math.imul(ah6,bh9)|0;var w15=(c+lo|0)+((mid&8191)<<13)|0;c=(hi+(mid>>>13)|0)+(w15>>>26)|0;w15&=67108863;lo=Math.imul(al9,bl7);mid=Math.imul(al9,bh7);mid=mid+Math.imul(ah9,bl7)|0;hi=Math.imul(ah9,bh7);lo=lo+Math.imul(al8,bl8)|0;mid=mid+Math.imul(al8,bh8)|0;mid=mid+Math.imul(ah8,bl8)|0;hi=hi+Math.imul(ah8,bh8)|0;lo=lo+Math.imul(al7,bl9)|0;mid=mid+Math.imul(al7,bh9)|0;mid=mid+Math.imul(ah7,bl9)|0;hi=hi+Math.imul(ah7,bh9)|0;var w16=(c+lo|0)+((mid&8191)<<13)|0;c=(hi+(mid>>>13)|0)+(w16>>>26)|0;w16&=67108863;lo=Math.imul(al9,bl8);mid=Math.imul(al9,bh8);mid=mid+Math.imul(ah9,bl8)|0;hi=Math.imul(ah9,bh8);lo=lo+Math.imul(al8,bl9)|0;mid=mid+Math.imul(al8,bh9)|0;mid=mid+Math.imul(ah8,bl9)|0;hi=hi+Math.imul(ah8,bh9)|0;var w17=(c+lo|0)+((mid&8191)<<13)|0;c=(hi+(mid>>>13)|0)+(w17>>>26)|0;w17&=67108863;lo=Math.imul(al9,bl9);mid=Math.imul(al9,bh9);mid=mid+Math.imul(ah9,bl9)|0;hi=Math.imul(ah9,bh9);var w18=(c+lo|0)+((mid&8191)<<13)|0;c=(hi+(mid>>>13)|0)+(w18>>>26)|0;w18&=67108863;o[0]=w0;o[1]=w1;o[2]=w2;o[3]=w3;o[4]=w4;o[5]=w5;o[6]=w6;o[7]=w7;o[8]=w8;o[9]=w9;o[10]=w10;o[11]=w11;o[12]=w12;o[13]=w13;o[14]=w14;o[15]=w15;o[16]=w16;o[17]=w17;o[18]=w18;if(c!==0){o[19]=c;out.length++}return out};if(!Math.imul){comb10MulTo=smallMulTo}function bigMulTo(self,num,out){out.negative=num.negative^self.negative;out.length=self.length+num.length;var carry=0;var hncarry=0;for(var k=0;k<out.length-1;k++){var ncarry=hncarry;hncarry=0;var rword=carry&67108863;var maxJ=Math.min(k,num.length-1);for(var j=Math.max(0,k-self.length+1);j<=maxJ;j++){var i=k-j;var a=self.words[i]|0;var b=num.words[j]|0;var r=a*b;var lo=r&67108863;ncarry=ncarry+(r/67108864|0)|0;lo=lo+rword|0;rword=lo&67108863;ncarry=ncarry+(lo>>>26)|0;hncarry+=ncarry>>>26;ncarry&=67108863}out.words[k]=rword;carry=ncarry;ncarry=hncarry}if(carry!==0){out.words[k]=carry}else{out.length--}return out.strip()}function jumboMulTo(self,num,out){var fftm=new FFTM;return fftm.mulp(self,num,out)}BN.prototype.mulTo=function mulTo(num,out){var res;var len=this.length+num.length;if(this.length===10&&num.length===10){res=comb10MulTo(this,num,out)}else if(len<63){res=smallMulTo(this,num,out)}else if(len<1024){res=bigMulTo(this,num,out)}else{res=jumboMulTo(this,num,out)}return res};function FFTM(x,y){this.x=x;this.y=y}FFTM.prototype.makeRBT=function makeRBT(N){var t=new Array(N);var l=BN.prototype._countBits(N)-1;for(var i=0;i<N;i++){t[i]=this.revBin(i,l,N)}return t};FFTM.prototype.revBin=function revBin(x,l,N){if(x===0||x===N-1)return x;var rb=0;for(var i=0;i<l;i++){rb|=(x&1)<<l-i-1;x>>=1}return rb};FFTM.prototype.permute=function permute(rbt,rws,iws,rtws,itws,N){for(var i=0;i<N;i++){rtws[i]=rws[rbt[i]];itws[i]=iws[rbt[i]]}};FFTM.prototype.transform=function transform(rws,iws,rtws,itws,N,rbt){this.permute(rbt,rws,iws,rtws,itws,N);for(var s=1;s<N;s<<=1){var l=s<<1;var rtwdf=Math.cos(2*Math.PI/l);var itwdf=Math.sin(2*Math.PI/l);for(var p=0;p<N;p+=l){var rtwdf_=rtwdf;var itwdf_=itwdf;for(var j=0;j<s;j++){var re=rtws[p+j];var ie=itws[p+j];var ro=rtws[p+j+s];var io=itws[p+j+s];var rx=rtwdf_*ro-itwdf_*io;io=rtwdf_*io+itwdf_*ro;ro=rx;rtws[p+j]=re+ro;itws[p+j]=ie+io;rtws[p+j+s]=re-ro;itws[p+j+s]=ie-io;if(j!==l){rx=rtwdf*rtwdf_-itwdf*itwdf_;itwdf_=rtwdf*itwdf_+itwdf*rtwdf_;rtwdf_=rx}}}}};FFTM.prototype.guessLen13b=function guessLen13b(n,m){var N=Math.max(m,n)|1;var odd=N&1;var i=0;for(N=N/2|0;N;N=N>>>1){i++}return 1<<i+1+odd};FFTM.prototype.conjugate=function conjugate(rws,iws,N){if(N<=1)return;for(var i=0;i<N/2;i++){var t=rws[i];rws[i]=rws[N-i-1];rws[N-i-1]=t;t=iws[i];iws[i]=-iws[N-i-1];iws[N-i-1]=-t}};FFTM.prototype.normalize13b=function normalize13b(ws,N){var carry=0;for(var i=0;i<N/2;i++){var w=Math.round(ws[2*i+1]/N)*8192+Math.round(ws[2*i]/N)+carry;ws[i]=w&67108863;if(w<67108864){carry=0}else{carry=w/67108864|0}}return ws};FFTM.prototype.convert13b=function convert13b(ws,len,rws,N){var carry=0;for(var i=0;i<len;i++){carry=carry+(ws[i]|0);rws[2*i]=carry&8191;carry=carry>>>13;rws[2*i+1]=carry&8191;carry=carry>>>13}for(i=2*len;i<N;++i){rws[i]=0}assert(carry===0);assert((carry&~8191)===0)};FFTM.prototype.stub=function stub(N){var ph=new Array(N);for(var i=0;i<N;i++){ph[i]=0}return ph};FFTM.prototype.mulp=function mulp(x,y,out){var N=2*this.guessLen13b(x.length,y.length);var rbt=this.makeRBT(N);var _=this.stub(N);var rws=new Array(N);var rwst=new Array(N);var iwst=new Array(N);var nrws=new Array(N);var nrwst=new Array(N);var niwst=new Array(N);var rmws=out.words;rmws.length=N;this.convert13b(x.words,x.length,rws,N);this.convert13b(y.words,y.length,nrws,N);this.transform(rws,_,rwst,iwst,N,rbt);this.transform(nrws,_,nrwst,niwst,N,rbt);for(var i=0;i<N;i++){var rx=rwst[i]*nrwst[i]-iwst[i]*niwst[i];iwst[i]=rwst[i]*niwst[i]+iwst[i]*nrwst[i];rwst[i]=rx}this.conjugate(rwst,iwst,N);this.transform(rwst,iwst,rmws,_,N,rbt);this.conjugate(rmws,_,N);this.normalize13b(rmws,N);out.negative=x.negative^y.negative;out.length=x.length+y.length;return out.strip()};BN.prototype.mul=function mul(num){var out=new BN(null);out.words=new Array(this.length+num.length);return this.mulTo(num,out)};BN.prototype.mulf=function mulf(num){var out=new BN(null);out.words=new Array(this.length+num.length);return jumboMulTo(this,num,out)};BN.prototype.imul=function imul(num){return this.clone().mulTo(num,this)};BN.prototype.imuln=function imuln(num){assert(typeof num==="number");assert(num<67108864);var carry=0;for(var i=0;i<this.length;i++){var w=(this.words[i]|0)*num;var lo=(w&67108863)+(carry&67108863);carry>>=26;carry+=w/67108864|0;carry+=lo>>>26;this.words[i]=lo&67108863}if(carry!==0){this.words[i]=carry;this.length++}return this};BN.prototype.muln=function muln(num){return this.clone().imuln(num)};BN.prototype.sqr=function sqr(){return this.mul(this)};BN.prototype.isqr=function isqr(){return this.imul(this.clone())};BN.prototype.pow=function pow(num){var w=toBitArray(num);if(w.length===0)return new BN(1);var res=this;for(var i=0;i<w.length;i++,res=res.sqr()){if(w[i]!==0)break}if(++i<w.length){for(var q=res.sqr();i<w.length;i++,q=q.sqr()){if(w[i]===0)continue;res=res.mul(q)}}return res};BN.prototype.iushln=function iushln(bits){assert(typeof bits==="number"&&bits>=0);var r=bits%26;var s=(bits-r)/26;var carryMask=67108863>>>26-r<<26-r;var i;if(r!==0){var carry=0;for(i=0;i<this.length;i++){var newCarry=this.words[i]&carryMask;var c=(this.words[i]|0)-newCarry<<r;this.words[i]=c|carry;carry=newCarry>>>26-r}if(carry){this.words[i]=carry;this.length++}}if(s!==0){for(i=this.length-1;i>=0;i--){this.words[i+s]=this.words[i]}for(i=0;i<s;i++){this.words[i]=0}this.length+=s}return this.strip()};BN.prototype.ishln=function ishln(bits){assert(this.negative===0);return this.iushln(bits)};BN.prototype.iushrn=function iushrn(bits,hint,extended){assert(typeof bits==="number"&&bits>=0);var h;if(hint){h=(hint-hint%26)/26}else{h=0}var r=bits%26;var s=Math.min((bits-r)/26,this.length);var mask=67108863^67108863>>>r<<r;var maskedWords=extended;h-=s;h=Math.max(0,h);if(maskedWords){for(var i=0;i<s;i++){maskedWords.words[i]=this.words[i]}maskedWords.length=s}if(s===0){}else if(this.length>s){this.length-=s;for(i=0;i<this.length;i++){this.words[i]=this.words[i+s]}}else{this.words[0]=0;this.length=1}var carry=0;for(i=this.length-1;i>=0&&(carry!==0||i>=h);i--){var word=this.words[i]|0;this.words[i]=carry<<26-r|word>>>r;carry=word&mask}if(maskedWords&&carry!==0){maskedWords.words[maskedWords.length++]=carry}if(this.length===0){this.words[0]=0;this.length=1}return this.strip()};BN.prototype.ishrn=function ishrn(bits,hint,extended){assert(this.negative===0);return this.iushrn(bits,hint,extended)};BN.prototype.shln=function shln(bits){return this.clone().ishln(bits)};BN.prototype.ushln=function ushln(bits){return this.clone().iushln(bits)};BN.prototype.shrn=function shrn(bits){return this.clone().ishrn(bits)};BN.prototype.ushrn=function ushrn(bits){return this.clone().iushrn(bits)};BN.prototype.testn=function testn(bit){assert(typeof bit==="number"&&bit>=0);var r=bit%26;var s=(bit-r)/26;var q=1<<r;if(this.length<=s)return false;var w=this.words[s];return!!(w&q)};BN.prototype.imaskn=function imaskn(bits){assert(typeof bits==="number"&&bits>=0);var r=bits%26;var s=(bits-r)/26;assert(this.negative===0,"imaskn works only with positive numbers");if(this.length<=s){return this}if(r!==0){s++}this.length=Math.min(s,this.length);if(r!==0){var mask=67108863^67108863>>>r<<r;this.words[this.length-1]&=mask}return this.strip()};BN.prototype.maskn=function maskn(bits){return this.clone().imaskn(bits)};BN.prototype.iaddn=function iaddn(num){assert(typeof num==="number");assert(num<67108864);if(num<0)return this.isubn(-num);if(this.negative!==0){if(this.length===1&&(this.words[0]|0)<num){this.words[0]=num-(this.words[0]|0);this.negative=0;return this}this.negative=0;this.isubn(num);this.negative=1;return this}return this._iaddn(num)};BN.prototype._iaddn=function _iaddn(num){this.words[0]+=num;for(var i=0;i<this.length&&this.words[i]>=67108864;i++){this.words[i]-=67108864;if(i===this.length-1){this.words[i+1]=1}else{this.words[i+1]++}}this.length=Math.max(this.length,i+1);return this};BN.prototype.isubn=function isubn(num){assert(typeof num==="number");assert(num<67108864);if(num<0)return this.iaddn(-num);if(this.negative!==0){this.negative=0;this.iaddn(num);this.negative=1;return this}this.words[0]-=num;if(this.length===1&&this.words[0]<0){this.words[0]=-this.words[0];this.negative=1}else{for(var i=0;i<this.length&&this.words[i]<0;i++){this.words[i]+=67108864;this.words[i+1]-=1}}return this.strip()};BN.prototype.addn=function addn(num){return this.clone().iaddn(num)};BN.prototype.subn=function subn(num){return this.clone().isubn(num)};BN.prototype.iabs=function iabs(){this.negative=0;return this};BN.prototype.abs=function abs(){return this.clone().iabs()};BN.prototype._ishlnsubmul=function _ishlnsubmul(num,mul,shift){var len=num.length+shift;var i;this._expand(len);var w;var carry=0;for(i=0;i<num.length;i++){w=(this.words[i+shift]|0)+carry;var right=(num.words[i]|0)*mul;w-=right&67108863;carry=(w>>26)-(right/67108864|0);this.words[i+shift]=w&67108863}for(;i<this.length-shift;i++){w=(this.words[i+shift]|0)+carry;carry=w>>26;this.words[i+shift]=w&67108863}if(carry===0)return this.strip();assert(carry===-1);carry=0;for(i=0;i<this.length;i++){w=-(this.words[i]|0)+carry;carry=w>>26;this.words[i]=w&67108863}this.negative=1;return this.strip()};BN.prototype._wordDiv=function _wordDiv(num,mode){var shift=this.length-num.length;var a=this.clone();var b=num;var bhi=b.words[b.length-1]|0;var bhiBits=this._countBits(bhi);shift=26-bhiBits;if(shift!==0){b=b.ushln(shift);a.iushln(shift);bhi=b.words[b.length-1]|0}var m=a.length-b.length;var q;if(mode!=="mod"){q=new BN(null);q.length=m+1;q.words=new Array(q.length);for(var i=0;i<q.length;i++){q.words[i]=0}}var diff=a.clone()._ishlnsubmul(b,1,m);if(diff.negative===0){a=diff;if(q){q.words[m]=1}}for(var j=m-1;j>=0;j--){var qj=(a.words[b.length+j]|0)*67108864+(a.words[b.length+j-1]|0);qj=Math.min(qj/bhi|0,67108863);a._ishlnsubmul(b,qj,j);while(a.negative!==0){qj--;a.negative=0;a._ishlnsubmul(b,1,j);if(!a.isZero()){a.negative^=1}}if(q){q.words[j]=qj}}if(q){q.strip()}a.strip();if(mode!=="div"&&shift!==0){a.iushrn(shift)}return{div:q||null,mod:a}};BN.prototype.divmod=function divmod(num,mode,positive){assert(!num.isZero());if(this.isZero()){return{div:new BN(0),mod:new BN(0)}}var div,mod,res;if(this.negative!==0&&num.negative===0){res=this.neg().divmod(num,mode);if(mode!=="mod"){div=res.div.neg()}if(mode!=="div"){mod=res.mod.neg();if(positive&&mod.negative!==0){mod.iadd(num)}}return{div:div,mod:mod}}if(this.negative===0&&num.negative!==0){res=this.divmod(num.neg(),mode);if(mode!=="mod"){div=res.div.neg()}return{div:div,mod:res.mod}}if((this.negative&num.negative)!==0){res=this.neg().divmod(num.neg(),mode);if(mode!=="div"){mod=res.mod.neg();if(positive&&mod.negative!==0){mod.isub(num)}}return{div:res.div,mod:mod}}if(num.length>this.length||this.cmp(num)<0){return{div:new BN(0),mod:this}}if(num.length===1){if(mode==="div"){return{div:this.divn(num.words[0]),mod:null}}if(mode==="mod"){return{div:null,mod:new BN(this.modn(num.words[0]))}}return{div:this.divn(num.words[0]),mod:new BN(this.modn(num.words[0]))}}return this._wordDiv(num,mode)};BN.prototype.div=function div(num){return this.divmod(num,"div",false).div};BN.prototype.mod=function mod(num){return this.divmod(num,"mod",false).mod};BN.prototype.umod=function umod(num){return this.divmod(num,"mod",true).mod};BN.prototype.divRound=function divRound(num){var dm=this.divmod(num);if(dm.mod.isZero())return dm.div;var mod=dm.div.negative!==0?dm.mod.isub(num):dm.mod;var half=num.ushrn(1);var r2=num.andln(1);var cmp=mod.cmp(half);if(cmp<0||r2===1&&cmp===0)return dm.div;return dm.div.negative!==0?dm.div.isubn(1):dm.div.iaddn(1)};BN.prototype.modn=function modn(num){assert(num<=67108863);var p=(1<<26)%num;var acc=0;for(var i=this.length-1;i>=0;i--){acc=(p*acc+(this.words[i]|0))%num}return acc};BN.prototype.idivn=function idivn(num){assert(num<=67108863);var carry=0;for(var i=this.length-1;i>=0;i--){var w=(this.words[i]|0)+carry*67108864;this.words[i]=w/num|0;carry=w%num}return this.strip()};BN.prototype.divn=function divn(num){return this.clone().idivn(num)};BN.prototype.egcd=function egcd(p){assert(p.negative===0);assert(!p.isZero());var x=this;var y=p.clone();if(x.negative!==0){x=x.umod(p)}else{x=x.clone()}var A=new BN(1);var B=new BN(0);var C=new BN(0);var D=new BN(1);var g=0;while(x.isEven()&&y.isEven()){x.iushrn(1);y.iushrn(1);++g}var yp=y.clone();var xp=x.clone();while(!x.isZero()){for(var i=0,im=1;(x.words[0]&im)===0&&i<26;++i,im<<=1){}if(i>0){x.iushrn(i);while(i-- >0){if(A.isOdd()||B.isOdd()){A.iadd(yp);B.isub(xp)}A.iushrn(1);B.iushrn(1)}}for(var j=0,jm=1;(y.words[0]&jm)===0&&j<26;++j,jm<<=1){}if(j>0){y.iushrn(j);while(j-- >0){if(C.isOdd()||D.isOdd()){C.iadd(yp);D.isub(xp)}C.iushrn(1);D.iushrn(1)}}if(x.cmp(y)>=0){x.isub(y);A.isub(C);B.isub(D)}else{y.isub(x);C.isub(A);D.isub(B)}}return{a:C,b:D,gcd:y.iushln(g)}};BN.prototype._invmp=function _invmp(p){assert(p.negative===0);assert(!p.isZero());var a=this;var b=p.clone();if(a.negative!==0){a=a.umod(p)}else{a=a.clone()}var x1=new BN(1);var x2=new BN(0);var delta=b.clone();while(a.cmpn(1)>0&&b.cmpn(1)>0){for(var i=0,im=1;(a.words[0]&im)===0&&i<26;++i,im<<=1){}if(i>0){a.iushrn(i);while(i-- >0){if(x1.isOdd()){x1.iadd(delta)}x1.iushrn(1)}}for(var j=0,jm=1;(b.words[0]&jm)===0&&j<26;++j,jm<<=1){}if(j>0){b.iushrn(j);while(j-- >0){if(x2.isOdd()){x2.iadd(delta)}x2.iushrn(1)}}if(a.cmp(b)>=0){a.isub(b);x1.isub(x2)}else{b.isub(a);x2.isub(x1)}}var res;if(a.cmpn(1)===0){res=x1}else{res=x2}if(res.cmpn(0)<0){res.iadd(p)}return res};BN.prototype.gcd=function gcd(num){if(this.isZero())return num.abs();if(num.isZero())return this.abs();var a=this.clone();var b=num.clone();a.negative=0;b.negative=0;for(var shift=0;a.isEven()&&b.isEven();shift++){a.iushrn(1);b.iushrn(1)}do{while(a.isEven()){a.iushrn(1)}while(b.isEven()){b.iushrn(1)}var r=a.cmp(b);if(r<0){var t=a;a=b;b=t}else if(r===0||b.cmpn(1)===0){break}a.isub(b)}while(true);return b.iushln(shift)};BN.prototype.invm=function invm(num){return this.egcd(num).a.umod(num)};BN.prototype.isEven=function isEven(){return(this.words[0]&1)===0};BN.prototype.isOdd=function isOdd(){return(this.words[0]&1)===1};BN.prototype.andln=function andln(num){return this.words[0]&num};BN.prototype.bincn=function bincn(bit){assert(typeof bit==="number");var r=bit%26;var s=(bit-r)/26;var q=1<<r;if(this.length<=s){this._expand(s+1);this.words[s]|=q;return this}var carry=q;for(var i=s;carry!==0&&i<this.length;i++){var w=this.words[i]|0;w+=carry;carry=w>>>26;w&=67108863;this.words[i]=w}if(carry!==0){this.words[i]=carry;this.length++}return this};BN.prototype.isZero=function isZero(){return this.length===1&&this.words[0]===0};BN.prototype.cmpn=function cmpn(num){var negative=num<0;if(this.negative!==0&&!negative)return-1;if(this.negative===0&&negative)return 1;this.strip();var res;if(this.length>1){res=1}else{if(negative){num=-num}assert(num<=67108863,"Number is too big");var w=this.words[0]|0;res=w===num?0:w<num?-1:1}if(this.negative!==0)return-res|0;return res};BN.prototype.cmp=function cmp(num){if(this.negative!==0&&num.negative===0)return-1;if(this.negative===0&&num.negative!==0)return 1;var res=this.ucmp(num);if(this.negative!==0)return-res|0;return res};BN.prototype.ucmp=function ucmp(num){if(this.length>num.length)return 1;if(this.length<num.length)return-1;var res=0;for(var i=this.length-1;i>=0;i--){var a=this.words[i]|0;var b=num.words[i]|0;if(a===b)continue;if(a<b){res=-1}else if(a>b){res=1}break}return res};BN.prototype.gtn=function gtn(num){return this.cmpn(num)===1};BN.prototype.gt=function gt(num){return this.cmp(num)===1};BN.prototype.gten=function gten(num){return this.cmpn(num)>=0};BN.prototype.gte=function gte(num){return this.cmp(num)>=0};BN.prototype.ltn=function ltn(num){return this.cmpn(num)===-1};BN.prototype.lt=function lt(num){return this.cmp(num)===-1};BN.prototype.lten=function lten(num){return this.cmpn(num)<=0};BN.prototype.lte=function lte(num){return this.cmp(num)<=0};BN.prototype.eqn=function eqn(num){return this.cmpn(num)===0};BN.prototype.eq=function eq(num){return this.cmp(num)===0};BN.red=function red(num){return new Red(num)};BN.prototype.toRed=function toRed(ctx){assert(!this.red,"Already a number in reduction context");assert(this.negative===0,"red works only with positives");return ctx.convertTo(this)._forceRed(ctx)};BN.prototype.fromRed=function fromRed(){assert(this.red,"fromRed works only with numbers in reduction context");return this.red.convertFrom(this)};BN.prototype._forceRed=function _forceRed(ctx){this.red=ctx;return this};BN.prototype.forceRed=function forceRed(ctx){assert(!this.red,"Already a number in reduction context");return this._forceRed(ctx)};BN.prototype.redAdd=function redAdd(num){assert(this.red,"redAdd works only with red numbers");return this.red.add(this,num)};BN.prototype.redIAdd=function redIAdd(num){assert(this.red,"redIAdd works only with red numbers");return this.red.iadd(this,num)};BN.prototype.redSub=function redSub(num){assert(this.red,"redSub works only with red numbers");return this.red.sub(this,num)};BN.prototype.redISub=function redISub(num){assert(this.red,"redISub works only with red numbers");return this.red.isub(this,num)};BN.prototype.redShl=function redShl(num){assert(this.red,"redShl works only with red numbers");return this.red.shl(this,num)};BN.prototype.redMul=function redMul(num){assert(this.red,"redMul works only with red numbers");this.red._verify2(this,num);return this.red.mul(this,num)};BN.prototype.redIMul=function redIMul(num){assert(this.red,"redMul works only with red numbers");this.red._verify2(this,num);return this.red.imul(this,num)};BN.prototype.redSqr=function redSqr(){assert(this.red,"redSqr works only with red numbers");this.red._verify1(this);return this.red.sqr(this)};BN.prototype.redISqr=function redISqr(){assert(this.red,"redISqr works only with red numbers");this.red._verify1(this);return this.red.isqr(this)};BN.prototype.redSqrt=function redSqrt(){assert(this.red,"redSqrt works only with red numbers");this.red._verify1(this);return this.red.sqrt(this)};BN.prototype.redInvm=function redInvm(){assert(this.red,"redInvm works only with red numbers");this.red._verify1(this);return this.red.invm(this)};BN.prototype.redNeg=function redNeg(){assert(this.red,"redNeg works only with red numbers");this.red._verify1(this);return this.red.neg(this)};BN.prototype.redPow=function redPow(num){assert(this.red&&!num.red,"redPow(normalNum)");this.red._verify1(this);return this.red.pow(this,num)};var primes={k256:null,p224:null,p192:null,p25519:null};function MPrime(name,p){this.name=name;this.p=new BN(p,16);this.n=this.p.bitLength();this.k=new BN(1).iushln(this.n).isub(this.p);this.tmp=this._tmp()}MPrime.prototype._tmp=function _tmp(){var tmp=new BN(null);tmp.words=new Array(Math.ceil(this.n/13));return tmp};MPrime.prototype.ireduce=function ireduce(num){var r=num;var rlen;do{this.split(r,this.tmp);r=this.imulK(r);r=r.iadd(this.tmp);rlen=r.bitLength()}while(rlen>this.n);var cmp=rlen<this.n?-1:r.ucmp(this.p);if(cmp===0){r.words[0]=0;r.length=1}else if(cmp>0){r.isub(this.p)}else{if(r.strip!==undefined){r.strip()}else{r._strip()}}return r};MPrime.prototype.split=function split(input,out){input.iushrn(this.n,0,out)};MPrime.prototype.imulK=function imulK(num){return num.imul(this.k)};function K256(){MPrime.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}inherits(K256,MPrime);K256.prototype.split=function split(input,output){var mask=4194303;var outLen=Math.min(input.length,9);for(var i=0;i<outLen;i++){output.words[i]=input.words[i]}output.length=outLen;if(input.length<=9){input.words[0]=0;input.length=1;return}var prev=input.words[9];output.words[output.length++]=prev&mask;for(i=10;i<input.length;i++){var next=input.words[i]|0;input.words[i-10]=(next&mask)<<4|prev>>>22;prev=next}prev>>>=22;input.words[i-10]=prev;if(prev===0&&input.length>10){input.length-=10}else{input.length-=9}};K256.prototype.imulK=function imulK(num){num.words[num.length]=0;num.words[num.length+1]=0;num.length+=2;var lo=0;for(var i=0;i<num.length;i++){var w=num.words[i]|0;lo+=w*977;num.words[i]=lo&67108863;lo=w*64+(lo/67108864|0)}if(num.words[num.length-1]===0){num.length--;if(num.words[num.length-1]===0){num.length--}}return num};function P224(){MPrime.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}inherits(P224,MPrime);function P192(){MPrime.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}inherits(P192,MPrime);function P25519(){MPrime.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}inherits(P25519,MPrime);P25519.prototype.imulK=function imulK(num){var carry=0;for(var i=0;i<num.length;i++){var hi=(num.words[i]|0)*19+carry;var lo=hi&67108863;hi>>>=26;num.words[i]=lo;carry=hi}if(carry!==0){num.words[num.length++]=carry}return num};BN._prime=function prime(name){if(primes[name])return primes[name];var prime;if(name==="k256"){prime=new K256}else if(name==="p224"){prime=new P224}else if(name==="p192"){prime=new P192}else if(name==="p25519"){prime=new P25519}else{throw new Error("Unknown prime "+name)}primes[name]=prime;return prime};function Red(m){if(typeof m==="string"){var prime=BN._prime(m);this.m=prime.p;this.prime=prime}else{assert(m.gtn(1),"modulus must be greater than 1");this.m=m;this.prime=null}}Red.prototype._verify1=function _verify1(a){assert(a.negative===0,"red works only with positives");assert(a.red,"red works only with red numbers")};Red.prototype._verify2=function _verify2(a,b){assert((a.negative|b.negative)===0,"red works only with positives");assert(a.red&&a.red===b.red,"red works only with red numbers")};Red.prototype.imod=function imod(a){if(this.prime)return this.prime.ireduce(a)._forceRed(this);return a.umod(this.m)._forceRed(this)};Red.prototype.neg=function neg(a){if(a.isZero()){return a.clone()}return this.m.sub(a)._forceRed(this)};Red.prototype.add=function add(a,b){this._verify2(a,b);var res=a.add(b);if(res.cmp(this.m)>=0){res.isub(this.m)}return res._forceRed(this)};Red.prototype.iadd=function iadd(a,b){this._verify2(a,b);var res=a.iadd(b);if(res.cmp(this.m)>=0){res.isub(this.m)}return res};Red.prototype.sub=function sub(a,b){this._verify2(a,b);var res=a.sub(b);if(res.cmpn(0)<0){res.iadd(this.m)}return res._forceRed(this)};Red.prototype.isub=function isub(a,b){this._verify2(a,b);var res=a.isub(b);if(res.cmpn(0)<0){res.iadd(this.m)}return res};Red.prototype.shl=function shl(a,num){this._verify1(a);return this.imod(a.ushln(num))};Red.prototype.imul=function imul(a,b){this._verify2(a,b);return this.imod(a.imul(b))};Red.prototype.mul=function mul(a,b){this._verify2(a,b);return this.imod(a.mul(b))};Red.prototype.isqr=function isqr(a){return this.imul(a,a.clone())};Red.prototype.sqr=function sqr(a){return this.mul(a,a)};Red.prototype.sqrt=function sqrt(a){if(a.isZero())return a.clone();var mod3=this.m.andln(3);assert(mod3%2===1);if(mod3===3){var pow=this.m.add(new BN(1)).iushrn(2);return this.pow(a,pow)}var q=this.m.subn(1);var s=0;while(!q.isZero()&&q.andln(1)===0){s++;q.iushrn(1)}assert(!q.isZero());var one=new BN(1).toRed(this);var nOne=one.redNeg();var lpow=this.m.subn(1).iushrn(1);var z=this.m.bitLength();z=new BN(2*z*z).toRed(this);while(this.pow(z,lpow).cmp(nOne)!==0){z.redIAdd(nOne)}var c=this.pow(z,q);var r=this.pow(a,q.addn(1).iushrn(1));var t=this.pow(a,q);var m=s;while(t.cmp(one)!==0){var tmp=t;for(var i=0;tmp.cmp(one)!==0;i++){tmp=tmp.redSqr()}assert(i<m);var b=this.pow(c,new BN(1).iushln(m-i-1));r=r.redMul(b);c=b.redSqr();t=t.redMul(c);m=i}return r};Red.prototype.invm=function invm(a){var inv=a._invmp(this.m);if(inv.negative!==0){inv.negative=0;return this.imod(inv).redNeg()}else{return this.imod(inv)}};Red.prototype.pow=function pow(a,num){if(num.isZero())return new BN(1).toRed(this);if(num.cmpn(1)===0)return a.clone();var windowSize=4;var wnd=new Array(1<<windowSize);wnd[0]=new BN(1).toRed(this);wnd[1]=a;for(var i=2;i<wnd.length;i++){wnd[i]=this.mul(wnd[i-1],a)}var res=wnd[0];var current=0;var currentLen=0;var start=num.bitLength()%26;if(start===0){start=26}for(i=num.length-1;i>=0;i--){var word=num.words[i];for(var j=start-1;j>=0;j--){var bit=word>>j&1;if(res!==wnd[0]){res=this.sqr(res)}if(bit===0&&current===0){currentLen=0;continue}current<<=1;current|=bit;currentLen++;if(currentLen!==windowSize&&(i!==0||j!==0))continue;res=this.mul(res,wnd[current]);currentLen=0;current=0}start=26}return res};Red.prototype.convertTo=function convertTo(num){var r=num.umod(this.m);return r===num?r.clone():r};Red.prototype.convertFrom=function convertFrom(num){var res=num.clone();res.red=null;return res};BN.mont=function mont(num){return new Mont(num)};function Mont(m){Red.call(this,m);this.shift=this.m.bitLength();if(this.shift%26!==0){this.shift+=26-this.shift%26}this.r=new BN(1).iushln(this.shift);this.r2=this.imod(this.r.sqr());this.rinv=this.r._invmp(this.m);this.minv=this.rinv.mul(this.r).isubn(1).div(this.m);this.minv=this.minv.umod(this.r);this.minv=this.r.sub(this.minv)}inherits(Mont,Red);Mont.prototype.convertTo=function convertTo(num){return this.imod(num.ushln(this.shift))};Mont.prototype.convertFrom=function convertFrom(num){var r=this.imod(num.mul(this.rinv));r.red=null;return r};Mont.prototype.imul=function imul(a,b){if(a.isZero()||b.isZero()){a.words[0]=0;a.length=1;return a}var t=a.imul(b);var c=t.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m);var u=t.isub(c).iushrn(this.shift);var res=u;if(u.cmp(this.m)>=0){res=u.isub(this.m)}else if(u.cmpn(0)<0){res=u.iadd(this.m)}return res._forceRed(this)};Mont.prototype.mul=function mul(a,b){if(a.isZero()||b.isZero())return new BN(0)._forceRed(this);var t=a.mul(b);var c=t.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m);var u=t.isub(c).iushrn(this.shift);var res=u;if(u.cmp(this.m)>=0){res=u.isub(this.m)}else if(u.cmpn(0)<0){res=u.iadd(this.m)}return res._forceRed(this)};Mont.prototype.invm=function invm(a){var res=this.imod(a._invmp(this.m).mul(this.r2));return res._forceRed(this)}})(typeof module==="undefined"||module,void 0)},{buffer:167}],23:[function(require,module,exports){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}(function(module,exports){"use strict";function assert(val,msg){if(!val)throw new Error(msg||"Assertion failed")}function inherits(ctor,superCtor){ctor.super_=superCtor;var TempCtor=function TempCtor(){};TempCtor.prototype=superCtor.prototype;ctor.prototype=new TempCtor;ctor.prototype.constructor=ctor}function BN(number,base,endian){if(BN.isBN(number)){return number}this.negative=0;this.words=null;this.length=0;this.red=null;if(number!==null){if(base==="le"||base==="be"){endian=base;base=10}this._init(number||0,base||10,endian||"be")}}if(_typeof(module)==="object"){module.exports=BN}else{exports.BN=BN}BN.BN=BN;BN.wordSize=26;var Buffer;try{if(typeof window!=="undefined"&&typeof window.Buffer!=="undefined"){Buffer=window.Buffer}else{Buffer=require("buffer").Buffer}}catch(e){}BN.isBN=function isBN(num){if(num instanceof BN){return true}return num!==null&&_typeof(num)==="object"&&num.constructor.wordSize===BN.wordSize&&Array.isArray(num.words)};BN.max=function max(left,right){if(left.cmp(right)>0)return left;return right};BN.min=function min(left,right){if(left.cmp(right)<0)return left;return right};BN.prototype._init=function init(number,base,endian){if(typeof number==="number"){return this._initNumber(number,base,endian)}if(_typeof(number)==="object"){return this._initArray(number,base,endian)}if(base==="hex"){base=16}assert(base===(base|0)&&base>=2&&base<=36);number=number.toString().replace(/\s+/g,"");var start=0;if(number[0]==="-"){start++;this.negative=1}if(start<number.length){if(base===16){this._parseHex(number,start,endian)}else{this._parseBase(number,base,start);if(endian==="le"){this._initArray(this.toArray(),base,endian)}}}};BN.prototype._initNumber=function _initNumber(number,base,endian){if(number<0){this.negative=1;number=-number}if(number<67108864){this.words=[number&67108863];this.length=1}else if(number<4503599627370496){this.words=[number&67108863,number/67108864&67108863];this.length=2}else{assert(number<9007199254740992);this.words=[number&67108863,number/67108864&67108863,1];this.length=3}if(endian!=="le")return;this._initArray(this.toArray(),base,endian)};BN.prototype._initArray=function _initArray(number,base,endian){assert(typeof number.length==="number");if(number.length<=0){this.words=[0];this.length=1;return this}this.length=Math.ceil(number.length/3);this.words=new Array(this.length);for(var i=0;i<this.length;i++){this.words[i]=0}var j,w;var off=0;if(endian==="be"){for(i=number.length-1,j=0;i>=0;i-=3){w=number[i]|number[i-1]<<8|number[i-2]<<16;this.words[j]|=w<<off&67108863;this.words[j+1]=w>>>26-off&67108863;off+=24;if(off>=26){off-=26;j++}}}else if(endian==="le"){for(i=0,j=0;i<number.length;i+=3){w=number[i]|number[i+1]<<8|number[i+2]<<16;this.words[j]|=w<<off&67108863;this.words[j+1]=w>>>26-off&67108863;off+=24;if(off>=26){off-=26;j++}}}return this._strip()};function parseHex4Bits(string,index){var c=string.charCodeAt(index);if(c>=48&&c<=57){return c-48}else if(c>=65&&c<=70){return c-55}else if(c>=97&&c<=102){return c-87}else{assert(false,"Invalid character in "+string)}}function parseHexByte(string,lowerBound,index){var r=parseHex4Bits(string,index);if(index-1>=lowerBound){r|=parseHex4Bits(string,index-1)<<4}return r}BN.prototype._parseHex=function _parseHex(number,start,endian){this.length=Math.ceil((number.length-start)/6);this.words=new Array(this.length);for(var i=0;i<this.length;i++){this.words[i]=0}var off=0;var j=0;var w;if(endian==="be"){for(i=number.length-1;i>=start;i-=2){w=parseHexByte(number,start,i)<<off;this.words[j]|=w&67108863;if(off>=18){off-=18;j+=1;this.words[j]|=w>>>26}else{off+=8}}}else{var parseLength=number.length-start;for(i=parseLength%2===0?start+1:start;i<number.length;i+=2){w=parseHexByte(number,start,i)<<off;this.words[j]|=w&67108863;if(off>=18){off-=18;j+=1;this.words[j]|=w>>>26}else{off+=8}}}this._strip()};function parseBase(str,start,end,mul){var r=0;var b=0;var len=Math.min(str.length,end);for(var i=start;i<len;i++){var c=str.charCodeAt(i)-48;r*=mul;if(c>=49){b=c-49+10}else if(c>=17){b=c-17+10}else{b=c}assert(c>=0&&b<mul,"Invalid character");r+=b}return r}BN.prototype._parseBase=function _parseBase(number,base,start){this.words=[0];this.length=1;for(var limbLen=0,limbPow=1;limbPow<=67108863;limbPow*=base){limbLen++}limbLen--;limbPow=limbPow/base|0;var total=number.length-start;var mod=total%limbLen;var end=Math.min(total,total-mod)+start;var word=0;for(var i=start;i<end;i+=limbLen){word=parseBase(number,i,i+limbLen,base);this.imuln(limbPow);if(this.words[0]+word<67108864){this.words[0]+=word}else{this._iaddn(word)}}if(mod!==0){var pow=1;word=parseBase(number,i,number.length,base);for(i=0;i<mod;i++){pow*=base}this.imuln(pow);if(this.words[0]+word<67108864){this.words[0]+=word}else{this._iaddn(word)}}this._strip()};BN.prototype.copy=function copy(dest){dest.words=new Array(this.length);for(var i=0;i<this.length;i++){dest.words[i]=this.words[i]}dest.length=this.length;dest.negative=this.negative;dest.red=this.red};function move(dest,src){dest.words=src.words;dest.length=src.length;dest.negative=src.negative;dest.red=src.red}BN.prototype._move=function _move(dest){move(dest,this)};BN.prototype.clone=function clone(){var r=new BN(null);this.copy(r);return r};BN.prototype._expand=function _expand(size){while(this.length<size){this.words[this.length++]=0}return this};BN.prototype._strip=function strip(){while(this.length>1&&this.words[this.length-1]===0){this.length--}return this._normSign()};BN.prototype._normSign=function _normSign(){if(this.length===1&&this.words[0]===0){this.negative=0}return this};if(typeof Symbol!=="undefined"&&typeof Symbol["for"]==="function"){try{BN.prototype[Symbol["for"]("nodejs.util.inspect.custom")]=inspect}catch(e){BN.prototype.inspect=inspect}}else{BN.prototype.inspect=inspect}function inspect(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var zeros=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"];var groupSizes=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5];var groupBases=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];BN.prototype.toString=function toString(base,padding){base=base||10;padding=padding|0||1;var out;if(base===16||base==="hex"){out="";var off=0;var carry=0;for(var i=0;i<this.length;i++){var w=this.words[i];var word=((w<<off|carry)&16777215).toString(16);carry=w>>>24-off&16777215;off+=2;if(off>=26){off-=26;i--}if(carry!==0||i!==this.length-1){out=zeros[6-word.length]+word+out}else{out=word+out}}if(carry!==0){out=carry.toString(16)+out}while(out.length%padding!==0){out="0"+out}if(this.negative!==0){out="-"+out}return out}if(base===(base|0)&&base>=2&&base<=36){var groupSize=groupSizes[base];var groupBase=groupBases[base];out="";var c=this.clone();c.negative=0;while(!c.isZero()){var r=c.modrn(groupBase).toString(base);c=c.idivn(groupBase);if(!c.isZero()){out=zeros[groupSize-r.length]+r+out}else{out=r+out}}if(this.isZero()){out="0"+out}while(out.length%padding!==0){out="0"+out}if(this.negative!==0){out="-"+out}return out}assert(false,"Base should be between 2 and 36")};BN.prototype.toNumber=function toNumber(){var ret=this.words[0];if(this.length===2){ret+=this.words[1]*67108864}else if(this.length===3&&this.words[2]===1){ret+=4503599627370496+this.words[1]*67108864}else if(this.length>2){assert(false,"Number can only safely store up to 53 bits")}return this.negative!==0?-ret:ret};BN.prototype.toJSON=function toJSON(){return this.toString(16,2)};if(Buffer){BN.prototype.toBuffer=function toBuffer(endian,length){return this.toArrayLike(Buffer,endian,length)}}BN.prototype.toArray=function toArray(endian,length){return this.toArrayLike(Array,endian,length)};var allocate=function allocate(ArrayType,size){if(ArrayType.allocUnsafe){return ArrayType.allocUnsafe(size)}return new ArrayType(size)};BN.prototype.toArrayLike=function toArrayLike(ArrayType,endian,length){this._strip();var byteLength=this.byteLength();var reqLength=length||Math.max(1,byteLength);assert(byteLength<=reqLength,"byte array longer than desired length");assert(reqLength>0,"Requested array length <= 0");var res=allocate(ArrayType,reqLength);var postfix=endian==="le"?"LE":"BE";this["_toArrayLike"+postfix](res,byteLength);return res};BN.prototype._toArrayLikeLE=function _toArrayLikeLE(res,byteLength){var position=0;var carry=0;for(var i=0,shift=0;i<this.length;i++){var word=this.words[i]<<shift|carry;res[position++]=word&255;if(position<res.length){res[position++]=word>>8&255}if(position<res.length){res[position++]=word>>16&255}if(shift===6){if(position<res.length){res[position++]=word>>24&255}carry=0;shift=0}else{carry=word>>>24;shift+=2}}if(position<res.length){res[position++]=carry;while(position<res.length){res[position++]=0}}};BN.prototype._toArrayLikeBE=function _toArrayLikeBE(res,byteLength){var position=res.length-1;var carry=0;for(var i=0,shift=0;i<this.length;i++){var word=this.words[i]<<shift|carry;res[position--]=word&255;if(position>=0){res[position--]=word>>8&255}if(position>=0){res[position--]=word>>16&255}if(shift===6){if(position>=0){res[position--]=word>>24&255}carry=0;shift=0}else{carry=word>>>24;shift+=2}}if(position>=0){res[position--]=carry;while(position>=0){res[position--]=0}}};if(Math.clz32){BN.prototype._countBits=function _countBits(w){return 32-Math.clz32(w)}}else{BN.prototype._countBits=function _countBits(w){var t=w;var r=0;if(t>=4096){r+=13;t>>>=13}if(t>=64){r+=7;t>>>=7}if(t>=8){r+=4;t>>>=4}if(t>=2){r+=2;t>>>=2}return r+t}}BN.prototype._zeroBits=function _zeroBits(w){if(w===0)return 26;var t=w;var r=0;if((t&8191)===0){r+=13;t>>>=13}if((t&127)===0){r+=7;t>>>=7}if((t&15)===0){r+=4;t>>>=4}if((t&3)===0){r+=2;t>>>=2}if((t&1)===0){r++}return r};BN.prototype.bitLength=function bitLength(){var w=this.words[this.length-1];var hi=this._countBits(w);return(this.length-1)*26+hi};function toBitArray(num){var w=new Array(num.bitLength());for(var bit=0;bit<w.length;bit++){var off=bit/26|0;var wbit=bit%26;w[bit]=num.words[off]>>>wbit&1}return w}BN.prototype.zeroBits=function zeroBits(){if(this.isZero())return 0;var r=0;for(var i=0;i<this.length;i++){var b=this._zeroBits(this.words[i]);r+=b;if(b!==26)break}return r};BN.prototype.byteLength=function byteLength(){return Math.ceil(this.bitLength()/8)};BN.prototype.toTwos=function toTwos(width){if(this.negative!==0){return this.abs().inotn(width).iaddn(1)}return this.clone()};BN.prototype.fromTwos=function fromTwos(width){if(this.testn(width-1)){return this.notn(width).iaddn(1).ineg()}return this.clone()};BN.prototype.isNeg=function isNeg(){return this.negative!==0};BN.prototype.neg=function neg(){return this.clone().ineg()};BN.prototype.ineg=function ineg(){if(!this.isZero()){this.negative^=1}return this};BN.prototype.iuor=function iuor(num){while(this.length<num.length){this.words[this.length++]=0}for(var i=0;i<num.length;i++){this.words[i]=this.words[i]|num.words[i]}return this._strip()};BN.prototype.ior=function ior(num){assert((this.negative|num.negative)===0);return this.iuor(num)};BN.prototype.or=function or(num){if(this.length>num.length)return this.clone().ior(num);return num.clone().ior(this)};BN.prototype.uor=function uor(num){if(this.length>num.length)return this.clone().iuor(num);return num.clone().iuor(this)};BN.prototype.iuand=function iuand(num){var b;if(this.length>num.length){b=num}else{b=this}for(var i=0;i<b.length;i++){this.words[i]=this.words[i]&num.words[i]}this.length=b.length;return this._strip()};BN.prototype.iand=function iand(num){assert((this.negative|num.negative)===0);return this.iuand(num)};BN.prototype.and=function and(num){if(this.length>num.length)return this.clone().iand(num);return num.clone().iand(this)};BN.prototype.uand=function uand(num){if(this.length>num.length)return this.clone().iuand(num);return num.clone().iuand(this)};BN.prototype.iuxor=function iuxor(num){var a;var b;if(this.length>num.length){a=this;b=num}else{a=num;b=this}for(var i=0;i<b.length;i++){this.words[i]=a.words[i]^b.words[i]}if(this!==a){for(;i<a.length;i++){this.words[i]=a.words[i]}}this.length=a.length;return this._strip()};BN.prototype.ixor=function ixor(num){assert((this.negative|num.negative)===0);return this.iuxor(num)};BN.prototype.xor=function xor(num){if(this.length>num.length)return this.clone().ixor(num);return num.clone().ixor(this)};BN.prototype.uxor=function uxor(num){if(this.length>num.length)return this.clone().iuxor(num);return num.clone().iuxor(this)};BN.prototype.inotn=function inotn(width){assert(typeof width==="number"&&width>=0);var bytesNeeded=Math.ceil(width/26)|0;var bitsLeft=width%26;this._expand(bytesNeeded);if(bitsLeft>0){bytesNeeded--}for(var i=0;i<bytesNeeded;i++){this.words[i]=~this.words[i]&67108863}if(bitsLeft>0){this.words[i]=~this.words[i]&67108863>>26-bitsLeft}return this._strip()};BN.prototype.notn=function notn(width){return this.clone().inotn(width)};BN.prototype.setn=function setn(bit,val){assert(typeof bit==="number"&&bit>=0);var off=bit/26|0;var wbit=bit%26;this._expand(off+1);if(val){this.words[off]=this.words[off]|1<<wbit}else{this.words[off]=this.words[off]&~(1<<wbit)}return this._strip()};BN.prototype.iadd=function iadd(num){var r;if(this.negative!==0&&num.negative===0){this.negative=0;r=this.isub(num);this.negative^=1;return this._normSign()}else if(this.negative===0&&num.negative!==0){num.negative=0;r=this.isub(num);num.negative=1;return r._normSign()}var a,b;if(this.length>num.length){a=this;b=num}else{a=num;b=this}var carry=0;for(var i=0;i<b.length;i++){r=(a.words[i]|0)+(b.words[i]|0)+carry;this.words[i]=r&67108863;carry=r>>>26}for(;carry!==0&&i<a.length;i++){r=(a.words[i]|0)+carry;this.words[i]=r&67108863;carry=r>>>26}this.length=a.length;if(carry!==0){this.words[this.length]=carry;this.length++}else if(a!==this){for(;i<a.length;i++){this.words[i]=a.words[i]}}return this};BN.prototype.add=function add(num){var res;if(num.negative!==0&&this.negative===0){num.negative=0;res=this.sub(num);num.negative^=1;return res}else if(num.negative===0&&this.negative!==0){this.negative=0;res=num.sub(this);this.negative=1;return res}if(this.length>num.length)return this.clone().iadd(num);return num.clone().iadd(this)};BN.prototype.isub=function isub(num){if(num.negative!==0){num.negative=0;var r=this.iadd(num);num.negative=1;return r._normSign()}else if(this.negative!==0){this.negative=0;this.iadd(num);this.negative=1;return this._normSign()}var cmp=this.cmp(num);if(cmp===0){this.negative=0;this.length=1;this.words[0]=0;return this}var a,b;if(cmp>0){a=this;b=num}else{a=num;b=this}var carry=0;for(var i=0;i<b.length;i++){r=(a.words[i]|0)-(b.words[i]|0)+carry;carry=r>>26;this.words[i]=r&67108863}for(;carry!==0&&i<a.length;i++){r=(a.words[i]|0)+carry;carry=r>>26;this.words[i]=r&67108863}if(carry===0&&i<a.length&&a!==this){for(;i<a.length;i++){this.words[i]=a.words[i]}}this.length=Math.max(this.length,i);if(a!==this){this.negative=1}return this._strip()};BN.prototype.sub=function sub(num){return this.clone().isub(num)};function smallMulTo(self,num,out){out.negative=num.negative^self.negative;var len=self.length+num.length|0;out.length=len;len=len-1|0;var a=self.words[0]|0;var b=num.words[0]|0;var r=a*b;var lo=r&67108863;var carry=r/67108864|0;out.words[0]=lo;for(var k=1;k<len;k++){var ncarry=carry>>>26;var rword=carry&67108863;var maxJ=Math.min(k,num.length-1);for(var j=Math.max(0,k-self.length+1);j<=maxJ;j++){var i=k-j|0;a=self.words[i]|0;b=num.words[j]|0;r=a*b+rword;ncarry+=r/67108864|0;rword=r&67108863}out.words[k]=rword|0;carry=ncarry|0}if(carry!==0){out.words[k]=carry|0}else{out.length--}return out._strip()}var comb10MulTo=function comb10MulTo(self,num,out){var a=self.words;var b=num.words;var o=out.words;var c=0;var lo;var mid;var hi;var a0=a[0]|0;var al0=a0&8191;var ah0=a0>>>13;var a1=a[1]|0;var al1=a1&8191;var ah1=a1>>>13;var a2=a[2]|0;var al2=a2&8191;var ah2=a2>>>13;var a3=a[3]|0;var al3=a3&8191;var ah3=a3>>>13;var a4=a[4]|0;var al4=a4&8191;var ah4=a4>>>13;var a5=a[5]|0;var al5=a5&8191;var ah5=a5>>>13;var a6=a[6]|0;var al6=a6&8191;var ah6=a6>>>13;var a7=a[7]|0;var al7=a7&8191;var ah7=a7>>>13;var a8=a[8]|0;var al8=a8&8191;var ah8=a8>>>13;var a9=a[9]|0;var al9=a9&8191;var ah9=a9>>>13;var b0=b[0]|0;var bl0=b0&8191;var bh0=b0>>>13;var b1=b[1]|0;var bl1=b1&8191;var bh1=b1>>>13;var b2=b[2]|0;var bl2=b2&8191;var bh2=b2>>>13;var b3=b[3]|0;var bl3=b3&8191;var bh3=b3>>>13;var b4=b[4]|0;var bl4=b4&8191;var bh4=b4>>>13;var b5=b[5]|0;var bl5=b5&8191;var bh5=b5>>>13;var b6=b[6]|0;var bl6=b6&8191;var bh6=b6>>>13;var b7=b[7]|0;var bl7=b7&8191;var bh7=b7>>>13;var b8=b[8]|0;var bl8=b8&8191;var bh8=b8>>>13;var b9=b[9]|0;var bl9=b9&8191;var bh9=b9>>>13;out.negative=self.negative^num.negative;out.length=19;lo=Math.imul(al0,bl0);mid=Math.imul(al0,bh0);mid=mid+Math.imul(ah0,bl0)|0;hi=Math.imul(ah0,bh0);var w0=(c+lo|0)+((mid&8191)<<13)|0;c=(hi+(mid>>>13)|0)+(w0>>>26)|0;w0&=67108863;lo=Math.imul(al1,bl0);mid=Math.imul(al1,bh0);mid=mid+Math.imul(ah1,bl0)|0;hi=Math.imul(ah1,bh0);lo=lo+Math.imul(al0,bl1)|0;mid=mid+Math.imul(al0,bh1)|0;mid=mid+Math.imul(ah0,bl1)|0;hi=hi+Math.imul(ah0,bh1)|0;var w1=(c+lo|0)+((mid&8191)<<13)|0;c=(hi+(mid>>>13)|0)+(w1>>>26)|0;w1&=67108863;lo=Math.imul(al2,bl0);mid=Math.imul(al2,bh0);mid=mid+Math.imul(ah2,bl0)|0;hi=Math.imul(ah2,bh0);lo=lo+Math.imul(al1,bl1)|0;mid=mid+Math.imul(al1,bh1)|0;mid=mid+Math.imul(ah1,bl1)|0;hi=hi+Math.imul(ah1,bh1)|0;lo=lo+Math.imul(al0,bl2)|0;mid=mid+Math.imul(al0,bh2)|0;mid=mid+Math.imul(ah0,bl2)|0;hi=hi+Math.imul(ah0,bh2)|0;var w2=(c+lo|0)+((mid&8191)<<13)|0;c=(hi+(mid>>>13)|0)+(w2>>>26)|0;w2&=67108863;lo=Math.imul(al3,bl0);mid=Math.imul(al3,bh0);mid=mid+Math.imul(ah3,bl0)|0;hi=Math.imul(ah3,bh0);lo=lo+Math.imul(al2,bl1)|0;mid=mid+Math.imul(al2,bh1)|0;mid=mid+Math.imul(ah2,bl1)|0;hi=hi+Math.imul(ah2,bh1)|0;lo=lo+Math.imul(al1,bl2)|0;mid=mid+Math.imul(al1,bh2)|0;mid=mid+Math.imul(ah1,bl2)|0;hi=hi+Math.imul(ah1,bh2)|0;lo=lo+Math.imul(al0,bl3)|0;mid=mid+Math.imul(al0,bh3)|0;mid=mid+Math.imul(ah0,bl3)|0;hi=hi+Math.imul(ah0,bh3)|0;var w3=(c+lo|0)+((mid&8191)<<13)|0;c=(hi+(mid>>>13)|0)+(w3>>>26)|0;w3&=67108863;lo=Math.imul(al4,bl0);mid=Math.imul(al4,bh0);mid=mid+Math.imul(ah4,bl0)|0;hi=Math.imul(ah4,bh0);lo=lo+Math.imul(al3,bl1)|0;mid=mid+Math.imul(al3,bh1)|0;mid=mid+Math.imul(ah3,bl1)|0;hi=hi+Math.imul(ah3,bh1)|0;lo=lo+Math.imul(al2,bl2)|0;mid=mid+Math.imul(al2,bh2)|0;mid=mid+Math.imul(ah2,bl2)|0;hi=hi+Math.imul(ah2,bh2)|0;lo=lo+Math.imul(al1,bl3)|0;mid=mid+Math.imul(al1,bh3)|0;mid=mid+Math.imul(ah1,bl3)|0;hi=hi+Math.imul(ah1,bh3)|0;lo=lo+Math.imul(al0,bl4)|0;mid=mid+Math.imul(al0,bh4)|0;mid=mid+Math.imul(ah0,bl4)|0;hi=hi+Math.imul(ah0,bh4)|0;var w4=(c+lo|0)+((mid&8191)<<13)|0;c=(hi+(mid>>>13)|0)+(w4>>>26)|0;w4&=67108863;lo=Math.imul(al5,bl0);mid=Math.imul(al5,bh0);mid=mid+Math.imul(ah5,bl0)|0;hi=Math.imul(ah5,bh0);lo=lo+Math.imul(al4,bl1)|0;mid=mid+Math.imul(al4,bh1)|0;mid=mid+Math.imul(ah4,bl1)|0;hi=hi+Math.imul(ah4,bh1)|0;lo=lo+Math.imul(al3,bl2)|0;mid=mid+Math.imul(al3,bh2)|0;mid=mid+Math.imul(ah3,bl2)|0;hi=hi+Math.imul(ah3,bh2)|0;lo=lo+Math.imul(al2,bl3)|0;mid=mid+Math.imul(al2,bh3)|0;mid=mid+Math.imul(ah2,bl3)|0;hi=hi+Math.imul(ah2,bh3)|0;lo=lo+Math.imul(al1,bl4)|0;mid=mid+Math.imul(al1,bh4)|0;mid=mid+Math.imul(ah1,bl4)|0;hi=hi+Math.imul(ah1,bh4)|0;lo=lo+Math.imul(al0,bl5)|0;mid=mid+Math.imul(al0,bh5)|0;mid=mid+Math.imul(ah0,bl5)|0;hi=hi+Math.imul(ah0,bh5)|0;var w5=(c+lo|0)+((mid&8191)<<13)|0;c=(hi+(mid>>>13)|0)+(w5>>>26)|0;w5&=67108863;lo=Math.imul(al6,bl0);mid=Math.imul(al6,bh0);mid=mid+Math.imul(ah6,bl0)|0;hi=Math.imul(ah6,bh0);lo=lo+Math.imul(al5,bl1)|0;mid=mid+Math.imul(al5,bh1)|0;mid=mid+Math.imul(ah5,bl1)|0;hi=hi+Math.imul(ah5,bh1)|0;lo=lo+Math.imul(al4,bl2)|0;mid=mid+Math.imul(al4,bh2)|0;mid=mid+Math.imul(ah4,bl2)|0;hi=hi+Math.imul(ah4,bh2)|0;lo=lo+Math.imul(al3,bl3)|0;mid=mid+Math.imul(al3,bh3)|0;mid=mid+Math.imul(ah3,bl3)|0;hi=hi+Math.imul(ah3,bh3)|0;lo=lo+Math.imul(al2,bl4)|0;mid=mid+Math.imul(al2,bh4)|0;mid=mid+Math.imul(ah2,bl4)|0;hi=hi+Math.imul(ah2,bh4)|0;lo=lo+Math.imul(al1,bl5)|0;mid=mid+Math.imul(al1,bh5)|0;mid=mid+Math.imul(ah1,bl5)|0;hi=hi+Math.imul(ah1,bh5)|0;lo=lo+Math.imul(al0,bl6)|0;mid=mid+Math.imul(al0,bh6)|0;mid=mid+Math.imul(ah0,bl6)|0;hi=hi+Math.imul(ah0,bh6)|0;var w6=(c+lo|0)+((mid&8191)<<13)|0;c=(hi+(mid>>>13)|0)+(w6>>>26)|0;w6&=67108863;lo=Math.imul(al7,bl0);mid=Math.imul(al7,bh0);mid=mid+Math.imul(ah7,bl0)|0;hi=Math.imul(ah7,bh0);lo=lo+Math.imul(al6,bl1)|0;mid=mid+Math.imul(al6,bh1)|0;mid=mid+Math.imul(ah6,bl1)|0;hi=hi+Math.imul(ah6,bh1)|0;lo=lo+Math.imul(al5,bl2)|0;mid=mid+Math.imul(al5,bh2)|0;mid=mid+Math.imul(ah5,bl2)|0;hi=hi+Math.imul(ah5,bh2)|0;lo=lo+Math.imul(al4,bl3)|0;mid=mid+Math.imul(al4,bh3)|0;mid=mid+Math.imul(ah4,bl3)|0;hi=hi+Math.imul(ah4,bh3)|0;lo=lo+Math.imul(al3,bl4)|0;mid=mid+Math.imul(al3,bh4)|0;mid=mid+Math.imul(ah3,bl4)|0;hi=hi+Math.imul(ah3,bh4)|0;lo=lo+Math.imul(al2,bl5)|0;mid=mid+Math.imul(al2,bh5)|0;mid=mid+Math.imul(ah2,bl5)|0;hi=hi+Math.imul(ah2,bh5)|0;lo=lo+Math.imul(al1,bl6)|0;mid=mid+Math.imul(al1,bh6)|0;mid=mid+Math.imul(ah1,bl6)|0;hi=hi+Math.imul(ah1,bh6)|0;lo=lo+Math.imul(al0,bl7)|0;mid=mid+Math.imul(al0,bh7)|0;mid=mid+Math.imul(ah0,bl7)|0;hi=hi+Math.imul(ah0,bh7)|0;var w7=(c+lo|0)+((mid&8191)<<13)|0;c=(hi+(mid>>>13)|0)+(w7>>>26)|0;w7&=67108863;lo=Math.imul(al8,bl0);mid=Math.imul(al8,bh0);mid=mid+Math.imul(ah8,bl0)|0;hi=Math.imul(ah8,bh0);lo=lo+Math.imul(al7,bl1)|0;mid=mid+Math.imul(al7,bh1)|0;mid=mid+Math.imul(ah7,bl1)|0;hi=hi+Math.imul(ah7,bh1)|0;lo=lo+Math.imul(al6,bl2)|0;mid=mid+Math.imul(al6,bh2)|0;mid=mid+Math.imul(ah6,bl2)|0;hi=hi+Math.imul(ah6,bh2)|0;lo=lo+Math.imul(al5,bl3)|0;mid=mid+Math.imul(al5,bh3)|0;mid=mid+Math.imul(ah5,bl3)|0;hi=hi+Math.imul(ah5,bh3)|0;lo=lo+Math.imul(al4,bl4)|0;mid=mid+Math.imul(al4,bh4)|0;mid=mid+Math.imul(ah4,bl4)|0;hi=hi+Math.imul(ah4,bh4)|0;lo=lo+Math.imul(al3,bl5)|0;mid=mid+Math.imul(al3,bh5)|0;mid=mid+Math.imul(ah3,bl5)|0;hi=hi+Math.imul(ah3,bh5)|0;lo=lo+Math.imul(al2,bl6)|0;mid=mid+Math.imul(al2,bh6)|0;mid=mid+Math.imul(ah2,bl6)|0;hi=hi+Math.imul(ah2,bh6)|0;lo=lo+Math.imul(al1,bl7)|0;mid=mid+Math.imul(al1,bh7)|0;mid=mid+Math.imul(ah1,bl7)|0;hi=hi+Math.imul(ah1,bh7)|0;lo=lo+Math.imul(al0,bl8)|0;mid=mid+Math.imul(al0,bh8)|0;mid=mid+Math.imul(ah0,bl8)|0;hi=hi+Math.imul(ah0,bh8)|0;var w8=(c+lo|0)+((mid&8191)<<13)|0;c=(hi+(mid>>>13)|0)+(w8>>>26)|0;w8&=67108863;lo=Math.imul(al9,bl0);mid=Math.imul(al9,bh0);mid=mid+Math.imul(ah9,bl0)|0;hi=Math.imul(ah9,bh0);lo=lo+Math.imul(al8,bl1)|0;mid=mid+Math.imul(al8,bh1)|0;mid=mid+Math.imul(ah8,bl1)|0;hi=hi+Math.imul(ah8,bh1)|0;lo=lo+Math.imul(al7,bl2)|0;mid=mid+Math.imul(al7,bh2)|0;mid=mid+Math.imul(ah7,bl2)|0;hi=hi+Math.imul(ah7,bh2)|0;lo=lo+Math.imul(al6,bl3)|0;mid=mid+Math.imul(al6,bh3)|0;mid=mid+Math.imul(ah6,bl3)|0;hi=hi+Math.imul(ah6,bh3)|0;lo=lo+Math.imul(al5,bl4)|0;mid=mid+Math.imul(al5,bh4)|0;mid=mid+Math.imul(ah5,bl4)|0;hi=hi+Math.imul(ah5,bh4)|0;lo=lo+Math.imul(al4,bl5)|0;mid=mid+Math.imul(al4,bh5)|0;mid=mid+Math.imul(ah4,bl5)|0;hi=hi+Math.imul(ah4,bh5)|0;lo=lo+Math.imul(al3,bl6)|0;mid=mid+Math.imul(al3,bh6)|0;mid=mid+Math.imul(ah3,bl6)|0;hi=hi+Math.imul(ah3,bh6)|0;lo=lo+Math.imul(al2,bl7)|0;mid=mid+Math.imul(al2,bh7)|0;mid=mid+Math.imul(ah2,bl7)|0;hi=hi+Math.imul(ah2,bh7)|0;lo=lo+Math.imul(al1,bl8)|0;mid=mid+Math.imul(al1,bh8)|0;mid=mid+Math.imul(ah1,bl8)|0;hi=hi+Math.imul(ah1,bh8)|0;lo=lo+Math.imul(al0,bl9)|0;mid=mid+Math.imul(al0,bh9)|0;mid=mid+Math.imul(ah0,bl9)|0;hi=hi+Math.imul(ah0,bh9)|0;var w9=(c+lo|0)+((mid&8191)<<13)|0;c=(hi+(mid>>>13)|0)+(w9>>>26)|0;w9&=67108863;lo=Math.imul(al9,bl1);mid=Math.imul(al9,bh1);mid=mid+Math.imul(ah9,bl1)|0;hi=Math.imul(ah9,bh1);lo=lo+Math.imul(al8,bl2)|0;mid=mid+Math.imul(al8,bh2)|0;mid=mid+Math.imul(ah8,bl2)|0;hi=hi+Math.imul(ah8,bh2)|0;lo=lo+Math.imul(al7,bl3)|0;mid=mid+Math.imul(al7,bh3)|0;mid=mid+Math.imul(ah7,bl3)|0;hi=hi+Math.imul(ah7,bh3)|0;lo=lo+Math.imul(al6,bl4)|0;mid=mid+Math.imul(al6,bh4)|0;mid=mid+Math.imul(ah6,bl4)|0;hi=hi+Math.imul(ah6,bh4)|0;lo=lo+Math.imul(al5,bl5)|0;mid=mid+Math.imul(al5,bh5)|0;mid=mid+Math.imul(ah5,bl5)|0;hi=hi+Math.imul(ah5,bh5)|0;lo=lo+Math.imul(al4,bl6)|0;mid=mid+Math.imul(al4,bh6)|0;mid=mid+Math.imul(ah4,bl6)|0;hi=hi+Math.imul(ah4,bh6)|0;lo=lo+Math.imul(al3,bl7)|0;mid=mid+Math.imul(al3,bh7)|0;mid=mid+Math.imul(ah3,bl7)|0;hi=hi+Math.imul(ah3,bh7)|0;lo=lo+Math.imul(al2,bl8)|0;mid=mid+Math.imul(al2,bh8)|0;mid=mid+Math.imul(ah2,bl8)|0;hi=hi+Math.imul(ah2,bh8)|0;lo=lo+Math.imul(al1,bl9)|0;mid=mid+Math.imul(al1,bh9)|0;mid=mid+Math.imul(ah1,bl9)|0;hi=hi+Math.imul(ah1,bh9)|0;var w10=(c+lo|0)+((mid&8191)<<13)|0;c=(hi+(mid>>>13)|0)+(w10>>>26)|0;w10&=67108863;lo=Math.imul(al9,bl2);mid=Math.imul(al9,bh2);mid=mid+Math.imul(ah9,bl2)|0;hi=Math.imul(ah9,bh2);lo=lo+Math.imul(al8,bl3)|0;mid=mid+Math.imul(al8,bh3)|0;mid=mid+Math.imul(ah8,bl3)|0;hi=hi+Math.imul(ah8,bh3)|0;lo=lo+Math.imul(al7,bl4)|0;mid=mid+Math.imul(al7,bh4)|0;mid=mid+Math.imul(ah7,bl4)|0;hi=hi+Math.imul(ah7,bh4)|0;lo=lo+Math.imul(al6,bl5)|0;mid=mid+Math.imul(al6,bh5)|0;mid=mid+Math.imul(ah6,bl5)|0;hi=hi+Math.imul(ah6,bh5)|0;lo=lo+Math.imul(al5,bl6)|0;mid=mid+Math.imul(al5,bh6)|0;mid=mid+Math.imul(ah5,bl6)|0;hi=hi+Math.imul(ah5,bh6)|0;lo=lo+Math.imul(al4,bl7)|0;mid=mid+Math.imul(al4,bh7)|0;mid=mid+Math.imul(ah4,bl7)|0;hi=hi+Math.imul(ah4,bh7)|0;lo=lo+Math.imul(al3,bl8)|0;mid=mid+Math.imul(al3,bh8)|0;mid=mid+Math.imul(ah3,bl8)|0;hi=hi+Math.imul(ah3,bh8)|0;lo=lo+Math.imul(al2,bl9)|0;mid=mid+Math.imul(al2,bh9)|0;mid=mid+Math.imul(ah2,bl9)|0;hi=hi+Math.imul(ah2,bh9)|0;var w11=(c+lo|0)+((mid&8191)<<13)|0;c=(hi+(mid>>>13)|0)+(w11>>>26)|0;w11&=67108863;lo=Math.imul(al9,bl3);mid=Math.imul(al9,bh3);mid=mid+Math.imul(ah9,bl3)|0;hi=Math.imul(ah9,bh3);lo=lo+Math.imul(al8,bl4)|0;mid=mid+Math.imul(al8,bh4)|0;mid=mid+Math.imul(ah8,bl4)|0;hi=hi+Math.imul(ah8,bh4)|0;lo=lo+Math.imul(al7,bl5)|0;mid=mid+Math.imul(al7,bh5)|0;mid=mid+Math.imul(ah7,bl5)|0;hi=hi+Math.imul(ah7,bh5)|0;lo=lo+Math.imul(al6,bl6)|0;mid=mid+Math.imul(al6,bh6)|0;mid=mid+Math.imul(ah6,bl6)|0;hi=hi+Math.imul(ah6,bh6)|0;lo=lo+Math.imul(al5,bl7)|0;mid=mid+Math.imul(al5,bh7)|0;mid=mid+Math.imul(ah5,bl7)|0;hi=hi+Math.imul(ah5,bh7)|0;lo=lo+Math.imul(al4,bl8)|0;mid=mid+Math.imul(al4,bh8)|0;mid=mid+Math.imul(ah4,bl8)|0;hi=hi+Math.imul(ah4,bh8)|0;lo=lo+Math.imul(al3,bl9)|0;mid=mid+Math.imul(al3,bh9)|0;mid=mid+Math.imul(ah3,bl9)|0;hi=hi+Math.imul(ah3,bh9)|0;var w12=(c+lo|0)+((mid&8191)<<13)|0;c=(hi+(mid>>>13)|0)+(w12>>>26)|0;w12&=67108863;lo=Math.imul(al9,bl4);mid=Math.imul(al9,bh4);mid=mid+Math.imul(ah9,bl4)|0;hi=Math.imul(ah9,bh4);lo=lo+Math.imul(al8,bl5)|0;mid=mid+Math.imul(al8,bh5)|0;mid=mid+Math.imul(ah8,bl5)|0;hi=hi+Math.imul(ah8,bh5)|0;lo=lo+Math.imul(al7,bl6)|0;mid=mid+Math.imul(al7,bh6)|0;mid=mid+Math.imul(ah7,bl6)|0;hi=hi+Math.imul(ah7,bh6)|0;lo=lo+Math.imul(al6,bl7)|0;mid=mid+Math.imul(al6,bh7)|0;mid=mid+Math.imul(ah6,bl7)|0;hi=hi+Math.imul(ah6,bh7)|0;lo=lo+Math.imul(al5,bl8)|0;mid=mid+Math.imul(al5,bh8)|0;mid=mid+Math.imul(ah5,bl8)|0;hi=hi+Math.imul(ah5,bh8)|0;lo=lo+Math.imul(al4,bl9)|0;mid=mid+Math.imul(al4,bh9)|0;mid=mid+Math.imul(ah4,bl9)|0;hi=hi+Math.imul(ah4,bh9)|0;var w13=(c+lo|0)+((mid&8191)<<13)|0;c=(hi+(mid>>>13)|0)+(w13>>>26)|0;w13&=67108863;lo=Math.imul(al9,bl5);mid=Math.imul(al9,bh5);mid=mid+Math.imul(ah9,bl5)|0;hi=Math.imul(ah9,bh5);lo=lo+Math.imul(al8,bl6)|0;mid=mid+Math.imul(al8,bh6)|0;mid=mid+Math.imul(ah8,bl6)|0;hi=hi+Math.imul(ah8,bh6)|0;lo=lo+Math.imul(al7,bl7)|0;mid=mid+Math.imul(al7,bh7)|0;mid=mid+Math.imul(ah7,bl7)|0;hi=hi+Math.imul(ah7,bh7)|0;lo=lo+Math.imul(al6,bl8)|0;mid=mid+Math.imul(al6,bh8)|0;mid=mid+Math.imul(ah6,bl8)|0;hi=hi+Math.imul(ah6,bh8)|0;lo=lo+Math.imul(al5,bl9)|0;mid=mid+Math.imul(al5,bh9)|0;mid=mid+Math.imul(ah5,bl9)|0;hi=hi+Math.imul(ah5,bh9)|0;var w14=(c+lo|0)+((mid&8191)<<13)|0;c=(hi+(mid>>>13)|0)+(w14>>>26)|0;w14&=67108863;lo=Math.imul(al9,bl6);mid=Math.imul(al9,bh6);mid=mid+Math.imul(ah9,bl6)|0;hi=Math.imul(ah9,bh6);lo=lo+Math.imul(al8,bl7)|0;mid=mid+Math.imul(al8,bh7)|0;mid=mid+Math.imul(ah8,bl7)|0;hi=hi+Math.imul(ah8,bh7)|0;lo=lo+Math.imul(al7,bl8)|0;mid=mid+Math.imul(al7,bh8)|0;mid=mid+Math.imul(ah7,bl8)|0;hi=hi+Math.imul(ah7,bh8)|0;lo=lo+Math.imul(al6,bl9)|0;mid=mid+Math.imul(al6,bh9)|0;mid=mid+Math.imul(ah6,bl9)|0;hi=hi+Math.imul(ah6,bh9)|0;var w15=(c+lo|0)+((mid&8191)<<13)|0;c=(hi+(mid>>>13)|0)+(w15>>>26)|0;w15&=67108863;lo=Math.imul(al9,bl7);mid=Math.imul(al9,bh7);mid=mid+Math.imul(ah9,bl7)|0;hi=Math.imul(ah9,bh7);lo=lo+Math.imul(al8,bl8)|0;mid=mid+Math.imul(al8,bh8)|0;mid=mid+Math.imul(ah8,bl8)|0;hi=hi+Math.imul(ah8,bh8)|0;lo=lo+Math.imul(al7,bl9)|0;mid=mid+Math.imul(al7,bh9)|0;mid=mid+Math.imul(ah7,bl9)|0;hi=hi+Math.imul(ah7,bh9)|0;var w16=(c+lo|0)+((mid&8191)<<13)|0;c=(hi+(mid>>>13)|0)+(w16>>>26)|0;w16&=67108863;lo=Math.imul(al9,bl8);mid=Math.imul(al9,bh8);mid=mid+Math.imul(ah9,bl8)|0;hi=Math.imul(ah9,bh8);lo=lo+Math.imul(al8,bl9)|0;mid=mid+Math.imul(al8,bh9)|0;mid=mid+Math.imul(ah8,bl9)|0;hi=hi+Math.imul(ah8,bh9)|0;var w17=(c+lo|0)+((mid&8191)<<13)|0;c=(hi+(mid>>>13)|0)+(w17>>>26)|0;w17&=67108863;lo=Math.imul(al9,bl9);mid=Math.imul(al9,bh9);mid=mid+Math.imul(ah9,bl9)|0;hi=Math.imul(ah9,bh9);var w18=(c+lo|0)+((mid&8191)<<13)|0;c=(hi+(mid>>>13)|0)+(w18>>>26)|0;w18&=67108863;o[0]=w0;o[1]=w1;o[2]=w2;o[3]=w3;o[4]=w4;o[5]=w5;o[6]=w6;o[7]=w7;o[8]=w8;o[9]=w9;o[10]=w10;o[11]=w11;o[12]=w12;o[13]=w13;o[14]=w14;o[15]=w15;o[16]=w16;o[17]=w17;o[18]=w18;if(c!==0){o[19]=c;out.length++}return out};if(!Math.imul){comb10MulTo=smallMulTo}function bigMulTo(self,num,out){out.negative=num.negative^self.negative;out.length=self.length+num.length;var carry=0;var hncarry=0;for(var k=0;k<out.length-1;k++){var ncarry=hncarry;hncarry=0;var rword=carry&67108863;var maxJ=Math.min(k,num.length-1);for(var j=Math.max(0,k-self.length+1);j<=maxJ;j++){var i=k-j;var a=self.words[i]|0;var b=num.words[j]|0;var r=a*b;var lo=r&67108863;ncarry=ncarry+(r/67108864|0)|0;lo=lo+rword|0;rword=lo&67108863;ncarry=ncarry+(lo>>>26)|0;hncarry+=ncarry>>>26;ncarry&=67108863}out.words[k]=rword;carry=ncarry;ncarry=hncarry}if(carry!==0){out.words[k]=carry}else{out.length--}return out._strip()}function jumboMulTo(self,num,out){return bigMulTo(self,num,out)}BN.prototype.mulTo=function mulTo(num,out){var res;var len=this.length+num.length;if(this.length===10&&num.length===10){res=comb10MulTo(this,num,out)}else if(len<63){res=smallMulTo(this,num,out)}else if(len<1024){res=bigMulTo(this,num,out)}else{res=jumboMulTo(this,num,out)}return res};function FFTM(x,y){this.x=x;this.y=y}FFTM.prototype.makeRBT=function makeRBT(N){var t=new Array(N);var l=BN.prototype._countBits(N)-1;for(var i=0;i<N;i++){t[i]=this.revBin(i,l,N)}return t};FFTM.prototype.revBin=function revBin(x,l,N){if(x===0||x===N-1)return x;var rb=0;for(var i=0;i<l;i++){rb|=(x&1)<<l-i-1;x>>=1}return rb};FFTM.prototype.permute=function permute(rbt,rws,iws,rtws,itws,N){for(var i=0;i<N;i++){rtws[i]=rws[rbt[i]];itws[i]=iws[rbt[i]]}};FFTM.prototype.transform=function transform(rws,iws,rtws,itws,N,rbt){this.permute(rbt,rws,iws,rtws,itws,N);for(var s=1;s<N;s<<=1){var l=s<<1;var rtwdf=Math.cos(2*Math.PI/l);var itwdf=Math.sin(2*Math.PI/l);for(var p=0;p<N;p+=l){var rtwdf_=rtwdf;var itwdf_=itwdf;for(var j=0;j<s;j++){var re=rtws[p+j];var ie=itws[p+j];var ro=rtws[p+j+s];var io=itws[p+j+s];var rx=rtwdf_*ro-itwdf_*io;io=rtwdf_*io+itwdf_*ro;ro=rx;rtws[p+j]=re+ro;itws[p+j]=ie+io;rtws[p+j+s]=re-ro;itws[p+j+s]=ie-io;if(j!==l){rx=rtwdf*rtwdf_-itwdf*itwdf_;itwdf_=rtwdf*itwdf_+itwdf*rtwdf_;rtwdf_=rx}}}}};FFTM.prototype.guessLen13b=function guessLen13b(n,m){var N=Math.max(m,n)|1;var odd=N&1;var i=0;for(N=N/2|0;N;N=N>>>1){i++}return 1<<i+1+odd};FFTM.prototype.conjugate=function conjugate(rws,iws,N){if(N<=1)return;for(var i=0;i<N/2;i++){var t=rws[i];rws[i]=rws[N-i-1];rws[N-i-1]=t;t=iws[i];iws[i]=-iws[N-i-1];iws[N-i-1]=-t}};FFTM.prototype.normalize13b=function normalize13b(ws,N){var carry=0;for(var i=0;i<N/2;i++){var w=Math.round(ws[2*i+1]/N)*8192+Math.round(ws[2*i]/N)+carry;ws[i]=w&67108863;if(w<67108864){carry=0}else{carry=w/67108864|0}}return ws};FFTM.prototype.convert13b=function convert13b(ws,len,rws,N){var carry=0;for(var i=0;i<len;i++){carry=carry+(ws[i]|0);rws[2*i]=carry&8191;carry=carry>>>13;rws[2*i+1]=carry&8191;carry=carry>>>13}for(i=2*len;i<N;++i){rws[i]=0}assert(carry===0);assert((carry&~8191)===0)};FFTM.prototype.stub=function stub(N){var ph=new Array(N);for(var i=0;i<N;i++){ph[i]=0}return ph};FFTM.prototype.mulp=function mulp(x,y,out){var N=2*this.guessLen13b(x.length,y.length);var rbt=this.makeRBT(N);var _=this.stub(N);var rws=new Array(N);var rwst=new Array(N);var iwst=new Array(N);var nrws=new Array(N);var nrwst=new Array(N);var niwst=new Array(N);var rmws=out.words;rmws.length=N;this.convert13b(x.words,x.length,rws,N);this.convert13b(y.words,y.length,nrws,N);this.transform(rws,_,rwst,iwst,N,rbt);this.transform(nrws,_,nrwst,niwst,N,rbt);for(var i=0;i<N;i++){var rx=rwst[i]*nrwst[i]-iwst[i]*niwst[i];iwst[i]=rwst[i]*niwst[i]+iwst[i]*nrwst[i];rwst[i]=rx}this.conjugate(rwst,iwst,N);this.transform(rwst,iwst,rmws,_,N,rbt);this.conjugate(rmws,_,N);this.normalize13b(rmws,N);out.negative=x.negative^y.negative;out.length=x.length+y.length;return out._strip()};BN.prototype.mul=function mul(num){var out=new BN(null);out.words=new Array(this.length+num.length);return this.mulTo(num,out)};BN.prototype.mulf=function mulf(num){var out=new BN(null);out.words=new Array(this.length+num.length);return jumboMulTo(this,num,out)};BN.prototype.imul=function imul(num){return this.clone().mulTo(num,this)};BN.prototype.imuln=function imuln(num){var isNegNum=num<0;if(isNegNum)num=-num;assert(typeof num==="number");assert(num<67108864);var carry=0;for(var i=0;i<this.length;i++){var w=(this.words[i]|0)*num;var lo=(w&67108863)+(carry&67108863);carry>>=26;carry+=w/67108864|0;carry+=lo>>>26;this.words[i]=lo&67108863}if(carry!==0){this.words[i]=carry;this.length++}return isNegNum?this.ineg():this};BN.prototype.muln=function muln(num){return this.clone().imuln(num)};BN.prototype.sqr=function sqr(){return this.mul(this)};BN.prototype.isqr=function isqr(){return this.imul(this.clone())};BN.prototype.pow=function pow(num){var w=toBitArray(num);if(w.length===0)return new BN(1);var res=this;for(var i=0;i<w.length;i++,res=res.sqr()){if(w[i]!==0)break}if(++i<w.length){for(var q=res.sqr();i<w.length;i++,q=q.sqr()){if(w[i]===0)continue;res=res.mul(q)}}return res};BN.prototype.iushln=function iushln(bits){assert(typeof bits==="number"&&bits>=0);var r=bits%26;var s=(bits-r)/26;var carryMask=67108863>>>26-r<<26-r;var i;if(r!==0){var carry=0;for(i=0;i<this.length;i++){var newCarry=this.words[i]&carryMask;var c=(this.words[i]|0)-newCarry<<r;this.words[i]=c|carry;carry=newCarry>>>26-r}if(carry){this.words[i]=carry;this.length++}}if(s!==0){for(i=this.length-1;i>=0;i--){this.words[i+s]=this.words[i]}for(i=0;i<s;i++){this.words[i]=0}this.length+=s}return this._strip()};BN.prototype.ishln=function ishln(bits){assert(this.negative===0);return this.iushln(bits)};BN.prototype.iushrn=function iushrn(bits,hint,extended){assert(typeof bits==="number"&&bits>=0);var h;if(hint){h=(hint-hint%26)/26}else{h=0}var r=bits%26;var s=Math.min((bits-r)/26,this.length);var mask=67108863^67108863>>>r<<r;var maskedWords=extended;h-=s;h=Math.max(0,h);if(maskedWords){for(var i=0;i<s;i++){maskedWords.words[i]=this.words[i]}maskedWords.length=s}if(s===0){}else if(this.length>s){this.length-=s;for(i=0;i<this.length;i++){this.words[i]=this.words[i+s]}}else{this.words[0]=0;this.length=1}var carry=0;for(i=this.length-1;i>=0&&(carry!==0||i>=h);i--){var word=this.words[i]|0;this.words[i]=carry<<26-r|word>>>r;carry=word&mask}if(maskedWords&&carry!==0){maskedWords.words[maskedWords.length++]=carry}if(this.length===0){this.words[0]=0;this.length=1}return this._strip()};BN.prototype.ishrn=function ishrn(bits,hint,extended){assert(this.negative===0);return this.iushrn(bits,hint,extended)};BN.prototype.shln=function shln(bits){return this.clone().ishln(bits)};BN.prototype.ushln=function ushln(bits){return this.clone().iushln(bits)};BN.prototype.shrn=function shrn(bits){return this.clone().ishrn(bits)};BN.prototype.ushrn=function ushrn(bits){return this.clone().iushrn(bits)};BN.prototype.testn=function testn(bit){assert(typeof bit==="number"&&bit>=0);var r=bit%26;var s=(bit-r)/26;var q=1<<r;if(this.length<=s)return false;var w=this.words[s];return!!(w&q)};BN.prototype.imaskn=function imaskn(bits){assert(typeof bits==="number"&&bits>=0);var r=bits%26;var s=(bits-r)/26;assert(this.negative===0,"imaskn works only with positive numbers");if(this.length<=s){return this}if(r!==0){s++}this.length=Math.min(s,this.length);if(r!==0){var mask=67108863^67108863>>>r<<r;this.words[this.length-1]&=mask}return this._strip()};BN.prototype.maskn=function maskn(bits){return this.clone().imaskn(bits)};BN.prototype.iaddn=function iaddn(num){assert(typeof num==="number");assert(num<67108864);if(num<0)return this.isubn(-num);if(this.negative!==0){if(this.length===1&&(this.words[0]|0)<=num){this.words[0]=num-(this.words[0]|0);this.negative=0;return this}this.negative=0;this.isubn(num);this.negative=1;return this}return this._iaddn(num)};BN.prototype._iaddn=function _iaddn(num){this.words[0]+=num;for(var i=0;i<this.length&&this.words[i]>=67108864;i++){this.words[i]-=67108864;if(i===this.length-1){this.words[i+1]=1}else{this.words[i+1]++}}this.length=Math.max(this.length,i+1);return this};BN.prototype.isubn=function isubn(num){assert(typeof num==="number");assert(num<67108864);if(num<0)return this.iaddn(-num);if(this.negative!==0){this.negative=0;this.iaddn(num);this.negative=1;return this}this.words[0]-=num;if(this.length===1&&this.words[0]<0){this.words[0]=-this.words[0];this.negative=1}else{for(var i=0;i<this.length&&this.words[i]<0;i++){this.words[i]+=67108864;this.words[i+1]-=1}}return this._strip()};BN.prototype.addn=function addn(num){return this.clone().iaddn(num)};BN.prototype.subn=function subn(num){return this.clone().isubn(num)};BN.prototype.iabs=function iabs(){this.negative=0;return this};BN.prototype.abs=function abs(){return this.clone().iabs()};BN.prototype._ishlnsubmul=function _ishlnsubmul(num,mul,shift){var len=num.length+shift;var i;this._expand(len);var w;var carry=0;for(i=0;i<num.length;i++){w=(this.words[i+shift]|0)+carry;var right=(num.words[i]|0)*mul;w-=right&67108863;carry=(w>>26)-(right/67108864|0);this.words[i+shift]=w&67108863}for(;i<this.length-shift;i++){w=(this.words[i+shift]|0)+carry;carry=w>>26;this.words[i+shift]=w&67108863}if(carry===0)return this._strip();assert(carry===-1);carry=0;for(i=0;i<this.length;i++){w=-(this.words[i]|0)+carry;carry=w>>26;this.words[i]=w&67108863}this.negative=1;return this._strip()};BN.prototype._wordDiv=function _wordDiv(num,mode){var shift=this.length-num.length;var a=this.clone();var b=num;var bhi=b.words[b.length-1]|0;var bhiBits=this._countBits(bhi);shift=26-bhiBits;if(shift!==0){b=b.ushln(shift);a.iushln(shift);bhi=b.words[b.length-1]|0}var m=a.length-b.length;var q;if(mode!=="mod"){q=new BN(null);q.length=m+1;q.words=new Array(q.length);for(var i=0;i<q.length;i++){q.words[i]=0}}var diff=a.clone()._ishlnsubmul(b,1,m);if(diff.negative===0){a=diff;if(q){q.words[m]=1}}for(var j=m-1;j>=0;j--){var qj=(a.words[b.length+j]|0)*67108864+(a.words[b.length+j-1]|0);qj=Math.min(qj/bhi|0,67108863);a._ishlnsubmul(b,qj,j);while(a.negative!==0){qj--;a.negative=0;a._ishlnsubmul(b,1,j);if(!a.isZero()){a.negative^=1}}if(q){q.words[j]=qj}}if(q){q._strip()}a._strip();if(mode!=="div"&&shift!==0){a.iushrn(shift)}return{div:q||null,mod:a}};BN.prototype.divmod=function divmod(num,mode,positive){assert(!num.isZero());if(this.isZero()){return{div:new BN(0),mod:new BN(0)}}var div,mod,res;if(this.negative!==0&&num.negative===0){res=this.neg().divmod(num,mode);if(mode!=="mod"){div=res.div.neg()}if(mode!=="div"){mod=res.mod.neg();if(positive&&mod.negative!==0){mod.iadd(num)}}return{div:div,mod:mod}}if(this.negative===0&&num.negative!==0){res=this.divmod(num.neg(),mode);if(mode!=="mod"){div=res.div.neg()}return{div:div,mod:res.mod}}if((this.negative&num.negative)!==0){res=this.neg().divmod(num.neg(),mode);if(mode!=="div"){mod=res.mod.neg();if(positive&&mod.negative!==0){mod.isub(num)}}return{div:res.div,mod:mod}}if(num.length>this.length||this.cmp(num)<0){return{div:new BN(0),mod:this}}if(num.length===1){if(mode==="div"){return{div:this.divn(num.words[0]),mod:null}}if(mode==="mod"){return{div:null,mod:new BN(this.modrn(num.words[0]))}}return{div:this.divn(num.words[0]),mod:new BN(this.modrn(num.words[0]))}}return this._wordDiv(num,mode)};BN.prototype.div=function div(num){return this.divmod(num,"div",false).div};BN.prototype.mod=function mod(num){return this.divmod(num,"mod",false).mod};BN.prototype.umod=function umod(num){return this.divmod(num,"mod",true).mod};BN.prototype.divRound=function divRound(num){var dm=this.divmod(num);if(dm.mod.isZero())return dm.div;var mod=dm.div.negative!==0?dm.mod.isub(num):dm.mod;var half=num.ushrn(1);var r2=num.andln(1);var cmp=mod.cmp(half);if(cmp<0||r2===1&&cmp===0)return dm.div;return dm.div.negative!==0?dm.div.isubn(1):dm.div.iaddn(1)};BN.prototype.modrn=function modrn(num){var isNegNum=num<0;if(isNegNum)num=-num;assert(num<=67108863);var p=(1<<26)%num;var acc=0;for(var i=this.length-1;i>=0;i--){acc=(p*acc+(this.words[i]|0))%num}return isNegNum?-acc:acc};BN.prototype.modn=function modn(num){return this.modrn(num)};BN.prototype.idivn=function idivn(num){var isNegNum=num<0;if(isNegNum)num=-num;assert(num<=67108863);var carry=0;for(var i=this.length-1;i>=0;i--){var w=(this.words[i]|0)+carry*67108864;this.words[i]=w/num|0;carry=w%num}this._strip();return isNegNum?this.ineg():this};BN.prototype.divn=function divn(num){return this.clone().idivn(num)};BN.prototype.egcd=function egcd(p){assert(p.negative===0);assert(!p.isZero());var x=this;var y=p.clone();if(x.negative!==0){x=x.umod(p)}else{x=x.clone()}var A=new BN(1);var B=new BN(0);var C=new BN(0);var D=new BN(1);var g=0;while(x.isEven()&&y.isEven()){x.iushrn(1);y.iushrn(1);++g}var yp=y.clone();var xp=x.clone();while(!x.isZero()){for(var i=0,im=1;(x.words[0]&im)===0&&i<26;++i,im<<=1){}if(i>0){x.iushrn(i);while(i-- >0){if(A.isOdd()||B.isOdd()){A.iadd(yp);B.isub(xp)}A.iushrn(1);B.iushrn(1)}}for(var j=0,jm=1;(y.words[0]&jm)===0&&j<26;++j,jm<<=1){}if(j>0){y.iushrn(j);while(j-- >0){if(C.isOdd()||D.isOdd()){C.iadd(yp);D.isub(xp)}C.iushrn(1);D.iushrn(1)}}if(x.cmp(y)>=0){x.isub(y);A.isub(C);B.isub(D)}else{y.isub(x);C.isub(A);D.isub(B)}}return{a:C,b:D,gcd:y.iushln(g)}};BN.prototype._invmp=function _invmp(p){assert(p.negative===0);assert(!p.isZero());var a=this;var b=p.clone();if(a.negative!==0){a=a.umod(p)}else{a=a.clone()}var x1=new BN(1);var x2=new BN(0);var delta=b.clone();while(a.cmpn(1)>0&&b.cmpn(1)>0){for(var i=0,im=1;(a.words[0]&im)===0&&i<26;++i,im<<=1){}if(i>0){a.iushrn(i);while(i-- >0){if(x1.isOdd()){x1.iadd(delta)}x1.iushrn(1)}}for(var j=0,jm=1;(b.words[0]&jm)===0&&j<26;++j,jm<<=1){}if(j>0){b.iushrn(j);while(j-- >0){if(x2.isOdd()){x2.iadd(delta)}x2.iushrn(1)}}if(a.cmp(b)>=0){a.isub(b);x1.isub(x2)}else{b.isub(a);x2.isub(x1)}}var res;if(a.cmpn(1)===0){res=x1}else{res=x2}if(res.cmpn(0)<0){res.iadd(p)}return res};BN.prototype.gcd=function gcd(num){if(this.isZero())return num.abs();if(num.isZero())return this.abs();var a=this.clone();var b=num.clone();a.negative=0;b.negative=0;for(var shift=0;a.isEven()&&b.isEven();shift++){a.iushrn(1);b.iushrn(1)}do{while(a.isEven()){a.iushrn(1)}while(b.isEven()){b.iushrn(1)}var r=a.cmp(b);if(r<0){var t=a;a=b;b=t}else if(r===0||b.cmpn(1)===0){break}a.isub(b)}while(true);return b.iushln(shift)};BN.prototype.invm=function invm(num){return this.egcd(num).a.umod(num)};BN.prototype.isEven=function isEven(){return(this.words[0]&1)===0};BN.prototype.isOdd=function isOdd(){return(this.words[0]&1)===1};BN.prototype.andln=function andln(num){return this.words[0]&num};BN.prototype.bincn=function bincn(bit){assert(typeof bit==="number");var r=bit%26;var s=(bit-r)/26;var q=1<<r;if(this.length<=s){this._expand(s+1);this.words[s]|=q;return this}var carry=q;for(var i=s;carry!==0&&i<this.length;i++){var w=this.words[i]|0;w+=carry;carry=w>>>26;w&=67108863;this.words[i]=w}if(carry!==0){this.words[i]=carry;this.length++}return this};BN.prototype.isZero=function isZero(){return this.length===1&&this.words[0]===0};BN.prototype.cmpn=function cmpn(num){var negative=num<0;if(this.negative!==0&&!negative)return-1;if(this.negative===0&&negative)return 1;this._strip();var res;if(this.length>1){res=1}else{if(negative){num=-num}assert(num<=67108863,"Number is too big");var w=this.words[0]|0;res=w===num?0:w<num?-1:1}if(this.negative!==0)return-res|0;return res};BN.prototype.cmp=function cmp(num){if(this.negative!==0&&num.negative===0)return-1;if(this.negative===0&&num.negative!==0)return 1;var res=this.ucmp(num);if(this.negative!==0)return-res|0;return res};BN.prototype.ucmp=function ucmp(num){if(this.length>num.length)return 1;if(this.length<num.length)return-1;var res=0;for(var i=this.length-1;i>=0;i--){var a=this.words[i]|0;var b=num.words[i]|0;if(a===b)continue;if(a<b){res=-1}else if(a>b){res=1}break}return res};BN.prototype.gtn=function gtn(num){return this.cmpn(num)===1};BN.prototype.gt=function gt(num){return this.cmp(num)===1};BN.prototype.gten=function gten(num){return this.cmpn(num)>=0};BN.prototype.gte=function gte(num){return this.cmp(num)>=0};BN.prototype.ltn=function ltn(num){return this.cmpn(num)===-1};BN.prototype.lt=function lt(num){return this.cmp(num)===-1};BN.prototype.lten=function lten(num){return this.cmpn(num)<=0};BN.prototype.lte=function lte(num){return this.cmp(num)<=0};BN.prototype.eqn=function eqn(num){return this.cmpn(num)===0};BN.prototype.eq=function eq(num){return this.cmp(num)===0};BN.red=function red(num){return new Red(num)};BN.prototype.toRed=function toRed(ctx){assert(!this.red,"Already a number in reduction context");assert(this.negative===0,"red works only with positives");return ctx.convertTo(this)._forceRed(ctx)};BN.prototype.fromRed=function fromRed(){assert(this.red,"fromRed works only with numbers in reduction context");return this.red.convertFrom(this)};BN.prototype._forceRed=function _forceRed(ctx){this.red=ctx;return this};BN.prototype.forceRed=function forceRed(ctx){assert(!this.red,"Already a number in reduction context");return this._forceRed(ctx)};BN.prototype.redAdd=function redAdd(num){assert(this.red,"redAdd works only with red numbers");return this.red.add(this,num)};BN.prototype.redIAdd=function redIAdd(num){assert(this.red,"redIAdd works only with red numbers");return this.red.iadd(this,num)};BN.prototype.redSub=function redSub(num){assert(this.red,"redSub works only with red numbers");return this.red.sub(this,num)};BN.prototype.redISub=function redISub(num){assert(this.red,"redISub works only with red numbers");return this.red.isub(this,num)};BN.prototype.redShl=function redShl(num){assert(this.red,"redShl works only with red numbers");return this.red.shl(this,num)};BN.prototype.redMul=function redMul(num){assert(this.red,"redMul works only with red numbers");this.red._verify2(this,num);return this.red.mul(this,num)};BN.prototype.redIMul=function redIMul(num){assert(this.red,"redMul works only with red numbers");this.red._verify2(this,num);return this.red.imul(this,num)};BN.prototype.redSqr=function redSqr(){assert(this.red,"redSqr works only with red numbers");this.red._verify1(this);return this.red.sqr(this)};BN.prototype.redISqr=function redISqr(){assert(this.red,"redISqr works only with red numbers");this.red._verify1(this);return this.red.isqr(this)};BN.prototype.redSqrt=function redSqrt(){assert(this.red,"redSqrt works only with red numbers");this.red._verify1(this);return this.red.sqrt(this)};BN.prototype.redInvm=function redInvm(){assert(this.red,"redInvm works only with red numbers");this.red._verify1(this);return this.red.invm(this)};BN.prototype.redNeg=function redNeg(){assert(this.red,"redNeg works only with red numbers");this.red._verify1(this);return this.red.neg(this)};BN.prototype.redPow=function redPow(num){assert(this.red&&!num.red,"redPow(normalNum)");this.red._verify1(this);return this.red.pow(this,num)};var primes={k256:null,p224:null,p192:null,p25519:null};function MPrime(name,p){this.name=name;this.p=new BN(p,16);this.n=this.p.bitLength();this.k=new BN(1).iushln(this.n).isub(this.p);this.tmp=this._tmp()}MPrime.prototype._tmp=function _tmp(){var tmp=new BN(null);tmp.words=new Array(Math.ceil(this.n/13));return tmp};MPrime.prototype.ireduce=function ireduce(num){var r=num;var rlen;do{this.split(r,this.tmp);r=this.imulK(r);r=r.iadd(this.tmp);rlen=r.bitLength()}while(rlen>this.n);var cmp=rlen<this.n?-1:r.ucmp(this.p);if(cmp===0){r.words[0]=0;r.length=1}else if(cmp>0){r.isub(this.p)}else{if(r.strip!==undefined){r.strip()}else{r._strip()}}return r};MPrime.prototype.split=function split(input,out){input.iushrn(this.n,0,out)};MPrime.prototype.imulK=function imulK(num){return num.imul(this.k)};function K256(){MPrime.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}inherits(K256,MPrime);K256.prototype.split=function split(input,output){var mask=4194303;var outLen=Math.min(input.length,9);for(var i=0;i<outLen;i++){output.words[i]=input.words[i]}output.length=outLen;if(input.length<=9){input.words[0]=0;input.length=1;return}var prev=input.words[9];output.words[output.length++]=prev&mask;for(i=10;i<input.length;i++){var next=input.words[i]|0;input.words[i-10]=(next&mask)<<4|prev>>>22;prev=next}prev>>>=22;input.words[i-10]=prev;if(prev===0&&input.length>10){input.length-=10}else{input.length-=9}};K256.prototype.imulK=function imulK(num){num.words[num.length]=0;num.words[num.length+1]=0;num.length+=2;var lo=0;for(var i=0;i<num.length;i++){var w=num.words[i]|0;lo+=w*977;num.words[i]=lo&67108863;lo=w*64+(lo/67108864|0)}if(num.words[num.length-1]===0){num.length--;if(num.words[num.length-1]===0){num.length--}}return num};function P224(){MPrime.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}inherits(P224,MPrime);function P192(){MPrime.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}inherits(P192,MPrime);function P25519(){MPrime.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}inherits(P25519,MPrime);P25519.prototype.imulK=function imulK(num){var carry=0;for(var i=0;i<num.length;i++){var hi=(num.words[i]|0)*19+carry;var lo=hi&67108863;hi>>>=26;num.words[i]=lo;carry=hi}if(carry!==0){num.words[num.length++]=carry}return num};BN._prime=function prime(name){if(primes[name])return primes[name];var prime;if(name==="k256"){prime=new K256}else if(name==="p224"){prime=new P224}else if(name==="p192"){prime=new P192}else if(name==="p25519"){prime=new P25519}else{throw new Error("Unknown prime "+name)}primes[name]=prime;return prime};function Red(m){if(typeof m==="string"){var prime=BN._prime(m);this.m=prime.p;this.prime=prime}else{assert(m.gtn(1),"modulus must be greater than 1");this.m=m;this.prime=null}}Red.prototype._verify1=function _verify1(a){assert(a.negative===0,"red works only with positives");assert(a.red,"red works only with red numbers")};Red.prototype._verify2=function _verify2(a,b){assert((a.negative|b.negative)===0,"red works only with positives");assert(a.red&&a.red===b.red,"red works only with red numbers")};Red.prototype.imod=function imod(a){if(this.prime)return this.prime.ireduce(a)._forceRed(this);move(a,a.umod(this.m)._forceRed(this));return a};Red.prototype.neg=function neg(a){if(a.isZero()){return a.clone()}return this.m.sub(a)._forceRed(this)};Red.prototype.add=function add(a,b){this._verify2(a,b);var res=a.add(b);if(res.cmp(this.m)>=0){res.isub(this.m)}return res._forceRed(this)};Red.prototype.iadd=function iadd(a,b){this._verify2(a,b);var res=a.iadd(b);if(res.cmp(this.m)>=0){res.isub(this.m)}return res};Red.prototype.sub=function sub(a,b){this._verify2(a,b);var res=a.sub(b);if(res.cmpn(0)<0){res.iadd(this.m)}return res._forceRed(this)};Red.prototype.isub=function isub(a,b){this._verify2(a,b);var res=a.isub(b);if(res.cmpn(0)<0){res.iadd(this.m)}return res};Red.prototype.shl=function shl(a,num){this._verify1(a);return this.imod(a.ushln(num))};Red.prototype.imul=function imul(a,b){this._verify2(a,b);return this.imod(a.imul(b))};Red.prototype.mul=function mul(a,b){this._verify2(a,b);return this.imod(a.mul(b))};Red.prototype.isqr=function isqr(a){return this.imul(a,a.clone())};Red.prototype.sqr=function sqr(a){return this.mul(a,a)};Red.prototype.sqrt=function sqrt(a){if(a.isZero())return a.clone();var mod3=this.m.andln(3);assert(mod3%2===1);if(mod3===3){var pow=this.m.add(new BN(1)).iushrn(2);return this.pow(a,pow)}var q=this.m.subn(1);var s=0;while(!q.isZero()&&q.andln(1)===0){s++;q.iushrn(1)}assert(!q.isZero());var one=new BN(1).toRed(this);var nOne=one.redNeg();var lpow=this.m.subn(1).iushrn(1);var z=this.m.bitLength();z=new BN(2*z*z).toRed(this);while(this.pow(z,lpow).cmp(nOne)!==0){z.redIAdd(nOne)}var c=this.pow(z,q);var r=this.pow(a,q.addn(1).iushrn(1));var t=this.pow(a,q);var m=s;while(t.cmp(one)!==0){var tmp=t;for(var i=0;tmp.cmp(one)!==0;i++){tmp=tmp.redSqr()}assert(i<m);var b=this.pow(c,new BN(1).iushln(m-i-1));r=r.redMul(b);c=b.redSqr();t=t.redMul(c);m=i}return r};Red.prototype.invm=function invm(a){var inv=a._invmp(this.m);if(inv.negative!==0){inv.negative=0;return this.imod(inv).redNeg()}else{return this.imod(inv)}};Red.prototype.pow=function pow(a,num){if(num.isZero())return new BN(1).toRed(this);if(num.cmpn(1)===0)return a.clone();var windowSize=4;var wnd=new Array(1<<windowSize);wnd[0]=new BN(1).toRed(this);wnd[1]=a;for(var i=2;i<wnd.length;i++){wnd[i]=this.mul(wnd[i-1],a)}var res=wnd[0];var current=0;var currentLen=0;var start=num.bitLength()%26;if(start===0){start=26}for(i=num.length-1;i>=0;i--){var word=num.words[i];for(var j=start-1;j>=0;j--){var bit=word>>j&1;if(res!==wnd[0]){res=this.sqr(res)}if(bit===0&&current===0){currentLen=0;continue}current<<=1;current|=bit;currentLen++;if(currentLen!==windowSize&&(i!==0||j!==0))continue;res=this.mul(res,wnd[current]);currentLen=0;current=0}start=26}return res};Red.prototype.convertTo=function convertTo(num){var r=num.umod(this.m);return r===num?r.clone():r};Red.prototype.convertFrom=function convertFrom(num){var res=num.clone();res.red=null;return res};BN.mont=function mont(num){return new Mont(num)};function Mont(m){Red.call(this,m);this.shift=this.m.bitLength();if(this.shift%26!==0){this.shift+=26-this.shift%26}this.r=new BN(1).iushln(this.shift);this.r2=this.imod(this.r.sqr());this.rinv=this.r._invmp(this.m);this.minv=this.rinv.mul(this.r).isubn(1).div(this.m);this.minv=this.minv.umod(this.r);this.minv=this.r.sub(this.minv)}inherits(Mont,Red);Mont.prototype.convertTo=function convertTo(num){return this.imod(num.ushln(this.shift))};Mont.prototype.convertFrom=function convertFrom(num){var r=this.imod(num.mul(this.rinv));r.red=null;return r};Mont.prototype.imul=function imul(a,b){if(a.isZero()||b.isZero()){a.words[0]=0;a.length=1;return a}var t=a.imul(b);var c=t.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m);var u=t.isub(c).iushrn(this.shift);var res=u;if(u.cmp(this.m)>=0){res=u.isub(this.m)}else if(u.cmpn(0)<0){res=u.iadd(this.m)}return res._forceRed(this)};Mont.prototype.mul=function mul(a,b){if(a.isZero()||b.isZero())return new BN(0)._forceRed(this);var t=a.mul(b);var c=t.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m);var u=t.isub(c).iushrn(this.shift);var res=u;if(u.cmp(this.m)>=0){res=u.isub(this.m)}else if(u.cmpn(0)<0){res=u.iadd(this.m)}return res._forceRed(this)};Mont.prototype.invm=function invm(a){var res=this.imod(a._invmp(this.m).mul(this.r2));return res._forceRed(this)}})(typeof module==="undefined"||module,void 0)},{buffer:167}],24:[function(require,module,exports){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}var r;module.exports=function rand(len){if(!r)r=new Rand(null);return r.generate(len)};function Rand(rand){this.rand=rand}module.exports.Rand=Rand;Rand.prototype.generate=function generate(len){return this._rand(len)};Rand.prototype._rand=function _rand(n){if(this.rand.getBytes)return this.rand.getBytes(n);var res=new Uint8Array(n);for(var i=0;i<res.length;i++){res[i]=this.rand.getByte()}return res};if((typeof self==="undefined"?"undefined":_typeof(self))==="object"){if(self.crypto&&self.crypto.getRandomValues){Rand.prototype._rand=function _rand(n){var arr=new Uint8Array(n);self.crypto.getRandomValues(arr);return arr}}else if(self.msCrypto&&self.msCrypto.getRandomValues){Rand.prototype._rand=function _rand(n){var arr=new Uint8Array(n);self.msCrypto.getRandomValues(arr);return arr}}else if((typeof window==="undefined"?"undefined":_typeof(window))==="object"){Rand.prototype._rand=function(){throw new Error("Not implemented yet")}}}else{try{var crypto=require("crypto");if(typeof crypto.randomBytes!=="function")throw new Error("Not supported");Rand.prototype._rand=function _rand(n){return crypto.randomBytes(n)}}catch(e){}}},{crypto:167}],25:[function(require,module,exports){"use strict";var Buffer=require("safe-buffer").Buffer;var Transform=require("stream").Transform;var StringDecoder=require("string_decoder").StringDecoder;var inherits=require("inherits");function CipherBase(hashMode){Transform.call(this);this.hashMode=typeof hashMode==="string";if(this.hashMode){this[hashMode]=this._finalOrDigest}else{this["final"]=this._finalOrDigest}if(this._final){this.__final=this._final;this._final=null}this._decoder=null;this._encoding=null}inherits(CipherBase,Transform);var useUint8Array=typeof Uint8Array!=="undefined";var useArrayBuffer=typeof ArrayBuffer!=="undefined"&&typeof Uint8Array!=="undefined"&&ArrayBuffer.isView&&(Buffer.prototype instanceof Uint8Array||Buffer.TYPED_ARRAY_SUPPORT);function toBuffer(data,encoding){if(data instanceof Buffer){return data}if(typeof data==="string"){return Buffer.from(data,encoding)}if(useArrayBuffer&&ArrayBuffer.isView(data)){if(data.byteLength===0){return Buffer.alloc(0)}var res=Buffer.from(data.buffer,data.byteOffset,data.byteLength);if(res.byteLength===data.byteLength){return res}}if(useUint8Array&&data instanceof Uint8Array){return Buffer.from(data)}if(Buffer.isBuffer(data)&&data.constructor&&typeof data.constructor.isBuffer==="function"&&data.constructor.isBuffer(data)){return Buffer.from(data)}throw new TypeError('The "data" argument must be of type string or an instance of Buffer, TypedArray, or DataView.')}CipherBase.prototype.update=function(data,inputEnc,outputEnc){var bufferData=toBuffer(data,inputEnc);var outData=this._update(bufferData);if(this.hashMode){return this}if(outputEnc){outData=this._toString(outData,outputEnc)}return outData};CipherBase.prototype.setAutoPadding=function(){};CipherBase.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")};CipherBase.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")};CipherBase.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")};CipherBase.prototype._transform=function(data,_,next){var err;try{if(this.hashMode){this._update(data)}else{this.push(this._update(data))}}catch(e){err=e}finally{next(err)}};CipherBase.prototype._flush=function(done){var err;try{this.push(this.__final())}catch(e){err=e}done(err)};CipherBase.prototype._finalOrDigest=function(outputEnc){var outData=this.__final()||Buffer.alloc(0);if(outputEnc){outData=this._toString(outData,outputEnc,true)}return outData};CipherBase.prototype._toString=function(value,enc,fin){if(!this._decoder){this._decoder=new StringDecoder(enc);this._encoding=enc}if(this._encoding!==enc){throw new Error("cant switch encodings")}var out=this._decoder.write(value);if(fin){out+=this._decoder.end()}return out};module.exports=CipherBase},{inherits:75,"safe-buffer":105,stream:198,string_decoder:213}],26:[function(require,module,exports){"use strict";var inherits=require("inherits");var MD5=require("md5.js");var RIPEMD160=require("ripemd160");var sha=require("sha.js");var Base=require("cipher-base");function Hash(hash){Base.call(this,"digest");this._hash=hash}inherits(Hash,Base);Hash.prototype._update=function(data){this._hash.update(data)};Hash.prototype._final=function(){return this._hash.digest()};module.exports=function createHash(alg){alg=alg.toLowerCase();if(alg==="md5")return new MD5;if(alg==="rmd160"||alg==="ripemd160")return new RIPEMD160;return new Hash(sha(alg))}},{"cipher-base":25,inherits:75,"md5.js":84,ripemd160:103,"sha.js":110}],27:[function(require,module,exports){"use strict";var elliptic=exports;elliptic.version=require("../package.json").version;elliptic.utils=require("./elliptic/utils");elliptic.rand=require("brorand");elliptic.curve=require("./elliptic/curve");elliptic.curves=require("./elliptic/curves");elliptic.ec=require("./elliptic/ec");elliptic.eddsa=require("./elliptic/eddsa")},{"../package.json":42,"./elliptic/curve":30,"./elliptic/curves":33,"./elliptic/ec":34,"./elliptic/eddsa":37,"./elliptic/utils":41,brorand:24}],28:[function(require,module,exports){"use strict";var BN=require("bn.js");var utils=require("../utils");var getNAF=utils.getNAF;var getJSF=utils.getJSF;var assert=utils.assert;function BaseCurve(type,conf){this.type=type;this.p=new BN(conf.p,16);this.red=conf.prime?BN.red(conf.prime):BN.mont(this.p);this.zero=new BN(0).toRed(this.red);this.one=new BN(1).toRed(this.red);this.two=new BN(2).toRed(this.red);this.n=conf.n&&new BN(conf.n,16);this.g=conf.g&&this.pointFromJSON(conf.g,conf.gRed);this._wnafT1=new Array(4);this._wnafT2=new Array(4);this._wnafT3=new Array(4);this._wnafT4=new Array(4);this._bitLength=this.n?this.n.bitLength():0;var adjustCount=this.n&&this.p.div(this.n);if(!adjustCount||adjustCount.cmpn(100)>0){this.redN=null}else{this._maxwellTrick=true;this.redN=this.n.toRed(this.red)}}module.exports=BaseCurve;BaseCurve.prototype.point=function point(){throw new Error("Not implemented")};BaseCurve.prototype.validate=function validate(){throw new Error("Not implemented")};BaseCurve.prototype._fixedNafMul=function _fixedNafMul(p,k){assert(p.precomputed);var doubles=p._getDoubles();var naf=getNAF(k,1,this._bitLength);var I=(1<<doubles.step+1)-(doubles.step%2===0?2:1);I/=3;var repr=[];var j;var nafW;for(j=0;j<naf.length;j+=doubles.step){nafW=0;for(var l=j+doubles.step-1;l>=j;l--){nafW=(nafW<<1)+naf[l]}repr.push(nafW)}var a=this.jpoint(null,null,null);var b=this.jpoint(null,null,null);for(var i=I;i>0;i--){for(j=0;j<repr.length;j++){nafW=repr[j];if(nafW===i)b=b.mixedAdd(doubles.points[j]);else if(nafW===-i)b=b.mixedAdd(doubles.points[j].neg())}a=a.add(b)}return a.toP()};BaseCurve.prototype._wnafMul=function _wnafMul(p,k){var w=4;var nafPoints=p._getNAFPoints(w);w=nafPoints.wnd;var wnd=nafPoints.points;var naf=getNAF(k,w,this._bitLength);var acc=this.jpoint(null,null,null);for(var i=naf.length-1;i>=0;i--){for(var l=0;i>=0&&naf[i]===0;i--){l++}if(i>=0)l++;acc=acc.dblp(l);if(i<0)break;var z=naf[i];assert(z!==0);if(p.type==="affine"){if(z>0)acc=acc.mixedAdd(wnd[z-1>>1]);else acc=acc.mixedAdd(wnd[-z-1>>1].neg())}else{if(z>0)acc=acc.add(wnd[z-1>>1]);else acc=acc.add(wnd[-z-1>>1].neg())}}return p.type==="affine"?acc.toP():acc};BaseCurve.prototype._wnafMulAdd=function _wnafMulAdd(defW,points,coeffs,len,jacobianResult){var wndWidth=this._wnafT1;var wnd=this._wnafT2;var naf=this._wnafT3;var max=0;var i;var j;var p;for(i=0;i<len;i++){p=points[i];var nafPoints=p._getNAFPoints(defW);wndWidth[i]=nafPoints.wnd;wnd[i]=nafPoints.points}for(i=len-1;i>=1;i-=2){var a=i-1;var b=i;if(wndWidth[a]!==1||wndWidth[b]!==1){naf[a]=getNAF(coeffs[a],wndWidth[a],this._bitLength);naf[b]=getNAF(coeffs[b],wndWidth[b],this._bitLength);max=Math.max(naf[a].length,max);max=Math.max(naf[b].length,max);continue}var comb=[points[a],null,null,points[b]];if(points[a].y.cmp(points[b].y)===0){comb[1]=points[a].add(points[b]);comb[2]=points[a].toJ().mixedAdd(points[b].neg())}else if(points[a].y.cmp(points[b].y.redNeg())===0){comb[1]=points[a].toJ().mixedAdd(points[b]);comb[2]=points[a].add(points[b].neg())}else{comb[1]=points[a].toJ().mixedAdd(points[b]);comb[2]=points[a].toJ().mixedAdd(points[b].neg())}var index=[-3,-1,-5,-7,0,7,5,1,3];var jsf=getJSF(coeffs[a],coeffs[b]);max=Math.max(jsf[0].length,max);naf[a]=new Array(max);naf[b]=new Array(max);for(j=0;j<max;j++){var ja=jsf[0][j]|0;var jb=jsf[1][j]|0;naf[a][j]=index[(ja+1)*3+(jb+1)];naf[b][j]=0;wnd[a]=comb}}var acc=this.jpoint(null,null,null);var tmp=this._wnafT4;for(i=max;i>=0;i--){var k=0;while(i>=0){var zero=true;for(j=0;j<len;j++){tmp[j]=naf[j][i]|0;if(tmp[j]!==0)zero=false}if(!zero)break;k++;i--}if(i>=0)k++;acc=acc.dblp(k);if(i<0)break;for(j=0;j<len;j++){var z=tmp[j];p;if(z===0)continue;else if(z>0)p=wnd[j][z-1>>1];else if(z<0)p=wnd[j][-z-1>>1].neg();if(p.type==="affine")acc=acc.mixedAdd(p);else acc=acc.add(p)}}for(i=0;i<len;i++){wnd[i]=null}if(jacobianResult)return acc;else return acc.toP()};function BasePoint(curve,type){this.curve=curve;this.type=type;this.precomputed=null}BaseCurve.BasePoint=BasePoint;BasePoint.prototype.eq=function eq(){throw new Error("Not implemented")};BasePoint.prototype.validate=function validate(){return this.curve.validate(this)};BaseCurve.prototype.decodePoint=function decodePoint(bytes,enc){bytes=utils.toArray(bytes,enc);var len=this.p.byteLength();if((bytes[0]===4||bytes[0]===6||bytes[0]===7)&&bytes.length-1===2*len){if(bytes[0]===6)assert(bytes[bytes.length-1]%2===0);else if(bytes[0]===7)assert(bytes[bytes.length-1]%2===1);var res=this.point(bytes.slice(1,1+len),bytes.slice(1+len,1+2*len));return res}else if((bytes[0]===2||bytes[0]===3)&&bytes.length-1===len){return this.pointFromX(bytes.slice(1,1+len),bytes[0]===3)}throw new Error("Unknown point format")};BasePoint.prototype.encodeCompressed=function encodeCompressed(enc){return this.encode(enc,true)};BasePoint.prototype._encode=function _encode(compact){var len=this.curve.p.byteLength();var x=this.getX().toArray("be",len);if(compact)return[this.getY().isEven()?2:3].concat(x);return[4].concat(x,this.getY().toArray("be",len))};BasePoint.prototype.encode=function encode(enc,compact){return utils.encode(this._encode(compact),enc)};BasePoint.prototype.precompute=function precompute(power){if(this.precomputed)return this;var precomputed={doubles:null,naf:null,beta:null};precomputed.naf=this._getNAFPoints(8);precomputed.doubles=this._getDoubles(4,power);precomputed.beta=this._getBeta();this.precomputed=precomputed;return this};BasePoint.prototype._hasDoubles=function _hasDoubles(k){if(!this.precomputed)return false;var doubles=this.precomputed.doubles;if(!doubles)return false;return doubles.points.length>=Math.ceil((k.bitLength()+1)/doubles.step)};BasePoint.prototype._getDoubles=function _getDoubles(step,power){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;var doubles=[this];var acc=this;for(var i=0;i<power;i+=step){for(var j=0;j<step;j++){acc=acc.dbl()}doubles.push(acc)}return{step:step,points:doubles}};BasePoint.prototype._getNAFPoints=function _getNAFPoints(wnd){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;var res=[this];var max=(1<<wnd)-1;var dbl=max===1?null:this.dbl();for(var i=1;i<max;i++){res[i]=res[i-1].add(dbl)}return{wnd:wnd,points:res}};BasePoint.prototype._getBeta=function _getBeta(){return null};BasePoint.prototype.dblp=function dblp(k){var r=this;for(var i=0;i<k;i++){r=r.dbl()}return r}},{"../utils":41,"bn.js":22}],29:[function(require,module,exports){"use strict";var utils=require("../utils");var BN=require("bn.js");var inherits=require("inherits");var Base=require("./base");var assert=utils.assert;function EdwardsCurve(conf){this.twisted=(conf.a|0)!==1;this.mOneA=this.twisted&&(conf.a|0)===-1;this.extended=this.mOneA;Base.call(this,"edwards",conf);this.a=new BN(conf.a,16).umod(this.red.m);this.a=this.a.toRed(this.red);this.c=new BN(conf.c,16).toRed(this.red);this.c2=this.c.redSqr();this.d=new BN(conf.d,16).toRed(this.red);this.dd=this.d.redAdd(this.d);assert(!this.twisted||this.c.fromRed().cmpn(1)===0);this.oneC=(conf.c|0)===1}inherits(EdwardsCurve,Base);module.exports=EdwardsCurve;EdwardsCurve.prototype._mulA=function _mulA(num){if(this.mOneA)return num.redNeg();else return this.a.redMul(num)};EdwardsCurve.prototype._mulC=function _mulC(num){if(this.oneC)return num;else return this.c.redMul(num)};EdwardsCurve.prototype.jpoint=function jpoint(x,y,z,t){return this.point(x,y,z,t)};EdwardsCurve.prototype.pointFromX=function pointFromX(x,odd){x=new BN(x,16);if(!x.red)x=x.toRed(this.red);var x2=x.redSqr();var rhs=this.c2.redSub(this.a.redMul(x2));var lhs=this.one.redSub(this.c2.redMul(this.d).redMul(x2));var y2=rhs.redMul(lhs.redInvm());var y=y2.redSqrt();if(y.redSqr().redSub(y2).cmp(this.zero)!==0)throw new Error("invalid point");var isOdd=y.fromRed().isOdd();if(odd&&!isOdd||!odd&&isOdd)y=y.redNeg();return this.point(x,y)};EdwardsCurve.prototype.pointFromY=function pointFromY(y,odd){y=new BN(y,16);if(!y.red)y=y.toRed(this.red);var y2=y.redSqr();var lhs=y2.redSub(this.c2);var rhs=y2.redMul(this.d).redMul(this.c2).redSub(this.a);var x2=lhs.redMul(rhs.redInvm());if(x2.cmp(this.zero)===0){if(odd)throw new Error("invalid point");else return this.point(this.zero,y)}var x=x2.redSqrt();if(x.redSqr().redSub(x2).cmp(this.zero)!==0)throw new Error("invalid point");if(x.fromRed().isOdd()!==odd)x=x.redNeg();return this.point(x,y)};EdwardsCurve.prototype.validate=function validate(point){if(point.isInfinity())return true;point.normalize();var x2=point.x.redSqr();var y2=point.y.redSqr();var lhs=x2.redMul(this.a).redAdd(y2);var rhs=this.c2.redMul(this.one.redAdd(this.d.redMul(x2).redMul(y2)));return lhs.cmp(rhs)===0};function Point(curve,x,y,z,t){Base.BasePoint.call(this,curve,"projective");if(x===null&&y===null&&z===null){this.x=this.curve.zero;this.y=this.curve.one;this.z=this.curve.one;this.t=this.curve.zero;this.zOne=true}else{this.x=new BN(x,16);this.y=new BN(y,16);this.z=z?new BN(z,16):this.curve.one;this.t=t&&new BN(t,16);if(!this.x.red)this.x=this.x.toRed(this.curve.red);if(!this.y.red)this.y=this.y.toRed(this.curve.red);if(!this.z.red)this.z=this.z.toRed(this.curve.red);if(this.t&&!this.t.red)this.t=this.t.toRed(this.curve.red);this.zOne=this.z===this.curve.one;if(this.curve.extended&&!this.t){this.t=this.x.redMul(this.y);if(!this.zOne)this.t=this.t.redMul(this.z.redInvm())}}}inherits(Point,Base.BasePoint);EdwardsCurve.prototype.pointFromJSON=function pointFromJSON(obj){return Point.fromJSON(this,obj)};EdwardsCurve.prototype.point=function point(x,y,z,t){return new Point(this,x,y,z,t)};Point.fromJSON=function fromJSON(curve,obj){return new Point(curve,obj[0],obj[1],obj[2])};Point.prototype.inspect=function inspect(){if(this.isInfinity())return"<EC Point Infinity>";return"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Point.prototype.isInfinity=function isInfinity(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)};Point.prototype._extDbl=function _extDbl(){var a=this.x.redSqr();var b=this.y.redSqr();var c=this.z.redSqr();c=c.redIAdd(c);var d=this.curve._mulA(a);var e=this.x.redAdd(this.y).redSqr().redISub(a).redISub(b);var g=d.redAdd(b);var f=g.redSub(c);var h=d.redSub(b);var nx=e.redMul(f);var ny=g.redMul(h);var nt=e.redMul(h);var nz=f.redMul(g);return this.curve.point(nx,ny,nz,nt)};Point.prototype._projDbl=function _projDbl(){var b=this.x.redAdd(this.y).redSqr();var c=this.x.redSqr();var d=this.y.redSqr();var nx;var ny;var nz;var e;var h;var j;if(this.curve.twisted){e=this.curve._mulA(c);var f=e.redAdd(d);if(this.zOne){nx=b.redSub(c).redSub(d).redMul(f.redSub(this.curve.two));ny=f.redMul(e.redSub(d));nz=f.redSqr().redSub(f).redSub(f)}else{h=this.z.redSqr();j=f.redSub(h).redISub(h);nx=b.redSub(c).redISub(d).redMul(j);ny=f.redMul(e.redSub(d));nz=f.redMul(j)}}else{e=c.redAdd(d);h=this.curve._mulC(this.z).redSqr();j=e.redSub(h).redSub(h);nx=this.curve._mulC(b.redISub(e)).redMul(j);ny=this.curve._mulC(e).redMul(c.redISub(d));nz=e.redMul(j)}return this.curve.point(nx,ny,nz)};Point.prototype.dbl=function dbl(){if(this.isInfinity())return this;if(this.curve.extended)return this._extDbl();else return this._projDbl()};Point.prototype._extAdd=function _extAdd(p){var a=this.y.redSub(this.x).redMul(p.y.redSub(p.x));var b=this.y.redAdd(this.x).redMul(p.y.redAdd(p.x));var c=this.t.redMul(this.curve.dd).redMul(p.t);var d=this.z.redMul(p.z.redAdd(p.z));var e=b.redSub(a);var f=d.redSub(c);var g=d.redAdd(c);var h=b.redAdd(a);var nx=e.redMul(f);var ny=g.redMul(h);var nt=e.redMul(h);var nz=f.redMul(g);return this.curve.point(nx,ny,nz,nt)};Point.prototype._projAdd=function _projAdd(p){var a=this.z.redMul(p.z);var b=a.redSqr();var c=this.x.redMul(p.x);var d=this.y.redMul(p.y);var e=this.curve.d.redMul(c).redMul(d);var f=b.redSub(e);var g=b.redAdd(e);var tmp=this.x.redAdd(this.y).redMul(p.x.redAdd(p.y)).redISub(c).redISub(d);var nx=a.redMul(f).redMul(tmp);var ny;var nz;if(this.curve.twisted){ny=a.redMul(g).redMul(d.redSub(this.curve._mulA(c)));nz=f.redMul(g)}else{ny=a.redMul(g).redMul(d.redSub(c));nz=this.curve._mulC(f).redMul(g)}return this.curve.point(nx,ny,nz)};Point.prototype.add=function add(p){if(this.isInfinity())return p;if(p.isInfinity())return this;if(this.curve.extended)return this._extAdd(p);else return this._projAdd(p)};Point.prototype.mul=function mul(k){if(this._hasDoubles(k))return this.curve._fixedNafMul(this,k);else return this.curve._wnafMul(this,k)};Point.prototype.mulAdd=function mulAdd(k1,p,k2){return this.curve._wnafMulAdd(1,[this,p],[k1,k2],2,false)};Point.prototype.jmulAdd=function jmulAdd(k1,p,k2){return this.curve._wnafMulAdd(1,[this,p],[k1,k2],2,true)};Point.prototype.normalize=function normalize(){if(this.zOne)return this;var zi=this.z.redInvm();this.x=this.x.redMul(zi);this.y=this.y.redMul(zi);if(this.t)this.t=this.t.redMul(zi);this.z=this.curve.one;this.zOne=true;return this};Point.prototype.neg=function neg(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())};Point.prototype.getX=function getX(){this.normalize();return this.x.fromRed()};Point.prototype.getY=function getY(){this.normalize();return this.y.fromRed()};Point.prototype.eq=function eq(other){return this===other||this.getX().cmp(other.getX())===0&&this.getY().cmp(other.getY())===0};Point.prototype.eqXToP=function eqXToP(x){var rx=x.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(rx)===0)return true;var xc=x.clone();var t=this.curve.redN.redMul(this.z);for(;;){xc.iadd(this.curve.n);if(xc.cmp(this.curve.p)>=0)return false;rx.redIAdd(t);if(this.x.cmp(rx)===0)return true}};Point.prototype.toP=Point.prototype.normalize;Point.prototype.mixedAdd=Point.prototype.add},{"../utils":41,"./base":28,"bn.js":22,inherits:75}],30:[function(require,module,exports){"use strict";var curve=exports;curve.base=require("./base");curve["short"]=require("./short");curve.mont=require("./mont");curve.edwards=require("./edwards")},{"./base":28,"./edwards":29,"./mont":31,"./short":32}],31:[function(require,module,exports){"use strict";var BN=require("bn.js");var inherits=require("inherits");var Base=require("./base");var utils=require("../utils");function MontCurve(conf){Base.call(this,"mont",conf);this.a=new BN(conf.a,16).toRed(this.red);this.b=new BN(conf.b,16).toRed(this.red);this.i4=new BN(4).toRed(this.red).redInvm();this.two=new BN(2).toRed(this.red);this.a24=this.i4.redMul(this.a.redAdd(this.two))}inherits(MontCurve,Base);module.exports=MontCurve;MontCurve.prototype.validate=function validate(point){var x=point.normalize().x;var x2=x.redSqr();var rhs=x2.redMul(x).redAdd(x2.redMul(this.a)).redAdd(x);var y=rhs.redSqrt();return y.redSqr().cmp(rhs)===0};function Point(curve,x,z){Base.BasePoint.call(this,curve,"projective");if(x===null&&z===null){this.x=this.curve.one;this.z=this.curve.zero}else{this.x=new BN(x,16);this.z=new BN(z,16);if(!this.x.red)this.x=this.x.toRed(this.curve.red);if(!this.z.red)this.z=this.z.toRed(this.curve.red)}}inherits(Point,Base.BasePoint);MontCurve.prototype.decodePoint=function decodePoint(bytes,enc){return this.point(utils.toArray(bytes,enc),1)};MontCurve.prototype.point=function point(x,z){return new Point(this,x,z)};MontCurve.prototype.pointFromJSON=function pointFromJSON(obj){return Point.fromJSON(this,obj)};Point.prototype.precompute=function precompute(){};Point.prototype._encode=function _encode(){return this.getX().toArray("be",this.curve.p.byteLength())};Point.fromJSON=function fromJSON(curve,obj){return new Point(curve,obj[0],obj[1]||curve.one)};Point.prototype.inspect=function inspect(){if(this.isInfinity())return"<EC Point Infinity>";return"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Point.prototype.isInfinity=function isInfinity(){return this.z.cmpn(0)===0};Point.prototype.dbl=function dbl(){var a=this.x.redAdd(this.z);var aa=a.redSqr();var b=this.x.redSub(this.z);var bb=b.redSqr();var c=aa.redSub(bb);var nx=aa.redMul(bb);var nz=c.redMul(bb.redAdd(this.curve.a24.redMul(c)));return this.curve.point(nx,nz)};Point.prototype.add=function add(){throw new Error("Not supported on Montgomery curve")};Point.prototype.diffAdd=function diffAdd(p,diff){var a=this.x.redAdd(this.z);var b=this.x.redSub(this.z);var c=p.x.redAdd(p.z);var d=p.x.redSub(p.z);var da=d.redMul(a);var cb=c.redMul(b);var nx=diff.z.redMul(da.redAdd(cb).redSqr());var nz=diff.x.redMul(da.redISub(cb).redSqr());return this.curve.point(nx,nz)};Point.prototype.mul=function mul(k){var t=k.clone();var a=this;var b=this.curve.point(null,null);var c=this;for(var bits=[];t.cmpn(0)!==0;t.iushrn(1)){bits.push(t.andln(1))}for(var i=bits.length-1;i>=0;i--){if(bits[i]===0){a=a.diffAdd(b,c);b=b.dbl()}else{b=a.diffAdd(b,c);a=a.dbl()}}return b};Point.prototype.mulAdd=function mulAdd(){throw new Error("Not supported on Montgomery curve")};Point.prototype.jumlAdd=function jumlAdd(){throw new Error("Not supported on Montgomery curve")};Point.prototype.eq=function eq(other){return this.getX().cmp(other.getX())===0};Point.prototype.normalize=function normalize(){this.x=this.x.redMul(this.z.redInvm());this.z=this.curve.one;return this};Point.prototype.getX=function getX(){this.normalize();return this.x.fromRed()}},{"../utils":41,"./base":28,"bn.js":22,inherits:75}],32:[function(require,module,exports){"use strict";var utils=require("../utils");var BN=require("bn.js");var inherits=require("inherits");var Base=require("./base");var assert=utils.assert;function ShortCurve(conf){Base.call(this,"short",conf);this.a=new BN(conf.a,16).toRed(this.red);this.b=new BN(conf.b,16).toRed(this.red);this.tinv=this.two.redInvm();this.zeroA=this.a.fromRed().cmpn(0)===0;this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0;this.endo=this._getEndomorphism(conf);this._endoWnafT1=new Array(4);this._endoWnafT2=new Array(4)}inherits(ShortCurve,Base);module.exports=ShortCurve;ShortCurve.prototype._getEndomorphism=function _getEndomorphism(conf){if(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)return;var beta;var lambda;if(conf.beta){beta=new BN(conf.beta,16).toRed(this.red)}else{var betas=this._getEndoRoots(this.p);beta=betas[0].cmp(betas[1])<0?betas[0]:betas[1];beta=beta.toRed(this.red)}if(conf.lambda){lambda=new BN(conf.lambda,16)}else{var lambdas=this._getEndoRoots(this.n);if(this.g.mul(lambdas[0]).x.cmp(this.g.x.redMul(beta))===0){lambda=lambdas[0]}else{lambda=lambdas[1];assert(this.g.mul(lambda).x.cmp(this.g.x.redMul(beta))===0)}}var basis;if(conf.basis){basis=conf.basis.map(function(vec){return{a:new BN(vec.a,16),b:new BN(vec.b,16)}})}else{basis=this._getEndoBasis(lambda)}return{beta:beta,lambda:lambda,basis:basis}};ShortCurve.prototype._getEndoRoots=function _getEndoRoots(num){var red=num===this.p?this.red:BN.mont(num);var tinv=new BN(2).toRed(red).redInvm();var ntinv=tinv.redNeg();var s=new BN(3).toRed(red).redNeg().redSqrt().redMul(tinv);var l1=ntinv.redAdd(s).fromRed();var l2=ntinv.redSub(s).fromRed();return[l1,l2]};ShortCurve.prototype._getEndoBasis=function _getEndoBasis(lambda){var aprxSqrt=this.n.ushrn(Math.floor(this.n.bitLength()/2));var u=lambda;var v=this.n.clone();var x1=new BN(1);var y1=new BN(0);var x2=new BN(0);var y2=new BN(1);var a0;var b0;var a1;var b1;var a2;var b2;var prevR;var i=0;var r;var x;while(u.cmpn(0)!==0){var q=v.div(u);r=v.sub(q.mul(u));x=x2.sub(q.mul(x1));var y=y2.sub(q.mul(y1));if(!a1&&r.cmp(aprxSqrt)<0){a0=prevR.neg();b0=x1;a1=r.neg();b1=x}else if(a1&&++i===2){break}prevR=r;v=u;u=r;x2=x1;x1=x;y2=y1;y1=y}a2=r.neg();b2=x;var len1=a1.sqr().add(b1.sqr());var len2=a2.sqr().add(b2.sqr());if(len2.cmp(len1)>=0){a2=a0;b2=b0}if(a1.negative){a1=a1.neg();b1=b1.neg()}if(a2.negative){a2=a2.neg();b2=b2.neg()}return[{a:a1,b:b1},{a:a2,b:b2}]};ShortCurve.prototype._endoSplit=function _endoSplit(k){var basis=this.endo.basis;var v1=basis[0];var v2=basis[1];var c1=v2.b.mul(k).divRound(this.n);var c2=v1.b.neg().mul(k).divRound(this.n);var p1=c1.mul(v1.a);var p2=c2.mul(v2.a);var q1=c1.mul(v1.b);var q2=c2.mul(v2.b);var k1=k.sub(p1).sub(p2);var k2=q1.add(q2).neg();return{k1:k1,k2:k2}};ShortCurve.prototype.pointFromX=function pointFromX(x,odd){x=new BN(x,16);if(!x.red)x=x.toRed(this.red);var y2=x.redSqr().redMul(x).redIAdd(x.redMul(this.a)).redIAdd(this.b);var y=y2.redSqrt();if(y.redSqr().redSub(y2).cmp(this.zero)!==0)throw new Error("invalid point");var isOdd=y.fromRed().isOdd();if(odd&&!isOdd||!odd&&isOdd)y=y.redNeg();return this.point(x,y)};ShortCurve.prototype.validate=function validate(point){if(point.inf)return true;var x=point.x;var y=point.y;var ax=this.a.redMul(x);var rhs=x.redSqr().redMul(x).redIAdd(ax).redIAdd(this.b);return y.redSqr().redISub(rhs).cmpn(0)===0};ShortCurve.prototype._endoWnafMulAdd=function _endoWnafMulAdd(points,coeffs,jacobianResult){var npoints=this._endoWnafT1;var ncoeffs=this._endoWnafT2;for(var i=0;i<points.length;i++){var split=this._endoSplit(coeffs[i]);var p=points[i];var beta=p._getBeta();if(split.k1.negative){split.k1.ineg();p=p.neg(true)}if(split.k2.negative){split.k2.ineg();beta=beta.neg(true)}npoints[i*2]=p;npoints[i*2+1]=beta;ncoeffs[i*2]=split.k1;ncoeffs[i*2+1]=split.k2}var res=this._wnafMulAdd(1,npoints,ncoeffs,i*2,jacobianResult);for(var j=0;j<i*2;j++){npoints[j]=null;ncoeffs[j]=null}return res};function Point(curve,x,y,isRed){Base.BasePoint.call(this,curve,"affine");if(x===null&&y===null){this.x=null;this.y=null;this.inf=true}else{this.x=new BN(x,16);this.y=new BN(y,16);if(isRed){this.x.forceRed(this.curve.red);this.y.forceRed(this.curve.red)}if(!this.x.red)this.x=this.x.toRed(this.curve.red);if(!this.y.red)this.y=this.y.toRed(this.curve.red);this.inf=false}}inherits(Point,Base.BasePoint);ShortCurve.prototype.point=function point(x,y,isRed){return new Point(this,x,y,isRed)};ShortCurve.prototype.pointFromJSON=function pointFromJSON(obj,red){return Point.fromJSON(this,obj,red)};Point.prototype._getBeta=function _getBeta(){if(!this.curve.endo)return;var pre=this.precomputed;if(pre&&pre.beta)return pre.beta;var beta=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(pre){var curve=this.curve;var endoMul=function endoMul(p){return curve.point(p.x.redMul(curve.endo.beta),p.y)};pre.beta=beta;beta.precomputed={beta:null,naf:pre.naf&&{wnd:pre.naf.wnd,points:pre.naf.points.map(endoMul)},doubles:pre.doubles&&{step:pre.doubles.step,points:pre.doubles.points.map(endoMul)}}}return beta};Point.prototype.toJSON=function toJSON(){if(!this.precomputed)return[this.x,this.y];return[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]};Point.fromJSON=function fromJSON(curve,obj,red){if(typeof obj==="string")obj=JSON.parse(obj);var res=curve.point(obj[0],obj[1],red);if(!obj[2])return res;function obj2point(obj){return curve.point(obj[0],obj[1],red)}var pre=obj[2];res.precomputed={beta:null,doubles:pre.doubles&&{step:pre.doubles.step,points:[res].concat(pre.doubles.points.map(obj2point))},naf:pre.naf&&{wnd:pre.naf.wnd,points:[res].concat(pre.naf.points.map(obj2point))}};return res};Point.prototype.inspect=function inspect(){if(this.isInfinity())return"<EC Point Infinity>";return"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Point.prototype.isInfinity=function isInfinity(){return this.inf};Point.prototype.add=function add(p){if(this.inf)return p;if(p.inf)return this;if(this.eq(p))return this.dbl();if(this.neg().eq(p))return this.curve.point(null,null);if(this.x.cmp(p.x)===0)return this.curve.point(null,null);var c=this.y.redSub(p.y);if(c.cmpn(0)!==0)c=c.redMul(this.x.redSub(p.x).redInvm());var nx=c.redSqr().redISub(this.x).redISub(p.x);var ny=c.redMul(this.x.redSub(nx)).redISub(this.y);return this.curve.point(nx,ny)};Point.prototype.dbl=function dbl(){if(this.inf)return this;var ys1=this.y.redAdd(this.y);if(ys1.cmpn(0)===0)return this.curve.point(null,null);var a=this.curve.a;var x2=this.x.redSqr();var dyinv=ys1.redInvm();var c=x2.redAdd(x2).redIAdd(x2).redIAdd(a).redMul(dyinv);var nx=c.redSqr().redISub(this.x.redAdd(this.x));var ny=c.redMul(this.x.redSub(nx)).redISub(this.y);return this.curve.point(nx,ny)};Point.prototype.getX=function getX(){return this.x.fromRed()};Point.prototype.getY=function getY(){return this.y.fromRed()};Point.prototype.mul=function mul(k){k=new BN(k,16);if(this.isInfinity())return this;else if(this._hasDoubles(k))return this.curve._fixedNafMul(this,k);else if(this.curve.endo)return this.curve._endoWnafMulAdd([this],[k]);else return this.curve._wnafMul(this,k)};Point.prototype.mulAdd=function mulAdd(k1,p2,k2){var points=[this,p2];var coeffs=[k1,k2];if(this.curve.endo)return this.curve._endoWnafMulAdd(points,coeffs);else return this.curve._wnafMulAdd(1,points,coeffs,2)};Point.prototype.jmulAdd=function jmulAdd(k1,p2,k2){var points=[this,p2];var coeffs=[k1,k2];if(this.curve.endo)return this.curve._endoWnafMulAdd(points,coeffs,true);else return this.curve._wnafMulAdd(1,points,coeffs,2,true)};Point.prototype.eq=function eq(p){return this===p||this.inf===p.inf&&(this.inf||this.x.cmp(p.x)===0&&this.y.cmp(p.y)===0)};Point.prototype.neg=function neg(_precompute){if(this.inf)return this;var res=this.curve.point(this.x,this.y.redNeg());if(_precompute&&this.precomputed){var pre=this.precomputed;var negate=function negate(p){return p.neg()};res.precomputed={naf:pre.naf&&{wnd:pre.naf.wnd,points:pre.naf.points.map(negate)},doubles:pre.doubles&&{step:pre.doubles.step,points:pre.doubles.points.map(negate)}}}return res};Point.prototype.toJ=function toJ(){if(this.inf)return this.curve.jpoint(null,null,null);var res=this.curve.jpoint(this.x,this.y,this.curve.one);return res};function JPoint(curve,x,y,z){Base.BasePoint.call(this,curve,"jacobian");if(x===null&&y===null&&z===null){this.x=this.curve.one;this.y=this.curve.one;this.z=new BN(0)}else{this.x=new BN(x,16);this.y=new BN(y,16);this.z=new BN(z,16)}if(!this.x.red)this.x=this.x.toRed(this.curve.red);if(!this.y.red)this.y=this.y.toRed(this.curve.red);if(!this.z.red)this.z=this.z.toRed(this.curve.red);this.zOne=this.z===this.curve.one}inherits(JPoint,Base.BasePoint);ShortCurve.prototype.jpoint=function jpoint(x,y,z){return new JPoint(this,x,y,z)};JPoint.prototype.toP=function toP(){if(this.isInfinity())return this.curve.point(null,null);var zinv=this.z.redInvm();var zinv2=zinv.redSqr();var ax=this.x.redMul(zinv2);var ay=this.y.redMul(zinv2).redMul(zinv);return this.curve.point(ax,ay)};JPoint.prototype.neg=function neg(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};JPoint.prototype.add=function add(p){if(this.isInfinity())return p;if(p.isInfinity())return this;var pz2=p.z.redSqr();var z2=this.z.redSqr();var u1=this.x.redMul(pz2);var u2=p.x.redMul(z2);var s1=this.y.redMul(pz2.redMul(p.z));var s2=p.y.redMul(z2.redMul(this.z));var h=u1.redSub(u2);var r=s1.redSub(s2);if(h.cmpn(0)===0){if(r.cmpn(0)!==0)return this.curve.jpoint(null,null,null);else return this.dbl()}var h2=h.redSqr();var h3=h2.redMul(h);var v=u1.redMul(h2);var nx=r.redSqr().redIAdd(h3).redISub(v).redISub(v);var ny=r.redMul(v.redISub(nx)).redISub(s1.redMul(h3));var nz=this.z.redMul(p.z).redMul(h);return this.curve.jpoint(nx,ny,nz)};JPoint.prototype.mixedAdd=function mixedAdd(p){if(this.isInfinity())return p.toJ();if(p.isInfinity())return this;var z2=this.z.redSqr();var u1=this.x;var u2=p.x.redMul(z2);var s1=this.y;var s2=p.y.redMul(z2).redMul(this.z);var h=u1.redSub(u2);var r=s1.redSub(s2);if(h.cmpn(0)===0){if(r.cmpn(0)!==0)return this.curve.jpoint(null,null,null);else return this.dbl()}var h2=h.redSqr();var h3=h2.redMul(h);var v=u1.redMul(h2);var nx=r.redSqr().redIAdd(h3).redISub(v).redISub(v);var ny=r.redMul(v.redISub(nx)).redISub(s1.redMul(h3));var nz=this.z.redMul(h);return this.curve.jpoint(nx,ny,nz)};JPoint.prototype.dblp=function dblp(pow){if(pow===0)return this;if(this.isInfinity())return this;if(!pow)return this.dbl();var i;if(this.curve.zeroA||this.curve.threeA){var r=this;for(i=0;i<pow;i++){r=r.dbl()}return r}var a=this.curve.a;var tinv=this.curve.tinv;var jx=this.x;var jy=this.y;var jz=this.z;var jz4=jz.redSqr().redSqr();var jyd=jy.redAdd(jy);for(i=0;i<pow;i++){var jx2=jx.redSqr();var jyd2=jyd.redSqr();var jyd4=jyd2.redSqr();var c=jx2.redAdd(jx2).redIAdd(jx2).redIAdd(a.redMul(jz4));var t1=jx.redMul(jyd2);var nx=c.redSqr().redISub(t1.redAdd(t1));var t2=t1.redISub(nx);var dny=c.redMul(t2);dny=dny.redIAdd(dny).redISub(jyd4);var nz=jyd.redMul(jz);if(i+1<pow)jz4=jz4.redMul(jyd4);jx=nx;jz=nz;jyd=dny}return this.curve.jpoint(jx,jyd.redMul(tinv),jz)};JPoint.prototype.dbl=function dbl(){if(this.isInfinity())return this;if(this.curve.zeroA)return this._zeroDbl();else if(this.curve.threeA)return this._threeDbl();else return this._dbl()};JPoint.prototype._zeroDbl=function _zeroDbl(){var nx;var ny;var nz;if(this.zOne){var xx=this.x.redSqr();var yy=this.y.redSqr();var yyyy=yy.redSqr();var s=this.x.redAdd(yy).redSqr().redISub(xx).redISub(yyyy);s=s.redIAdd(s);var m=xx.redAdd(xx).redIAdd(xx);var t=m.redSqr().redISub(s).redISub(s);var yyyy8=yyyy.redIAdd(yyyy);yyyy8=yyyy8.redIAdd(yyyy8);yyyy8=yyyy8.redIAdd(yyyy8);nx=t;ny=m.redMul(s.redISub(t)).redISub(yyyy8);nz=this.y.redAdd(this.y)}else{var a=this.x.redSqr();var b=this.y.redSqr();var c=b.redSqr();var d=this.x.redAdd(b).redSqr().redISub(a).redISub(c);d=d.redIAdd(d);var e=a.redAdd(a).redIAdd(a);var f=e.redSqr();var c8=c.redIAdd(c);c8=c8.redIAdd(c8);c8=c8.redIAdd(c8);nx=f.redISub(d).redISub(d);ny=e.redMul(d.redISub(nx)).redISub(c8);nz=this.y.redMul(this.z);nz=nz.redIAdd(nz)}return this.curve.jpoint(nx,ny,nz)};JPoint.prototype._threeDbl=function _threeDbl(){var nx;var ny;var nz;if(this.zOne){var xx=this.x.redSqr();var yy=this.y.redSqr();var yyyy=yy.redSqr();var s=this.x.redAdd(yy).redSqr().redISub(xx).redISub(yyyy);s=s.redIAdd(s);var m=xx.redAdd(xx).redIAdd(xx).redIAdd(this.curve.a);var t=m.redSqr().redISub(s).redISub(s);nx=t;var yyyy8=yyyy.redIAdd(yyyy);yyyy8=yyyy8.redIAdd(yyyy8);yyyy8=yyyy8.redIAdd(yyyy8);ny=m.redMul(s.redISub(t)).redISub(yyyy8);nz=this.y.redAdd(this.y)}else{var delta=this.z.redSqr();var gamma=this.y.redSqr();var beta=this.x.redMul(gamma);var alpha=this.x.redSub(delta).redMul(this.x.redAdd(delta));alpha=alpha.redAdd(alpha).redIAdd(alpha);var beta4=beta.redIAdd(beta);beta4=beta4.redIAdd(beta4);var beta8=beta4.redAdd(beta4);nx=alpha.redSqr().redISub(beta8);nz=this.y.redAdd(this.z).redSqr().redISub(gamma).redISub(delta);var ggamma8=gamma.redSqr();ggamma8=ggamma8.redIAdd(ggamma8);ggamma8=ggamma8.redIAdd(ggamma8);ggamma8=ggamma8.redIAdd(ggamma8);ny=alpha.redMul(beta4.redISub(nx)).redISub(ggamma8)}return this.curve.jpoint(nx,ny,nz)};JPoint.prototype._dbl=function _dbl(){var a=this.curve.a;var jx=this.x;var jy=this.y;var jz=this.z;var jz4=jz.redSqr().redSqr();var jx2=jx.redSqr();var jy2=jy.redSqr();var c=jx2.redAdd(jx2).redIAdd(jx2).redIAdd(a.redMul(jz4));var jxd4=jx.redAdd(jx);jxd4=jxd4.redIAdd(jxd4);var t1=jxd4.redMul(jy2);var nx=c.redSqr().redISub(t1.redAdd(t1));var t2=t1.redISub(nx);var jyd8=jy2.redSqr();jyd8=jyd8.redIAdd(jyd8);jyd8=jyd8.redIAdd(jyd8);jyd8=jyd8.redIAdd(jyd8);var ny=c.redMul(t2).redISub(jyd8);var nz=jy.redAdd(jy).redMul(jz);return this.curve.jpoint(nx,ny,nz)};JPoint.prototype.trpl=function trpl(){if(!this.curve.zeroA)return this.dbl().add(this);var xx=this.x.redSqr();var yy=this.y.redSqr();var zz=this.z.redSqr();var yyyy=yy.redSqr();var m=xx.redAdd(xx).redIAdd(xx);var mm=m.redSqr();var e=this.x.redAdd(yy).redSqr().redISub(xx).redISub(yyyy);e=e.redIAdd(e);e=e.redAdd(e).redIAdd(e);e=e.redISub(mm);var ee=e.redSqr();var t=yyyy.redIAdd(yyyy);t=t.redIAdd(t);t=t.redIAdd(t);t=t.redIAdd(t);var u=m.redIAdd(e).redSqr().redISub(mm).redISub(ee).redISub(t);var yyu4=yy.redMul(u);yyu4=yyu4.redIAdd(yyu4);yyu4=yyu4.redIAdd(yyu4);var nx=this.x.redMul(ee).redISub(yyu4);nx=nx.redIAdd(nx);nx=nx.redIAdd(nx);var ny=this.y.redMul(u.redMul(t.redISub(u)).redISub(e.redMul(ee)));ny=ny.redIAdd(ny);ny=ny.redIAdd(ny);ny=ny.redIAdd(ny);var nz=this.z.redAdd(e).redSqr().redISub(zz).redISub(ee);return this.curve.jpoint(nx,ny,nz)};JPoint.prototype.mul=function mul(k,kbase){k=new BN(k,kbase);return this.curve._wnafMul(this,k)};JPoint.prototype.eq=function eq(p){if(p.type==="affine")return this.eq(p.toJ());if(this===p)return true;var z2=this.z.redSqr();var pz2=p.z.redSqr();if(this.x.redMul(pz2).redISub(p.x.redMul(z2)).cmpn(0)!==0)return false;var z3=z2.redMul(this.z);var pz3=pz2.redMul(p.z);return this.y.redMul(pz3).redISub(p.y.redMul(z3)).cmpn(0)===0};JPoint.prototype.eqXToP=function eqXToP(x){var zs=this.z.redSqr();var rx=x.toRed(this.curve.red).redMul(zs);if(this.x.cmp(rx)===0)return true;var xc=x.clone();var t=this.curve.redN.redMul(zs);for(;;){xc.iadd(this.curve.n);if(xc.cmp(this.curve.p)>=0)return false;rx.redIAdd(t);if(this.x.cmp(rx)===0)return true}};JPoint.prototype.inspect=function inspect(){if(this.isInfinity())return"<EC JPoint Infinity>";return"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};JPoint.prototype.isInfinity=function isInfinity(){return this.z.cmpn(0)===0}},{"../utils":41,"./base":28,"bn.js":22,inherits:75}],33:[function(require,module,exports){"use strict";var curves=exports;var hash=require("hash.js");var curve=require("./curve");var utils=require("./utils");var assert=utils.assert;function PresetCurve(options){if(options.type==="short")this.curve=new curve["short"](options);else if(options.type==="edwards")this.curve=new curve.edwards(options);else this.curve=new curve.mont(options);this.g=this.curve.g;this.n=this.curve.n;this.hash=options.hash;assert(this.g.validate(),"Invalid curve");assert(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}curves.PresetCurve=PresetCurve;function defineCurve(name,options){Object.defineProperty(curves,name,{configurable:true,enumerable:true,get:function get(){var curve=new PresetCurve(options);Object.defineProperty(curves,name,{configurable:true,enumerable:true,value:curve});return curve}})}defineCurve("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:hash.sha256,gRed:false,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]});defineCurve("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:hash.sha256,gRed:false,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]});defineCurve("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:hash.sha256,gRed:false,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]});defineCurve("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff "+"fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff "+"fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f "+"5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 "+"f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:hash.sha384,gRed:false,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 "+"5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 "+"0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]});defineCurve("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff "+"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff "+"ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff "+"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff "+"ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b "+"99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd "+"3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff "+"ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 "+"f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:hash.sha512,gRed:false,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 "+"053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 "+"a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 "+"579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 "+"3fad0761 353c7086 a272c240 88be9476 9fd16650"]});defineCurve("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:hash.sha256,gRed:false,g:["9"]});defineCurve("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:hash.sha256,gRed:false,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var pre;try{pre=require("./precomputed/secp256k1")}catch(e){pre=undefined}defineCurve("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:hash.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:false,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",pre]})},{"./curve":30,"./precomputed/secp256k1":40,"./utils":41,"hash.js":62}],34:[function(require,module,exports){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}var BN=require("bn.js");var HmacDRBG=require("hmac-drbg");var utils=require("../utils");var curves=require("../curves");var rand=require("brorand");var assert=utils.assert;var KeyPair=require("./key");var Signature=require("./signature");function EC(options){if(!(this instanceof EC))return new EC(options);if(typeof options==="string"){assert(Object.prototype.hasOwnProperty.call(curves,options),"Unknown curve "+options);options=curves[options]}if(options instanceof curves.PresetCurve)options={curve:options};this.curve=options.curve.curve;this.n=this.curve.n;this.nh=this.n.ushrn(1);this.g=this.curve.g;this.g=options.curve.g;this.g.precompute(options.curve.n.bitLength()+1);this.hash=options.hash||options.curve.hash}module.exports=EC;EC.prototype.keyPair=function keyPair(options){return new KeyPair(this,options)};EC.prototype.keyFromPrivate=function keyFromPrivate(priv,enc){return KeyPair.fromPrivate(this,priv,enc)};EC.prototype.keyFromPublic=function keyFromPublic(pub,enc){return KeyPair.fromPublic(this,pub,enc)};EC.prototype.genKeyPair=function genKeyPair(options){if(!options)options={};var drbg=new HmacDRBG({hash:this.hash,pers:options.pers,persEnc:options.persEnc||"utf8",entropy:options.entropy||rand(this.hash.hmacStrength),entropyEnc:options.entropy&&options.entropyEnc||"utf8",nonce:this.n.toArray()});var bytes=this.n.byteLength();var ns2=this.n.sub(new BN(2));for(;;){var priv=new BN(drbg.generate(bytes));if(priv.cmp(ns2)>0)continue;priv.iaddn(1);return this.keyFromPrivate(priv)}};EC.prototype._truncateToN=function _truncateToN(msg,truncOnly,bitLength){var byteLength;if(BN.isBN(msg)||typeof msg==="number"){msg=new BN(msg,16);byteLength=msg.byteLength()}else if(_typeof(msg)==="object"){byteLength=msg.length;msg=new BN(msg,16)}else{var str=msg.toString();byteLength=str.length+1>>>1;msg=new BN(str,16)}if(typeof bitLength!=="number"){bitLength=byteLength*8}var delta=bitLength-this.n.bitLength();if(delta>0)msg=msg.ushrn(delta);if(!truncOnly&&msg.cmp(this.n)>=0)return msg.sub(this.n);else return msg};EC.prototype.sign=function sign(msg,key,enc,options){if(_typeof(enc)==="object"){options=enc;enc=null}if(!options)options={};if(typeof msg!=="string"&&typeof msg!=="number"&&!BN.isBN(msg)){assert(_typeof(msg)==="object"&&msg&&typeof msg.length==="number","Expected message to be an array-like, a hex string, or a BN instance");assert(msg.length>>>0===msg.length);for(var i=0;i<msg.length;i++){assert((msg[i]&255)===msg[i])}}key=this.keyFromPrivate(key,enc);msg=this._truncateToN(msg,false,options.msgBitLength);assert(!msg.isNeg(),"Can not sign a negative message");var bytes=this.n.byteLength();var bkey=key.getPrivate().toArray("be",bytes);var nonce=msg.toArray("be",bytes);assert(new BN(nonce).eq(msg),"Can not sign message");var drbg=new HmacDRBG({hash:this.hash,entropy:bkey,nonce:nonce,pers:options.pers,persEnc:options.persEnc||"utf8"});var ns1=this.n.sub(new BN(1));for(var iter=0;;iter++){var k=options.k?options.k(iter):new BN(drbg.generate(this.n.byteLength()));k=this._truncateToN(k,true);if(k.cmpn(1)<=0||k.cmp(ns1)>=0)continue;var kp=this.g.mul(k);if(kp.isInfinity())continue;var kpX=kp.getX();var r=kpX.umod(this.n);if(r.cmpn(0)===0)continue;var s=k.invm(this.n).mul(r.mul(key.getPrivate()).iadd(msg));s=s.umod(this.n);if(s.cmpn(0)===0)continue;var recoveryParam=(kp.getY().isOdd()?1:0)|(kpX.cmp(r)!==0?2:0);if(options.canonical&&s.cmp(this.nh)>0){s=this.n.sub(s);recoveryParam^=1}return new Signature({r:r,s:s,recoveryParam:recoveryParam})}};EC.prototype.verify=function verify(msg,signature,key,enc,options){if(!options)options={};msg=this._truncateToN(msg,false,options.msgBitLength);key=this.keyFromPublic(key,enc);signature=new Signature(signature,"hex");var r=signature.r;var s=signature.s;if(r.cmpn(1)<0||r.cmp(this.n)>=0)return false;if(s.cmpn(1)<0||s.cmp(this.n)>=0)return false;var sinv=s.invm(this.n);var u1=sinv.mul(msg).umod(this.n);var u2=sinv.mul(r).umod(this.n);var p;if(!this.curve._maxwellTrick){p=this.g.mulAdd(u1,key.getPublic(),u2);if(p.isInfinity())return false;return p.getX().umod(this.n).cmp(r)===0}p=this.g.jmulAdd(u1,key.getPublic(),u2);if(p.isInfinity())return false;return p.eqXToP(r)};EC.prototype.recoverPubKey=function(msg,signature,j,enc){assert((3&j)===j,"The recovery param is more than two bits");signature=new Signature(signature,enc);var n=this.n;var e=new BN(msg);var r=signature.r;var s=signature.s;var isYOdd=j&1;var isSecondKey=j>>1;if(r.cmp(this.curve.p.umod(this.curve.n))>=0&&isSecondKey)throw new Error("Unable to find sencond key candinate");if(isSecondKey)r=this.curve.pointFromX(r.add(this.curve.n),isYOdd);else r=this.curve.pointFromX(r,isYOdd);var rInv=signature.r.invm(n);var s1=n.sub(e).mul(rInv).umod(n);var s2=s.mul(rInv).umod(n);return this.g.mulAdd(s1,r,s2)};EC.prototype.getKeyRecoveryParam=function(e,signature,Q,enc){signature=new Signature(signature,enc);if(signature.recoveryParam!==null)return signature.recoveryParam;for(var i=0;i<4;i++){var Qprime;try{Qprime=this.recoverPubKey(e,signature,i)}catch(e){continue}if(Qprime.eq(Q))return i}throw new Error("Unable to find valid recovery factor")}},{"../curves":33,"../utils":41,"./key":35,"./signature":36,"bn.js":22,brorand:24,"hmac-drbg":74}],35:[function(require,module,exports){"use strict";var BN=require("bn.js");var utils=require("../utils");var assert=utils.assert;function KeyPair(ec,options){this.ec=ec;this.priv=null;this.pub=null;if(options.priv)this._importPrivate(options.priv,options.privEnc);if(options.pub)this._importPublic(options.pub,options.pubEnc)}module.exports=KeyPair;KeyPair.fromPublic=function fromPublic(ec,pub,enc){if(pub instanceof KeyPair)return pub;return new KeyPair(ec,{pub:pub,pubEnc:enc})};KeyPair.fromPrivate=function fromPrivate(ec,priv,enc){if(priv instanceof KeyPair)return priv;return new KeyPair(ec,{priv:priv,privEnc:enc})};KeyPair.prototype.validate=function validate(){var pub=this.getPublic();if(pub.isInfinity())return{result:false,reason:"Invalid public key"};if(!pub.validate())return{result:false,reason:"Public key is not a point"};if(!pub.mul(this.ec.curve.n).isInfinity())return{result:false,reason:"Public key * N != O"};return{result:true,reason:null}};KeyPair.prototype.getPublic=function getPublic(compact,enc){if(typeof compact==="string"){enc=compact;compact=null}if(!this.pub)this.pub=this.ec.g.mul(this.priv);if(!enc)return this.pub;return this.pub.encode(enc,compact)};KeyPair.prototype.getPrivate=function getPrivate(enc){if(enc==="hex")return this.priv.toString(16,2);else return this.priv};KeyPair.prototype._importPrivate=function _importPrivate(key,enc){this.priv=new BN(key,enc||16);this.priv=this.priv.umod(this.ec.curve.n)};KeyPair.prototype._importPublic=function _importPublic(key,enc){if(key.x||key.y){if(this.ec.curve.type==="mont"){assert(key.x,"Need x coordinate")}else if(this.ec.curve.type==="short"||this.ec.curve.type==="edwards"){assert(key.x&&key.y,"Need both x and y coordinate")}this.pub=this.ec.curve.point(key.x,key.y);return}this.pub=this.ec.curve.decodePoint(key,enc)};KeyPair.prototype.derive=function derive(pub){if(!pub.validate()){assert(pub.validate(),"public point not validated")}return pub.mul(this.priv).getX()};KeyPair.prototype.sign=function sign(msg,enc,options){return this.ec.sign(msg,this,enc,options)};KeyPair.prototype.verify=function verify(msg,signature,options){return this.ec.verify(msg,signature,this,undefined,options)};KeyPair.prototype.inspect=function inspect(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},{"../utils":41,"bn.js":22}],36:[function(require,module,exports){"use strict";var BN=require("bn.js");var utils=require("../utils");var assert=utils.assert;function Signature(options,enc){if(options instanceof Signature)return options;if(this._importDER(options,enc))return;assert(options.r&&options.s,"Signature without r or s");this.r=new BN(options.r,16);this.s=new BN(options.s,16);if(options.recoveryParam===undefined)this.recoveryParam=null;else this.recoveryParam=options.recoveryParam}module.exports=Signature;function Position(){this.place=0}function getLength(buf,p){var initial=buf[p.place++];if(!(initial&128)){return initial}var octetLen=initial&15;if(octetLen===0||octetLen>4){return false}if(buf[p.place]===0){return false}var val=0;for(var i=0,off=p.place;i<octetLen;i++,off++){val<<=8;val|=buf[off];val>>>=0}if(val<=127){return false}p.place=off;return val}function rmPadding(buf){var i=0;var len=buf.length-1;while(!buf[i]&&!(buf[i+1]&128)&&i<len){i++}if(i===0){return buf}return buf.slice(i)}Signature.prototype._importDER=function _importDER(data,enc){data=utils.toArray(data,enc);var p=new Position;if(data[p.place++]!==48){return false}var len=getLength(data,p);if(len===false){return false}if(len+p.place!==data.length){return false}if(data[p.place++]!==2){return false}var rlen=getLength(data,p);if(rlen===false){return false}if((data[p.place]&128)!==0){return false}var r=data.slice(p.place,rlen+p.place);p.place+=rlen;if(data[p.place++]!==2){return false}var slen=getLength(data,p);if(slen===false){return false}if(data.length!==slen+p.place){return false}if((data[p.place]&128)!==0){return false}var s=data.slice(p.place,slen+p.place);if(r[0]===0){if(r[1]&128){r=r.slice(1)}else{return false}}if(s[0]===0){if(s[1]&128){s=s.slice(1)}else{return false}}this.r=new BN(r);this.s=new BN(s);this.recoveryParam=null;return true};function constructLength(arr,len){if(len<128){arr.push(len);return}var octets=1+(Math.log(len)/Math.LN2>>>3);arr.push(octets|128);while(--octets){arr.push(len>>>(octets<<3)&255)}arr.push(len)}Signature.prototype.toDER=function toDER(enc){var r=this.r.toArray();var s=this.s.toArray();if(r[0]&128)r=[0].concat(r);if(s[0]&128)s=[0].concat(s);r=rmPadding(r);s=rmPadding(s);while(!s[0]&&!(s[1]&128)){s=s.slice(1)}var arr=[2];constructLength(arr,r.length);arr=arr.concat(r);arr.push(2);constructLength(arr,s.length);var backHalf=arr.concat(s);var res=[48];constructLength(res,backHalf.length);res=res.concat(backHalf);return utils.encode(res,enc)}},{"../utils":41,"bn.js":22}],37:[function(require,module,exports){"use strict";var hash=require("hash.js");var curves=require("../curves");var utils=require("../utils");var assert=utils.assert;var parseBytes=utils.parseBytes;var KeyPair=require("./key");var Signature=require("./signature");function EDDSA(curve){assert(curve==="ed25519","only tested with ed25519 so far");if(!(this instanceof EDDSA))return new EDDSA(curve);curve=curves[curve].curve;this.curve=curve;this.g=curve.g;this.g.precompute(curve.n.bitLength()+1);this.pointClass=curve.point().constructor;this.encodingLength=Math.ceil(curve.n.bitLength()/8);this.hash=hash.sha512}module.exports=EDDSA;EDDSA.prototype.sign=function sign(message,secret){message=parseBytes(message);var key=this.keyFromSecret(secret);var r=this.hashInt(key.messagePrefix(),message);var R=this.g.mul(r);var Rencoded=this.encodePoint(R);var s_=this.hashInt(Rencoded,key.pubBytes(),message).mul(key.priv());var S=r.add(s_).umod(this.curve.n);return this.makeSignature({R:R,S:S,Rencoded:Rencoded})};EDDSA.prototype.verify=function verify(message,sig,pub){message=parseBytes(message);sig=this.makeSignature(sig);if(sig.S().gte(sig.eddsa.curve.n)||sig.S().isNeg()){return false}var key=this.keyFromPublic(pub);var h=this.hashInt(sig.Rencoded(),key.pubBytes(),message);var SG=this.g.mul(sig.S());var RplusAh=sig.R().add(key.pub().mul(h));return RplusAh.eq(SG)};EDDSA.prototype.hashInt=function hashInt(){var hash=this.hash();for(var i=0;i<arguments.length;i++){hash.update(arguments[i])}return utils.intFromLE(hash.digest()).umod(this.curve.n)};EDDSA.prototype.keyFromPublic=function keyFromPublic(pub){return KeyPair.fromPublic(this,pub)};EDDSA.prototype.keyFromSecret=function keyFromSecret(secret){return KeyPair.fromSecret(this,secret)};EDDSA.prototype.makeSignature=function makeSignature(sig){if(sig instanceof Signature)return sig;return new Signature(this,sig)};EDDSA.prototype.encodePoint=function encodePoint(point){var enc=point.getY().toArray("le",this.encodingLength);enc[this.encodingLength-1]|=point.getX().isOdd()?128:0;return enc};EDDSA.prototype.decodePoint=function decodePoint(bytes){bytes=utils.parseBytes(bytes);var lastIx=bytes.length-1;var normed=bytes.slice(0,lastIx).concat(bytes[lastIx]&~128);var xIsOdd=(bytes[lastIx]&128)!==0;var y=utils.intFromLE(normed);return this.curve.pointFromY(y,xIsOdd)};EDDSA.prototype.encodeInt=function encodeInt(num){return num.toArray("le",this.encodingLength)};EDDSA.prototype.decodeInt=function decodeInt(bytes){return utils.intFromLE(bytes)};EDDSA.prototype.isPoint=function isPoint(val){return val instanceof this.pointClass}},{"../curves":33,"../utils":41,"./key":38,"./signature":39,"hash.js":62}],38:[function(require,module,exports){"use strict";var utils=require("../utils");var assert=utils.assert;var parseBytes=utils.parseBytes;var cachedProperty=utils.cachedProperty;function KeyPair(eddsa,params){this.eddsa=eddsa;this._secret=parseBytes(params.secret);if(eddsa.isPoint(params.pub))this._pub=params.pub;else this._pubBytes=parseBytes(params.pub)}KeyPair.fromPublic=function fromPublic(eddsa,pub){if(pub instanceof KeyPair)return pub;return new KeyPair(eddsa,{pub:pub})};KeyPair.fromSecret=function fromSecret(eddsa,secret){if(secret instanceof KeyPair)return secret;return new KeyPair(eddsa,{secret:secret})};KeyPair.prototype.secret=function secret(){return this._secret};cachedProperty(KeyPair,"pubBytes",function pubBytes(){return this.eddsa.encodePoint(this.pub())});cachedProperty(KeyPair,"pub",function pub(){if(this._pubBytes)return this.eddsa.decodePoint(this._pubBytes);return this.eddsa.g.mul(this.priv())});cachedProperty(KeyPair,"privBytes",function privBytes(){var eddsa=this.eddsa;var hash=this.hash();var lastIx=eddsa.encodingLength-1;var a=hash.slice(0,eddsa.encodingLength);a[0]&=248;a[lastIx]&=127;a[lastIx]|=64;return a});cachedProperty(KeyPair,"priv",function priv(){return this.eddsa.decodeInt(this.privBytes())});cachedProperty(KeyPair,"hash",function hash(){return this.eddsa.hash().update(this.secret()).digest()});cachedProperty(KeyPair,"messagePrefix",function messagePrefix(){return this.hash().slice(this.eddsa.encodingLength)});KeyPair.prototype.sign=function sign(message){assert(this._secret,"KeyPair can only verify");return this.eddsa.sign(message,this)};KeyPair.prototype.verify=function verify(message,sig){return this.eddsa.verify(message,sig,this)};KeyPair.prototype.getSecret=function getSecret(enc){assert(this._secret,"KeyPair is public only");return utils.encode(this.secret(),enc)};KeyPair.prototype.getPublic=function getPublic(enc){return utils.encode(this.pubBytes(),enc)};module.exports=KeyPair},{"../utils":41}],39:[function(require,module,exports){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}var BN=require("bn.js");var utils=require("../utils");var assert=utils.assert;var cachedProperty=utils.cachedProperty;var parseBytes=utils.parseBytes;function Signature(eddsa,sig){this.eddsa=eddsa;if(_typeof(sig)!=="object")sig=parseBytes(sig);if(Array.isArray(sig)){assert(sig.length===eddsa.encodingLength*2,"Signature has invalid size");sig={R:sig.slice(0,eddsa.encodingLength),S:sig.slice(eddsa.encodingLength)}}assert(sig.R&&sig.S,"Signature without R or S");if(eddsa.isPoint(sig.R))this._R=sig.R;if(sig.S instanceof BN)this._S=sig.S;this._Rencoded=Array.isArray(sig.R)?sig.R:sig.Rencoded;this._Sencoded=Array.isArray(sig.S)?sig.S:sig.Sencoded}cachedProperty(Signature,"S",function S(){return this.eddsa.decodeInt(this.Sencoded())});cachedProperty(Signature,"R",function R(){return this.eddsa.decodePoint(this.Rencoded())});cachedProperty(Signature,"Rencoded",function Rencoded(){return this.eddsa.encodePoint(this.R())});cachedProperty(Signature,"Sencoded",function Sencoded(){return this.eddsa.encodeInt(this.S())});Signature.prototype.toBytes=function toBytes(){return this.Rencoded().concat(this.Sencoded())};Signature.prototype.toHex=function toHex(){return utils.encode(this.toBytes(),"hex").toUpperCase()};module.exports=Signature},{"../utils":41,"bn.js":22}],40:[function(require,module,exports){"use strict";module.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},{}],41:[function(require,module,exports){"use strict";var utils=exports;var BN=require("bn.js");var minAssert=require("minimalistic-assert");var minUtils=require("minimalistic-crypto-utils");utils.assert=minAssert;utils.toArray=minUtils.toArray;utils.zero2=minUtils.zero2;utils.toHex=minUtils.toHex;utils.encode=minUtils.encode;function getNAF(num,w,bits){var naf=new Array(Math.max(num.bitLength(),bits)+1);var i;for(i=0;i<naf.length;i+=1){naf[i]=0}var ws=1<<w+1;var k=num.clone();for(i=0;i<naf.length;i++){var z;var mod=k.andln(ws-1);if(k.isOdd()){if(mod>(ws>>1)-1)z=(ws>>1)-mod;else z=mod;k.isubn(z)}else{z=0}naf[i]=z;k.iushrn(1)}return naf}utils.getNAF=getNAF;function getJSF(k1,k2){var jsf=[[],[]];k1=k1.clone();k2=k2.clone();var d1=0;var d2=0;var m8;while(k1.cmpn(-d1)>0||k2.cmpn(-d2)>0){var m14=k1.andln(3)+d1&3;var m24=k2.andln(3)+d2&3;if(m14===3)m14=-1;if(m24===3)m24=-1;var u1;if((m14&1)===0){u1=0}else{m8=k1.andln(7)+d1&7;if((m8===3||m8===5)&&m24===2)u1=-m14;else u1=m14}jsf[0].push(u1);var u2;if((m24&1)===0){u2=0}else{m8=k2.andln(7)+d2&7;if((m8===3||m8===5)&&m14===2)u2=-m24;else u2=m24}jsf[1].push(u2);if(2*d1===u1+1)d1=1-d1;if(2*d2===u2+1)d2=1-d2;k1.iushrn(1);k2.iushrn(1)}return jsf}utils.getJSF=getJSF;function cachedProperty(obj,name,computer){var key="_"+name;obj.prototype[name]=function cachedProperty(){return this[key]!==undefined?this[key]:this[key]=computer.call(this)}}utils.cachedProperty=cachedProperty;function parseBytes(bytes){return typeof bytes==="string"?utils.toArray(bytes,"hex"):bytes}utils.parseBytes=parseBytes;function intFromLE(bytes){return new BN(bytes,"hex","le")}utils.intFromLE=intFromLE},{"bn.js":22,"minimalistic-assert":85,"minimalistic-crypto-utils":86}],42:[function(require,module,exports){module.exports={name:"elliptic",version:"6.6.1",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}},{}],43:[function(require,module,exports){(function(Buffer){(function(){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function createHashFunction(hashConstructor){return function(msg){var hash=hashConstructor();hash.update(msg);return Buffer.from(hash.digest())}}exports.createHashFunction=createHashFunction}).call(this)}).call(this,require("buffer").Buffer)},{buffer:168}],44:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var hash_utils_1=require("./hash-utils");var createKeccakHash=require("keccak");exports.keccak224=hash_utils_1.createHashFunction(function(){return createKeccakHash("keccak224")});exports.keccak256=hash_utils_1.createHashFunction(function(){return createKeccakHash("keccak256")});exports.keccak384=hash_utils_1.createHashFunction(function(){return createKeccakHash("keccak384")});exports.keccak512=hash_utils_1.createHashFunction(function(){return createKeccakHash("keccak512")})},{"./hash-utils":43,keccak:78}],45:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var randombytes=require("randombytes");function getRandomBytes(bytes){return new Promise(function(resolve,reject){randombytes(bytes,function(err,resp){if(err){reject(err);return}resolve(resp)})})}exports.getRandomBytes=getRandomBytes;function getRandomBytesSync(bytes){return randombytes(bytes)}exports.getRandomBytesSync=getRandomBytesSync},{randombytes:87}],46:[function(require,module,exports){"use strict";var __awaiter=void 0&&(void 0).__awaiter||function(thisArg,_arguments,P,generator){function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):adopt(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})};var __generator=void 0&&(void 0).__generator||function(thisArg,body){var _={label:0,sent:function sent(){if(t[0]&1)throw t[1];return t[1]},trys:[],ops:[]},f,y,t,g;return g={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return step([n,v])}}function step(op){if(f)throw new TypeError("Generator is already executing.");while(_){try{if(f=1,y&&(t=op[0]&2?y["return"]:op[0]?y["throw"]||((t=y["return"])&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;if(y=0,t)op=[op[0]&2,t.value];switch(op[0]){case 0:case 1:t=op;break;case 4:_.label++;return{value:op[1],done:false};case 5:_.label++;y=op[1];op=[0];continue;case 7:op=_.ops.pop();_.trys.pop();continue;default:if(!(t=_.trys,t=t.length>0&&t[t.length-1])&&(op[0]===6||op[0]===2)){_=0;continue}if(op[0]===3&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(op[0]===6&&_.label<t[1]){_.label=t[1];t=op;break}if(t&&_.label<t[2]){_.label=t[2];_.ops.push(op);break}if(t[2])_.ops.pop();_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e];y=0}finally{f=t=0}}if(op[0]&5)throw op[1];return{value:op[0]?op[1]:void 0,done:true}}};function __export(m){for(var p in m){if(!exports.hasOwnProperty(p))exports[p]=m[p]}}Object.defineProperty(exports,"__esModule",{value:true});var secp256k1_1=require("secp256k1");var random_1=require("./random");var SECP256K1_PRIVATE_KEY_SIZE=32;function createPrivateKey(){return __awaiter(this,void 0,void 0,function(){var pk;return __generator(this,function(_a){switch(_a.label){case 0:if(!true)return[3,2];return[4,random_1.getRandomBytes(SECP256K1_PRIVATE_KEY_SIZE)];case 1:pk=_a.sent();if(secp256k1_1.privateKeyVerify(pk)){return[2,pk]}return[3,0];case 2:return[2]}})})}exports.createPrivateKey=createPrivateKey;function createPrivateKeySync(){while(true){var pk=random_1.getRandomBytesSync(SECP256K1_PRIVATE_KEY_SIZE);if(secp256k1_1.privateKeyVerify(pk)){return pk}}}exports.createPrivateKeySync=createPrivateKeySync;__export(require("secp256k1"))},{"./random":45,secp256k1:106}],47:[function(require,module,exports){"use strict";module.exports=require("./lib/index.js")},{"./lib/index.js":48}],48:[function(require,module,exports){(function(Buffer){(function(){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}var utils=require("ethereumjs-util");var BN=require("bn.js");var ABI=function ABI(){};function elementaryName(name){if(name.startsWith("int[")){return"int256"+name.slice(3)}else if(name==="int"){return"int256"}else if(name.startsWith("uint[")){return"uint256"+name.slice(4)}else if(name==="uint"){return"uint256"}else if(name.startsWith("fixed[")){return"fixed128x128"+name.slice(5)}else if(name==="fixed"){return"fixed128x128"}else if(name.startsWith("ufixed[")){return"ufixed128x128"+name.slice(6)}else if(name==="ufixed"){return"ufixed128x128"}return name}ABI.eventID=function(name,types){var sig=name+"("+types.map(elementaryName).join(",")+")";return utils.keccak256(Buffer.from(sig))};ABI.methodID=function(name,types){return ABI.eventID(name,types).slice(0,4)};function parseTypeN(type){return parseInt(/^\D+(\d+)$/.exec(type)[1],10)}function parseTypeNxM(type){var tmp=/^\D+(\d+)x(\d+)$/.exec(type);return[parseInt(tmp[1],10),parseInt(tmp[2],10)]}function parseTypeArray(type){var tmp=type.match(/(.*)\[(.*?)\]$/);if(tmp){return tmp[2]===""?"dynamic":parseInt(tmp[2],10)}return null}function parseNumber(arg){var type=_typeof(arg);if(type==="string"){if(utils.isHexPrefixed(arg)){return new BN(utils.stripHexPrefix(arg),16)}else{return new BN(arg,10)}}else if(type==="number"){return new BN(arg)}else if(arg.toArray){return arg}else{throw new Error("Argument is not a number")}}function parseSignature(sig){var tmp=/^(\w+)\((.*)\)$/.exec(sig);if(tmp.length!==3){throw new Error("Invalid method signature")}var args=/^(.+)\):\((.+)$/.exec(tmp[2]);if(args!==null&&args.length===3){return{method:tmp[1],args:args[1].split(","),retargs:args[2].split(",")}}else{var params=tmp[2].split(",");if(params.length===1&&params[0]===""){params=[]}return{method:tmp[1],args:params}}}function encodeSingle(type,arg){var size,num,ret,i;if(type==="address"){return encodeSingle("uint160",parseNumber(arg))}else if(type==="bool"){return encodeSingle("uint8",arg?1:0)}else if(type==="string"){return encodeSingle("bytes",Buffer.from(arg,"utf8"))}else if(isArray(type)){if(typeof arg.length==="undefined"){throw new Error("Not an array?")}size=parseTypeArray(type);if(size!=="dynamic"&&size!==0&&arg.length>size){throw new Error("Elements exceed array size: "+size)}ret=[];type=type.slice(0,type.lastIndexOf("["));if(typeof arg==="string"){arg=JSON.parse(arg)}for(i in arg){ret.push(encodeSingle(type,arg[i]))}if(size==="dynamic"){var length=encodeSingle("uint256",arg.length);ret.unshift(length)}return Buffer.concat(ret)}else if(type==="bytes"){arg=Buffer.from(arg);ret=Buffer.concat([encodeSingle("uint256",arg.length),arg]);if(arg.length%32!==0){ret=Buffer.concat([ret,utils.zeros(32-arg.length%32)])}return ret}else if(type.startsWith("bytes")){size=parseTypeN(type);if(size<1||size>32){throw new Error("Invalid bytes<N> width: "+size)}return utils.setLengthRight(arg,32)}else if(type.startsWith("uint")){size=parseTypeN(type);if(size%8||size<8||size>256){throw new Error("Invalid uint<N> width: "+size)}num=parseNumber(arg);if(num.bitLength()>size){throw new Error("Supplied uint exceeds width: "+size+" vs "+num.bitLength())}if(num<0){throw new Error("Supplied uint is negative")}return num.toArrayLike(Buffer,"be",32)}else if(type.startsWith("int")){size=parseTypeN(type);if(size%8||size<8||size>256){throw new Error("Invalid int<N> width: "+size)}num=parseNumber(arg);if(num.bitLength()>size){throw new Error("Supplied int exceeds width: "+size+" vs "+num.bitLength())}return num.toTwos(256).toArrayLike(Buffer,"be",32)}else if(type.startsWith("ufixed")){size=parseTypeNxM(type);num=parseNumber(arg);if(num<0){throw new Error("Supplied ufixed is negative")}return encodeSingle("uint256",num.mul(new BN(2).pow(new BN(size[1]))))}else if(type.startsWith("fixed")){size=parseTypeNxM(type);return encodeSingle("int256",parseNumber(arg).mul(new BN(2).pow(new BN(size[1]))))}throw new Error("Unsupported or invalid type: "+type)}function decodeSingle(parsedType,data,offset){if(typeof parsedType==="string"){parsedType=parseType(parsedType)}var size,num,ret,i;if(parsedType.name==="address"){return decodeSingle(parsedType.rawType,data,offset).toArrayLike(Buffer,"be",20).toString("hex")}else if(parsedType.name==="bool"){return decodeSingle(parsedType.rawType,data,offset).toString()===new BN(1).toString()}else if(parsedType.name==="string"){var bytes=decodeSingle(parsedType.rawType,data,offset);return Buffer.from(bytes,"utf8").toString()}else if(parsedType.isArray){ret=[];size=parsedType.size;if(parsedType.size==="dynamic"){offset=decodeSingle("uint256",data,offset).toNumber();size=decodeSingle("uint256",data,offset).toNumber();offset=offset+32}for(i=0;i<size;i++){var decoded=decodeSingle(parsedType.subArray,data,offset);ret.push(decoded);offset+=parsedType.subArray.memoryUsage}return ret}else if(parsedType.name==="bytes"){offset=decodeSingle("uint256",data,offset).toNumber();size=decodeSingle("uint256",data,offset).toNumber();return data.slice(offset+32,offset+32+size)}else if(parsedType.name.startsWith("bytes")){return data.slice(offset,offset+parsedType.size)}else if(parsedType.name.startsWith("uint")){num=new BN(data.slice(offset,offset+32),16,"be");if(num.bitLength()>parsedType.size){throw new Error("Decoded int exceeds width: "+parsedType.size+" vs "+num.bitLength())}return num}else if(parsedType.name.startsWith("int")){num=new BN(data.slice(offset,offset+32),16,"be").fromTwos(256);if(num.bitLength()>parsedType.size){throw new Error("Decoded uint exceeds width: "+parsedType.size+" vs "+num.bitLength())}return num}else if(parsedType.name.startsWith("ufixed")){size=new BN(2).pow(new BN(parsedType.size[1]));num=decodeSingle("uint256",data,offset);if(!num.mod(size).isZero()){throw new Error("Decimals not supported yet")}return num.div(size)}else if(parsedType.name.startsWith("fixed")){size=new BN(2).pow(new BN(parsedType.size[1]));num=decodeSingle("int256",data,offset);if(!num.mod(size).isZero()){throw new Error("Decimals not supported yet")}return num.div(size)}throw new Error("Unsupported or invalid type: "+parsedType.name)}function parseType(type){var size;var ret;if(isArray(type)){size=parseTypeArray(type);var subArray=type.slice(0,type.lastIndexOf("["));subArray=parseType(subArray);ret={isArray:true,name:type,size:size,memoryUsage:size==="dynamic"?32:subArray.memoryUsage*size,subArray:subArray};return ret}else{var rawType;switch(type){case"address":rawType="uint160";break;case"bool":rawType="uint8";break;case"string":rawType="bytes";break}ret={rawType:rawType,name:type,memoryUsage:32};if(type.startsWith("bytes")&&type!=="bytes"||type.startsWith("uint")||type.startsWith("int")){ret.size=parseTypeN(type)}else if(type.startsWith("ufixed")||type.startsWith("fixed")){ret.size=parseTypeNxM(type)}if(type.startsWith("bytes")&&type!=="bytes"&&(ret.size<1||ret.size>32)){throw new Error("Invalid bytes<N> width: "+ret.size)}if((type.startsWith("uint")||type.startsWith("int"))&&(ret.size%8||ret.size<8||ret.size>256)){throw new Error("Invalid int/uint<N> width: "+ret.size)}return ret}}function isDynamic(type){return type==="string"||type==="bytes"||parseTypeArray(type)==="dynamic"}function isArray(type){return type.lastIndexOf("]")===type.length-1}ABI.rawEncode=function(types,values){var output=[];var data=[];var headLength=0;types.forEach(function(type){if(isArray(type)){var size=parseTypeArray(type);if(size!=="dynamic"){headLength+=32*size}else{headLength+=32}}else{headLength+=32}});for(var i=0;i<types.length;i++){var type=elementaryName(types[i]);var value=values[i];var cur=encodeSingle(type,value);if(isDynamic(type)){output.push(encodeSingle("uint256",headLength));data.push(cur);headLength+=cur.length}else{output.push(cur)}}return Buffer.concat(output.concat(data))};ABI.rawDecode=function(types,data){var ret=[];data=Buffer.from(data);var offset=0;for(var i=0;i<types.length;i++){var type=elementaryName(types[i]);var parsed=parseType(type,data,offset);var decoded=decodeSingle(parsed,data,offset);offset+=parsed.memoryUsage;ret.push(decoded)}return ret};ABI.simpleEncode=function(method){var args=Array.prototype.slice.call(arguments).slice(1);var sig=parseSignature(method);if(args.length!==sig.args.length){throw new Error("Argument count mismatch")}return Buffer.concat([ABI.methodID(sig.method,sig.args),ABI.rawEncode(sig.args,args)])};ABI.simpleDecode=function(method,data){var sig=parseSignature(method);if(!sig.retargs){throw new Error("No return values in method")}return ABI.rawDecode(sig.retargs,data)};function stringify(type,value){if(type.startsWith("address")||type.startsWith("bytes")){return"0x"+value.toString("hex")}else{return value.toString()}}ABI.stringify=function(types,values){var ret=[];for(var i in types){var type=types[i];var value=values[i];if(/^[^\[]+\[.*\]$/.test(type)){value=value.map(function(item){return stringify(type,item)}).join(", ")}else{value=stringify(type,value)}ret.push(value)}return ret};ABI.solidityHexValue=function(type,value,bitsize){var size,num;if(isArray(type)){var subType=type.replace(/\[.*?\]/,"");if(!isArray(subType)){var arraySize=parseTypeArray(type);if(arraySize!=="dynamic"&&arraySize!==0&&value.length>arraySize){throw new Error("Elements exceed array size: "+arraySize)}}var arrayValues=value.map(function(v){return ABI.solidityHexValue(subType,v,256)});return Buffer.concat(arrayValues)}else if(type==="bytes"){return value}else if(type==="string"){return Buffer.from(value,"utf8")}else if(type==="bool"){bitsize=bitsize||8;var padding=Array(bitsize/4).join("0");return Buffer.from(value?padding+"1":padding+"0","hex")}else if(type==="address"){var bytesize=20;if(bitsize){bytesize=bitsize/8}return utils.setLengthLeft(value,bytesize)}else if(type.startsWith("bytes")){size=parseTypeN(type);if(size<1||size>32){throw new Error("Invalid bytes<N> width: "+size)}return utils.setLengthRight(value,size)}else if(type.startsWith("uint")){size=parseTypeN(type);if(size%8||size<8||size>256){throw new Error("Invalid uint<N> width: "+size)}num=parseNumber(value);if(num.bitLength()>size){throw new Error("Supplied uint exceeds width: "+size+" vs "+num.bitLength())}bitsize=bitsize||size;return num.toArrayLike(Buffer,"be",bitsize/8)}else if(type.startsWith("int")){size=parseTypeN(type);if(size%8||size<8||size>256){throw new Error("Invalid int<N> width: "+size)}num=parseNumber(value);if(num.bitLength()>size){throw new Error("Supplied int exceeds width: "+size+" vs "+num.bitLength())}bitsize=bitsize||size;return num.toTwos(size).toArrayLike(Buffer,"be",bitsize/8)}else{throw new Error("Unsupported or invalid type: "+type)}};ABI.solidityPack=function(types,values){if(types.length!==values.length){throw new Error("Number of types are not matching the values")}var ret=[];for(var i=0;i<types.length;i++){var type=elementaryName(types[i]);var value=values[i];ret.push(ABI.solidityHexValue(type,value,null))}return Buffer.concat(ret)};ABI.soliditySHA3=function(types,values){return utils.keccak256(ABI.solidityPack(types,values))};ABI.soliditySHA256=function(types,values){return utils.sha256(ABI.solidityPack(types,values))};ABI.solidityRIPEMD160=function(types,values){return utils.ripemd160(ABI.solidityPack(types,values),true)};function isNumeric(c){return c>="0"&&c<="9"}ABI.fromSerpent=function(sig){var ret=[];for(var i=0;i<sig.length;i++){var type=sig[i];if(type==="s"){ret.push("bytes")}else if(type==="b"){var tmp="bytes";var j=i+1;while(j<sig.length&&isNumeric(sig[j])){tmp+=sig[j]-"0";j++}i=j-1;ret.push(tmp)}else if(type==="i"){ret.push("int256")}else if(type==="a"){ret.push("int256[]")}else{throw new Error("Unsupported or invalid type: "+type)}}return ret};ABI.toSerpent=function(types){var ret=[];for(var i=0;i<types.length;i++){var type=types[i];if(type==="bytes"){ret.push("s")}else if(type.startsWith("bytes")){ret.push("b"+parseTypeN(type))}else if(type==="int256"){ret.push("i")}else if(type==="int256[]"){ret.push("a")}else{throw new Error("Unsupported or invalid type: "+type)}}return ret.join("")};module.exports=ABI}).call(this)}).call(this,require("buffer").Buffer)},{"bn.js":22,buffer:168,"ethereumjs-util":53}],49:[function(require,module,exports){arguments[4][11][0].apply(exports,arguments)},{"./bytes":50,"./hash":52,"./secp256k1v3-adapter":55,assert:162,"bn.js":22,buffer:168,dup:11,"ethjs-util":59}],50:[function(require,module,exports){arguments[4][12][0].apply(exports,arguments)},{"bn.js":22,buffer:168,dup:12,"ethjs-util":59}],51:[function(require,module,exports){arguments[4][13][0].apply(exports,arguments)},{"bn.js":22,buffer:168,dup:13}],52:[function(require,module,exports){arguments[4][14][0].apply(exports,arguments)},{"./bytes":50,buffer:168,"create-hash":26,dup:14,"ethereum-cryptography/keccak":44,"ethjs-util":59,rlp:104}],53:[function(require,module,exports){arguments[4][15][0].apply(exports,arguments)},{"./account":49,"./bytes":50,"./constants":51,"./hash":52,"./object":54,"./secp256k1v3-adapter":55,"./signature":58,"bn.js":22,dup:15,"ethjs-util":59,rlp:104}],54:[function(require,module,exports){arguments[4][16][0].apply(exports,arguments)},{"./bytes":50,assert:162,buffer:168,dup:16,"ethjs-util":59,rlp:104}],55:[function(require,module,exports){arguments[4][17][0].apply(exports,arguments)},{"./secp256k1v3-lib/der":56,"./secp256k1v3-lib/index":57,buffer:168,dup:17,"ethereum-cryptography/secp256k1":46}],56:[function(require,module,exports){arguments[4][18][0].apply(exports,arguments)},{buffer:168,dup:18}],57:[function(require,module,exports){arguments[4][19][0].apply(exports,arguments)},{"bn.js":22,buffer:168,dup:19,elliptic:27}],58:[function(require,module,exports){arguments[4][20][0].apply(exports,arguments)},{"./bytes":50,"./hash":52,"./secp256k1v3-adapter":55,"bn.js":22,buffer:168,dup:20}],59:[function(require,module,exports){(function(Buffer){(function(){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}var isHexPrefixed=require("is-hex-prefixed");var stripHexPrefix=require("strip-hex-prefix");function padToEven(value){var a=value;if(typeof a!=="string"){throw new Error("[ethjs-util] while padding to even, value must be string, is currently "+_typeof(a)+", while padToEven.")}if(a.length%2){a="0"+a}return a}function intToHex(i){var hex=i.toString(16);return"0x"+hex}function intToBuffer(i){var hex=intToHex(i);return new Buffer(padToEven(hex.slice(2)),"hex")}function getBinarySize(str){if(typeof str!=="string"){throw new Error("[ethjs-util] while getting binary size, method getBinarySize requires input 'str' to be type String, got '"+_typeof(str)+"'.")}return Buffer.byteLength(str,"utf8")}function arrayContainsArray(superset,subset,some){if(Array.isArray(superset)!==true){throw new Error("[ethjs-util] method arrayContainsArray requires input 'superset' to be an array got type '"+_typeof(superset)+"'")}if(Array.isArray(subset)!==true){throw new Error("[ethjs-util] method arrayContainsArray requires input 'subset' to be an array got type '"+_typeof(subset)+"'")}return subset[Boolean(some)&&"some"||"every"](function(value){return superset.indexOf(value)>=0})}function toUtf8(hex){var bufferValue=new Buffer(padToEven(stripHexPrefix(hex).replace(/^0+|0+$/g,"")),"hex");return bufferValue.toString("utf8")}function toAscii(hex){var str="";var i=0,l=hex.length;if(hex.substring(0,2)==="0x"){i=2}for(;i<l;i+=2){var code=parseInt(hex.substr(i,2),16);str+=String.fromCharCode(code)}return str}function fromUtf8(stringValue){var str=new Buffer(stringValue,"utf8");return"0x"+padToEven(str.toString("hex")).replace(/^0+|0+$/g,"")}function fromAscii(stringValue){var hex="";for(var i=0;i<stringValue.length;i++){var code=stringValue.charCodeAt(i);var n=code.toString(16);hex+=n.length<2?"0"+n:n}return"0x"+hex}function getKeys(params,key,allowEmpty){if(!Array.isArray(params)){throw new Error("[ethjs-util] method getKeys expecting type Array as 'params' input, got '"+_typeof(params)+"'")}if(typeof key!=="string"){throw new Error("[ethjs-util] method getKeys expecting type String for input 'key' got '"+_typeof(key)+"'.")}var result=[];for(var i=0;i<params.length;i++){var value=params[i][key];if(allowEmpty&&!value){value=""}else if(typeof value!=="string"){throw new Error("invalid abi")}result.push(value)}return result}function isHexString(value,length){if(typeof value!=="string"||!value.match(/^0x[0-9A-Fa-f]*$/)){return false}if(length&&value.length!==2+2*length){return false}return true}module.exports={arrayContainsArray:arrayContainsArray,intToBuffer:intToBuffer,getBinarySize:getBinarySize,isHexPrefixed:isHexPrefixed,stripHexPrefix:stripHexPrefix,padToEven:padToEven,intToHex:intToHex,fromAscii:fromAscii,fromUtf8:fromUtf8,toAscii:toAscii,toUtf8:toUtf8,getKeys:getKeys,isHexString:isHexString}}).call(this)}).call(this,require("buffer").Buffer)},{buffer:168,"is-hex-prefixed":76,"strip-hex-prefix":118}],60:[function(require,module,exports){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}var R=(typeof Reflect==="undefined"?"undefined":_typeof(Reflect))==="object"?Reflect:null;var ReflectApply=R&&typeof R.apply==="function"?R.apply:function ReflectApply(target,receiver,args){return Function.prototype.apply.call(target,receiver,args)};var ReflectOwnKeys;if(R&&typeof R.ownKeys==="function"){ReflectOwnKeys=R.ownKeys}else if(Object.getOwnPropertySymbols){ReflectOwnKeys=function ReflectOwnKeys(target){return Object.getOwnPropertyNames(target).concat(Object.getOwnPropertySymbols(target))}}else{ReflectOwnKeys=function ReflectOwnKeys(target){return Object.getOwnPropertyNames(target)}}function ProcessEmitWarning(warning){if(console&&console.warn)console.warn(warning)}var NumberIsNaN=Number.isNaN||function NumberIsNaN(value){return value!==value};function EventEmitter(){EventEmitter.init.call(this)}module.exports=EventEmitter;module.exports.once=once;EventEmitter.EventEmitter=EventEmitter;EventEmitter.prototype._events=undefined;EventEmitter.prototype._eventsCount=0;EventEmitter.prototype._maxListeners=undefined;var defaultMaxListeners=10;function checkListener(listener){if(typeof listener!=="function"){throw new TypeError('The "listener" argument must be of type Function. Received type '+_typeof(listener))}}Object.defineProperty(EventEmitter,"defaultMaxListeners",{enumerable:true,get:function get(){return defaultMaxListeners},set:function set(arg){if(typeof arg!=="number"||arg<0||NumberIsNaN(arg)){throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+arg+".")}defaultMaxListeners=arg}});EventEmitter.init=function(){if(this._events===undefined||this._events===Object.getPrototypeOf(this)._events){this._events=Object.create(null);this._eventsCount=0}this._maxListeners=this._maxListeners||undefined};EventEmitter.prototype.setMaxListeners=function setMaxListeners(n){if(typeof n!=="number"||n<0||NumberIsNaN(n)){throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+n+".")}this._maxListeners=n;return this};function _getMaxListeners(that){if(that._maxListeners===undefined)return EventEmitter.defaultMaxListeners;return that._maxListeners}EventEmitter.prototype.getMaxListeners=function getMaxListeners(){return _getMaxListeners(this)};EventEmitter.prototype.emit=function emit(type){var args=[];for(var i=1;i<arguments.length;i++){args.push(arguments[i])}var doError=type==="error";var events=this._events;if(events!==undefined)doError=doError&&events.error===undefined;else if(!doError)return false;if(doError){var er;if(args.length>0)er=args[0];if(er instanceof Error){throw er}var err=new Error("Unhandled error."+(er?" ("+er.message+")":""));err.context=er;throw err}var handler=events[type];if(handler===undefined)return false;if(typeof handler==="function"){ReflectApply(handler,this,args)}else{var len=handler.length;var listeners=arrayClone(handler,len);for(var i=0;i<len;++i){ReflectApply(listeners[i],this,args)}}return true};function _addListener(target,type,listener,prepend){var m;var events;var existing;checkListener(listener);events=target._events;if(events===undefined){events=target._events=Object.create(null);target._eventsCount=0}else{if(events.newListener!==undefined){target.emit("newListener",type,listener.listener?listener.listener:listener);events=target._events}existing=events[type]}if(existing===undefined){existing=events[type]=listener;++target._eventsCount}else{if(typeof existing==="function"){existing=events[type]=prepend?[listener,existing]:[existing,listener]}else if(prepend){existing.unshift(listener)}else{existing.push(listener)}m=_getMaxListeners(target);if(m>0&&existing.length>m&&!existing.warned){existing.warned=true;var w=new Error("Possible EventEmitter memory leak detected. "+existing.length+" "+String(type)+" listeners "+"added. Use emitter.setMaxListeners() to "+"increase limit");w.name="MaxListenersExceededWarning";w.emitter=target;w.type=type;w.count=existing.length;ProcessEmitWarning(w)}}return target}EventEmitter.prototype.addListener=function addListener(type,listener){return _addListener(this,type,listener,false)};EventEmitter.prototype.on=EventEmitter.prototype.addListener;EventEmitter.prototype.prependListener=function prependListener(type,listener){return _addListener(this,type,listener,true)};function onceWrapper(){if(!this.fired){this.target.removeListener(this.type,this.wrapFn);this.fired=true;if(arguments.length===0)return this.listener.call(this.target);return this.listener.apply(this.target,arguments)}}function _onceWrap(target,type,listener){var state={fired:false,wrapFn:undefined,target:target,type:type,listener:listener};var wrapped=onceWrapper.bind(state);wrapped.listener=listener;state.wrapFn=wrapped;return wrapped}EventEmitter.prototype.once=function once(type,listener){checkListener(listener);this.on(type,_onceWrap(this,type,listener));return this};EventEmitter.prototype.prependOnceListener=function prependOnceListener(type,listener){checkListener(listener);this.prependListener(type,_onceWrap(this,type,listener));return this};EventEmitter.prototype.removeListener=function removeListener(type,listener){var list,events,position,i,originalListener;checkListener(listener);events=this._events;if(events===undefined)return this;list=events[type];if(list===undefined)return this;if(list===listener||list.listener===listener){if(--this._eventsCount===0)this._events=Object.create(null);else{delete events[type];if(events.removeListener)this.emit("removeListener",type,list.listener||listener)}}else if(typeof list!=="function"){position=-1;for(i=list.length-1;i>=0;i--){if(list[i]===listener||list[i].listener===listener){originalListener=list[i].listener;position=i;break}}if(position<0)return this;if(position===0)list.shift();else{spliceOne(list,position)}if(list.length===1)events[type]=list[0];if(events.removeListener!==undefined)this.emit("removeListener",type,originalListener||listener)}return this};EventEmitter.prototype.off=EventEmitter.prototype.removeListener;EventEmitter.prototype.removeAllListeners=function removeAllListeners(type){var listeners,events,i;events=this._events;if(events===undefined)return this;if(events.removeListener===undefined){if(arguments.length===0){this._events=Object.create(null);this._eventsCount=0}else if(events[type]!==undefined){if(--this._eventsCount===0)this._events=Object.create(null);else delete events[type]}return this}if(arguments.length===0){var keys=Object.keys(events);var key;for(i=0;i<keys.length;++i){key=keys[i];if(key==="removeListener")continue;this.removeAllListeners(key)}this.removeAllListeners("removeListener");this._events=Object.create(null);this._eventsCount=0;return this}listeners=events[type];if(typeof listeners==="function"){this.removeListener(type,listeners)}else if(listeners!==undefined){for(i=listeners.length-1;i>=0;i--){this.removeListener(type,listeners[i])}}return this};function _listeners(target,type,unwrap){var events=target._events;if(events===undefined)return[];var evlistener=events[type];if(evlistener===undefined)return[];if(typeof evlistener==="function")return unwrap?[evlistener.listener||evlistener]:[evlistener];return unwrap?unwrapListeners(evlistener):arrayClone(evlistener,evlistener.length)}EventEmitter.prototype.listeners=function listeners(type){return _listeners(this,type,true)};EventEmitter.prototype.rawListeners=function rawListeners(type){return _listeners(this,type,false)};EventEmitter.listenerCount=function(emitter,type){if(typeof emitter.listenerCount==="function"){return emitter.listenerCount(type)}else{return listenerCount.call(emitter,type)}};EventEmitter.prototype.listenerCount=listenerCount;function listenerCount(type){var events=this._events;if(events!==undefined){var evlistener=events[type];if(typeof evlistener==="function"){return 1}else if(evlistener!==undefined){return evlistener.length}}return 0}EventEmitter.prototype.eventNames=function eventNames(){return this._eventsCount>0?ReflectOwnKeys(this._events):[]};function arrayClone(arr,n){var copy=new Array(n);for(var i=0;i<n;++i){copy[i]=arr[i]}return copy}function spliceOne(list,index){for(;index+1<list.length;index++){list[index]=list[index+1]}list.pop()}function unwrapListeners(arr){var ret=new Array(arr.length);for(var i=0;i<ret.length;++i){ret[i]=arr[i].listener||arr[i]}return ret}function once(emitter,name){return new Promise(function(resolve,reject){function errorListener(err){emitter.removeListener(name,resolver);reject(err)}function resolver(){if(typeof emitter.removeListener==="function"){emitter.removeListener("error",errorListener)}resolve([].slice.call(arguments))}eventTargetAgnosticAddListener(emitter,name,resolver,{once:true});if(name!=="error"){addErrorHandlerIfEventEmitter(emitter,errorListener,{once:true})}})}function addErrorHandlerIfEventEmitter(emitter,handler,flags){if(typeof emitter.on==="function"){eventTargetAgnosticAddListener(emitter,"error",handler,flags)}}function eventTargetAgnosticAddListener(emitter,name,listener,flags){if(typeof emitter.on==="function"){if(flags.once){emitter.once(name,listener)}else{emitter.on(name,listener)}}else if(typeof emitter.addEventListener==="function"){emitter.addEventListener(name,function wrapListener(arg){if(flags.once){emitter.removeEventListener(name,wrapListener)}listener(arg)})}else{throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+_typeof(emitter))}}},{}],61:[function(require,module,exports){"use strict";var Buffer=require("safe-buffer").Buffer;var Transform=require("readable-stream").Transform;var inherits=require("inherits");function throwIfNotStringOrBuffer(val,prefix){if(!Buffer.isBuffer(val)&&typeof val!=="string"){throw new TypeError(prefix+" must be a string or a buffer")}}function HashBase(blockSize){Transform.call(this);this._block=Buffer.allocUnsafe(blockSize);this._blockSize=blockSize;this._blockOffset=0;this._length=[0,0,0,0];this._finalized=false}inherits(HashBase,Transform);HashBase.prototype._transform=function(chunk,encoding,callback){var error=null;try{this.update(chunk,encoding)}catch(err){error=err}callback(error)};HashBase.prototype._flush=function(callback){var error=null;try{this.push(this.digest())}catch(err){error=err}callback(error)};HashBase.prototype.update=function(data,encoding){throwIfNotStringOrBuffer(data,"Data");if(this._finalized)throw new Error("Digest already called");if(!Buffer.isBuffer(data))data=Buffer.from(data,encoding);var block=this._block;var offset=0;while(this._blockOffset+data.length-offset>=this._blockSize){for(var i=this._blockOffset;i<this._blockSize;){block[i++]=data[offset++]}this._update();this._blockOffset=0}while(offset<data.length){block[this._blockOffset++]=data[offset++]}for(var j=0,carry=data.length*8;carry>0;++j){this._length[j]+=carry;carry=this._length[j]/4294967296|0;if(carry>0)this._length[j]-=4294967296*carry}return this};HashBase.prototype._update=function(){throw new Error("_update is not implemented")};HashBase.prototype.digest=function(encoding){if(this._finalized)throw new Error("Digest already called");this._finalized=true;var digest=this._digest();if(encoding!==undefined)digest=digest.toString(encoding);this._block.fill(0);this._blockOffset=0;for(var i=0;i<4;++i){this._length[i]=0}return digest};HashBase.prototype._digest=function(){throw new Error("_digest is not implemented")};module.exports=HashBase},{inherits:75,"readable-stream":102,"safe-buffer":105}],62:[function(require,module,exports){"use strict";var hash=exports;hash.utils=require("./hash/utils");hash.common=require("./hash/common");hash.sha=require("./hash/sha");hash.ripemd=require("./hash/ripemd");hash.hmac=require("./hash/hmac");hash.sha1=hash.sha.sha1;hash.sha256=hash.sha.sha256;hash.sha224=hash.sha.sha224;hash.sha384=hash.sha.sha384;hash.sha512=hash.sha.sha512;hash.ripemd160=hash.ripemd.ripemd160},{"./hash/common":63,"./hash/hmac":64,"./hash/ripemd":65,"./hash/sha":66,"./hash/utils":73}],63:[function(require,module,exports){"use strict";var utils=require("./utils");var assert=require("minimalistic-assert");function BlockHash(){this.pending=null;this.pendingTotal=0;this.blockSize=this.constructor.blockSize;this.outSize=this.constructor.outSize;this.hmacStrength=this.constructor.hmacStrength;this.padLength=this.constructor.padLength/8;this.endian="big";this._delta8=this.blockSize/8;this._delta32=this.blockSize/32}exports.BlockHash=BlockHash;BlockHash.prototype.update=function update(msg,enc){msg=utils.toArray(msg,enc);if(!this.pending)this.pending=msg;else this.pending=this.pending.concat(msg);this.pendingTotal+=msg.length;if(this.pending.length>=this._delta8){msg=this.pending;var r=msg.length%this._delta8;this.pending=msg.slice(msg.length-r,msg.length);if(this.pending.length===0)this.pending=null;msg=utils.join32(msg,0,msg.length-r,this.endian);for(var i=0;i<msg.length;i+=this._delta32){this._update(msg,i,i+this._delta32)}}return this};BlockHash.prototype.digest=function digest(enc){this.update(this._pad());assert(this.pending===null);return this._digest(enc)};BlockHash.prototype._pad=function pad(){var len=this.pendingTotal;var bytes=this._delta8;var k=bytes-(len+this.padLength)%bytes;var res=new Array(k+this.padLength);res[0]=128;for(var i=1;i<k;i++){res[i]=0}len<<=3;if(this.endian==="big"){for(var t=8;t<this.padLength;t++){res[i++]=0}res[i++]=0;res[i++]=0;res[i++]=0;res[i++]=0;res[i++]=len>>>24&255;res[i++]=len>>>16&255;res[i++]=len>>>8&255;res[i++]=len&255}else{res[i++]=len&255;res[i++]=len>>>8&255;res[i++]=len>>>16&255;res[i++]=len>>>24&255;res[i++]=0;res[i++]=0;res[i++]=0;res[i++]=0;for(t=8;t<this.padLength;t++){res[i++]=0}}return res}},{"./utils":73,"minimalistic-assert":85}],64:[function(require,module,exports){"use strict";var utils=require("./utils");var assert=require("minimalistic-assert");function Hmac(hash,key,enc){if(!(this instanceof Hmac))return new Hmac(hash,key,enc);this.Hash=hash;this.blockSize=hash.blockSize/8;this.outSize=hash.outSize/8;this.inner=null;this.outer=null;this._init(utils.toArray(key,enc))}module.exports=Hmac;Hmac.prototype._init=function init(key){if(key.length>this.blockSize)key=(new this.Hash).update(key).digest();assert(key.length<=this.blockSize);for(var i=key.length;i<this.blockSize;i++){key.push(0)}for(i=0;i<key.length;i++){key[i]^=54}this.inner=(new this.Hash).update(key);for(i=0;i<key.length;i++){key[i]^=106}this.outer=(new this.Hash).update(key)};Hmac.prototype.update=function update(msg,enc){this.inner.update(msg,enc);return this};Hmac.prototype.digest=function digest(enc){this.outer.update(this.inner.digest());return this.outer.digest(enc)}},{"./utils":73,"minimalistic-assert":85}],65:[function(require,module,exports){"use strict";var utils=require("./utils");var common=require("./common");var rotl32=utils.rotl32;var sum32=utils.sum32;var sum32_3=utils.sum32_3;var sum32_4=utils.sum32_4;var BlockHash=common.BlockHash;function RIPEMD160(){if(!(this instanceof RIPEMD160))return new RIPEMD160;BlockHash.call(this);this.h=[1732584193,4023233417,2562383102,271733878,3285377520];this.endian="little"}utils.inherits(RIPEMD160,BlockHash);exports.ripemd160=RIPEMD160;RIPEMD160.blockSize=512;RIPEMD160.outSize=160;RIPEMD160.hmacStrength=192;RIPEMD160.padLength=64;RIPEMD160.prototype._update=function update(msg,start){var A=this.h[0];var B=this.h[1];var C=this.h[2];var D=this.h[3];var E=this.h[4];var Ah=A;var Bh=B;var Ch=C;var Dh=D;var Eh=E;for(var j=0;j<80;j++){var T=sum32(rotl32(sum32_4(A,f(j,B,C,D),msg[r[j]+start],K(j)),s[j]),E);A=E;E=D;D=rotl32(C,10);C=B;B=T;T=sum32(rotl32(sum32_4(Ah,f(79-j,Bh,Ch,Dh),msg[rh[j]+start],Kh(j)),sh[j]),Eh);Ah=Eh;Eh=Dh;Dh=rotl32(Ch,10);Ch=Bh;Bh=T}T=sum32_3(this.h[1],C,Dh);this.h[1]=sum32_3(this.h[2],D,Eh);this.h[2]=sum32_3(this.h[3],E,Ah);this.h[3]=sum32_3(this.h[4],A,Bh);this.h[4]=sum32_3(this.h[0],B,Ch);this.h[0]=T};RIPEMD160.prototype._digest=function digest(enc){if(enc==="hex")return utils.toHex32(this.h,"little");else return utils.split32(this.h,"little")};function f(j,x,y,z){if(j<=15)return x^y^z;else if(j<=31)return x&y|~x&z;else if(j<=47)return(x|~y)^z;else if(j<=63)return x&z|y&~z;else return x^(y|~z)}function K(j){if(j<=15)return 0;else if(j<=31)return 1518500249;else if(j<=47)return 1859775393;else if(j<=63)return 2400959708;else return 2840853838}function Kh(j){if(j<=15)return 1352829926;else if(j<=31)return 1548603684;else if(j<=47)return 1836072691;else if(j<=63)return 2053994217;else return 0}var r=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13];var rh=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11];var s=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6];var sh=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},{"./common":63,"./utils":73}],66:[function(require,module,exports){"use strict";exports.sha1=require("./sha/1");exports.sha224=require("./sha/224");exports.sha256=require("./sha/256");exports.sha384=require("./sha/384");exports.sha512=require("./sha/512")},{"./sha/1":67,"./sha/224":68,"./sha/256":69,"./sha/384":70,"./sha/512":71}],67:[function(require,module,exports){"use strict";var utils=require("../utils");var common=require("../common");var shaCommon=require("./common");var rotl32=utils.rotl32;var sum32=utils.sum32;var sum32_5=utils.sum32_5;var ft_1=shaCommon.ft_1;var BlockHash=common.BlockHash;var sha1_K=[1518500249,1859775393,2400959708,3395469782];function SHA1(){if(!(this instanceof SHA1))return new SHA1;BlockHash.call(this);this.h=[1732584193,4023233417,2562383102,271733878,3285377520];this.W=new Array(80)}utils.inherits(SHA1,BlockHash);module.exports=SHA1;SHA1.blockSize=512;SHA1.outSize=160;SHA1.hmacStrength=80;SHA1.padLength=64;SHA1.prototype._update=function _update(msg,start){var W=this.W;for(var i=0;i<16;i++){W[i]=msg[start+i]}for(;i<W.length;i++){W[i]=rotl32(W[i-3]^W[i-8]^W[i-14]^W[i-16],1)}var a=this.h[0];var b=this.h[1];var c=this.h[2];var d=this.h[3];var e=this.h[4];for(i=0;i<W.length;i++){var s=~~(i/20);var t=sum32_5(rotl32(a,5),ft_1(s,b,c,d),e,W[i],sha1_K[s]);e=d;d=c;c=rotl32(b,30);b=a;a=t}this.h[0]=sum32(this.h[0],a);this.h[1]=sum32(this.h[1],b);this.h[2]=sum32(this.h[2],c);this.h[3]=sum32(this.h[3],d);this.h[4]=sum32(this.h[4],e)};SHA1.prototype._digest=function digest(enc){if(enc==="hex")return utils.toHex32(this.h,"big");else return utils.split32(this.h,"big")}},{"../common":63,"../utils":73,"./common":72}],68:[function(require,module,exports){"use strict";var utils=require("../utils");var SHA256=require("./256");function SHA224(){if(!(this instanceof SHA224))return new SHA224;SHA256.call(this);this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}utils.inherits(SHA224,SHA256);module.exports=SHA224;SHA224.blockSize=512;SHA224.outSize=224;SHA224.hmacStrength=192;SHA224.padLength=64;SHA224.prototype._digest=function digest(enc){if(enc==="hex")return utils.toHex32(this.h.slice(0,7),"big");else return utils.split32(this.h.slice(0,7),"big")}},{"../utils":73,"./256":69}],69:[function(require,module,exports){"use strict";var utils=require("../utils");var common=require("../common");var shaCommon=require("./common");var assert=require("minimalistic-assert");var sum32=utils.sum32;var sum32_4=utils.sum32_4;var sum32_5=utils.sum32_5;var ch32=shaCommon.ch32;var maj32=shaCommon.maj32;var s0_256=shaCommon.s0_256;var s1_256=shaCommon.s1_256;var g0_256=shaCommon.g0_256;var g1_256=shaCommon.g1_256;var BlockHash=common.BlockHash;var sha256_K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function SHA256(){if(!(this instanceof SHA256))return new SHA256;BlockHash.call(this);this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];this.k=sha256_K;this.W=new Array(64)}utils.inherits(SHA256,BlockHash);module.exports=SHA256;SHA256.blockSize=512;SHA256.outSize=256;SHA256.hmacStrength=192;SHA256.padLength=64;SHA256.prototype._update=function _update(msg,start){var W=this.W;for(var i=0;i<16;i++){W[i]=msg[start+i]}for(;i<W.length;i++){W[i]=sum32_4(g1_256(W[i-2]),W[i-7],g0_256(W[i-15]),W[i-16])}var a=this.h[0];var b=this.h[1];var c=this.h[2];var d=this.h[3];var e=this.h[4];var f=this.h[5];var g=this.h[6];var h=this.h[7];assert(this.k.length===W.length);for(i=0;i<W.length;i++){var T1=sum32_5(h,s1_256(e),ch32(e,f,g),this.k[i],W[i]);var T2=sum32(s0_256(a),maj32(a,b,c));h=g;g=f;f=e;e=sum32(d,T1);d=c;c=b;b=a;a=sum32(T1,T2)}this.h[0]=sum32(this.h[0],a);this.h[1]=sum32(this.h[1],b);this.h[2]=sum32(this.h[2],c);this.h[3]=sum32(this.h[3],d);this.h[4]=sum32(this.h[4],e);this.h[5]=sum32(this.h[5],f);this.h[6]=sum32(this.h[6],g);this.h[7]=sum32(this.h[7],h)};SHA256.prototype._digest=function digest(enc){if(enc==="hex")return utils.toHex32(this.h,"big");else return utils.split32(this.h,"big")}},{"../common":63,"../utils":73,"./common":72,"minimalistic-assert":85}],70:[function(require,module,exports){"use strict";var utils=require("../utils");var SHA512=require("./512");function SHA384(){if(!(this instanceof SHA384))return new SHA384;SHA512.call(this);this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}utils.inherits(SHA384,SHA512);module.exports=SHA384;SHA384.blockSize=1024;SHA384.outSize=384;SHA384.hmacStrength=192;SHA384.padLength=128;SHA384.prototype._digest=function digest(enc){if(enc==="hex")return utils.toHex32(this.h.slice(0,12),"big");else return utils.split32(this.h.slice(0,12),"big")}},{"../utils":73,"./512":71}],71:[function(require,module,exports){"use strict";var utils=require("../utils");var common=require("../common");var assert=require("minimalistic-assert");var rotr64_hi=utils.rotr64_hi;var rotr64_lo=utils.rotr64_lo;var shr64_hi=utils.shr64_hi;var shr64_lo=utils.shr64_lo;var sum64=utils.sum64;var sum64_hi=utils.sum64_hi;var sum64_lo=utils.sum64_lo;var sum64_4_hi=utils.sum64_4_hi;var sum64_4_lo=utils.sum64_4_lo;var sum64_5_hi=utils.sum64_5_hi;var sum64_5_lo=utils.sum64_5_lo;var BlockHash=common.BlockHash;var sha512_K=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function SHA512(){if(!(this instanceof SHA512))return new SHA512;BlockHash.call(this);this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209];this.k=sha512_K;this.W=new Array(160)}utils.inherits(SHA512,BlockHash);module.exports=SHA512;SHA512.blockSize=1024;SHA512.outSize=512;SHA512.hmacStrength=192;SHA512.padLength=128;SHA512.prototype._prepareBlock=function _prepareBlock(msg,start){var W=this.W;for(var i=0;i<32;i++){W[i]=msg[start+i]}for(;i<W.length;i+=2){var c0_hi=g1_512_hi(W[i-4],W[i-3]);var c0_lo=g1_512_lo(W[i-4],W[i-3]);var c1_hi=W[i-14];var c1_lo=W[i-13];var c2_hi=g0_512_hi(W[i-30],W[i-29]);var c2_lo=g0_512_lo(W[i-30],W[i-29]);var c3_hi=W[i-32];var c3_lo=W[i-31];W[i]=sum64_4_hi(c0_hi,c0_lo,c1_hi,c1_lo,c2_hi,c2_lo,c3_hi,c3_lo);W[i+1]=sum64_4_lo(c0_hi,c0_lo,c1_hi,c1_lo,c2_hi,c2_lo,c3_hi,c3_lo)}};SHA512.prototype._update=function _update(msg,start){this._prepareBlock(msg,start);var W=this.W;var ah=this.h[0];var al=this.h[1];var bh=this.h[2];var bl=this.h[3];var ch=this.h[4];var cl=this.h[5];var dh=this.h[6];var dl=this.h[7];var eh=this.h[8];var el=this.h[9];var fh=this.h[10];var fl=this.h[11];var gh=this.h[12];var gl=this.h[13];var hh=this.h[14];var hl=this.h[15];assert(this.k.length===W.length);for(var i=0;i<W.length;i+=2){var c0_hi=hh;var c0_lo=hl;var c1_hi=s1_512_hi(eh,el);var c1_lo=s1_512_lo(eh,el);var c2_hi=ch64_hi(eh,el,fh,fl,gh,gl);var c2_lo=ch64_lo(eh,el,fh,fl,gh,gl);var c3_hi=this.k[i];var c3_lo=this.k[i+1];var c4_hi=W[i];var c4_lo=W[i+1];var T1_hi=sum64_5_hi(c0_hi,c0_lo,c1_hi,c1_lo,c2_hi,c2_lo,c3_hi,c3_lo,c4_hi,c4_lo);var T1_lo=sum64_5_lo(c0_hi,c0_lo,c1_hi,c1_lo,c2_hi,c2_lo,c3_hi,c3_lo,c4_hi,c4_lo);c0_hi=s0_512_hi(ah,al);c0_lo=s0_512_lo(ah,al);c1_hi=maj64_hi(ah,al,bh,bl,ch,cl);c1_lo=maj64_lo(ah,al,bh,bl,ch,cl);var T2_hi=sum64_hi(c0_hi,c0_lo,c1_hi,c1_lo);var T2_lo=sum64_lo(c0_hi,c0_lo,c1_hi,c1_lo);hh=gh;hl=gl;gh=fh;gl=fl;fh=eh;fl=el;eh=sum64_hi(dh,dl,T1_hi,T1_lo);el=sum64_lo(dl,dl,T1_hi,T1_lo);dh=ch;dl=cl;ch=bh;cl=bl;bh=ah;bl=al;ah=sum64_hi(T1_hi,T1_lo,T2_hi,T2_lo);al=sum64_lo(T1_hi,T1_lo,T2_hi,T2_lo)}sum64(this.h,0,ah,al);sum64(this.h,2,bh,bl);sum64(this.h,4,ch,cl);sum64(this.h,6,dh,dl);sum64(this.h,8,eh,el);sum64(this.h,10,fh,fl);sum64(this.h,12,gh,gl);sum64(this.h,14,hh,hl)};SHA512.prototype._digest=function digest(enc){if(enc==="hex")return utils.toHex32(this.h,"big");else return utils.split32(this.h,"big")};function ch64_hi(xh,xl,yh,yl,zh){var r=xh&yh^~xh&zh;if(r<0)r+=4294967296;return r}function ch64_lo(xh,xl,yh,yl,zh,zl){var r=xl&yl^~xl&zl;if(r<0)r+=4294967296;return r}function maj64_hi(xh,xl,yh,yl,zh){var r=xh&yh^xh&zh^yh&zh;if(r<0)r+=4294967296;return r}function maj64_lo(xh,xl,yh,yl,zh,zl){var r=xl&yl^xl&zl^yl&zl;if(r<0)r+=4294967296;return r}function s0_512_hi(xh,xl){var c0_hi=rotr64_hi(xh,xl,28);var c1_hi=rotr64_hi(xl,xh,2);var c2_hi=rotr64_hi(xl,xh,7);var r=c0_hi^c1_hi^c2_hi;if(r<0)r+=4294967296;return r}function s0_512_lo(xh,xl){var c0_lo=rotr64_lo(xh,xl,28);var c1_lo=rotr64_lo(xl,xh,2);var c2_lo=rotr64_lo(xl,xh,7);var r=c0_lo^c1_lo^c2_lo;if(r<0)r+=4294967296;return r}function s1_512_hi(xh,xl){var c0_hi=rotr64_hi(xh,xl,14);var c1_hi=rotr64_hi(xh,xl,18);var c2_hi=rotr64_hi(xl,xh,9);var r=c0_hi^c1_hi^c2_hi;if(r<0)r+=4294967296;return r}function s1_512_lo(xh,xl){var c0_lo=rotr64_lo(xh,xl,14);var c1_lo=rotr64_lo(xh,xl,18);var c2_lo=rotr64_lo(xl,xh,9);var r=c0_lo^c1_lo^c2_lo;if(r<0)r+=4294967296;return r}function g0_512_hi(xh,xl){var c0_hi=rotr64_hi(xh,xl,1);var c1_hi=rotr64_hi(xh,xl,8);var c2_hi=shr64_hi(xh,xl,7);var r=c0_hi^c1_hi^c2_hi;if(r<0)r+=4294967296;return r}function g0_512_lo(xh,xl){var c0_lo=rotr64_lo(xh,xl,1);var c1_lo=rotr64_lo(xh,xl,8);var c2_lo=shr64_lo(xh,xl,7);var r=c0_lo^c1_lo^c2_lo;if(r<0)r+=4294967296;return r}function g1_512_hi(xh,xl){var c0_hi=rotr64_hi(xh,xl,19);var c1_hi=rotr64_hi(xl,xh,29);var c2_hi=shr64_hi(xh,xl,6);var r=c0_hi^c1_hi^c2_hi;if(r<0)r+=4294967296;return r}function g1_512_lo(xh,xl){var c0_lo=rotr64_lo(xh,xl,19);var c1_lo=rotr64_lo(xl,xh,29);var c2_lo=shr64_lo(xh,xl,6);var r=c0_lo^c1_lo^c2_lo;if(r<0)r+=4294967296;return r}},{"../common":63,"../utils":73,"minimalistic-assert":85}],72:[function(require,module,exports){"use strict";var utils=require("../utils");var rotr32=utils.rotr32;function ft_1(s,x,y,z){if(s===0)return ch32(x,y,z);if(s===1||s===3)return p32(x,y,z);if(s===2)return maj32(x,y,z)}exports.ft_1=ft_1;function ch32(x,y,z){return x&y^~x&z}exports.ch32=ch32;function maj32(x,y,z){return x&y^x&z^y&z}exports.maj32=maj32;function p32(x,y,z){return x^y^z}exports.p32=p32;function s0_256(x){return rotr32(x,2)^rotr32(x,13)^rotr32(x,22)}exports.s0_256=s0_256;function s1_256(x){return rotr32(x,6)^rotr32(x,11)^rotr32(x,25)}exports.s1_256=s1_256;function g0_256(x){return rotr32(x,7)^rotr32(x,18)^x>>>3}exports.g0_256=g0_256;function g1_256(x){return rotr32(x,17)^rotr32(x,19)^x>>>10}exports.g1_256=g1_256},{"../utils":73}],73:[function(require,module,exports){"use strict";var assert=require("minimalistic-assert");var inherits=require("inherits");exports.inherits=inherits;function isSurrogatePair(msg,i){if((msg.charCodeAt(i)&64512)!==55296){return false}if(i<0||i+1>=msg.length){return false}return(msg.charCodeAt(i+1)&64512)===56320}function toArray(msg,enc){if(Array.isArray(msg))return msg.slice();if(!msg)return[];var res=[];if(typeof msg==="string"){if(!enc){var p=0;for(var i=0;i<msg.length;i++){var c=msg.charCodeAt(i);if(c<128){res[p++]=c}else if(c<2048){res[p++]=c>>6|192;res[p++]=c&63|128}else if(isSurrogatePair(msg,i)){c=65536+((c&1023)<<10)+(msg.charCodeAt(++i)&1023);res[p++]=c>>18|240;res[p++]=c>>12&63|128;res[p++]=c>>6&63|128;res[p++]=c&63|128}else{res[p++]=c>>12|224;res[p++]=c>>6&63|128;res[p++]=c&63|128}}}else if(enc==="hex"){msg=msg.replace(/[^a-z0-9]+/gi,"");if(msg.length%2!==0)msg="0"+msg;for(i=0;i<msg.length;i+=2){res.push(parseInt(msg[i]+msg[i+1],16))}}}else{for(i=0;i<msg.length;i++){res[i]=msg[i]|0}}return res}exports.toArray=toArray;function toHex(msg){var res="";for(var i=0;i<msg.length;i++){res+=zero2(msg[i].toString(16))}return res}exports.toHex=toHex;function htonl(w){var res=w>>>24|w>>>8&65280|w<<8&16711680|(w&255)<<24;return res>>>0}exports.htonl=htonl;function toHex32(msg,endian){var res="";for(var i=0;i<msg.length;i++){var w=msg[i];if(endian==="little")w=htonl(w);res+=zero8(w.toString(16))}return res}exports.toHex32=toHex32;function zero2(word){if(word.length===1)return"0"+word;else return word}exports.zero2=zero2;function zero8(word){if(word.length===7)return"0"+word;else if(word.length===6)return"00"+word;else if(word.length===5)return"000"+word;else if(word.length===4)return"0000"+word;else if(word.length===3)return"00000"+word;else if(word.length===2)return"000000"+word;else if(word.length===1)return"0000000"+word;else return word}exports.zero8=zero8;function join32(msg,start,end,endian){var len=end-start;assert(len%4===0);var res=new Array(len/4);for(var i=0,k=start;i<res.length;i++,k+=4){var w;if(endian==="big")w=msg[k]<<24|msg[k+1]<<16|msg[k+2]<<8|msg[k+3];else w=msg[k+3]<<24|msg[k+2]<<16|msg[k+1]<<8|msg[k];res[i]=w>>>0}return res}exports.join32=join32;function split32(msg,endian){var res=new Array(msg.length*4);for(var i=0,k=0;i<msg.length;i++,k+=4){var m=msg[i];if(endian==="big"){res[k]=m>>>24;res[k+1]=m>>>16&255;res[k+2]=m>>>8&255;res[k+3]=m&255}else{res[k+3]=m>>>24;res[k+2]=m>>>16&255;res[k+1]=m>>>8&255;res[k]=m&255}}return res}exports.split32=split32;function rotr32(w,b){return w>>>b|w<<32-b}exports.rotr32=rotr32;function rotl32(w,b){return w<<b|w>>>32-b}exports.rotl32=rotl32;function sum32(a,b){return a+b>>>0}exports.sum32=sum32;function sum32_3(a,b,c){return a+b+c>>>0}exports.sum32_3=sum32_3;function sum32_4(a,b,c,d){return a+b+c+d>>>0}exports.sum32_4=sum32_4;function sum32_5(a,b,c,d,e){return a+b+c+d+e>>>0}exports.sum32_5=sum32_5;function sum64(buf,pos,ah,al){var bh=buf[pos];var bl=buf[pos+1];var lo=al+bl>>>0;var hi=(lo<al?1:0)+ah+bh;buf[pos]=hi>>>0;buf[pos+1]=lo}exports.sum64=sum64;function sum64_hi(ah,al,bh,bl){var lo=al+bl>>>0;var hi=(lo<al?1:0)+ah+bh;return hi>>>0}exports.sum64_hi=sum64_hi;function sum64_lo(ah,al,bh,bl){var lo=al+bl;return lo>>>0}exports.sum64_lo=sum64_lo;function sum64_4_hi(ah,al,bh,bl,ch,cl,dh,dl){var carry=0;var lo=al;lo=lo+bl>>>0;carry+=lo<al?1:0;lo=lo+cl>>>0;carry+=lo<cl?1:0;lo=lo+dl>>>0;carry+=lo<dl?1:0;var hi=ah+bh+ch+dh+carry;return hi>>>0}exports.sum64_4_hi=sum64_4_hi;function sum64_4_lo(ah,al,bh,bl,ch,cl,dh,dl){var lo=al+bl+cl+dl;return lo>>>0}exports.sum64_4_lo=sum64_4_lo;function sum64_5_hi(ah,al,bh,bl,ch,cl,dh,dl,eh,el){var carry=0;var lo=al;lo=lo+bl>>>0;carry+=lo<al?1:0;lo=lo+cl>>>0;carry+=lo<cl?1:0;lo=lo+dl>>>0;carry+=lo<dl?1:0;lo=lo+el>>>0;carry+=lo<el?1:0;var hi=ah+bh+ch+dh+eh+carry;return hi>>>0}exports.sum64_5_hi=sum64_5_hi;function sum64_5_lo(ah,al,bh,bl,ch,cl,dh,dl,eh,el){var lo=al+bl+cl+dl+el;return lo>>>0}exports.sum64_5_lo=sum64_5_lo;function rotr64_hi(ah,al,num){var r=al<<32-num|ah>>>num;return r>>>0}exports.rotr64_hi=rotr64_hi;function rotr64_lo(ah,al,num){var r=ah<<32-num|al>>>num;return r>>>0}exports.rotr64_lo=rotr64_lo;function shr64_hi(ah,al,num){return ah>>>num}exports.shr64_hi=shr64_hi;function shr64_lo(ah,al,num){var r=ah<<32-num|al>>>num;return r>>>0}exports.shr64_lo=shr64_lo},{inherits:75,"minimalistic-assert":85}],74:[function(require,module,exports){"use strict";var hash=require("hash.js");var utils=require("minimalistic-crypto-utils");var assert=require("minimalistic-assert");function HmacDRBG(options){if(!(this instanceof HmacDRBG))return new HmacDRBG(options);this.hash=options.hash;this.predResist=!!options.predResist;this.outLen=this.hash.outSize;this.minEntropy=options.minEntropy||this.hash.hmacStrength;this._reseed=null;this.reseedInterval=null;this.K=null;this.V=null;var entropy=utils.toArray(options.entropy,options.entropyEnc||"hex");var nonce=utils.toArray(options.nonce,options.nonceEnc||"hex");var pers=utils.toArray(options.pers,options.persEnc||"hex");assert(entropy.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits");this._init(entropy,nonce,pers)}module.exports=HmacDRBG;HmacDRBG.prototype._init=function init(entropy,nonce,pers){var seed=entropy.concat(nonce).concat(pers);this.K=new Array(this.outLen/8);this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++){this.K[i]=0;this.V[i]=1}this._update(seed);this._reseed=1;this.reseedInterval=281474976710656};HmacDRBG.prototype._hmac=function hmac(){return new hash.hmac(this.hash,this.K)};HmacDRBG.prototype._update=function update(seed){var kmac=this._hmac().update(this.V).update([0]);if(seed)kmac=kmac.update(seed);this.K=kmac.digest();this.V=this._hmac().update(this.V).digest();if(!seed)return;this.K=this._hmac().update(this.V).update([1]).update(seed).digest();this.V=this._hmac().update(this.V).digest()};HmacDRBG.prototype.reseed=function reseed(entropy,entropyEnc,add,addEnc){if(typeof entropyEnc!=="string"){addEnc=add;add=entropyEnc;entropyEnc=null}entropy=utils.toArray(entropy,entropyEnc);add=utils.toArray(add,addEnc);assert(entropy.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits");this._update(entropy.concat(add||[]));this._reseed=1};HmacDRBG.prototype.generate=function generate(len,enc,add,addEnc){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");if(typeof enc!=="string"){addEnc=add;add=enc;enc=null}if(add){add=utils.toArray(add,addEnc||"hex");this._update(add)}var temp=[];while(temp.length<len){this.V=this._hmac().update(this.V).digest();temp=temp.concat(this.V)}var res=temp.slice(0,len);this._update(add);this._reseed++;return utils.encode(res,enc)}},{"hash.js":62,"minimalistic-assert":85,"minimalistic-crypto-utils":86}],75:[function(require,module,exports){"use strict";if(typeof Object.create==="function"){module.exports=function inherits(ctor,superCtor){if(superCtor){ctor.super_=superCtor;ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:false,writable:true,configurable:true}})}}}else{module.exports=function inherits(ctor,superCtor){if(superCtor){ctor.super_=superCtor;var TempCtor=function TempCtor(){};TempCtor.prototype=superCtor.prototype;ctor.prototype=new TempCtor;ctor.prototype.constructor=ctor}}}},{}],76:[function(require,module,exports){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}module.exports=function isHexPrefixed(str){if(typeof str!=="string"){throw new Error("[is-hex-prefixed] value must be type 'string', is currently type "+_typeof(str)+", while checking isHexPrefixed.")}return str.slice(0,2)==="0x"}},{}],77:[function(require,module,exports){"use strict";function isUtf8(buf){if(!buf){return false}var i=0;var len=buf.length;while(i<len){if(buf[i]<=127){i++;continue}if(buf[i]>=194&&buf[i]<=223){if(buf[i+1]>>6===2){i+=2;continue}else{return false}}if((buf[i]===224&&buf[i+1]>=160&&buf[i+1]<=191||buf[i]===237&&buf[i+1]>=128&&buf[i+1]<=159)&&buf[i+2]>>6===2){i+=3;continue}if((buf[i]>=225&&buf[i]<=236||buf[i]>=238&&buf[i]<=239)&&buf[i+1]>>6===2&&buf[i+2]>>6===2){i+=3;continue}if((buf[i]===240&&buf[i+1]>=144&&buf[i+1]<=191||buf[i]>=241&&buf[i]<=243&&buf[i+1]>>6===2||buf[i]===244&&buf[i+1]>=128&&buf[i+1]<=143)&&buf[i+2]>>6===2&&buf[i+3]>>6===2){i+=4;continue}return false}return true}module.exports=isUtf8},{}],78:[function(require,module,exports){"use strict";module.exports=require("./lib/api")(require("./lib/keccak"))},{"./lib/api":79,"./lib/keccak":83}],79:[function(require,module,exports){"use strict";var createKeccak=require("./keccak");var createShake=require("./shake");module.exports=function(KeccakState){var Keccak=createKeccak(KeccakState);var Shake=createShake(KeccakState);return function(algorithm,options){var hash=typeof algorithm==="string"?algorithm.toLowerCase():algorithm;switch(hash){case"keccak224":return new Keccak(1152,448,null,224,options);case"keccak256":return new Keccak(1088,512,null,256,options);case"keccak384":return new Keccak(832,768,null,384,options);case"keccak512":return new Keccak(576,1024,null,512,options);case"sha3-224":return new Keccak(1152,448,6,224,options);case"sha3-256":return new Keccak(1088,512,6,256,options);case"sha3-384":return new Keccak(832,768,6,384,options);case"sha3-512":return new Keccak(576,1024,6,512,options);case"shake128":return new Shake(1344,256,31,options);case"shake256":return new Shake(1088,512,31,options);default:throw new Error("Invald algorithm: "+algorithm)}}}},{"./keccak":80,"./shake":81}],80:[function(require,module,exports){(function(Buffer){(function(){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _classCallCheck(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),o)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_setPrototypeOf(t,e)}function _createSuper(t){var r=_isNativeReflectConstruct();return function(){var e,o=_getPrototypeOf(t);if(r){var s=_getPrototypeOf(this).constructor;e=Reflect.construct(o,arguments,s)}else e=o.apply(this,arguments);return _possibleConstructorReturn(this,e)}}function _possibleConstructorReturn(t,e){if(e&&("object"==_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(_isNativeReflectConstruct=function _isNativeReflectConstruct(){return!!t})()}function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(t)}var _require=require("readable-stream"),Transform=_require.Transform;module.exports=function(KeccakState){return function(_Transform){_inherits(Keccak,_Transform);var _super=_createSuper(Keccak);function Keccak(rate,capacity,delimitedSuffix,hashBitLength,options){var _this;_classCallCheck(this,Keccak);_this=_super.call(this,options);_this._rate=rate;_this._capacity=capacity;_this._delimitedSuffix=delimitedSuffix;_this._hashBitLength=hashBitLength;_this._options=options;_this._state=new KeccakState;_this._state.initialize(rate,capacity);_this._finalized=false;return _this}_createClass(Keccak,[{key:"_transform",value:function _transform(chunk,encoding,callback){var error=null;try{this.update(chunk,encoding)}catch(err){error=err}callback(error)}},{key:"_flush",value:function _flush(callback){var error=null;try{this.push(this.digest())}catch(err){error=err}callback(error)}},{key:"update",value:function update(data,encoding){if(!Buffer.isBuffer(data)&&typeof data!=="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");if(!Buffer.isBuffer(data))data=Buffer.from(data,encoding);this._state.absorb(data);return this}},{key:"digest",value:function digest(encoding){if(this._finalized)throw new Error("Digest already called");this._finalized=true;if(this._delimitedSuffix)this._state.absorbLastFewBits(this._delimitedSuffix);var digest=this._state.squeeze(this._hashBitLength/8);if(encoding!==undefined)digest=digest.toString(encoding);this._resetState();return digest}},{key:"_resetState",value:function _resetState(){this._state.initialize(this._rate,this._capacity);return this}},{key:"_clone",value:function _clone(){var clone=new Keccak(this._rate,this._capacity,this._delimitedSuffix,this._hashBitLength,this._options);this._state.copy(clone._state);clone._finalized=this._finalized;return clone}}]);return Keccak}(Transform)}}).call(this)}).call(this,require("buffer").Buffer)},{buffer:168,"readable-stream":102}],81:[function(require,module,exports){(function(Buffer){(function(){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _classCallCheck(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),o)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_setPrototypeOf(t,e)}function _createSuper(t){var r=_isNativeReflectConstruct();return function(){var e,o=_getPrototypeOf(t);if(r){var s=_getPrototypeOf(this).constructor;e=Reflect.construct(o,arguments,s)}else e=o.apply(this,arguments);return _possibleConstructorReturn(this,e)}}function _possibleConstructorReturn(t,e){if(e&&("object"==_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(_isNativeReflectConstruct=function _isNativeReflectConstruct(){return!!t})()}function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(t)}var _require=require("readable-stream"),Transform=_require.Transform;module.exports=function(KeccakState){return function(_Transform){_inherits(Shake,_Transform);var _super=_createSuper(Shake);function Shake(rate,capacity,delimitedSuffix,options){var _this;_classCallCheck(this,Shake);_this=_super.call(this,options);_this._rate=rate;_this._capacity=capacity;_this._delimitedSuffix=delimitedSuffix;_this._options=options;_this._state=new KeccakState;_this._state.initialize(rate,capacity);_this._finalized=false;return _this}_createClass(Shake,[{key:"_transform",value:function _transform(chunk,encoding,callback){var error=null;try{this.update(chunk,encoding)}catch(err){error=err}callback(error)}},{key:"_flush",value:function _flush(){}},{key:"_read",value:function _read(size){this.push(this.squeeze(size))}},{key:"update",value:function update(data,encoding){if(!Buffer.isBuffer(data)&&typeof data!=="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Squeeze already called");if(!Buffer.isBuffer(data))data=Buffer.from(data,encoding);this._state.absorb(data);return this}},{key:"squeeze",value:function squeeze(dataByteLength,encoding){if(!this._finalized){this._finalized=true;this._state.absorbLastFewBits(this._delimitedSuffix)}var data=this._state.squeeze(dataByteLength);if(encoding!==undefined)data=data.toString(encoding);return data}},{key:"_resetState",value:function _resetState(){this._state.initialize(this._rate,this._capacity);return this}},{key:"_clone",value:function _clone(){var clone=new Shake(this._rate,this._capacity,this._delimitedSuffix,this._options);this._state.copy(clone._state);clone._finalized=this._finalized;return clone}}]);return Shake}(Transform)}}).call(this)}).call(this,require("buffer").Buffer)},{buffer:168,"readable-stream":102}],82:[function(require,module,exports){"use strict";var P1600_ROUND_CONSTANTS=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648];exports.p1600=function(s){for(var round=0;round<24;++round){var lo0=s[0]^s[10]^s[20]^s[30]^s[40];var hi0=s[1]^s[11]^s[21]^s[31]^s[41];var lo1=s[2]^s[12]^s[22]^s[32]^s[42];var hi1=s[3]^s[13]^s[23]^s[33]^s[43];var lo2=s[4]^s[14]^s[24]^s[34]^s[44];var hi2=s[5]^s[15]^s[25]^s[35]^s[45];var lo3=s[6]^s[16]^s[26]^s[36]^s[46];var hi3=s[7]^s[17]^s[27]^s[37]^s[47];var lo4=s[8]^s[18]^s[28]^s[38]^s[48];var hi4=s[9]^s[19]^s[29]^s[39]^s[49];var lo=lo4^(lo1<<1|hi1>>>31);var hi=hi4^(hi1<<1|lo1>>>31);var t1slo0=s[0]^lo;var t1shi0=s[1]^hi;var t1slo5=s[10]^lo;var t1shi5=s[11]^hi;var t1slo10=s[20]^lo;var t1shi10=s[21]^hi;var t1slo15=s[30]^lo;var t1shi15=s[31]^hi;var t1slo20=s[40]^lo;var t1shi20=s[41]^hi;lo=lo0^(lo2<<1|hi2>>>31);hi=hi0^(hi2<<1|lo2>>>31);var t1slo1=s[2]^lo;var t1shi1=s[3]^hi;var t1slo6=s[12]^lo;var t1shi6=s[13]^hi;var t1slo11=s[22]^lo;var t1shi11=s[23]^hi;var t1slo16=s[32]^lo;var t1shi16=s[33]^hi;var t1slo21=s[42]^lo;var t1shi21=s[43]^hi;lo=lo1^(lo3<<1|hi3>>>31);hi=hi1^(hi3<<1|lo3>>>31);var t1slo2=s[4]^lo;var t1shi2=s[5]^hi;var t1slo7=s[14]^lo;var t1shi7=s[15]^hi;var t1slo12=s[24]^lo;var t1shi12=s[25]^hi;var t1slo17=s[34]^lo;var t1shi17=s[35]^hi;var t1slo22=s[44]^lo;var t1shi22=s[45]^hi;lo=lo2^(lo4<<1|hi4>>>31);hi=hi2^(hi4<<1|lo4>>>31);var t1slo3=s[6]^lo;var t1shi3=s[7]^hi;var t1slo8=s[16]^lo;var t1shi8=s[17]^hi;var t1slo13=s[26]^lo;var t1shi13=s[27]^hi;var t1slo18=s[36]^lo;var t1shi18=s[37]^hi;var t1slo23=s[46]^lo;var t1shi23=s[47]^hi;lo=lo3^(lo0<<1|hi0>>>31);hi=hi3^(hi0<<1|lo0>>>31);var t1slo4=s[8]^lo;var t1shi4=s[9]^hi;var t1slo9=s[18]^lo;var t1shi9=s[19]^hi;var t1slo14=s[28]^lo;var t1shi14=s[29]^hi;var t1slo19=s[38]^lo;var t1shi19=s[39]^hi;var t1slo24=s[48]^lo;var t1shi24=s[49]^hi;var t2slo0=t1slo0;var t2shi0=t1shi0;var t2slo16=t1shi5<<4|t1slo5>>>28;var t2shi16=t1slo5<<4|t1shi5>>>28;var t2slo7=t1slo10<<3|t1shi10>>>29;var t2shi7=t1shi10<<3|t1slo10>>>29;var t2slo23=t1shi15<<9|t1slo15>>>23;var t2shi23=t1slo15<<9|t1shi15>>>23;var t2slo14=t1slo20<<18|t1shi20>>>14;var t2shi14=t1shi20<<18|t1slo20>>>14;var t2slo10=t1slo1<<1|t1shi1>>>31;var t2shi10=t1shi1<<1|t1slo1>>>31;var t2slo1=t1shi6<<12|t1slo6>>>20;var t2shi1=t1slo6<<12|t1shi6>>>20;var t2slo17=t1slo11<<10|t1shi11>>>22;var t2shi17=t1shi11<<10|t1slo11>>>22;var t2slo8=t1shi16<<13|t1slo16>>>19;var t2shi8=t1slo16<<13|t1shi16>>>19;var t2slo24=t1slo21<<2|t1shi21>>>30;var t2shi24=t1shi21<<2|t1slo21>>>30;var t2slo20=t1shi2<<30|t1slo2>>>2;var t2shi20=t1slo2<<30|t1shi2>>>2;var t2slo11=t1slo7<<6|t1shi7>>>26;var t2shi11=t1shi7<<6|t1slo7>>>26;var t2slo2=t1shi12<<11|t1slo12>>>21;var t2shi2=t1slo12<<11|t1shi12>>>21;var t2slo18=t1slo17<<15|t1shi17>>>17;var t2shi18=t1shi17<<15|t1slo17>>>17;var t2slo9=t1shi22<<29|t1slo22>>>3;var t2shi9=t1slo22<<29|t1shi22>>>3;var t2slo5=t1slo3<<28|t1shi3>>>4;var t2shi5=t1shi3<<28|t1slo3>>>4;var t2slo21=t1shi8<<23|t1slo8>>>9;var t2shi21=t1slo8<<23|t1shi8>>>9;var t2slo12=t1slo13<<25|t1shi13>>>7;var t2shi12=t1shi13<<25|t1slo13>>>7;var t2slo3=t1slo18<<21|t1shi18>>>11;var t2shi3=t1shi18<<21|t1slo18>>>11;var t2slo19=t1shi23<<24|t1slo23>>>8;var t2shi19=t1slo23<<24|t1shi23>>>8;var t2slo15=t1slo4<<27|t1shi4>>>5;var t2shi15=t1shi4<<27|t1slo4>>>5;var t2slo6=t1slo9<<20|t1shi9>>>12;var t2shi6=t1shi9<<20|t1slo9>>>12;var t2slo22=t1shi14<<7|t1slo14>>>25;var t2shi22=t1slo14<<7|t1shi14>>>25;var t2slo13=t1slo19<<8|t1shi19>>>24;var t2shi13=t1shi19<<8|t1slo19>>>24;var t2slo4=t1slo24<<14|t1shi24>>>18;var t2shi4=t1shi24<<14|t1slo24>>>18;s[0]=t2slo0^~t2slo1&t2slo2;s[1]=t2shi0^~t2shi1&t2shi2;s[10]=t2slo5^~t2slo6&t2slo7;s[11]=t2shi5^~t2shi6&t2shi7;s[20]=t2slo10^~t2slo11&t2slo12;s[21]=t2shi10^~t2shi11&t2shi12;s[30]=t2slo15^~t2slo16&t2slo17;s[31]=t2shi15^~t2shi16&t2shi17;s[40]=t2slo20^~t2slo21&t2slo22;s[41]=t2shi20^~t2shi21&t2shi22;s[2]=t2slo1^~t2slo2&t2slo3;s[3]=t2shi1^~t2shi2&t2shi3;s[12]=t2slo6^~t2slo7&t2slo8;s[13]=t2shi6^~t2shi7&t2shi8;s[22]=t2slo11^~t2slo12&t2slo13;s[23]=t2shi11^~t2shi12&t2shi13;s[32]=t2slo16^~t2slo17&t2slo18;s[33]=t2shi16^~t2shi17&t2shi18;s[42]=t2slo21^~t2slo22&t2slo23;s[43]=t2shi21^~t2shi22&t2shi23;s[4]=t2slo2^~t2slo3&t2slo4;s[5]=t2shi2^~t2shi3&t2shi4;s[14]=t2slo7^~t2slo8&t2slo9;s[15]=t2shi7^~t2shi8&t2shi9;s[24]=t2slo12^~t2slo13&t2slo14;s[25]=t2shi12^~t2shi13&t2shi14;s[34]=t2slo17^~t2slo18&t2slo19;s[35]=t2shi17^~t2shi18&t2shi19;s[44]=t2slo22^~t2slo23&t2slo24;s[45]=t2shi22^~t2shi23&t2shi24;s[6]=t2slo3^~t2slo4&t2slo0;s[7]=t2shi3^~t2shi4&t2shi0;s[16]=t2slo8^~t2slo9&t2slo5;s[17]=t2shi8^~t2shi9&t2shi5;s[26]=t2slo13^~t2slo14&t2slo10;s[27]=t2shi13^~t2shi14&t2shi10;s[36]=t2slo18^~t2slo19&t2slo15;s[37]=t2shi18^~t2shi19&t2shi15;s[46]=t2slo23^~t2slo24&t2slo20;s[47]=t2shi23^~t2shi24&t2shi20;s[8]=t2slo4^~t2slo0&t2slo1;s[9]=t2shi4^~t2shi0&t2shi1;s[18]=t2slo9^~t2slo5&t2slo6;s[19]=t2shi9^~t2shi5&t2shi6;s[28]=t2slo14^~t2slo10&t2slo11;s[29]=t2shi14^~t2shi10&t2shi11;s[38]=t2slo19^~t2slo15&t2slo16;s[39]=t2shi19^~t2shi15&t2shi16;s[48]=t2slo24^~t2slo20&t2slo21;s[49]=t2shi24^~t2shi20&t2shi21;s[0]^=P1600_ROUND_CONSTANTS[round*2];s[1]^=P1600_ROUND_CONSTANTS[round*2+1]}}},{}],83:[function(require,module,exports){(function(Buffer){(function(){"use strict";var keccakState=require("./keccak-state-unroll");function Keccak(){this.state=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];this.blockSize=null;this.count=0;this.squeezing=false}Keccak.prototype.initialize=function(rate,capacity){for(var i=0;i<50;++i){this.state[i]=0}this.blockSize=rate/8;this.count=0;this.squeezing=false};Keccak.prototype.absorb=function(data){for(var i=0;i<data.length;++i){this.state[~~(this.count/4)]^=data[i]<<8*(this.count%4);this.count+=1;if(this.count===this.blockSize){keccakState.p1600(this.state);this.count=0}}};Keccak.prototype.absorbLastFewBits=function(bits){this.state[~~(this.count/4)]^=bits<<8*(this.count%4);if((bits&128)!==0&&this.count===this.blockSize-1)keccakState.p1600(this.state);this.state[~~((this.blockSize-1)/4)]^=128<<8*((this.blockSize-1)%4);keccakState.p1600(this.state);this.count=0;this.squeezing=true};Keccak.prototype.squeeze=function(length){if(!this.squeezing)this.absorbLastFewBits(1);var output=Buffer.alloc(length);for(var i=0;i<length;++i){output[i]=this.state[~~(this.count/4)]>>>8*(this.count%4)&255;this.count+=1;if(this.count===this.blockSize){keccakState.p1600(this.state);this.count=0}}return output};Keccak.prototype.copy=function(dest){for(var i=0;i<50;++i){dest.state[i]=this.state[i]}dest.blockSize=this.blockSize;dest.count=this.count;dest.squeezing=this.squeezing};module.exports=Keccak}).call(this)}).call(this,require("buffer").Buffer)},{"./keccak-state-unroll":82,buffer:168}],84:[function(require,module,exports){"use strict";var inherits=require("inherits");var HashBase=require("hash-base");var Buffer=require("safe-buffer").Buffer;var ARRAY16=new Array(16);function MD5(){HashBase.call(this,64);this._a=1732584193;this._b=4023233417;this._c=2562383102;this._d=271733878}inherits(MD5,HashBase);MD5.prototype._update=function(){var M=ARRAY16;for(var i=0;i<16;++i){M[i]=this._block.readInt32LE(i*4)}var a=this._a;var b=this._b;var c=this._c;var d=this._d;a=fnF(a,b,c,d,M[0],3614090360,7);d=fnF(d,a,b,c,M[1],3905402710,12);c=fnF(c,d,a,b,M[2],606105819,17);b=fnF(b,c,d,a,M[3],3250441966,22);a=fnF(a,b,c,d,M[4],4118548399,7);d=fnF(d,a,b,c,M[5],1200080426,12);c=fnF(c,d,a,b,M[6],2821735955,17);b=fnF(b,c,d,a,M[7],4249261313,22);a=fnF(a,b,c,d,M[8],1770035416,7);d=fnF(d,a,b,c,M[9],2336552879,12);c=fnF(c,d,a,b,M[10],4294925233,17);b=fnF(b,c,d,a,M[11],2304563134,22);a=fnF(a,b,c,d,M[12],1804603682,7);d=fnF(d,a,b,c,M[13],4254626195,12);c=fnF(c,d,a,b,M[14],2792965006,17);b=fnF(b,c,d,a,M[15],1236535329,22);a=fnG(a,b,c,d,M[1],4129170786,5);d=fnG(d,a,b,c,M[6],3225465664,9);c=fnG(c,d,a,b,M[11],643717713,14);b=fnG(b,c,d,a,M[0],3921069994,20);a=fnG(a,b,c,d,M[5],3593408605,5);d=fnG(d,a,b,c,M[10],38016083,9);c=fnG(c,d,a,b,M[15],3634488961,14);b=fnG(b,c,d,a,M[4],3889429448,20);a=fnG(a,b,c,d,M[9],568446438,5);d=fnG(d,a,b,c,M[14],3275163606,9);c=fnG(c,d,a,b,M[3],4107603335,14);b=fnG(b,c,d,a,M[8],1163531501,20);a=fnG(a,b,c,d,M[13],2850285829,5);d=fnG(d,a,b,c,M[2],4243563512,9);c=fnG(c,d,a,b,M[7],1735328473,14);b=fnG(b,c,d,a,M[12],2368359562,20);a=fnH(a,b,c,d,M[5],4294588738,4);d=fnH(d,a,b,c,M[8],2272392833,11);c=fnH(c,d,a,b,M[11],1839030562,16);b=fnH(b,c,d,a,M[14],4259657740,23);a=fnH(a,b,c,d,M[1],2763975236,4);d=fnH(d,a,b,c,M[4],1272893353,11);c=fnH(c,d,a,b,M[7],4139469664,16);b=fnH(b,c,d,a,M[10],3200236656,23);a=fnH(a,b,c,d,M[13],681279174,4);d=fnH(d,a,b,c,M[0],3936430074,11);c=fnH(c,d,a,b,M[3],3572445317,16);b=fnH(b,c,d,a,M[6],76029189,23);a=fnH(a,b,c,d,M[9],3654602809,4);d=fnH(d,a,b,c,M[12],3873151461,11);c=fnH(c,d,a,b,M[15],530742520,16);b=fnH(b,c,d,a,M[2],3299628645,23);a=fnI(a,b,c,d,M[0],4096336452,6);d=fnI(d,a,b,c,M[7],1126891415,10);c=fnI(c,d,a,b,M[14],2878612391,15);b=fnI(b,c,d,a,M[5],4237533241,21);a=fnI(a,b,c,d,M[12],1700485571,6);d=fnI(d,a,b,c,M[3],2399980690,10);c=fnI(c,d,a,b,M[10],4293915773,15);b=fnI(b,c,d,a,M[1],2240044497,21);a=fnI(a,b,c,d,M[8],1873313359,6);d=fnI(d,a,b,c,M[15],4264355552,10);c=fnI(c,d,a,b,M[6],2734768916,15);b=fnI(b,c,d,a,M[13],1309151649,21);a=fnI(a,b,c,d,M[4],4149444226,6);d=fnI(d,a,b,c,M[11],3174756917,10);c=fnI(c,d,a,b,M[2],718787259,15);b=fnI(b,c,d,a,M[9],3951481745,21);this._a=this._a+a|0;this._b=this._b+b|0;this._c=this._c+c|0;this._d=this._d+d|0};MD5.prototype._digest=function(){this._block[this._blockOffset++]=128;if(this._blockOffset>56){this._block.fill(0,this._blockOffset,64);this._update();this._blockOffset=0}this._block.fill(0,this._blockOffset,56);this._block.writeUInt32LE(this._length[0],56);this._block.writeUInt32LE(this._length[1],60);this._update();var buffer=Buffer.allocUnsafe(16);buffer.writeInt32LE(this._a,0);buffer.writeInt32LE(this._b,4);buffer.writeInt32LE(this._c,8);buffer.writeInt32LE(this._d,12);return buffer};function rotl(x,n){return x<<n|x>>>32-n}function fnF(a,b,c,d,m,k,s){return rotl(a+(b&c|~b&d)+m+k|0,s)+b|0}function fnG(a,b,c,d,m,k,s){return rotl(a+(b&d|c&~d)+m+k|0,s)+b|0}function fnH(a,b,c,d,m,k,s){return rotl(a+(b^c^d)+m+k|0,s)+b|0}function fnI(a,b,c,d,m,k,s){return rotl(a+(c^(b|~d))+m+k|0,s)+b|0}module.exports=MD5},{"hash-base":61,inherits:75,"safe-buffer":105}],85:[function(require,module,exports){"use strict";module.exports=assert;function assert(val,msg){if(!val)throw new Error(msg||"Assertion failed")}assert.equal=function assertEqual(l,r,msg){if(l!=r)throw new Error(msg||"Assertion failed: "+l+" != "+r)}},{}],86:[function(require,module,exports){"use strict";var utils=exports;function toArray(msg,enc){if(Array.isArray(msg))return msg.slice();if(!msg)return[];var res=[];if(typeof msg!=="string"){for(var i=0;i<msg.length;i++){res[i]=msg[i]|0}return res}if(enc==="hex"){msg=msg.replace(/[^a-z0-9]+/gi,"");if(msg.length%2!==0)msg="0"+msg;for(var i=0;i<msg.length;i+=2){res.push(parseInt(msg[i]+msg[i+1],16))}}else{for(var i=0;i<msg.length;i++){var c=msg.charCodeAt(i);var hi=c>>8;var lo=c&255;if(hi)res.push(hi,lo);else res.push(lo)}}return res}utils.toArray=toArray;function zero2(word){if(word.length===1)return"0"+word;else return word}utils.zero2=zero2;function toHex(msg){var res="";for(var i=0;i<msg.length;i++){res+=zero2(msg[i].toString(16))}return res}utils.toHex=toHex;utils.encode=function encode(arr,enc){if(enc==="hex")return toHex(arr);else return arr}},{}],87:[function(require,module,exports){(function(process,global){(function(){"use strict";var MAX_BYTES=65536;var MAX_UINT32=4294967295;function oldBrowser(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}var Buffer=require("safe-buffer").Buffer;var crypto=global.crypto||global.msCrypto;if(crypto&&crypto.getRandomValues){module.exports=randomBytes}else{module.exports=oldBrowser}function randomBytes(size,cb){if(size>MAX_UINT32)throw new RangeError("requested too many random bytes");var bytes=Buffer.allocUnsafe(size);if(size>0){if(size>MAX_BYTES){for(var generated=0;generated<size;generated+=MAX_BYTES){crypto.getRandomValues(bytes.slice(generated,generated+MAX_BYTES))}}else{crypto.getRandomValues(bytes)}}if(typeof cb==="function"){return process.nextTick(function(){cb(null,bytes)})}return bytes}}).call(this)}).call(this,require("_process"),typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{_process:197,"safe-buffer":105}],88:[function(require,module,exports){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype);subClass.prototype.constructor=subClass;subClass.__proto__=superClass}var codes={};function createErrorType(code,message,Base){if(!Base){Base=Error}function getMessage(arg1,arg2,arg3){if(typeof message==="string"){return message}else{return message(arg1,arg2,arg3)}}var NodeError=function(_Base){_inheritsLoose(NodeError,_Base);function NodeError(arg1,arg2,arg3){return _Base.call(this,getMessage(arg1,arg2,arg3))||this}return NodeError}(Base);NodeError.prototype.name=Base.name;NodeError.prototype.code=code;codes[code]=NodeError}function oneOf(expected,thing){if(Array.isArray(expected)){var len=expected.length;expected=expected.map(function(i){return String(i)});if(len>2){return"one of ".concat(thing," ").concat(expected.slice(0,len-1).join(", "),", or ")+expected[len-1]}else if(len===2){return"one of ".concat(thing," ").concat(expected[0]," or ").concat(expected[1])}else{return"of ".concat(thing," ").concat(expected[0])}}else{return"of ".concat(thing," ").concat(String(expected))}}function startsWith(str,search,pos){return str.substr(!pos||pos<0?0:+pos,search.length)===search}function endsWith(str,search,this_len){if(this_len===undefined||this_len>str.length){this_len=str.length}return str.substring(this_len-search.length,this_len)===search}function includes(str,search,start){if(typeof start!=="number"){start=0}if(start+search.length>str.length){return false}else{return str.indexOf(search,start)!==-1}}createErrorType("ERR_INVALID_OPT_VALUE",function(name,value){return'The value "'+value+'" is invalid for option "'+name+'"'},TypeError);createErrorType("ERR_INVALID_ARG_TYPE",function(name,expected,actual){var determiner;if(typeof expected==="string"&&startsWith(expected,"not ")){determiner="must not be";expected=expected.replace(/^not /,"")}else{determiner="must be"}var msg;if(endsWith(name," argument")){msg="The ".concat(name," ").concat(determiner," ").concat(oneOf(expected,"type"))}else{var type=includes(name,".")?"property":"argument";msg='The "'.concat(name,'" ').concat(type," ").concat(determiner," ").concat(oneOf(expected,"type"))}msg+=". Received type ".concat(_typeof(actual));return msg},TypeError);createErrorType("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");createErrorType("ERR_METHOD_NOT_IMPLEMENTED",function(name){return"The "+name+" method is not implemented"});createErrorType("ERR_STREAM_PREMATURE_CLOSE","Premature close");createErrorType("ERR_STREAM_DESTROYED",function(name){return"Cannot call "+name+" after a stream was destroyed"});createErrorType("ERR_MULTIPLE_CALLBACK","Callback called multiple times");createErrorType("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");createErrorType("ERR_STREAM_WRITE_AFTER_END","write after end");createErrorType("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);createErrorType("ERR_UNKNOWN_ENCODING",function(arg){return"Unknown encoding: "+arg},TypeError);createErrorType("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");module.exports.codes=codes},{}],89:[function(require,module,exports){(function(process){(function(){"use strict";var objectKeys=Object.keys||function(obj){var keys=[];for(var key in obj){keys.push(key)}return keys};module.exports=Duplex;var Readable=require("./_stream_readable");var Writable=require("./_stream_writable");require("inherits")(Duplex,Readable);{var keys=objectKeys(Writable.prototype);for(var v=0;v<keys.length;v++){var method=keys[v];if(!Duplex.prototype[method])Duplex.prototype[method]=Writable.prototype[method]}}function Duplex(options){if(!(this instanceof Duplex))return new Duplex(options);Readable.call(this,options);Writable.call(this,options);this.allowHalfOpen=true;if(options){if(options.readable===false)this.readable=false;if(options.writable===false)this.writable=false;if(options.allowHalfOpen===false){this.allowHalfOpen=false;this.once("end",onend)}}}Object.defineProperty(Duplex.prototype,"writableHighWaterMark",{enumerable:false,get:function get(){return this._writableState.highWaterMark}});Object.defineProperty(Duplex.prototype,"writableBuffer",{enumerable:false,get:function get(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(Duplex.prototype,"writableLength",{enumerable:false,get:function get(){return this._writableState.length}});function onend(){if(this._writableState.ended)return;process.nextTick(onEndNT,this)}function onEndNT(self){self.end()}Object.defineProperty(Duplex.prototype,"destroyed",{enumerable:false,get:function get(){if(this._readableState===undefined||this._writableState===undefined){return false}return this._readableState.destroyed&&this._writableState.destroyed},set:function set(value){if(this._readableState===undefined||this._writableState===undefined){return}this._readableState.destroyed=value;this._writableState.destroyed=value}})}).call(this)}).call(this,require("_process"))},{"./_stream_readable":91,"./_stream_writable":93,_process:197,inherits:75}],90:[function(require,module,exports){"use strict";module.exports=PassThrough;var Transform=require("./_stream_transform");require("inherits")(PassThrough,Transform);function PassThrough(options){if(!(this instanceof PassThrough))return new PassThrough(options);Transform.call(this,options)}PassThrough.prototype._transform=function(chunk,encoding,cb){cb(null,chunk)}},{"./_stream_transform":92,inherits:75}],91:[function(require,module,exports){(function(process,global){(function(){"use strict";module.exports=Readable;var Duplex;Readable.ReadableState=ReadableState;var EE=require("events").EventEmitter;var EElistenerCount=function EElistenerCount(emitter,type){return emitter.listeners(type).length};var Stream=require("./internal/streams/stream");var Buffer=require("buffer").Buffer;var OurUint8Array=(typeof global!=="undefined"?global:typeof window!=="undefined"?window:typeof self!=="undefined"?self:{}).Uint8Array||function(){};function _uint8ArrayToBuffer(chunk){return Buffer.from(chunk)}function _isUint8Array(obj){return Buffer.isBuffer(obj)||obj instanceof OurUint8Array}var debugUtil=require("util");var debug;if(debugUtil&&debugUtil.debuglog){debug=debugUtil.debuglog("stream")}else{debug=function debug(){}}var BufferList=require("./internal/streams/buffer_list");var destroyImpl=require("./internal/streams/destroy");var _require=require("./internal/streams/state"),getHighWaterMark=_require.getHighWaterMark;var _require$codes=require("../errors").codes,ERR_INVALID_ARG_TYPE=_require$codes.ERR_INVALID_ARG_TYPE,ERR_STREAM_PUSH_AFTER_EOF=_require$codes.ERR_STREAM_PUSH_AFTER_EOF,ERR_METHOD_NOT_IMPLEMENTED=_require$codes.ERR_METHOD_NOT_IMPLEMENTED,ERR_STREAM_UNSHIFT_AFTER_END_EVENT=_require$codes.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;var StringDecoder;var createReadableStreamAsyncIterator;var from;require("inherits")(Readable,Stream);var errorOrDestroy=destroyImpl.errorOrDestroy;var kProxyEvents=["error","close","destroy","pause","resume"];function prependListener(emitter,event,fn){if(typeof emitter.prependListener==="function")return emitter.prependListener(event,fn);if(!emitter._events||!emitter._events[event])emitter.on(event,fn);else if(Array.isArray(emitter._events[event]))emitter._events[event].unshift(fn);else emitter._events[event]=[fn,emitter._events[event]]}function ReadableState(options,stream,isDuplex){Duplex=Duplex||require("./_stream_duplex");options=options||{};if(typeof isDuplex!=="boolean")isDuplex=stream instanceof Duplex;this.objectMode=!!options.objectMode;if(isDuplex)this.objectMode=this.objectMode||!!options.readableObjectMode;this.highWaterMark=getHighWaterMark(this,options,"readableHighWaterMark",isDuplex);this.buffer=new BufferList;this.length=0;this.pipes=null;this.pipesCount=0;this.flowing=null;this.ended=false;this.endEmitted=false;this.reading=false;this.sync=true;this.needReadable=false;this.emittedReadable=false;this.readableListening=false;this.resumeScheduled=false;this.paused=true;this.emitClose=options.emitClose!==false;this.autoDestroy=!!options.autoDestroy;this.destroyed=false;this.defaultEncoding=options.defaultEncoding||"utf8";this.awaitDrain=0;this.readingMore=false;this.decoder=null;this.encoding=null;if(options.encoding){if(!StringDecoder)StringDecoder=require("string_decoder/").StringDecoder;this.decoder=new StringDecoder(options.encoding);this.encoding=options.encoding}}function Readable(options){Duplex=Duplex||require("./_stream_duplex");if(!(this instanceof Readable))return new Readable(options);var isDuplex=this instanceof Duplex;this._readableState=new ReadableState(options,this,isDuplex);this.readable=true;if(options){if(typeof options.read==="function")this._read=options.read;if(typeof options.destroy==="function")this._destroy=options.destroy}Stream.call(this)}Object.defineProperty(Readable.prototype,"destroyed",{enumerable:false,get:function get(){if(this._readableState===undefined){return false}return this._readableState.destroyed},set:function set(value){if(!this._readableState){return}this._readableState.destroyed=value}});Readable.prototype.destroy=destroyImpl.destroy;Readable.prototype._undestroy=destroyImpl.undestroy;Readable.prototype._destroy=function(err,cb){cb(err)};Readable.prototype.push=function(chunk,encoding){var state=this._readableState;var skipChunkCheck;if(!state.objectMode){if(typeof chunk==="string"){encoding=encoding||state.defaultEncoding;if(encoding!==state.encoding){chunk=Buffer.from(chunk,encoding);encoding=""}skipChunkCheck=true}}else{skipChunkCheck=true}return readableAddChunk(this,chunk,encoding,false,skipChunkCheck)};Readable.prototype.unshift=function(chunk){return readableAddChunk(this,chunk,null,true,false)};function readableAddChunk(stream,chunk,encoding,addToFront,skipChunkCheck){debug("readableAddChunk",chunk);var state=stream._readableState;if(chunk===null){state.reading=false;onEofChunk(stream,state)}else{var er;if(!skipChunkCheck)er=chunkInvalid(state,chunk);if(er){errorOrDestroy(stream,er)}else if(state.objectMode||chunk&&chunk.length>0){if(typeof chunk!=="string"&&!state.objectMode&&Object.getPrototypeOf(chunk)!==Buffer.prototype){chunk=_uint8ArrayToBuffer(chunk)}if(addToFront){if(state.endEmitted)errorOrDestroy(stream,new ERR_STREAM_UNSHIFT_AFTER_END_EVENT);else addChunk(stream,state,chunk,true)}else if(state.ended){errorOrDestroy(stream,new ERR_STREAM_PUSH_AFTER_EOF)}else if(state.destroyed){return false}else{state.reading=false;if(state.decoder&&!encoding){chunk=state.decoder.write(chunk);if(state.objectMode||chunk.length!==0)addChunk(stream,state,chunk,false);else maybeReadMore(stream,state)}else{addChunk(stream,state,chunk,false)}}}else if(!addToFront){state.reading=false;maybeReadMore(stream,state)}}return!state.ended&&(state.length<state.highWaterMark||state.length===0)}function addChunk(stream,state,chunk,addToFront){if(state.flowing&&state.length===0&&!state.sync){state.awaitDrain=0;stream.emit("data",chunk)}else{state.length+=state.objectMode?1:chunk.length;if(addToFront)state.buffer.unshift(chunk);else state.buffer.push(chunk);if(state.needReadable)emitReadable(stream)}maybeReadMore(stream,state)}function chunkInvalid(state,chunk){var er;if(!_isUint8Array(chunk)&&typeof chunk!=="string"&&chunk!==undefined&&!state.objectMode){er=new ERR_INVALID_ARG_TYPE("chunk",["string","Buffer","Uint8Array"],chunk)}return er}Readable.prototype.isPaused=function(){return this._readableState.flowing===false};Readable.prototype.setEncoding=function(enc){if(!StringDecoder)StringDecoder=require("string_decoder/").StringDecoder;var decoder=new StringDecoder(enc);this._readableState.decoder=decoder;this._readableState.encoding=this._readableState.decoder.encoding;var p=this._readableState.buffer.head;var content="";while(p!==null){content+=decoder.write(p.data);p=p.next}this._readableState.buffer.clear();if(content!=="")this._readableState.buffer.push(content);this._readableState.length=content.length;return this};var MAX_HWM=1073741824;function computeNewHighWaterMark(n){if(n>=MAX_HWM){n=MAX_HWM}else{n--;n|=n>>>1;n|=n>>>2;n|=n>>>4;n|=n>>>8;n|=n>>>16;n++}return n}function howMuchToRead(n,state){if(n<=0||state.length===0&&state.ended)return 0;if(state.objectMode)return 1;if(n!==n){if(state.flowing&&state.length)return state.buffer.head.data.length;else return state.length}if(n>state.highWaterMark)state.highWaterMark=computeNewHighWaterMark(n);if(n<=state.length)return n;if(!state.ended){state.needReadable=true;return 0}return state.length}Readable.prototype.read=function(n){debug("read",n);n=parseInt(n,10);var state=this._readableState;var nOrig=n;if(n!==0)state.emittedReadable=false;if(n===0&&state.needReadable&&((state.highWaterMark!==0?state.length>=state.highWaterMark:state.length>0)||state.ended)){debug("read: emitReadable",state.length,state.ended);if(state.length===0&&state.ended)endReadable(this);else emitReadable(this);return null}n=howMuchToRead(n,state);if(n===0&&state.ended){if(state.length===0)endReadable(this);return null}var doRead=state.needReadable;debug("need readable",doRead);if(state.length===0||state.length-n<state.highWaterMark){doRead=true;debug("length less than watermark",doRead)}if(state.ended||state.reading){doRead=false;debug("reading or ended",doRead)}else if(doRead){debug("do read");state.reading=true;state.sync=true;if(state.length===0)state.needReadable=true;this._read(state.highWaterMark);state.sync=false;if(!state.reading)n=howMuchToRead(nOrig,state)}var ret;if(n>0)ret=fromList(n,state);else ret=null;if(ret===null){state.needReadable=state.length<=state.highWaterMark;n=0}else{state.length-=n;state.awaitDrain=0}if(state.length===0){if(!state.ended)state.needReadable=true;if(nOrig!==n&&state.ended)endReadable(this)}if(ret!==null)this.emit("data",ret);return ret};function onEofChunk(stream,state){debug("onEofChunk");if(state.ended)return;if(state.decoder){var chunk=state.decoder.end();if(chunk&&chunk.length){state.buffer.push(chunk);state.length+=state.objectMode?1:chunk.length}}state.ended=true;if(state.sync){emitReadable(stream)}else{state.needReadable=false;if(!state.emittedReadable){state.emittedReadable=true;emitReadable_(stream)}}}function emitReadable(stream){var state=stream._readableState;debug("emitReadable",state.needReadable,state.emittedReadable);state.needReadable=false;if(!state.emittedReadable){debug("emitReadable",state.flowing);state.emittedReadable=true;process.nextTick(emitReadable_,stream)}}function emitReadable_(stream){var state=stream._readableState;debug("emitReadable_",state.destroyed,state.length,state.ended);if(!state.destroyed&&(state.length||state.ended)){stream.emit("readable");state.emittedReadable=false}state.needReadable=!state.flowing&&!state.ended&&state.length<=state.highWaterMark;flow(stream)}function maybeReadMore(stream,state){if(!state.readingMore){state.readingMore=true;process.nextTick(maybeReadMore_,stream,state)}}function maybeReadMore_(stream,state){while(!state.reading&&!state.ended&&(state.length<state.highWaterMark||state.flowing&&state.length===0)){var len=state.length;debug("maybeReadMore read 0");stream.read(0);if(len===state.length)break}state.readingMore=false}Readable.prototype._read=function(n){errorOrDestroy(this,new ERR_METHOD_NOT_IMPLEMENTED("_read()"))};Readable.prototype.pipe=function(dest,pipeOpts){var src=this;var state=this._readableState;switch(state.pipesCount){case 0:state.pipes=dest;break;case 1:state.pipes=[state.pipes,dest];break;default:state.pipes.push(dest);break}state.pipesCount+=1;debug("pipe count=%d opts=%j",state.pipesCount,pipeOpts);var doEnd=(!pipeOpts||pipeOpts.end!==false)&&dest!==process.stdout&&dest!==process.stderr;var endFn=doEnd?onend:unpipe;if(state.endEmitted)process.nextTick(endFn);else src.once("end",endFn);dest.on("unpipe",onunpipe);function onunpipe(readable,unpipeInfo){debug("onunpipe");if(readable===src){if(unpipeInfo&&unpipeInfo.hasUnpiped===false){unpipeInfo.hasUnpiped=true;cleanup()}}}function onend(){debug("onend");dest.end()}var ondrain=pipeOnDrain(src);dest.on("drain",ondrain);var cleanedUp=false;function cleanup(){debug("cleanup");dest.removeListener("close",onclose);dest.removeListener("finish",onfinish);dest.removeListener("drain",ondrain);dest.removeListener("error",onerror);dest.removeListener("unpipe",onunpipe);src.removeListener("end",onend);src.removeListener("end",unpipe);src.removeListener("data",ondata);cleanedUp=true;if(state.awaitDrain&&(!dest._writableState||dest._writableState.needDrain))ondrain()}src.on("data",ondata);function ondata(chunk){debug("ondata");var ret=dest.write(chunk);debug("dest.write",ret);if(ret===false){if((state.pipesCount===1&&state.pipes===dest||state.pipesCount>1&&indexOf(state.pipes,dest)!==-1)&&!cleanedUp){debug("false write response, pause",state.awaitDrain);state.awaitDrain++}src.pause()}}function onerror(er){debug("onerror",er);unpipe();dest.removeListener("error",onerror);if(EElistenerCount(dest,"error")===0)errorOrDestroy(dest,er)}prependListener(dest,"error",onerror);function onclose(){dest.removeListener("finish",onfinish);unpipe()}dest.once("close",onclose);function onfinish(){debug("onfinish");dest.removeListener("close",onclose);unpipe()}dest.once("finish",onfinish);function unpipe(){debug("unpipe");src.unpipe(dest)}dest.emit("pipe",src);if(!state.flowing){debug("pipe resume");src.resume()}return dest};function pipeOnDrain(src){return function pipeOnDrainFunctionResult(){var state=src._readableState;debug("pipeOnDrain",state.awaitDrain);if(state.awaitDrain)state.awaitDrain--;if(state.awaitDrain===0&&EElistenerCount(src,"data")){state.flowing=true;flow(src)}}}Readable.prototype.unpipe=function(dest){var state=this._readableState;var unpipeInfo={hasUnpiped:false};if(state.pipesCount===0)return this;if(state.pipesCount===1){if(dest&&dest!==state.pipes)return this;if(!dest)dest=state.pipes;state.pipes=null;state.pipesCount=0;state.flowing=false;if(dest)dest.emit("unpipe",this,unpipeInfo);return this}if(!dest){var dests=state.pipes;var len=state.pipesCount;state.pipes=null;state.pipesCount=0;state.flowing=false;for(var i=0;i<len;i++){dests[i].emit("unpipe",this,{hasUnpiped:false})}return this}var index=indexOf(state.pipes,dest);if(index===-1)return this;state.pipes.splice(index,1);state.pipesCount-=1;if(state.pipesCount===1)state.pipes=state.pipes[0];dest.emit("unpipe",this,unpipeInfo);return this};Readable.prototype.on=function(ev,fn){var res=Stream.prototype.on.call(this,ev,fn);var state=this._readableState;if(ev==="data"){state.readableListening=this.listenerCount("readable")>0;if(state.flowing!==false)this.resume()}else if(ev==="readable"){if(!state.endEmitted&&!state.readableListening){state.readableListening=state.needReadable=true;state.flowing=false;state.emittedReadable=false;debug("on readable",state.length,state.reading);if(state.length){emitReadable(this)}else if(!state.reading){process.nextTick(nReadingNextTick,this)}}}return res};Readable.prototype.addListener=Readable.prototype.on;Readable.prototype.removeListener=function(ev,fn){var res=Stream.prototype.removeListener.call(this,ev,fn);if(ev==="readable"){process.nextTick(updateReadableListening,this)}return res};Readable.prototype.removeAllListeners=function(ev){var res=Stream.prototype.removeAllListeners.apply(this,arguments);if(ev==="readable"||ev===undefined){process.nextTick(updateReadableListening,this)}return res};function updateReadableListening(self){var state=self._readableState;state.readableListening=self.listenerCount("readable")>0;if(state.resumeScheduled&&!state.paused){state.flowing=true}else if(self.listenerCount("data")>0){self.resume()}}function nReadingNextTick(self){debug("readable nexttick read 0");self.read(0)}Readable.prototype.resume=function(){var state=this._readableState;if(!state.flowing){debug("resume");state.flowing=!state.readableListening;resume(this,state)}state.paused=false;return this};function resume(stream,state){if(!state.resumeScheduled){state.resumeScheduled=true;process.nextTick(resume_,stream,state)}}function resume_(stream,state){debug("resume",state.reading);if(!state.reading){stream.read(0)}state.resumeScheduled=false;stream.emit("resume");flow(stream);if(state.flowing&&!state.reading)stream.read(0)}Readable.prototype.pause=function(){debug("call pause flowing=%j",this._readableState.flowing);if(this._readableState.flowing!==false){debug("pause");this._readableState.flowing=false;this.emit("pause")}this._readableState.paused=true;return this};function flow(stream){var state=stream._readableState;debug("flow",state.flowing);while(state.flowing&&stream.read()!==null){}}Readable.prototype.wrap=function(stream){var _this=this;var state=this._readableState;var paused=false;stream.on("end",function(){debug("wrapped end");if(state.decoder&&!state.ended){var chunk=state.decoder.end();if(chunk&&chunk.length)_this.push(chunk)}_this.push(null)});stream.on("data",function(chunk){debug("wrapped data");if(state.decoder)chunk=state.decoder.write(chunk);if(state.objectMode&&(chunk===null||chunk===undefined))return;else if(!state.objectMode&&(!chunk||!chunk.length))return;var ret=_this.push(chunk);if(!ret){paused=true;stream.pause()}});for(var i in stream){if(this[i]===undefined&&typeof stream[i]==="function"){this[i]=function methodWrap(method){return function methodWrapReturnFunction(){return stream[method].apply(stream,arguments)}}(i)}}for(var n=0;n<kProxyEvents.length;n++){stream.on(kProxyEvents[n],this.emit.bind(this,kProxyEvents[n]))}this._read=function(n){debug("wrapped _read",n);if(paused){paused=false;stream.resume()}};return this};if(typeof Symbol==="function"){Readable.prototype[Symbol.asyncIterator]=function(){if(createReadableStreamAsyncIterator===undefined){createReadableStreamAsyncIterator=require("./internal/streams/async_iterator")}return createReadableStreamAsyncIterator(this)}}Object.defineProperty(Readable.prototype,"readableHighWaterMark",{enumerable:false,get:function get(){return this._readableState.highWaterMark}});Object.defineProperty(Readable.prototype,"readableBuffer",{enumerable:false,get:function get(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(Readable.prototype,"readableFlowing",{enumerable:false,get:function get(){return this._readableState.flowing},set:function set(state){if(this._readableState){this._readableState.flowing=state}}});Readable._fromList=fromList;Object.defineProperty(Readable.prototype,"readableLength",{enumerable:false,get:function get(){return this._readableState.length}});function fromList(n,state){if(state.length===0)return null;var ret;if(state.objectMode)ret=state.buffer.shift();else if(!n||n>=state.length){if(state.decoder)ret=state.buffer.join("");else if(state.buffer.length===1)ret=state.buffer.first();else ret=state.buffer.concat(state.length);state.buffer.clear()}else{ret=state.buffer.consume(n,state.decoder)}return ret}function endReadable(stream){var state=stream._readableState;debug("endReadable",state.endEmitted);if(!state.endEmitted){state.ended=true;process.nextTick(endReadableNT,state,stream)}}function endReadableNT(state,stream){debug("endReadableNT",state.endEmitted,state.length);if(!state.endEmitted&&state.length===0){state.endEmitted=true;stream.readable=false;stream.emit("end");if(state.autoDestroy){var wState=stream._writableState;if(!wState||wState.autoDestroy&&wState.finished){stream.destroy()}}}}if(typeof Symbol==="function"){Readable.from=function(iterable,opts){if(from===undefined){from=require("./internal/streams/from")}return from(Readable,iterable,opts)}}function indexOf(xs,x){for(var i=0,l=xs.length;i<l;i++){if(xs[i]===x)return i}return-1}}).call(this)}).call(this,require("_process"),typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"../errors":88,"./_stream_duplex":89,"./internal/streams/async_iterator":94,"./internal/streams/buffer_list":95,"./internal/streams/destroy":96,"./internal/streams/from":98,"./internal/streams/state":100,"./internal/streams/stream":101,_process:197,buffer:168,events:60,inherits:75,"string_decoder/":117,util:167}],92:[function(require,module,exports){"use strict";module.exports=Transform;var _require$codes=require("../errors").codes,ERR_METHOD_NOT_IMPLEMENTED=_require$codes.ERR_METHOD_NOT_IMPLEMENTED,ERR_MULTIPLE_CALLBACK=_require$codes.ERR_MULTIPLE_CALLBACK,ERR_TRANSFORM_ALREADY_TRANSFORMING=_require$codes.ERR_TRANSFORM_ALREADY_TRANSFORMING,ERR_TRANSFORM_WITH_LENGTH_0=_require$codes.ERR_TRANSFORM_WITH_LENGTH_0;var Duplex=require("./_stream_duplex");require("inherits")(Transform,Duplex);function afterTransform(er,data){var ts=this._transformState;ts.transforming=false;var cb=ts.writecb;if(cb===null){return this.emit("error",new ERR_MULTIPLE_CALLBACK)}ts.writechunk=null;ts.writecb=null;if(data!=null)this.push(data);cb(er);var rs=this._readableState;rs.reading=false;if(rs.needReadable||rs.length<rs.highWaterMark){this._read(rs.highWaterMark)}}function Transform(options){if(!(this instanceof Transform))return new Transform(options);Duplex.call(this,options);this._transformState={afterTransform:afterTransform.bind(this),needTransform:false,transforming:false,writecb:null,writechunk:null,writeencoding:null};this._readableState.needReadable=true;this._readableState.sync=false;if(options){if(typeof options.transform==="function")this._transform=options.transform;if(typeof options.flush==="function")this._flush=options.flush}this.on("prefinish",prefinish)}function prefinish(){var _this=this;if(typeof this._flush==="function"&&!this._readableState.destroyed){this._flush(function(er,data){done(_this,er,data)})}else{done(this,null,null)}}Transform.prototype.push=function(chunk,encoding){this._transformState.needTransform=false;return Duplex.prototype.push.call(this,chunk,encoding)};Transform.prototype._transform=function(chunk,encoding,cb){cb(new ERR_METHOD_NOT_IMPLEMENTED("_transform()"))};Transform.prototype._write=function(chunk,encoding,cb){var ts=this._transformState;ts.writecb=cb;ts.writechunk=chunk;ts.writeencoding=encoding;if(!ts.transforming){var rs=this._readableState;if(ts.needTransform||rs.needReadable||rs.length<rs.highWaterMark)this._read(rs.highWaterMark)}};Transform.prototype._read=function(n){var ts=this._transformState;if(ts.writechunk!==null&&!ts.transforming){ts.transforming=true;this._transform(ts.writechunk,ts.writeencoding,ts.afterTransform)}else{ts.needTransform=true}};Transform.prototype._destroy=function(err,cb){Duplex.prototype._destroy.call(this,err,function(err2){cb(err2)})};function done(stream,er,data){if(er)return stream.emit("error",er);if(data!=null)stream.push(data);if(stream._writableState.length)throw new ERR_TRANSFORM_WITH_LENGTH_0;if(stream._transformState.transforming)throw new ERR_TRANSFORM_ALREADY_TRANSFORMING;return stream.push(null)}},{"../errors":88,"./_stream_duplex":89,inherits:75}],93:[function(require,module,exports){(function(process,global){(function(){"use strict";module.exports=Writable;function WriteReq(chunk,encoding,cb){this.chunk=chunk;this.encoding=encoding;this.callback=cb;this.next=null}function CorkedRequest(state){var _this=this;this.next=null;this.entry=null;this.finish=function(){onCorkedFinish(_this,state)}}var Duplex;Writable.WritableState=WritableState;var internalUtil={deprecate:require("util-deprecate")};var Stream=require("./internal/streams/stream");var Buffer=require("buffer").Buffer;var OurUint8Array=(typeof global!=="undefined"?global:typeof window!=="undefined"?window:typeof self!=="undefined"?self:{}).Uint8Array||function(){};function _uint8ArrayToBuffer(chunk){return Buffer.from(chunk)}function _isUint8Array(obj){return Buffer.isBuffer(obj)||obj instanceof OurUint8Array}var destroyImpl=require("./internal/streams/destroy");var _require=require("./internal/streams/state"),getHighWaterMark=_require.getHighWaterMark;var _require$codes=require("../errors").codes,ERR_INVALID_ARG_TYPE=_require$codes.ERR_INVALID_ARG_TYPE,ERR_METHOD_NOT_IMPLEMENTED=_require$codes.ERR_METHOD_NOT_IMPLEMENTED,ERR_MULTIPLE_CALLBACK=_require$codes.ERR_MULTIPLE_CALLBACK,ERR_STREAM_CANNOT_PIPE=_require$codes.ERR_STREAM_CANNOT_PIPE,ERR_STREAM_DESTROYED=_require$codes.ERR_STREAM_DESTROYED,ERR_STREAM_NULL_VALUES=_require$codes.ERR_STREAM_NULL_VALUES,ERR_STREAM_WRITE_AFTER_END=_require$codes.ERR_STREAM_WRITE_AFTER_END,ERR_UNKNOWN_ENCODING=_require$codes.ERR_UNKNOWN_ENCODING;var errorOrDestroy=destroyImpl.errorOrDestroy;require("inherits")(Writable,Stream);function nop(){}function WritableState(options,stream,isDuplex){Duplex=Duplex||require("./_stream_duplex");options=options||{};if(typeof isDuplex!=="boolean")isDuplex=stream instanceof Duplex;this.objectMode=!!options.objectMode;if(isDuplex)this.objectMode=this.objectMode||!!options.writableObjectMode;this.highWaterMark=getHighWaterMark(this,options,"writableHighWaterMark",isDuplex);this.finalCalled=false;this.needDrain=false;this.ending=false;this.ended=false;this.finished=false;this.destroyed=false;var noDecode=options.decodeStrings===false;this.decodeStrings=!noDecode;this.defaultEncoding=options.defaultEncoding||"utf8";this.length=0;this.writing=false;this.corked=0;this.sync=true;this.bufferProcessing=false;this.onwrite=function(er){onwrite(stream,er)};this.writecb=null;this.writelen=0;this.bufferedRequest=null;this.lastBufferedRequest=null;this.pendingcb=0;this.prefinished=false;this.errorEmitted=false;this.emitClose=options.emitClose!==false;this.autoDestroy=!!options.autoDestroy;this.bufferedRequestCount=0;this.corkedRequestsFree=new CorkedRequest(this)}WritableState.prototype.getBuffer=function getBuffer(){var current=this.bufferedRequest;var out=[];while(current){out.push(current);current=current.next}return out};(function(){try{Object.defineProperty(WritableState.prototype,"buffer",{get:internalUtil.deprecate(function writableStateBufferGetter(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer "+"instead.","DEP0003")})}catch(_){}})();var realHasInstance;if(typeof Symbol==="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]==="function"){realHasInstance=Function.prototype[Symbol.hasInstance];Object.defineProperty(Writable,Symbol.hasInstance,{value:function value(object){if(realHasInstance.call(this,object))return true;if(this!==Writable)return false;return object&&object._writableState instanceof WritableState}})}else{realHasInstance=function realHasInstance(object){return object instanceof this}}function Writable(options){Duplex=Duplex||require("./_stream_duplex");var isDuplex=this instanceof Duplex;if(!isDuplex&&!realHasInstance.call(Writable,this))return new Writable(options);this._writableState=new WritableState(options,this,isDuplex);this.writable=true;if(options){if(typeof options.write==="function")this._write=options.write;if(typeof options.writev==="function")this._writev=options.writev;if(typeof options.destroy==="function")this._destroy=options.destroy;if(typeof options["final"]==="function")this._final=options["final"]}Stream.call(this)}Writable.prototype.pipe=function(){errorOrDestroy(this,new ERR_STREAM_CANNOT_PIPE)};function writeAfterEnd(stream,cb){var er=new ERR_STREAM_WRITE_AFTER_END;errorOrDestroy(stream,er);process.nextTick(cb,er)}function validChunk(stream,state,chunk,cb){var er;if(chunk===null){er=new ERR_STREAM_NULL_VALUES}else if(typeof chunk!=="string"&&!state.objectMode){er=new ERR_INVALID_ARG_TYPE("chunk",["string","Buffer"],chunk)}if(er){errorOrDestroy(stream,er);process.nextTick(cb,er);return false}return true}Writable.prototype.write=function(chunk,encoding,cb){var state=this._writableState;var ret=false;var isBuf=!state.objectMode&&_isUint8Array(chunk);if(isBuf&&!Buffer.isBuffer(chunk)){chunk=_uint8ArrayToBuffer(chunk)}if(typeof encoding==="function"){cb=encoding;encoding=null}if(isBuf)encoding="buffer";else if(!encoding)encoding=state.defaultEncoding;if(typeof cb!=="function")cb=nop;if(state.ending)writeAfterEnd(this,cb);else if(isBuf||validChunk(this,state,chunk,cb)){state.pendingcb++;ret=writeOrBuffer(this,state,isBuf,chunk,encoding,cb)}return ret};Writable.prototype.cork=function(){this._writableState.corked++};Writable.prototype.uncork=function(){var state=this._writableState;if(state.corked){state.corked--;if(!state.writing&&!state.corked&&!state.bufferProcessing&&state.bufferedRequest)clearBuffer(this,state)}};Writable.prototype.setDefaultEncoding=function setDefaultEncoding(encoding){if(typeof encoding==="string")encoding=encoding.toLowerCase();if(!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((encoding+"").toLowerCase())>-1))throw new ERR_UNKNOWN_ENCODING(encoding);this._writableState.defaultEncoding=encoding;return this};Object.defineProperty(Writable.prototype,"writableBuffer",{enumerable:false,get:function get(){return this._writableState&&this._writableState.getBuffer()}});function decodeChunk(state,chunk,encoding){if(!state.objectMode&&state.decodeStrings!==false&&typeof chunk==="string"){chunk=Buffer.from(chunk,encoding)}return chunk}Object.defineProperty(Writable.prototype,"writableHighWaterMark",{enumerable:false,get:function get(){return this._writableState.highWaterMark}});function writeOrBuffer(stream,state,isBuf,chunk,encoding,cb){if(!isBuf){var newChunk=decodeChunk(state,chunk,encoding);if(chunk!==newChunk){isBuf=true;encoding="buffer";chunk=newChunk}}var len=state.objectMode?1:chunk.length;state.length+=len;var ret=state.length<state.highWaterMark;if(!ret)state.needDrain=true;if(state.writing||state.corked){var last=state.lastBufferedRequest;state.lastBufferedRequest={chunk:chunk,encoding:encoding,isBuf:isBuf,callback:cb,next:null};if(last){last.next=state.lastBufferedRequest}else{state.bufferedRequest=state.lastBufferedRequest}state.bufferedRequestCount+=1}else{doWrite(stream,state,false,len,chunk,encoding,cb)}return ret}function doWrite(stream,state,writev,len,chunk,encoding,cb){state.writelen=len;state.writecb=cb;state.writing=true;state.sync=true;if(state.destroyed)state.onwrite(new ERR_STREAM_DESTROYED("write"));else if(writev)stream._writev(chunk,state.onwrite);else stream._write(chunk,encoding,state.onwrite);state.sync=false}function onwriteError(stream,state,sync,er,cb){--state.pendingcb;if(sync){process.nextTick(cb,er);process.nextTick(finishMaybe,stream,state);stream._writableState.errorEmitted=true;errorOrDestroy(stream,er)}else{cb(er);stream._writableState.errorEmitted=true;errorOrDestroy(stream,er);finishMaybe(stream,state)}}function onwriteStateUpdate(state){state.writing=false;state.writecb=null;state.length-=state.writelen;state.writelen=0}function onwrite(stream,er){var state=stream._writableState;var sync=state.sync;var cb=state.writecb;if(typeof cb!=="function")throw new ERR_MULTIPLE_CALLBACK;onwriteStateUpdate(state);if(er)onwriteError(stream,state,sync,er,cb);else{var finished=needFinish(state)||stream.destroyed;if(!finished&&!state.corked&&!state.bufferProcessing&&state.bufferedRequest){clearBuffer(stream,state)}if(sync){process.nextTick(afterWrite,stream,state,finished,cb)}else{afterWrite(stream,state,finished,cb)}}}function afterWrite(stream,state,finished,cb){if(!finished)onwriteDrain(stream,state);state.pendingcb--;cb();finishMaybe(stream,state)}function onwriteDrain(stream,state){if(state.length===0&&state.needDrain){state.needDrain=false;stream.emit("drain")}}function clearBuffer(stream,state){state.bufferProcessing=true;var entry=state.bufferedRequest;if(stream._writev&&entry&&entry.next){var l=state.bufferedRequestCount;var buffer=new Array(l);var holder=state.corkedRequestsFree;holder.entry=entry;var count=0;var allBuffers=true;while(entry){buffer[count]=entry;if(!entry.isBuf)allBuffers=false;entry=entry.next;count+=1}buffer.allBuffers=allBuffers;doWrite(stream,state,true,state.length,buffer,"",holder.finish);state.pendingcb++;state.lastBufferedRequest=null;if(holder.next){state.corkedRequestsFree=holder.next;holder.next=null}else{state.corkedRequestsFree=new CorkedRequest(state)}state.bufferedRequestCount=0}else{while(entry){var chunk=entry.chunk;var encoding=entry.encoding;var cb=entry.callback;var len=state.objectMode?1:chunk.length;doWrite(stream,state,false,len,chunk,encoding,cb);entry=entry.next;state.bufferedRequestCount--;if(state.writing){break}}if(entry===null)state.lastBufferedRequest=null}state.bufferedRequest=entry;state.bufferProcessing=false}Writable.prototype._write=function(chunk,encoding,cb){cb(new ERR_METHOD_NOT_IMPLEMENTED("_write()"))};Writable.prototype._writev=null;Writable.prototype.end=function(chunk,encoding,cb){var state=this._writableState;if(typeof chunk==="function"){cb=chunk;chunk=null;encoding=null}else if(typeof encoding==="function"){cb=encoding;encoding=null}if(chunk!==null&&chunk!==undefined)this.write(chunk,encoding);if(state.corked){state.corked=1;this.uncork()}if(!state.ending)endWritable(this,state,cb);return this};Object.defineProperty(Writable.prototype,"writableLength",{enumerable:false,get:function get(){return this._writableState.length}});function needFinish(state){return state.ending&&state.length===0&&state.bufferedRequest===null&&!state.finished&&!state.writing}function callFinal(stream,state){stream._final(function(err){state.pendingcb--;if(err){errorOrDestroy(stream,err)}state.prefinished=true;stream.emit("prefinish");finishMaybe(stream,state)})}function prefinish(stream,state){if(!state.prefinished&&!state.finalCalled){if(typeof stream._final==="function"&&!state.destroyed){state.pendingcb++;state.finalCalled=true;process.nextTick(callFinal,stream,state)}else{state.prefinished=true;stream.emit("prefinish")}}}function finishMaybe(stream,state){var need=needFinish(state);if(need){prefinish(stream,state);if(state.pendingcb===0){state.finished=true;stream.emit("finish");if(state.autoDestroy){var rState=stream._readableState;if(!rState||rState.autoDestroy&&rState.endEmitted){stream.destroy()}}}}return need}function endWritable(stream,state,cb){state.ending=true;finishMaybe(stream,state);if(cb){if(state.finished)process.nextTick(cb);else stream.once("finish",cb)}state.ended=true;stream.writable=false}function onCorkedFinish(corkReq,state,err){var entry=corkReq.entry;corkReq.entry=null;while(entry){var cb=entry.callback;state.pendingcb--;cb(err);entry=entry.next}state.corkedRequestsFree.next=corkReq}Object.defineProperty(Writable.prototype,"destroyed",{enumerable:false,get:function get(){if(this._writableState===undefined){return false}return this._writableState.destroyed},set:function set(value){if(!this._writableState){return}this._writableState.destroyed=value}});Writable.prototype.destroy=destroyImpl.destroy;Writable.prototype._undestroy=destroyImpl.undestroy;Writable.prototype._destroy=function(err,cb){cb(err)}}).call(this)}).call(this,require("_process"),typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"../errors":88,"./_stream_duplex":89,"./internal/streams/destroy":96,"./internal/streams/state":100,"./internal/streams/stream":101,_process:197,buffer:168,inherits:75,"util-deprecate":121}],94:[function(require,module,exports){(function(process){(function(){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}var _Object$setPrototypeO;function _defineProperty(obj,key,value){key=_toPropertyKey(key);if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _toPropertyKey(arg){var key=_toPrimitive(arg,"string");return _typeof(key)==="symbol"?key:String(key)}function _toPrimitive(input,hint){if(_typeof(input)!=="object"||input===null)return input;var prim=input[Symbol.toPrimitive];if(prim!==undefined){var res=prim.call(input,hint||"default");if(_typeof(res)!=="object")return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return(hint==="string"?String:Number)(input)}var finished=require("./end-of-stream");var kLastResolve=Symbol("lastResolve");var kLastReject=Symbol("lastReject");var kError=Symbol("error");var kEnded=Symbol("ended");var kLastPromise=Symbol("lastPromise");var kHandlePromise=Symbol("handlePromise");var kStream=Symbol("stream");function createIterResult(value,done){return{value:value,done:done}}function readAndResolve(iter){var resolve=iter[kLastResolve];if(resolve!==null){var data=iter[kStream].read();if(data!==null){iter[kLastPromise]=null;iter[kLastResolve]=null;iter[kLastReject]=null;resolve(createIterResult(data,false))}}}function onReadable(iter){process.nextTick(readAndResolve,iter)}function wrapForNext(lastPromise,iter){return function(resolve,reject){lastPromise.then(function(){if(iter[kEnded]){resolve(createIterResult(undefined,true));return}iter[kHandlePromise](resolve,reject)},reject)}}var AsyncIteratorPrototype=Object.getPrototypeOf(function(){});var ReadableStreamAsyncIteratorPrototype=Object.setPrototypeOf((_Object$setPrototypeO={get stream(){return this[kStream]},next:function next(){var _this=this;var error=this[kError];if(error!==null){return Promise.reject(error)}if(this[kEnded]){return Promise.resolve(createIterResult(undefined,true))}if(this[kStream].destroyed){return new Promise(function(resolve,reject){process.nextTick(function(){if(_this[kError]){reject(_this[kError])}else{resolve(createIterResult(undefined,true))}})})}var lastPromise=this[kLastPromise];var promise;if(lastPromise){promise=new Promise(wrapForNext(lastPromise,this))}else{var data=this[kStream].read();if(data!==null){return Promise.resolve(createIterResult(data,false))}promise=new Promise(this[kHandlePromise])}this[kLastPromise]=promise;return promise}},_defineProperty(_Object$setPrototypeO,Symbol.asyncIterator,function(){return this}),_defineProperty(_Object$setPrototypeO,"return",function _return(){var _this2=this;return new Promise(function(resolve,reject){_this2[kStream].destroy(null,function(err){if(err){reject(err);return}resolve(createIterResult(undefined,true))})})}),_Object$setPrototypeO),AsyncIteratorPrototype);var createReadableStreamAsyncIterator=function createReadableStreamAsyncIterator(stream){var _Object$create;var iterator=Object.create(ReadableStreamAsyncIteratorPrototype,(_Object$create={},_defineProperty(_Object$create,kStream,{value:stream,writable:true}),_defineProperty(_Object$create,kLastResolve,{value:null,writable:true}),_defineProperty(_Object$create,kLastReject,{value:null,writable:true}),_defineProperty(_Object$create,kError,{value:null,writable:true}),_defineProperty(_Object$create,kEnded,{value:stream._readableState.endEmitted,writable:true}),_defineProperty(_Object$create,kHandlePromise,{value:function value(resolve,reject){var data=iterator[kStream].read();if(data){iterator[kLastPromise]=null;iterator[kLastResolve]=null;iterator[kLastReject]=null;resolve(createIterResult(data,false))}else{iterator[kLastResolve]=resolve;iterator[kLastReject]=reject}},writable:true}),_Object$create));iterator[kLastPromise]=null;finished(stream,function(err){if(err&&err.code!=="ERR_STREAM_PREMATURE_CLOSE"){var reject=iterator[kLastReject];if(reject!==null){iterator[kLastPromise]=null;iterator[kLastResolve]=null;iterator[kLastReject]=null;reject(err)}iterator[kError]=err;return}var resolve=iterator[kLastResolve];if(resolve!==null){iterator[kLastPromise]=null;iterator[kLastResolve]=null;iterator[kLastReject]=null;resolve(createIterResult(undefined,true))}iterator[kEnded]=true});stream.on("readable",onReadable.bind(null,iterator));return iterator};module.exports=createReadableStreamAsyncIterator}).call(this)}).call(this,require("_process"))},{"./end-of-stream":97,_process:197}],95:[function(require,module,exports){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){_defineProperty(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}return target}function _defineProperty(obj,key,value){key=_toPropertyKey(key);if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,_toPropertyKey(descriptor.key),descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);Object.defineProperty(Constructor,"prototype",{writable:false});return Constructor}function _toPropertyKey(arg){var key=_toPrimitive(arg,"string");return _typeof(key)==="symbol"?key:String(key)}function _toPrimitive(input,hint){if(_typeof(input)!=="object"||input===null)return input;var prim=input[Symbol.toPrimitive];if(prim!==undefined){var res=prim.call(input,hint||"default");if(_typeof(res)!=="object")return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return(hint==="string"?String:Number)(input)}var _require=require("buffer"),Buffer=_require.Buffer;var _require2=require("util"),inspect=_require2.inspect;var custom=inspect&&inspect.custom||"inspect";function copyBuffer(src,target,offset){Buffer.prototype.copy.call(src,target,offset)}module.exports=function(){function BufferList(){_classCallCheck(this,BufferList);this.head=null;this.tail=null;this.length=0}_createClass(BufferList,[{key:"push",value:function push(v){var entry={data:v,next:null};if(this.length>0)this.tail.next=entry;else this.head=entry;this.tail=entry;++this.length}},{key:"unshift",value:function unshift(v){var entry={data:v,next:this.head};if(this.length===0)this.tail=entry;this.head=entry;++this.length}},{key:"shift",value:function shift(){if(this.length===0)return;var ret=this.head.data;if(this.length===1)this.head=this.tail=null;else this.head=this.head.next;--this.length;return ret}},{key:"clear",value:function clear(){this.head=this.tail=null;this.length=0}},{key:"join",value:function join(s){if(this.length===0)return"";var p=this.head;var ret=""+p.data;while(p=p.next){ret+=s+p.data}return ret}},{key:"concat",value:function concat(n){if(this.length===0)return Buffer.alloc(0);var ret=Buffer.allocUnsafe(n>>>0);var p=this.head;var i=0;while(p){copyBuffer(p.data,ret,i);i+=p.data.length;p=p.next}return ret}},{key:"consume",value:function consume(n,hasStrings){var ret;if(n<this.head.data.length){ret=this.head.data.slice(0,n);this.head.data=this.head.data.slice(n)}else if(n===this.head.data.length){ret=this.shift()}else{ret=hasStrings?this._getString(n):this._getBuffer(n)}return ret}},{key:"first",value:function first(){return this.head.data}},{key:"_getString",value:function _getString(n){var p=this.head;var c=1;var ret=p.data;n-=ret.length;while(p=p.next){var str=p.data;var nb=n>str.length?str.length:n;if(nb===str.length)ret+=str;else ret+=str.slice(0,n);n-=nb;if(n===0){if(nb===str.length){++c;if(p.next)this.head=p.next;else this.head=this.tail=null}else{this.head=p;p.data=str.slice(nb)}break}++c}this.length-=c;return ret}},{key:"_getBuffer",value:function _getBuffer(n){var ret=Buffer.allocUnsafe(n);var p=this.head;var c=1;p.data.copy(ret);n-=p.data.length;while(p=p.next){var buf=p.data;var nb=n>buf.length?buf.length:n;buf.copy(ret,ret.length-n,0,nb);n-=nb;if(n===0){if(nb===buf.length){++c;if(p.next)this.head=p.next;else this.head=this.tail=null}else{this.head=p;p.data=buf.slice(nb)}break}++c}this.length-=c;return ret}},{key:custom,value:function value(_,options){return inspect(this,_objectSpread(_objectSpread({},options),{},{depth:0,customInspect:false}))}}]);return BufferList}()},{buffer:168,util:167}],96:[function(require,module,exports){(function(process){(function(){"use strict";function destroy(err,cb){var _this=this;var readableDestroyed=this._readableState&&this._readableState.destroyed;var writableDestroyed=this._writableState&&this._writableState.destroyed;if(readableDestroyed||writableDestroyed){if(cb){cb(err)}else if(err){if(!this._writableState){process.nextTick(emitErrorNT,this,err)}else if(!this._writableState.errorEmitted){this._writableState.errorEmitted=true;process.nextTick(emitErrorNT,this,err)}}return this}if(this._readableState){this._readableState.destroyed=true}if(this._writableState){this._writableState.destroyed=true}this._destroy(err||null,function(err){if(!cb&&err){if(!_this._writableState){process.nextTick(emitErrorAndCloseNT,_this,err)}else if(!_this._writableState.errorEmitted){_this._writableState.errorEmitted=true;process.nextTick(emitErrorAndCloseNT,_this,err)}else{process.nextTick(emitCloseNT,_this)}}else if(cb){process.nextTick(emitCloseNT,_this);cb(err)}else{process.nextTick(emitCloseNT,_this)}});return this}function emitErrorAndCloseNT(self,err){emitErrorNT(self,err);emitCloseNT(self)}function emitCloseNT(self){if(self._writableState&&!self._writableState.emitClose)return;if(self._readableState&&!self._readableState.emitClose)return;self.emit("close")}function undestroy(){if(this._readableState){this._readableState.destroyed=false;this._readableState.reading=false;this._readableState.ended=false;this._readableState.endEmitted=false}if(this._writableState){this._writableState.destroyed=false;this._writableState.ended=false;this._writableState.ending=false;this._writableState.finalCalled=false;this._writableState.prefinished=false;this._writableState.finished=false;this._writableState.errorEmitted=false}}function emitErrorNT(self,err){self.emit("error",err)}function errorOrDestroy(stream,err){var rState=stream._readableState;var wState=stream._writableState;if(rState&&rState.autoDestroy||wState&&wState.autoDestroy)stream.destroy(err);else stream.emit("error",err)}module.exports={destroy:destroy,undestroy:undestroy,errorOrDestroy:errorOrDestroy}}).call(this)}).call(this,require("_process"))},{_process:197}],97:[function(require,module,exports){"use strict";var ERR_STREAM_PREMATURE_CLOSE=require("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function once(callback){var called=false;return function(){if(called)return;called=true;for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}callback.apply(this,args)}}function noop(){}function isRequest(stream){return stream.setHeader&&typeof stream.abort==="function"}function eos(stream,opts,callback){if(typeof opts==="function")return eos(stream,null,opts);if(!opts)opts={};callback=once(callback||noop);var readable=opts.readable||opts.readable!==false&&stream.readable;var writable=opts.writable||opts.writable!==false&&stream.writable;var onlegacyfinish=function onlegacyfinish(){if(!stream.writable)onfinish()};var writableEnded=stream._writableState&&stream._writableState.finished;var onfinish=function onfinish(){writable=false;writableEnded=true;if(!readable)callback.call(stream)};var readableEnded=stream._readableState&&stream._readableState.endEmitted;var onend=function onend(){readable=false;readableEnded=true;if(!writable)callback.call(stream)};var onerror=function onerror(err){callback.call(stream,err)};var onclose=function onclose(){var err;if(readable&&!readableEnded){if(!stream._readableState||!stream._readableState.ended)err=new ERR_STREAM_PREMATURE_CLOSE;return callback.call(stream,err)}if(writable&&!writableEnded){if(!stream._writableState||!stream._writableState.ended)err=new ERR_STREAM_PREMATURE_CLOSE;return callback.call(stream,err)}};var onrequest=function onrequest(){stream.req.on("finish",onfinish)};if(isRequest(stream)){stream.on("complete",onfinish);stream.on("abort",onclose);if(stream.req)onrequest();else stream.on("request",onrequest)}else if(writable&&!stream._writableState){stream.on("end",onlegacyfinish);stream.on("close",onlegacyfinish)}stream.on("end",onend);stream.on("finish",onfinish);if(opts.error!==false)stream.on("error",onerror);stream.on("close",onclose);return function(){stream.removeListener("complete",onfinish);stream.removeListener("abort",onclose);stream.removeListener("request",onrequest);if(stream.req)stream.req.removeListener("finish",onfinish);stream.removeListener("end",onlegacyfinish);stream.removeListener("close",onlegacyfinish);stream.removeListener("finish",onfinish);stream.removeListener("end",onend);stream.removeListener("error",onerror);stream.removeListener("close",onclose)}}module.exports=eos},{"../../../errors":88}],98:[function(require,module,exports){"use strict";module.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],99:[function(require,module,exports){"use strict";var eos;function once(callback){var called=false;return function(){if(called)return;called=true;callback.apply(void 0,arguments)}}var _require$codes=require("../../../errors").codes,ERR_MISSING_ARGS=_require$codes.ERR_MISSING_ARGS,ERR_STREAM_DESTROYED=_require$codes.ERR_STREAM_DESTROYED;function noop(err){if(err)throw err}function isRequest(stream){return stream.setHeader&&typeof stream.abort==="function"}function destroyer(stream,reading,writing,callback){callback=once(callback);var closed=false;stream.on("close",function(){closed=true});if(eos===undefined)eos=require("./end-of-stream");eos(stream,{readable:reading,writable:writing},function(err){if(err)return callback(err);closed=true;callback()});var destroyed=false;return function(err){if(closed)return;if(destroyed)return;destroyed=true;if(isRequest(stream))return stream.abort();if(typeof stream.destroy==="function")return stream.destroy();callback(err||new ERR_STREAM_DESTROYED("pipe"))}}function call(fn){fn()}function pipe(from,to){return from.pipe(to)}function popCallback(streams){if(!streams.length)return noop;if(typeof streams[streams.length-1]!=="function")return noop;return streams.pop()}function pipeline(){for(var _len=arguments.length,streams=new Array(_len),_key=0;_key<_len;_key++){streams[_key]=arguments[_key]}var callback=popCallback(streams);if(Array.isArray(streams[0]))streams=streams[0];if(streams.length<2){throw new ERR_MISSING_ARGS("streams")}var error;var destroys=streams.map(function(stream,i){var reading=i<streams.length-1;var writing=i>0;return destroyer(stream,reading,writing,function(err){if(!error)error=err;if(err)destroys.forEach(call);if(reading)return;destroys.forEach(call);callback(error)})});return streams.reduce(pipe)}module.exports=pipeline},{"../../../errors":88,"./end-of-stream":97}],100:[function(require,module,exports){"use strict";var ERR_INVALID_OPT_VALUE=require("../../../errors").codes.ERR_INVALID_OPT_VALUE;function highWaterMarkFrom(options,isDuplex,duplexKey){return options.highWaterMark!=null?options.highWaterMark:isDuplex?options[duplexKey]:null}function getHighWaterMark(state,options,duplexKey,isDuplex){var hwm=highWaterMarkFrom(options,isDuplex,duplexKey);if(hwm!=null){if(!(isFinite(hwm)&&Math.floor(hwm)===hwm)||hwm<0){var name=isDuplex?duplexKey:"highWaterMark";throw new ERR_INVALID_OPT_VALUE(name,hwm)}return Math.floor(hwm)}return state.objectMode?16:16*1024}module.exports={getHighWaterMark:getHighWaterMark}},{"../../../errors":88}],101:[function(require,module,exports){"use strict";module.exports=require("events").EventEmitter},{events:60}],102:[function(require,module,exports){"use strict";exports=module.exports=require("./lib/_stream_readable.js");exports.Stream=exports;exports.Readable=exports;exports.Writable=require("./lib/_stream_writable.js");exports.Duplex=require("./lib/_stream_duplex.js");exports.Transform=require("./lib/_stream_transform.js");exports.PassThrough=require("./lib/_stream_passthrough.js");exports.finished=require("./lib/internal/streams/end-of-stream.js");exports.pipeline=require("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":89,"./lib/_stream_passthrough.js":90,"./lib/_stream_readable.js":91,"./lib/_stream_transform.js":92,"./lib/_stream_writable.js":93,"./lib/internal/streams/end-of-stream.js":97,"./lib/internal/streams/pipeline.js":99}],103:[function(require,module,exports){"use strict";var Buffer=require("buffer").Buffer;var inherits=require("inherits");var HashBase=require("hash-base");var ARRAY16=new Array(16);var zl=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13];var zr=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11];var sl=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6];var sr=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];var hl=[0,1518500249,1859775393,2400959708,2840853838];var hr=[1352829926,1548603684,1836072691,2053994217,0];function RIPEMD160(){HashBase.call(this,64);this._a=1732584193;this._b=4023233417;this._c=2562383102;this._d=271733878;this._e=3285377520}inherits(RIPEMD160,HashBase);RIPEMD160.prototype._update=function(){var words=ARRAY16;for(var j=0;j<16;++j){words[j]=this._block.readInt32LE(j*4)}var al=this._a|0;var bl=this._b|0;var cl=this._c|0;var dl=this._d|0;var el=this._e|0;var ar=this._a|0;var br=this._b|0;var cr=this._c|0;var dr=this._d|0;var er=this._e|0;for(var i=0;i<80;i+=1){var tl;var tr;if(i<16){tl=fn1(al,bl,cl,dl,el,words[zl[i]],hl[0],sl[i]);tr=fn5(ar,br,cr,dr,er,words[zr[i]],hr[0],sr[i])}else if(i<32){tl=fn2(al,bl,cl,dl,el,words[zl[i]],hl[1],sl[i]);tr=fn4(ar,br,cr,dr,er,words[zr[i]],hr[1],sr[i])}else if(i<48){tl=fn3(al,bl,cl,dl,el,words[zl[i]],hl[2],sl[i]);tr=fn3(ar,br,cr,dr,er,words[zr[i]],hr[2],sr[i])}else if(i<64){tl=fn4(al,bl,cl,dl,el,words[zl[i]],hl[3],sl[i]);tr=fn2(ar,br,cr,dr,er,words[zr[i]],hr[3],sr[i])}else{tl=fn5(al,bl,cl,dl,el,words[zl[i]],hl[4],sl[i]);tr=fn1(ar,br,cr,dr,er,words[zr[i]],hr[4],sr[i])}al=el;el=dl;dl=rotl(cl,10);cl=bl;bl=tl;ar=er;er=dr;dr=rotl(cr,10);cr=br;br=tr}var t=this._b+cl+dr|0;this._b=this._c+dl+er|0;this._c=this._d+el+ar|0;this._d=this._e+al+br|0;this._e=this._a+bl+cr|0;this._a=t};RIPEMD160.prototype._digest=function(){this._block[this._blockOffset++]=128;if(this._blockOffset>56){this._block.fill(0,this._blockOffset,64);this._update();this._blockOffset=0}this._block.fill(0,this._blockOffset,56);this._block.writeUInt32LE(this._length[0],56);this._block.writeUInt32LE(this._length[1],60);this._update();var buffer=Buffer.alloc?Buffer.alloc(20):new Buffer(20);buffer.writeInt32LE(this._a,0);buffer.writeInt32LE(this._b,4);buffer.writeInt32LE(this._c,8);buffer.writeInt32LE(this._d,12);buffer.writeInt32LE(this._e,16);return buffer};function rotl(x,n){return x<<n|x>>>32-n}function fn1(a,b,c,d,e,m,k,s){return rotl(a+(b^c^d)+m+k|0,s)+e|0}function fn2(a,b,c,d,e,m,k,s){return rotl(a+(b&c|~b&d)+m+k|0,s)+e|0}function fn3(a,b,c,d,e,m,k,s){return rotl(a+((b|~c)^d)+m+k|0,s)+e|0}function fn4(a,b,c,d,e,m,k,s){return rotl(a+(b&d|c&~d)+m+k|0,s)+e|0}function fn5(a,b,c,d,e,m,k,s){return rotl(a+(b^(c|~d))+m+k|0,s)+e|0}module.exports=RIPEMD160},{buffer:168,"hash-base":61,inherits:75}],104:[function(require,module,exports){(function(Buffer){(function(){"use strict";var __importDefault=void 0&&(void 0).__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:true});exports.getLength=exports.decode=exports.encode=void 0;var bn_js_1=__importDefault(require("bn.js"));function encode(input){if(Array.isArray(input)){var output=[];for(var i=0;i<input.length;i++){output.push(encode(input[i]))}var buf=Buffer.concat(output);return Buffer.concat([encodeLength(buf.length,192),buf])}else{var inputBuf=toBuffer(input);return inputBuf.length===1&&inputBuf[0]<128?inputBuf:Buffer.concat([encodeLength(inputBuf.length,128),inputBuf])}}exports.encode=encode;function safeParseInt(v,base){if(v[0]==="0"&&v[1]==="0"){throw new Error("invalid RLP: extra zeros")}return parseInt(v,base)}function encodeLength(len,offset){if(len<56){return Buffer.from([len+offset])}else{var hexLength=intToHex(len);var lLength=hexLength.length/2;var firstByte=intToHex(offset+55+lLength);return Buffer.from(firstByte+hexLength,"hex")}}function decode(input,stream){if(stream===void 0){stream=false}if(!input||input.length===0){return Buffer.from([])}var inputBuffer=toBuffer(input);var decoded=_decode(inputBuffer);if(stream){return decoded}if(decoded.remainder.length!==0){throw new Error("invalid remainder")}return decoded.data}exports.decode=decode;function getLength(input){if(!input||input.length===0){return Buffer.from([])}var inputBuffer=toBuffer(input);var firstByte=inputBuffer[0];if(firstByte<=127){return inputBuffer.length}else if(firstByte<=183){return firstByte-127}else if(firstByte<=191){return firstByte-182}else if(firstByte<=247){return firstByte-191}else{var llength=firstByte-246;var length_1=safeParseInt(inputBuffer.slice(1,llength).toString("hex"),16);return llength+length_1}}exports.getLength=getLength;function _decode(input){var length,llength,data,innerRemainder,d;var decoded=[];var firstByte=input[0];if(firstByte<=127){return{data:input.slice(0,1),remainder:input.slice(1)}}else if(firstByte<=183){length=firstByte-127;if(firstByte===128){data=Buffer.from([])}else{data=input.slice(1,length)}if(length===2&&data[0]<128){throw new Error("invalid rlp encoding: byte must be less 0x80")}return{data:data,remainder:input.slice(length)}}else if(firstByte<=191){llength=firstByte-182;if(input.length-1<llength){throw new Error("invalid RLP: not enough bytes for string length")}length=safeParseInt(input.slice(1,llength).toString("hex"),16);if(length<=55){throw new Error("invalid RLP: expected string length to be greater than 55")}data=input.slice(llength,length+llength);if(data.length<length){throw new Error("invalid RLP: not enough bytes for string")}return{data:data,remainder:input.slice(length+llength)}}else if(firstByte<=247){length=firstByte-191;innerRemainder=input.slice(1,length);while(innerRemainder.length){d=_decode(innerRemainder);decoded.push(d.data);innerRemainder=d.remainder}return{data:decoded,remainder:input.slice(length)}}else{llength=firstByte-246;length=safeParseInt(input.slice(1,llength).toString("hex"),16);var totalLength=llength+length;if(totalLength>input.length){throw new Error("invalid rlp: total length is larger than the data")}innerRemainder=input.slice(llength,totalLength);if(innerRemainder.length===0){throw new Error("invalid rlp, List has a invalid length")}while(innerRemainder.length){d=_decode(innerRemainder);decoded.push(d.data);innerRemainder=d.remainder}return{data:decoded,remainder:input.slice(totalLength)}}}function isHexPrefixed(str){return str.slice(0,2)==="0x"}function stripHexPrefix(str){if(typeof str!=="string"){return str}return isHexPrefixed(str)?str.slice(2):str}function intToHex(integer){if(integer<0){throw new Error("Invalid integer as argument, must be unsigned!")}var hex=integer.toString(16);return hex.length%2?"0"+hex:hex}function padToEven(a){return a.length%2?"0"+a:a}function intToBuffer(integer){var hex=intToHex(integer);return Buffer.from(hex,"hex")}function toBuffer(v){if(!Buffer.isBuffer(v)){if(typeof v==="string"){if(isHexPrefixed(v)){return Buffer.from(padToEven(stripHexPrefix(v)),"hex")}else{return Buffer.from(v)}}else if(typeof v==="number"||typeof v==="bigint"){if(!v){return Buffer.from([])}else{return intToBuffer(v)}}else if(v===null||v===undefined){return Buffer.from([])}else if(v instanceof Uint8Array){return Buffer.from(v)}else if(bn_js_1["default"].isBN(v)){return Buffer.from(v.toArray())}else{throw new Error("invalid type")}}return v}}).call(this)}).call(this,require("buffer").Buffer)},{"bn.js":23,buffer:168}],105:[function(require,module,exports){"use strict";var buffer=require("buffer");var Buffer=buffer.Buffer;function copyProps(src,dst){for(var key in src){dst[key]=src[key]}}if(Buffer.from&&Buffer.alloc&&Buffer.allocUnsafe&&Buffer.allocUnsafeSlow){module.exports=buffer}else{copyProps(buffer,exports);exports.Buffer=SafeBuffer}function SafeBuffer(arg,encodingOrOffset,length){return Buffer(arg,encodingOrOffset,length)}SafeBuffer.prototype=Object.create(Buffer.prototype);copyProps(Buffer,SafeBuffer);SafeBuffer.from=function(arg,encodingOrOffset,length){if(typeof arg==="number"){throw new TypeError("Argument must not be a number")}return Buffer(arg,encodingOrOffset,length)};SafeBuffer.alloc=function(size,fill,encoding){if(typeof size!=="number"){throw new TypeError("Argument must be a number")}var buf=Buffer(size);if(fill!==undefined){if(typeof encoding==="string"){buf.fill(fill,encoding)}else{buf.fill(fill)}}else{buf.fill(0)}return buf};SafeBuffer.allocUnsafe=function(size){if(typeof size!=="number"){throw new TypeError("Argument must be a number")}return Buffer(size)};SafeBuffer.allocUnsafeSlow=function(size){if(typeof size!=="number"){throw new TypeError("Argument must be a number")}return buffer.SlowBuffer(size)}},{buffer:168}],106:[function(require,module,exports){"use strict";module.exports=require("./lib")(require("./lib/elliptic"))},{"./lib":108,"./lib/elliptic":107}],107:[function(require,module,exports){"use strict";var EC=require("elliptic").ec;var ec=new EC("secp256k1");var ecparams=ec.curve;var BN=ecparams.n.constructor;function loadCompressedPublicKey(first,xbuf){var x=new BN(xbuf);if(x.cmp(ecparams.p)>=0)return null;x=x.toRed(ecparams.red);var y=x.redSqr().redIMul(x).redIAdd(ecparams.b).redSqrt();if(first===3!==y.isOdd())y=y.redNeg();var x3=x.redSqr().redIMul(x);if(!y.redSqr().redISub(x3.redIAdd(ecparams.b)).isZero())return null;return ec.keyPair({pub:{x:x,y:y}})}function loadUncompressedPublicKey(first,xbuf,ybuf){var x=new BN(xbuf);var y=new BN(ybuf);if(x.cmp(ecparams.p)>=0||y.cmp(ecparams.p)>=0)return null;x=x.toRed(ecparams.red);y=y.toRed(ecparams.red);if((first===6||first===7)&&y.isOdd()!==(first===7))return null;var x3=x.redSqr().redIMul(x);if(!y.redSqr().redISub(x3.redIAdd(ecparams.b)).isZero())return null;return ec.keyPair({pub:{x:x,y:y}})}function loadPublicKey(pubkey){var first=pubkey[0];switch(first){case 2:case 3:if(pubkey.length!==33)return null;return loadCompressedPublicKey(first,pubkey.subarray(1,33));case 4:case 6:case 7:if(pubkey.length!==65)return null;return loadUncompressedPublicKey(first,pubkey.subarray(1,33),pubkey.subarray(33,65));default:return null}}function savePublicKey(output,point){var pubkey=point.encode(null,output.length===33);for(var i=0;i<output.length;++i){output[i]=pubkey[i]}}module.exports={contextRandomize:function contextRandomize(){return 0},privateKeyVerify:function privateKeyVerify(seckey){var bn=new BN(seckey);return bn.cmp(ecparams.n)<0&&!bn.isZero()?0:1},privateKeyNegate:function privateKeyNegate(seckey){var bn=new BN(seckey);var negate=ecparams.n.sub(bn).umod(ecparams.n).toArrayLike(Uint8Array,"be",32);seckey.set(negate);return 0},privateKeyTweakAdd:function privateKeyTweakAdd(seckey,tweak){var bn=new BN(tweak);if(bn.cmp(ecparams.n)>=0)return 1;bn.iadd(new BN(seckey));if(bn.cmp(ecparams.n)>=0)bn.isub(ecparams.n);if(bn.isZero())return 1;var tweaked=bn.toArrayLike(Uint8Array,"be",32);seckey.set(tweaked);return 0},privateKeyTweakMul:function privateKeyTweakMul(seckey,tweak){var bn=new BN(tweak);if(bn.cmp(ecparams.n)>=0||bn.isZero())return 1;bn.imul(new BN(seckey));if(bn.cmp(ecparams.n)>=0)bn=bn.umod(ecparams.n);var tweaked=bn.toArrayLike(Uint8Array,"be",32);seckey.set(tweaked);return 0},publicKeyVerify:function publicKeyVerify(pubkey){var pair=loadPublicKey(pubkey);return pair===null?1:0},publicKeyCreate:function publicKeyCreate(output,seckey){var bn=new BN(seckey);if(bn.cmp(ecparams.n)>=0||bn.isZero())return 1;var point=ec.keyFromPrivate(seckey).getPublic();savePublicKey(output,point);return 0},publicKeyConvert:function publicKeyConvert(output,pubkey){var pair=loadPublicKey(pubkey);if(pair===null)return 1;var point=pair.getPublic();savePublicKey(output,point);return 0},publicKeyNegate:function publicKeyNegate(output,pubkey){var pair=loadPublicKey(pubkey);if(pair===null)return 1;var point=pair.getPublic();point.y=point.y.redNeg();savePublicKey(output,point);return 0},publicKeyCombine:function publicKeyCombine(output,pubkeys){var pairs=new Array(pubkeys.length);for(var i=0;i<pubkeys.length;++i){pairs[i]=loadPublicKey(pubkeys[i]);if(pairs[i]===null)return 1}var point=pairs[0].getPublic();for(var _i=1;_i<pairs.length;++_i){point=point.add(pairs[_i].pub)}if(point.isInfinity())return 2;savePublicKey(output,point);return 0},publicKeyTweakAdd:function publicKeyTweakAdd(output,pubkey,tweak){var pair=loadPublicKey(pubkey);if(pair===null)return 1;tweak=new BN(tweak);if(tweak.cmp(ecparams.n)>=0)return 2;var point=pair.getPublic().add(ecparams.g.mul(tweak));if(point.isInfinity())return 2;savePublicKey(output,point);return 0},publicKeyTweakMul:function publicKeyTweakMul(output,pubkey,tweak){var pair=loadPublicKey(pubkey);if(pair===null)return 1;tweak=new BN(tweak);if(tweak.cmp(ecparams.n)>=0||tweak.isZero())return 2;var point=pair.getPublic().mul(tweak);savePublicKey(output,point);return 0},signatureNormalize:function signatureNormalize(sig){var r=new BN(sig.subarray(0,32));var s=new BN(sig.subarray(32,64));if(r.cmp(ecparams.n)>=0||s.cmp(ecparams.n)>=0)return 1;if(s.cmp(ec.nh)===1){sig.set(ecparams.n.sub(s).toArrayLike(Uint8Array,"be",32),32)}return 0},signatureExport:function signatureExport(obj,sig){var sigR=sig.subarray(0,32);var sigS=sig.subarray(32,64);if(new BN(sigR).cmp(ecparams.n)>=0)return 1;if(new BN(sigS).cmp(ecparams.n)>=0)return 1;var output=obj.output;var r=output.subarray(4,4+33);r[0]=0;r.set(sigR,1);var lenR=33;var posR=0;for(;lenR>1&&r[posR]===0&&!(r[posR+1]&128);--lenR,++posR){}r=r.subarray(posR);if(r[0]&128)return 1;if(lenR>1&&r[0]===0&&!(r[1]&128))return 1;var s=output.subarray(6+33,6+33+33);s[0]=0;s.set(sigS,1);var lenS=33;var posS=0;for(;lenS>1&&s[posS]===0&&!(s[posS+1]&128);--lenS,++posS){}s=s.subarray(posS);if(s[0]&128)return 1;if(lenS>1&&s[0]===0&&!(s[1]&128))return 1;obj.outputlen=6+lenR+lenS;output[0]=48;output[1]=obj.outputlen-2;output[2]=2;output[3]=r.length;output.set(r,4);output[4+lenR]=2;output[5+lenR]=s.length;output.set(s,6+lenR);return 0},signatureImport:function signatureImport(output,sig){if(sig.length<8)return 1;if(sig.length>72)return 1;if(sig[0]!==48)return 1;if(sig[1]!==sig.length-2)return 1;if(sig[2]!==2)return 1;var lenR=sig[3];if(lenR===0)return 1;if(5+lenR>=sig.length)return 1;if(sig[4+lenR]!==2)return 1;var lenS=sig[5+lenR];if(lenS===0)return 1;if(6+lenR+lenS!==sig.length)return 1;if(sig[4]&128)return 1;if(lenR>1&&sig[4]===0&&!(sig[5]&128))return 1;if(sig[lenR+6]&128)return 1;if(lenS>1&&sig[lenR+6]===0&&!(sig[lenR+7]&128))return 1;var sigR=sig.subarray(4,4+lenR);if(sigR.length===33&&sigR[0]===0)sigR=sigR.subarray(1);if(sigR.length>32)return 1;var sigS=sig.subarray(6+lenR);if(sigS.length===33&&sigS[0]===0)sigS=sigS.slice(1);if(sigS.length>32)throw new Error("S length is too long");var r=new BN(sigR);if(r.cmp(ecparams.n)>=0)r=new BN(0);var s=new BN(sig.subarray(6+lenR));if(s.cmp(ecparams.n)>=0)s=new BN(0);output.set(r.toArrayLike(Uint8Array,"be",32),0);output.set(s.toArrayLike(Uint8Array,"be",32),32);return 0},ecdsaSign:function ecdsaSign(obj,message,seckey,data,noncefn){if(noncefn){var _noncefn=noncefn;noncefn=function noncefn(counter){var nonce=_noncefn(message,seckey,null,data,counter);var isValid=nonce instanceof Uint8Array&&nonce.length===32;if(!isValid)throw new Error("This is the way");return new BN(nonce)}}var d=new BN(seckey);if(d.cmp(ecparams.n)>=0||d.isZero())return 1;var sig;try{sig=ec.sign(message,seckey,{canonical:true,k:noncefn,pers:data})}catch(err){return 1}obj.signature.set(sig.r.toArrayLike(Uint8Array,"be",32),0);obj.signature.set(sig.s.toArrayLike(Uint8Array,"be",32),32);obj.recid=sig.recoveryParam;return 0},ecdsaVerify:function ecdsaVerify(sig,msg32,pubkey){var sigObj={r:sig.subarray(0,32),s:sig.subarray(32,64)};var sigr=new BN(sigObj.r);var sigs=new BN(sigObj.s);if(sigr.cmp(ecparams.n)>=0||sigs.cmp(ecparams.n)>=0)return 1;if(sigs.cmp(ec.nh)===1||sigr.isZero()||sigs.isZero())return 3;var pair=loadPublicKey(pubkey);if(pair===null)return 2;var point=pair.getPublic();var isValid=ec.verify(msg32,sigObj,point);return isValid?0:3},ecdsaRecover:function ecdsaRecover(output,sig,recid,msg32){var sigObj={r:sig.slice(0,32),s:sig.slice(32,64)};var sigr=new BN(sigObj.r);var sigs=new BN(sigObj.s);if(sigr.cmp(ecparams.n)>=0||sigs.cmp(ecparams.n)>=0)return 1;if(sigr.isZero()||sigs.isZero())return 2;var point;try{point=ec.recoverPubKey(msg32,sigObj,recid)}catch(err){return 2}savePublicKey(output,point);return 0},ecdh:function ecdh(output,pubkey,seckey,data,hashfn,xbuf,ybuf){var pair=loadPublicKey(pubkey);if(pair===null)return 1;var scalar=new BN(seckey);if(scalar.cmp(ecparams.n)>=0||scalar.isZero())return 2;var point=pair.getPublic().mul(scalar);if(hashfn===undefined){var _data=point.encode(null,true);var sha256=ec.hash().update(_data).digest();for(var i=0;i<32;++i){output[i]=sha256[i]}}else{if(!xbuf)xbuf=new Uint8Array(32);var x=point.getX().toArray("be",32);for(var _i2=0;_i2<32;++_i2){xbuf[_i2]=x[_i2]}if(!ybuf)ybuf=new Uint8Array(32);var y=point.getY().toArray("be",32);for(var _i3=0;_i3<32;++_i3){ybuf[_i3]=y[_i3]}var hash=hashfn(xbuf,ybuf,data);var isValid=hash instanceof Uint8Array&&hash.length===output.length;if(!isValid)return 2;output.set(hash)}return 0}}},{elliptic:27}],108:[function(require,module,exports){"use strict";function _createForOfIteratorHelper(r,e){var t="undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(!t){if(Array.isArray(r)||(t=_unsupportedIterableToArray(r))||e&&r&&"number"==typeof r.length){t&&(r=t);var _n=0,F=function F(){};return{s:F,n:function n(){return _n>=r.length?{done:!0}:{done:!1,value:r[_n++]}},e:function e(r){throw r},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function s(){t=t.call(r)},n:function n(){var r=t.next();return a=r.done,r},e:function e(r){u=!0,o=r},f:function f(){try{a||null==t["return"]||t["return"]()}finally{if(u)throw o}}}}function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++){n[e]=r[e]}return n}var errors={IMPOSSIBLE_CASE:"Impossible case. Please create issue.",TWEAK_ADD:"The tweak was out of range or the resulted private key is invalid",TWEAK_MUL:"The tweak was out of range or equal to zero",CONTEXT_RANDOMIZE_UNKNOW:"Unknow error on context randomization",SECKEY_INVALID:"Private Key is invalid",PUBKEY_PARSE:"Public Key could not be parsed",PUBKEY_SERIALIZE:"Public Key serialization error",PUBKEY_COMBINE:"The sum of the public keys is not valid",SIG_PARSE:"Signature could not be parsed",SIGN:"The nonce generation function failed, or the private key was invalid",RECOVER:"Public key could not be recover",ECDH:"Scalar was invalid (zero or overflow)"};function assert(cond,msg){if(!cond)throw new Error(msg)}function isUint8Array(name,value,length){assert(value instanceof Uint8Array,"Expected ".concat(name," to be an Uint8Array"));if(length!==undefined){if(Array.isArray(length)){var numbers=length.join(", ");var msg="Expected ".concat(name," to be an Uint8Array with length [").concat(numbers,"]");assert(length.includes(value.length),msg)}else{var _msg="Expected ".concat(name," to be an Uint8Array with length ").concat(length);assert(value.length===length,_msg)}}}function isCompressed(value){assert(toTypeString(value)==="Boolean","Expected compressed to be a Boolean")}function getAssertedOutput(){var output=arguments.length>0&&arguments[0]!==undefined?arguments[0]:function(len){return new Uint8Array(len)};var length=arguments.length>1?arguments[1]:undefined;if(typeof output==="function")output=output(length);isUint8Array("output",output,length);return output}function toTypeString(value){return Object.prototype.toString.call(value).slice(8,-1)}module.exports=function(secp256k1){return{contextRandomize:function contextRandomize(seed){assert(seed===null||seed instanceof Uint8Array,"Expected seed to be an Uint8Array or null");if(seed!==null)isUint8Array("seed",seed,32);switch(secp256k1.contextRandomize(seed)){case 1:throw new Error(errors.CONTEXT_RANDOMIZE_UNKNOW)}},privateKeyVerify:function privateKeyVerify(seckey){isUint8Array("private key",seckey,32);return secp256k1.privateKeyVerify(seckey)===0},privateKeyNegate:function privateKeyNegate(seckey){isUint8Array("private key",seckey,32);switch(secp256k1.privateKeyNegate(seckey)){case 0:return seckey;case 1:throw new Error(errors.IMPOSSIBLE_CASE)}},privateKeyTweakAdd:function privateKeyTweakAdd(seckey,tweak){isUint8Array("private key",seckey,32);isUint8Array("tweak",tweak,32);switch(secp256k1.privateKeyTweakAdd(seckey,tweak)){case 0:return seckey;case 1:throw new Error(errors.TWEAK_ADD)}},privateKeyTweakMul:function privateKeyTweakMul(seckey,tweak){isUint8Array("private key",seckey,32);isUint8Array("tweak",tweak,32);switch(secp256k1.privateKeyTweakMul(seckey,tweak)){case 0:return seckey;case 1:throw new Error(errors.TWEAK_MUL)}},publicKeyVerify:function publicKeyVerify(pubkey){isUint8Array("public key",pubkey,[33,65]);return secp256k1.publicKeyVerify(pubkey)===0},publicKeyCreate:function publicKeyCreate(seckey){var compressed=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;var output=arguments.length>2?arguments[2]:undefined;isUint8Array("private key",seckey,32);isCompressed(compressed);output=getAssertedOutput(output,compressed?33:65);switch(secp256k1.publicKeyCreate(output,seckey)){case 0:return output;case 1:throw new Error(errors.SECKEY_INVALID);case 2:throw new Error(errors.PUBKEY_SERIALIZE)}},publicKeyConvert:function publicKeyConvert(pubkey){var compressed=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;var output=arguments.length>2?arguments[2]:undefined;isUint8Array("public key",pubkey,[33,65]);isCompressed(compressed);output=getAssertedOutput(output,compressed?33:65);switch(secp256k1.publicKeyConvert(output,pubkey)){case 0:return output;case 1:throw new Error(errors.PUBKEY_PARSE);case 2:throw new Error(errors.PUBKEY_SERIALIZE)}},publicKeyNegate:function publicKeyNegate(pubkey){var compressed=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;var output=arguments.length>2?arguments[2]:undefined;isUint8Array("public key",pubkey,[33,65]);isCompressed(compressed);output=getAssertedOutput(output,compressed?33:65);switch(secp256k1.publicKeyNegate(output,pubkey)){case 0:return output;case 1:throw new Error(errors.PUBKEY_PARSE);case 2:throw new Error(errors.IMPOSSIBLE_CASE);case 3:throw new Error(errors.PUBKEY_SERIALIZE)}},publicKeyCombine:function publicKeyCombine(pubkeys){var compressed=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;var output=arguments.length>2?arguments[2]:undefined;assert(Array.isArray(pubkeys),"Expected public keys to be an Array");assert(pubkeys.length>0,"Expected public keys array will have more than zero items");var _iterator=_createForOfIteratorHelper(pubkeys),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var pubkey=_step.value;isUint8Array("public key",pubkey,[33,65])}}catch(err){_iterator.e(err)}finally{_iterator.f()}isCompressed(compressed);output=getAssertedOutput(output,compressed?33:65);switch(secp256k1.publicKeyCombine(output,pubkeys)){case 0:return output;case 1:throw new Error(errors.PUBKEY_PARSE);case 2:throw new Error(errors.PUBKEY_COMBINE);case 3:throw new Error(errors.PUBKEY_SERIALIZE)}},publicKeyTweakAdd:function publicKeyTweakAdd(pubkey,tweak){var compressed=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;var output=arguments.length>3?arguments[3]:undefined;isUint8Array("public key",pubkey,[33,65]);isUint8Array("tweak",tweak,32);isCompressed(compressed);output=getAssertedOutput(output,compressed?33:65);switch(secp256k1.publicKeyTweakAdd(output,pubkey,tweak)){case 0:return output;case 1:throw new Error(errors.PUBKEY_PARSE);case 2:throw new Error(errors.TWEAK_ADD)}},publicKeyTweakMul:function publicKeyTweakMul(pubkey,tweak){var compressed=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;var output=arguments.length>3?arguments[3]:undefined;isUint8Array("public key",pubkey,[33,65]);isUint8Array("tweak",tweak,32);isCompressed(compressed);output=getAssertedOutput(output,compressed?33:65);switch(secp256k1.publicKeyTweakMul(output,pubkey,tweak)){case 0:return output;case 1:throw new Error(errors.PUBKEY_PARSE);case 2:throw new Error(errors.TWEAK_MUL)}},signatureNormalize:function signatureNormalize(sig){isUint8Array("signature",sig,64);switch(secp256k1.signatureNormalize(sig)){case 0:return sig;case 1:throw new Error(errors.SIG_PARSE)}},signatureExport:function signatureExport(sig,output){isUint8Array("signature",sig,64);output=getAssertedOutput(output,72);var obj={output:output,outputlen:72};switch(secp256k1.signatureExport(obj,sig)){case 0:return output.slice(0,obj.outputlen);case 1:throw new Error(errors.SIG_PARSE);case 2:throw new Error(errors.IMPOSSIBLE_CASE)}},signatureImport:function signatureImport(sig,output){isUint8Array("signature",sig);output=getAssertedOutput(output,64);switch(secp256k1.signatureImport(output,sig)){case 0:return output;case 1:throw new Error(errors.SIG_PARSE);case 2:throw new Error(errors.IMPOSSIBLE_CASE)}},ecdsaSign:function ecdsaSign(msg32,seckey){var options=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var output=arguments.length>3?arguments[3]:undefined;isUint8Array("message",msg32,32);isUint8Array("private key",seckey,32);assert(toTypeString(options)==="Object","Expected options to be an Object");if(options.data!==undefined)isUint8Array("options.data",options.data);if(options.noncefn!==undefined)assert(toTypeString(options.noncefn)==="Function","Expected options.noncefn to be a Function");output=getAssertedOutput(output,64);var obj={signature:output,recid:null};switch(secp256k1.ecdsaSign(obj,msg32,seckey,options.data,options.noncefn)){case 0:return obj;case 1:throw new Error(errors.SIGN);case 2:throw new Error(errors.IMPOSSIBLE_CASE)}},ecdsaVerify:function ecdsaVerify(sig,msg32,pubkey){isUint8Array("signature",sig,64);isUint8Array("message",msg32,32);isUint8Array("public key",pubkey,[33,65]);switch(secp256k1.ecdsaVerify(sig,msg32,pubkey)){case 0:return true;case 3:return false;case 1:throw new Error(errors.SIG_PARSE);case 2:throw new Error(errors.PUBKEY_PARSE)}},ecdsaRecover:function ecdsaRecover(sig,recid,msg32){var compressed=arguments.length>3&&arguments[3]!==undefined?arguments[3]:true;var output=arguments.length>4?arguments[4]:undefined;isUint8Array("signature",sig,64);assert(toTypeString(recid)==="Number"&&recid>=0&&recid<=3,"Expected recovery id to be a Number within interval [0, 3]");isUint8Array("message",msg32,32);isCompressed(compressed);output=getAssertedOutput(output,compressed?33:65);switch(secp256k1.ecdsaRecover(output,sig,recid,msg32)){case 0:return output;case 1:throw new Error(errors.SIG_PARSE);case 2:throw new Error(errors.RECOVER);case 3:throw new Error(errors.IMPOSSIBLE_CASE)}},ecdh:function ecdh(pubkey,seckey){var options=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var output=arguments.length>3?arguments[3]:undefined;isUint8Array("public key",pubkey,[33,65]);isUint8Array("private key",seckey,32);assert(toTypeString(options)==="Object","Expected options to be an Object");if(options.data!==undefined)isUint8Array("options.data",options.data);if(options.hashfn!==undefined){assert(toTypeString(options.hashfn)==="Function","Expected options.hashfn to be a Function");if(options.xbuf!==undefined)isUint8Array("options.xbuf",options.xbuf,32);if(options.ybuf!==undefined)isUint8Array("options.ybuf",options.ybuf,32);isUint8Array("output",output)}else{output=getAssertedOutput(output,32)}switch(secp256k1.ecdh(output,pubkey,seckey,options.data,options.hashfn,options.xbuf,options.ybuf)){case 0:return output;case 1:throw new Error(errors.PUBKEY_PARSE);case 2:throw new Error(errors.ECDH)}}}}},{}],109:[function(require,module,exports){"use strict";var Buffer=require("safe-buffer").Buffer;function Hash(blockSize,finalSize){this._block=Buffer.alloc(blockSize);this._finalSize=finalSize;this._blockSize=blockSize;this._len=0}Hash.prototype.update=function(data,enc){if(typeof data==="string"){enc=enc||"utf8";data=Buffer.from(data,enc)}var block=this._block;var blockSize=this._blockSize;var length=data.length;var accum=this._len;for(var offset=0;offset<length;){var assigned=accum%blockSize;var remainder=Math.min(length-offset,blockSize-assigned);for(var i=0;i<remainder;i++){block[assigned+i]=data[offset+i]}accum+=remainder;offset+=remainder;if(accum%blockSize===0){this._update(block)}}this._len+=length;return this};Hash.prototype.digest=function(enc){var rem=this._len%this._blockSize;this._block[rem]=128;this._block.fill(0,rem+1);if(rem>=this._finalSize){this._update(this._block);this._block.fill(0)}var bits=this._len*8;if(bits<=4294967295){this._block.writeUInt32BE(bits,this._blockSize-4)}else{var lowBits=(bits&4294967295)>>>0;var highBits=(bits-lowBits)/4294967296;this._block.writeUInt32BE(highBits,this._blockSize-8);this._block.writeUInt32BE(lowBits,this._blockSize-4)}this._update(this._block);var hash=this._hash();return enc?hash.toString(enc):hash};Hash.prototype._update=function(){throw new Error("_update must be implemented by subclass")};module.exports=Hash},{"safe-buffer":105}],110:[function(require,module,exports){"use strict";var _exports=module.exports=function SHA(algorithm){algorithm=algorithm.toLowerCase();var Algorithm=_exports[algorithm];if(!Algorithm)throw new Error(algorithm+" is not supported (we accept pull requests)");return new Algorithm};_exports.sha=require("./sha");_exports.sha1=require("./sha1");_exports.sha224=require("./sha224");_exports.sha256=require("./sha256");_exports.sha384=require("./sha384");_exports.sha512=require("./sha512")},{"./sha":111,"./sha1":112,"./sha224":113,"./sha256":114,"./sha384":115,"./sha512":116}],111:[function(require,module,exports){"use strict";var inherits=require("inherits");var Hash=require("./hash");var Buffer=require("safe-buffer").Buffer;var K=[1518500249,1859775393,2400959708|0,3395469782|0];var W=new Array(80);function Sha(){this.init();this._w=W;Hash.call(this,64,56)}inherits(Sha,Hash);Sha.prototype.init=function(){this._a=1732584193;this._b=4023233417;this._c=2562383102;this._d=271733878;this._e=3285377520;return this};function rotl5(num){return num<<5|num>>>27}function rotl30(num){return num<<30|num>>>2}function ft(s,b,c,d){if(s===0)return b&c|~b&d;if(s===2)return b&c|b&d|c&d;return b^c^d}Sha.prototype._update=function(M){var W=this._w;var a=this._a|0;var b=this._b|0;var c=this._c|0;var d=this._d|0;var e=this._e|0;for(var i=0;i<16;++i){W[i]=M.readInt32BE(i*4)}for(;i<80;++i){W[i]=W[i-3]^W[i-8]^W[i-14]^W[i-16]}for(var j=0;j<80;++j){var s=~~(j/20);var t=rotl5(a)+ft(s,b,c,d)+e+W[j]+K[s]|0;e=d;d=c;c=rotl30(b);b=a;a=t}this._a=a+this._a|0;this._b=b+this._b|0;this._c=c+this._c|0;this._d=d+this._d|0;this._e=e+this._e|0};Sha.prototype._hash=function(){var H=Buffer.allocUnsafe(20);H.writeInt32BE(this._a|0,0);H.writeInt32BE(this._b|0,4);H.writeInt32BE(this._c|0,8);H.writeInt32BE(this._d|0,12);H.writeInt32BE(this._e|0,16);return H};module.exports=Sha},{"./hash":109,inherits:75,"safe-buffer":105}],112:[function(require,module,exports){"use strict";var inherits=require("inherits");var Hash=require("./hash");var Buffer=require("safe-buffer").Buffer;var K=[1518500249,1859775393,2400959708|0,3395469782|0];var W=new Array(80);function Sha1(){this.init();this._w=W;Hash.call(this,64,56)}inherits(Sha1,Hash);Sha1.prototype.init=function(){this._a=1732584193;this._b=4023233417;this._c=2562383102;this._d=271733878;this._e=3285377520;return this};function rotl1(num){return num<<1|num>>>31}function rotl5(num){return num<<5|num>>>27}function rotl30(num){return num<<30|num>>>2}function ft(s,b,c,d){if(s===0)return b&c|~b&d;if(s===2)return b&c|b&d|c&d;return b^c^d}Sha1.prototype._update=function(M){var W=this._w;var a=this._a|0;var b=this._b|0;var c=this._c|0;var d=this._d|0;var e=this._e|0;for(var i=0;i<16;++i){W[i]=M.readInt32BE(i*4)}for(;i<80;++i){W[i]=rotl1(W[i-3]^W[i-8]^W[i-14]^W[i-16])}for(var j=0;j<80;++j){var s=~~(j/20);var t=rotl5(a)+ft(s,b,c,d)+e+W[j]+K[s]|0;e=d;d=c;c=rotl30(b);b=a;a=t}this._a=a+this._a|0;this._b=b+this._b|0;this._c=c+this._c|0;this._d=d+this._d|0;this._e=e+this._e|0};Sha1.prototype._hash=function(){var H=Buffer.allocUnsafe(20);H.writeInt32BE(this._a|0,0);H.writeInt32BE(this._b|0,4);H.writeInt32BE(this._c|0,8);H.writeInt32BE(this._d|0,12);H.writeInt32BE(this._e|0,16);return H};module.exports=Sha1},{"./hash":109,inherits:75,"safe-buffer":105}],113:[function(require,module,exports){"use strict";var inherits=require("inherits");var Sha256=require("./sha256");var Hash=require("./hash");var Buffer=require("safe-buffer").Buffer;var W=new Array(64);function Sha224(){this.init();this._w=W;Hash.call(this,64,56)}inherits(Sha224,Sha256);Sha224.prototype.init=function(){this._a=3238371032;this._b=914150663;this._c=812702999;this._d=4144912697;this._e=4290775857;this._f=1750603025;this._g=1694076839;this._h=3204075428;return this};Sha224.prototype._hash=function(){var H=Buffer.allocUnsafe(28);H.writeInt32BE(this._a,0);H.writeInt32BE(this._b,4);H.writeInt32BE(this._c,8);H.writeInt32BE(this._d,12);H.writeInt32BE(this._e,16);H.writeInt32BE(this._f,20);H.writeInt32BE(this._g,24);return H};module.exports=Sha224},{"./hash":109,"./sha256":114,inherits:75,"safe-buffer":105}],114:[function(require,module,exports){"use strict";var inherits=require("inherits");var Hash=require("./hash");var Buffer=require("safe-buffer").Buffer;var K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];var W=new Array(64);function Sha256(){this.init();this._w=W;Hash.call(this,64,56)}inherits(Sha256,Hash);Sha256.prototype.init=function(){this._a=1779033703;this._b=3144134277;this._c=1013904242;this._d=2773480762;this._e=1359893119;this._f=2600822924;this._g=528734635;this._h=1541459225;return this};function ch(x,y,z){return z^x&(y^z)}function maj(x,y,z){return x&y|z&(x|y)}function sigma0(x){return(x>>>2|x<<30)^(x>>>13|x<<19)^(x>>>22|x<<10)}function sigma1(x){return(x>>>6|x<<26)^(x>>>11|x<<21)^(x>>>25|x<<7)}function gamma0(x){return(x>>>7|x<<25)^(x>>>18|x<<14)^x>>>3}function gamma1(x){return(x>>>17|x<<15)^(x>>>19|x<<13)^x>>>10}Sha256.prototype._update=function(M){var W=this._w;var a=this._a|0;var b=this._b|0;var c=this._c|0;var d=this._d|0;var e=this._e|0;var f=this._f|0;var g=this._g|0;var h=this._h|0;for(var i=0;i<16;++i){W[i]=M.readInt32BE(i*4)}for(;i<64;++i){W[i]=gamma1(W[i-2])+W[i-7]+gamma0(W[i-15])+W[i-16]|0}for(var j=0;j<64;++j){var T1=h+sigma1(e)+ch(e,f,g)+K[j]+W[j]|0;var T2=sigma0(a)+maj(a,b,c)|0;h=g;g=f;f=e;e=d+T1|0;d=c;c=b;b=a;a=T1+T2|0}this._a=a+this._a|0;this._b=b+this._b|0;this._c=c+this._c|0;this._d=d+this._d|0;this._e=e+this._e|0;this._f=f+this._f|0;this._g=g+this._g|0;this._h=h+this._h|0};Sha256.prototype._hash=function(){var H=Buffer.allocUnsafe(32);H.writeInt32BE(this._a,0);H.writeInt32BE(this._b,4);H.writeInt32BE(this._c,8);H.writeInt32BE(this._d,12);H.writeInt32BE(this._e,16);H.writeInt32BE(this._f,20);H.writeInt32BE(this._g,24);H.writeInt32BE(this._h,28);return H};module.exports=Sha256},{"./hash":109,inherits:75,"safe-buffer":105}],115:[function(require,module,exports){"use strict";var inherits=require("inherits");var SHA512=require("./sha512");var Hash=require("./hash");var Buffer=require("safe-buffer").Buffer;var W=new Array(160);function Sha384(){this.init();this._w=W;Hash.call(this,128,112)}inherits(Sha384,SHA512);Sha384.prototype.init=function(){this._ah=3418070365;this._bh=1654270250;this._ch=2438529370;this._dh=355462360;this._eh=1731405415;this._fh=2394180231;this._gh=3675008525;this._hh=1203062813;this._al=3238371032;this._bl=914150663;this._cl=812702999;this._dl=4144912697;this._el=4290775857;this._fl=1750603025;this._gl=1694076839;this._hl=3204075428;return this};Sha384.prototype._hash=function(){var H=Buffer.allocUnsafe(48);function writeInt64BE(h,l,offset){H.writeInt32BE(h,offset);H.writeInt32BE(l,offset+4)}writeInt64BE(this._ah,this._al,0);writeInt64BE(this._bh,this._bl,8);writeInt64BE(this._ch,this._cl,16);writeInt64BE(this._dh,this._dl,24);writeInt64BE(this._eh,this._el,32);writeInt64BE(this._fh,this._fl,40);return H};module.exports=Sha384},{"./hash":109,"./sha512":116,inherits:75,"safe-buffer":105}],116:[function(require,module,exports){"use strict";var inherits=require("inherits");var Hash=require("./hash");var Buffer=require("safe-buffer").Buffer;var K=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];var W=new Array(160);function Sha512(){this.init();this._w=W;Hash.call(this,128,112)}inherits(Sha512,Hash);Sha512.prototype.init=function(){this._ah=1779033703;this._bh=3144134277;this._ch=1013904242;this._dh=2773480762;this._eh=1359893119;this._fh=2600822924;this._gh=528734635;this._hh=1541459225;this._al=4089235720;this._bl=2227873595;this._cl=4271175723;this._dl=1595750129;this._el=2917565137;this._fl=725511199;this._gl=4215389547;this._hl=327033209;return this};function Ch(x,y,z){return z^x&(y^z)}function maj(x,y,z){return x&y|z&(x|y)}function sigma0(x,xl){return(x>>>28|xl<<4)^(xl>>>2|x<<30)^(xl>>>7|x<<25)}function sigma1(x,xl){return(x>>>14|xl<<18)^(x>>>18|xl<<14)^(xl>>>9|x<<23)}function Gamma0(x,xl){return(x>>>1|xl<<31)^(x>>>8|xl<<24)^x>>>7}function Gamma0l(x,xl){return(x>>>1|xl<<31)^(x>>>8|xl<<24)^(x>>>7|xl<<25)}function Gamma1(x,xl){return(x>>>19|xl<<13)^(xl>>>29|x<<3)^x>>>6}function Gamma1l(x,xl){return(x>>>19|xl<<13)^(xl>>>29|x<<3)^(x>>>6|xl<<26)}function getCarry(a,b){return a>>>0<b>>>0?1:0}Sha512.prototype._update=function(M){var W=this._w;var ah=this._ah|0;var bh=this._bh|0;var ch=this._ch|0;var dh=this._dh|0;var eh=this._eh|0;var fh=this._fh|0;var gh=this._gh|0;var hh=this._hh|0;var al=this._al|0;var bl=this._bl|0;var cl=this._cl|0;var dl=this._dl|0;var el=this._el|0;var fl=this._fl|0;var gl=this._gl|0;var hl=this._hl|0;for(var i=0;i<32;i+=2){W[i]=M.readInt32BE(i*4);W[i+1]=M.readInt32BE(i*4+4)}for(;i<160;i+=2){var xh=W[i-15*2];var xl=W[i-15*2+1];var gamma0=Gamma0(xh,xl);var gamma0l=Gamma0l(xl,xh);xh=W[i-2*2];xl=W[i-2*2+1];var gamma1=Gamma1(xh,xl);var gamma1l=Gamma1l(xl,xh);var Wi7h=W[i-7*2];var Wi7l=W[i-7*2+1];var Wi16h=W[i-16*2];var Wi16l=W[i-16*2+1];var Wil=gamma0l+Wi7l|0;var Wih=gamma0+Wi7h+getCarry(Wil,gamma0l)|0;Wil=Wil+gamma1l|0;Wih=Wih+gamma1+getCarry(Wil,gamma1l)|0;Wil=Wil+Wi16l|0;Wih=Wih+Wi16h+getCarry(Wil,Wi16l)|0;W[i]=Wih;W[i+1]=Wil}for(var j=0;j<160;j+=2){Wih=W[j];Wil=W[j+1];var majh=maj(ah,bh,ch);var majl=maj(al,bl,cl);var sigma0h=sigma0(ah,al);var sigma0l=sigma0(al,ah);var sigma1h=sigma1(eh,el);var sigma1l=sigma1(el,eh);var Kih=K[j];var Kil=K[j+1];var chh=Ch(eh,fh,gh);var chl=Ch(el,fl,gl);var t1l=hl+sigma1l|0;var t1h=hh+sigma1h+getCarry(t1l,hl)|0;t1l=t1l+chl|0;t1h=t1h+chh+getCarry(t1l,chl)|0;t1l=t1l+Kil|0;t1h=t1h+Kih+getCarry(t1l,Kil)|0;t1l=t1l+Wil|0;t1h=t1h+Wih+getCarry(t1l,Wil)|0;var t2l=sigma0l+majl|0;var t2h=sigma0h+majh+getCarry(t2l,sigma0l)|0;hh=gh;hl=gl;gh=fh;gl=fl;fh=eh;fl=el;el=dl+t1l|0;eh=dh+t1h+getCarry(el,dl)|0;dh=ch;dl=cl;ch=bh;cl=bl;bh=ah;bl=al;al=t1l+t2l|0;ah=t1h+t2h+getCarry(al,t1l)|0}this._al=this._al+al|0;this._bl=this._bl+bl|0;this._cl=this._cl+cl|0;this._dl=this._dl+dl|0;this._el=this._el+el|0;this._fl=this._fl+fl|0;this._gl=this._gl+gl|0;this._hl=this._hl+hl|0;this._ah=this._ah+ah+getCarry(this._al,al)|0;this._bh=this._bh+bh+getCarry(this._bl,bl)|0;this._ch=this._ch+ch+getCarry(this._cl,cl)|0;this._dh=this._dh+dh+getCarry(this._dl,dl)|0;this._eh=this._eh+eh+getCarry(this._el,el)|0;this._fh=this._fh+fh+getCarry(this._fl,fl)|0;this._gh=this._gh+gh+getCarry(this._gl,gl)|0;this._hh=this._hh+hh+getCarry(this._hl,hl)|0};Sha512.prototype._hash=function(){var H=Buffer.allocUnsafe(64);function writeInt64BE(h,l,offset){H.writeInt32BE(h,offset);H.writeInt32BE(l,offset+4)}writeInt64BE(this._ah,this._al,0);writeInt64BE(this._bh,this._bl,8);writeInt64BE(this._ch,this._cl,16);writeInt64BE(this._dh,this._dl,24);writeInt64BE(this._eh,this._el,32);writeInt64BE(this._fh,this._fl,40);writeInt64BE(this._gh,this._gl,48);writeInt64BE(this._hh,this._hl,56);return H};module.exports=Sha512},{"./hash":109,inherits:75,"safe-buffer":105}],117:[function(require,module,exports){"use strict";var Buffer=require("safe-buffer").Buffer;var isEncoding=Buffer.isEncoding||function(encoding){encoding=""+encoding;switch(encoding&&encoding.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return true;default:return false}};function _normalizeEncoding(enc){if(!enc)return"utf8";var retried;while(true){switch(enc){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return enc;default:if(retried)return;enc=(""+enc).toLowerCase();retried=true}}}function normalizeEncoding(enc){var nenc=_normalizeEncoding(enc);if(typeof nenc!=="string"&&(Buffer.isEncoding===isEncoding||!isEncoding(enc)))throw new Error("Unknown encoding: "+enc);return nenc||enc}exports.StringDecoder=StringDecoder;function StringDecoder(encoding){this.encoding=normalizeEncoding(encoding);var nb;switch(this.encoding){case"utf16le":this.text=utf16Text;this.end=utf16End;nb=4;break;case"utf8":this.fillLast=utf8FillLast;nb=4;break;case"base64":this.text=base64Text;this.end=base64End;nb=3;break;default:this.write=simpleWrite;this.end=simpleEnd;return}this.lastNeed=0;this.lastTotal=0;this.lastChar=Buffer.allocUnsafe(nb)}StringDecoder.prototype.write=function(buf){if(buf.length===0)return"";var r;var i;if(this.lastNeed){r=this.fillLast(buf);if(r===undefined)return"";i=this.lastNeed;this.lastNeed=0}else{i=0}if(i<buf.length)return r?r+this.text(buf,i):this.text(buf,i);return r||""};StringDecoder.prototype.end=utf8End;StringDecoder.prototype.text=utf8Text;StringDecoder.prototype.fillLast=function(buf){if(this.lastNeed<=buf.length){buf.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed);return this.lastChar.toString(this.encoding,0,this.lastTotal)}buf.copy(this.lastChar,this.lastTotal-this.lastNeed,0,buf.length);this.lastNeed-=buf.length};function utf8CheckByte(_byte){if(_byte<=127)return 0;else if(_byte>>5===6)return 2;else if(_byte>>4===14)return 3;else if(_byte>>3===30)return 4;return _byte>>6===2?-1:-2}function utf8CheckIncomplete(self,buf,i){var j=buf.length-1;if(j<i)return 0;var nb=utf8CheckByte(buf[j]);if(nb>=0){if(nb>0)self.lastNeed=nb-1;return nb}if(--j<i||nb===-2)return 0;nb=utf8CheckByte(buf[j]);if(nb>=0){if(nb>0)self.lastNeed=nb-2;return nb}if(--j<i||nb===-2)return 0;nb=utf8CheckByte(buf[j]);if(nb>=0){if(nb>0){if(nb===2)nb=0;else self.lastNeed=nb-3}return nb}return 0}function utf8CheckExtraBytes(self,buf,p){if((buf[0]&192)!==128){self.lastNeed=0;return""}if(self.lastNeed>1&&buf.length>1){if((buf[1]&192)!==128){self.lastNeed=1;return""}if(self.lastNeed>2&&buf.length>2){if((buf[2]&192)!==128){self.lastNeed=2;return""}}}}function utf8FillLast(buf){var p=this.lastTotal-this.lastNeed;var r=utf8CheckExtraBytes(this,buf,p);if(r!==undefined)return r;if(this.lastNeed<=buf.length){buf.copy(this.lastChar,p,0,this.lastNeed);return this.lastChar.toString(this.encoding,0,this.lastTotal)}buf.copy(this.lastChar,p,0,buf.length);this.lastNeed-=buf.length}function utf8Text(buf,i){var total=utf8CheckIncomplete(this,buf,i);if(!this.lastNeed)return buf.toString("utf8",i);this.lastTotal=total;var end=buf.length-(total-this.lastNeed);buf.copy(this.lastChar,0,end);return buf.toString("utf8",i,end)}function utf8End(buf){var r=buf&&buf.length?this.write(buf):"";if(this.lastNeed)return r+"";return r}function utf16Text(buf,i){if((buf.length-i)%2===0){var r=buf.toString("utf16le",i);if(r){var c=r.charCodeAt(r.length-1);if(c>=55296&&c<=56319){this.lastNeed=2;this.lastTotal=4;this.lastChar[0]=buf[buf.length-2];this.lastChar[1]=buf[buf.length-1];return r.slice(0,-1)}}return r}this.lastNeed=1;this.lastTotal=2;this.lastChar[0]=buf[buf.length-1];return buf.toString("utf16le",i,buf.length-1)}function utf16End(buf){var r=buf&&buf.length?this.write(buf):"";if(this.lastNeed){var end=this.lastTotal-this.lastNeed;return r+this.lastChar.toString("utf16le",0,end)}return r}function base64Text(buf,i){var n=(buf.length-i)%3;if(n===0)return buf.toString("base64",i);this.lastNeed=3-n;this.lastTotal=3;if(n===1){this.lastChar[0]=buf[buf.length-1]}else{this.lastChar[0]=buf[buf.length-2];this.lastChar[1]=buf[buf.length-1]}return buf.toString("base64",i,buf.length-n)}function base64End(buf){var r=buf&&buf.length?this.write(buf):"";if(this.lastNeed)return r+this.lastChar.toString("base64",0,3-this.lastNeed);return r}function simpleWrite(buf){return buf.toString(this.encoding)}function simpleEnd(buf){return buf&&buf.length?this.write(buf):""}},{"safe-buffer":105}],118:[function(require,module,exports){"use strict";var isHexPrefixed=require("is-hex-prefixed");module.exports=function stripHexPrefix(str){if(typeof str!=="string"){return str}return isHexPrefixed(str)?str.slice(2):str}},{"is-hex-prefixed":76}],119:[function(require,module,exports){(function(Buffer){(function(){"use strict";(function(root,f){"use strict";if(typeof module!=="undefined"&&module.exports)module.exports=f();else if(root.nacl)root.nacl.util=f();else{root.nacl={};root.nacl.util=f()}})(void 0,function(){"use strict";var util={};function validateBase64(s){if(!/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/.test(s)){throw new TypeError("invalid encoding")}}util.decodeUTF8=function(s){if(typeof s!=="string")throw new TypeError("expected string");var i,d=unescape(encodeURIComponent(s)),b=new Uint8Array(d.length);for(i=0;i<d.length;i++){b[i]=d.charCodeAt(i)}return b};util.encodeUTF8=function(arr){var i,s=[];for(i=0;i<arr.length;i++){s.push(String.fromCharCode(arr[i]))}return decodeURIComponent(escape(s.join("")))};if(typeof atob==="undefined"){if(typeof Buffer.from!=="undefined"){util.encodeBase64=function(arr){return Buffer.from(arr).toString("base64")};util.decodeBase64=function(s){validateBase64(s);return new Uint8Array(Array.prototype.slice.call(Buffer.from(s,"base64"),0))}}else{util.encodeBase64=function(arr){return new Buffer(arr).toString("base64")};util.decodeBase64=function(s){validateBase64(s);return new Uint8Array(Array.prototype.slice.call(new Buffer(s,"base64"),0))}}}else{util.encodeBase64=function(arr){var i,s=[],len=arr.length;for(i=0;i<len;i++){s.push(String.fromCharCode(arr[i]))}return btoa(s.join(""))};util.decodeBase64=function(s){validateBase64(s);var i,d=atob(s),b=new Uint8Array(d.length);for(i=0;i<d.length;i++){b[i]=d.charCodeAt(i)}return b}}return util})}).call(this)}).call(this,require("buffer").Buffer)},{buffer:167}],120:[function(require,module,exports){"use strict";(function(nacl){"use strict";var gf=function gf(init){var i,r=new Float64Array(16);if(init)for(i=0;i<init.length;i++){r[i]=init[i]}return r};var randombytes=function randombytes(){throw new Error("no PRNG")};var _0=new Uint8Array(16);var _9=new Uint8Array(32);_9[0]=9;var gf0=gf(),gf1=gf([1]),_121665=gf([56129,1]),D=gf([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),D2=gf([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),X=gf([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),Y=gf([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),I=gf([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function ts64(x,i,h,l){x[i]=h>>24&255;x[i+1]=h>>16&255;x[i+2]=h>>8&255;x[i+3]=h&255;x[i+4]=l>>24&255;x[i+5]=l>>16&255;x[i+6]=l>>8&255;x[i+7]=l&255}function vn(x,xi,y,yi,n){var i,d=0;for(i=0;i<n;i++){d|=x[xi+i]^y[yi+i]}return(1&d-1>>>8)-1}function crypto_verify_16(x,xi,y,yi){return vn(x,xi,y,yi,16)}function crypto_verify_32(x,xi,y,yi){return vn(x,xi,y,yi,32)}function core_salsa20(o,p,k,c){var j0=c[0]&255|(c[1]&255)<<8|(c[2]&255)<<16|(c[3]&255)<<24,j1=k[0]&255|(k[1]&255)<<8|(k[2]&255)<<16|(k[3]&255)<<24,j2=k[4]&255|(k[5]&255)<<8|(k[6]&255)<<16|(k[7]&255)<<24,j3=k[8]&255|(k[9]&255)<<8|(k[10]&255)<<16|(k[11]&255)<<24,j4=k[12]&255|(k[13]&255)<<8|(k[14]&255)<<16|(k[15]&255)<<24,j5=c[4]&255|(c[5]&255)<<8|(c[6]&255)<<16|(c[7]&255)<<24,j6=p[0]&255|(p[1]&255)<<8|(p[2]&255)<<16|(p[3]&255)<<24,j7=p[4]&255|(p[5]&255)<<8|(p[6]&255)<<16|(p[7]&255)<<24,j8=p[8]&255|(p[9]&255)<<8|(p[10]&255)<<16|(p[11]&255)<<24,j9=p[12]&255|(p[13]&255)<<8|(p[14]&255)<<16|(p[15]&255)<<24,j10=c[8]&255|(c[9]&255)<<8|(c[10]&255)<<16|(c[11]&255)<<24,j11=k[16]&255|(k[17]&255)<<8|(k[18]&255)<<16|(k[19]&255)<<24,j12=k[20]&255|(k[21]&255)<<8|(k[22]&255)<<16|(k[23]&255)<<24,j13=k[24]&255|(k[25]&255)<<8|(k[26]&255)<<16|(k[27]&255)<<24,j14=k[28]&255|(k[29]&255)<<8|(k[30]&255)<<16|(k[31]&255)<<24,j15=c[12]&255|(c[13]&255)<<8|(c[14]&255)<<16|(c[15]&255)<<24;var x0=j0,x1=j1,x2=j2,x3=j3,x4=j4,x5=j5,x6=j6,x7=j7,x8=j8,x9=j9,x10=j10,x11=j11,x12=j12,x13=j13,x14=j14,x15=j15,u;for(var i=0;i<20;i+=2){u=x0+x12|0;x4^=u<<7|u>>>32-7;u=x4+x0|0;x8^=u<<9|u>>>32-9;u=x8+x4|0;x12^=u<<13|u>>>32-13;u=x12+x8|0;x0^=u<<18|u>>>32-18;u=x5+x1|0;x9^=u<<7|u>>>32-7;u=x9+x5|0;x13^=u<<9|u>>>32-9;u=x13+x9|0;x1^=u<<13|u>>>32-13;u=x1+x13|0;x5^=u<<18|u>>>32-18;u=x10+x6|0;x14^=u<<7|u>>>32-7;u=x14+x10|0;x2^=u<<9|u>>>32-9;u=x2+x14|0;x6^=u<<13|u>>>32-13;u=x6+x2|0;x10^=u<<18|u>>>32-18;u=x15+x11|0;x3^=u<<7|u>>>32-7;u=x3+x15|0;x7^=u<<9|u>>>32-9;u=x7+x3|0;x11^=u<<13|u>>>32-13;u=x11+x7|0;x15^=u<<18|u>>>32-18;u=x0+x3|0;x1^=u<<7|u>>>32-7;u=x1+x0|0;x2^=u<<9|u>>>32-9;u=x2+x1|0;x3^=u<<13|u>>>32-13;u=x3+x2|0;x0^=u<<18|u>>>32-18;u=x5+x4|0;x6^=u<<7|u>>>32-7;u=x6+x5|0;x7^=u<<9|u>>>32-9;u=x7+x6|0;x4^=u<<13|u>>>32-13;u=x4+x7|0;x5^=u<<18|u>>>32-18;u=x10+x9|0;x11^=u<<7|u>>>32-7;u=x11+x10|0;x8^=u<<9|u>>>32-9;u=x8+x11|0;x9^=u<<13|u>>>32-13;u=x9+x8|0;x10^=u<<18|u>>>32-18;u=x15+x14|0;x12^=u<<7|u>>>32-7;u=x12+x15|0;x13^=u<<9|u>>>32-9;u=x13+x12|0;x14^=u<<13|u>>>32-13;u=x14+x13|0;x15^=u<<18|u>>>32-18}x0=x0+j0|0;x1=x1+j1|0;x2=x2+j2|0;x3=x3+j3|0;x4=x4+j4|0;x5=x5+j5|0;x6=x6+j6|0;x7=x7+j7|0;x8=x8+j8|0;x9=x9+j9|0;x10=x10+j10|0;x11=x11+j11|0;x12=x12+j12|0;x13=x13+j13|0;x14=x14+j14|0;x15=x15+j15|0;o[0]=x0>>>0&255;o[1]=x0>>>8&255;o[2]=x0>>>16&255;o[3]=x0>>>24&255;o[4]=x1>>>0&255;o[5]=x1>>>8&255;o[6]=x1>>>16&255;o[7]=x1>>>24&255;o[8]=x2>>>0&255;o[9]=x2>>>8&255;o[10]=x2>>>16&255;o[11]=x2>>>24&255;o[12]=x3>>>0&255;o[13]=x3>>>8&255;o[14]=x3>>>16&255;o[15]=x3>>>24&255;o[16]=x4>>>0&255;o[17]=x4>>>8&255;o[18]=x4>>>16&255;o[19]=x4>>>24&255;o[20]=x5>>>0&255;o[21]=x5>>>8&255;o[22]=x5>>>16&255;o[23]=x5>>>24&255;o[24]=x6>>>0&255;o[25]=x6>>>8&255;o[26]=x6>>>16&255;o[27]=x6>>>24&255;o[28]=x7>>>0&255;o[29]=x7>>>8&255;o[30]=x7>>>16&255;o[31]=x7>>>24&255;o[32]=x8>>>0&255;o[33]=x8>>>8&255;o[34]=x8>>>16&255;o[35]=x8>>>24&255;o[36]=x9>>>0&255;o[37]=x9>>>8&255;o[38]=x9>>>16&255;o[39]=x9>>>24&255;o[40]=x10>>>0&255;o[41]=x10>>>8&255;o[42]=x10>>>16&255;o[43]=x10>>>24&255;o[44]=x11>>>0&255;o[45]=x11>>>8&255;o[46]=x11>>>16&255;o[47]=x11>>>24&255;o[48]=x12>>>0&255;o[49]=x12>>>8&255;o[50]=x12>>>16&255;o[51]=x12>>>24&255;o[52]=x13>>>0&255;o[53]=x13>>>8&255;o[54]=x13>>>16&255;o[55]=x13>>>24&255;o[56]=x14>>>0&255;o[57]=x14>>>8&255;o[58]=x14>>>16&255;o[59]=x14>>>24&255;o[60]=x15>>>0&255;o[61]=x15>>>8&255;o[62]=x15>>>16&255;o[63]=x15>>>24&255}function core_hsalsa20(o,p,k,c){var j0=c[0]&255|(c[1]&255)<<8|(c[2]&255)<<16|(c[3]&255)<<24,j1=k[0]&255|(k[1]&255)<<8|(k[2]&255)<<16|(k[3]&255)<<24,j2=k[4]&255|(k[5]&255)<<8|(k[6]&255)<<16|(k[7]&255)<<24,j3=k[8]&255|(k[9]&255)<<8|(k[10]&255)<<16|(k[11]&255)<<24,j4=k[12]&255|(k[13]&255)<<8|(k[14]&255)<<16|(k[15]&255)<<24,j5=c[4]&255|(c[5]&255)<<8|(c[6]&255)<<16|(c[7]&255)<<24,j6=p[0]&255|(p[1]&255)<<8|(p[2]&255)<<16|(p[3]&255)<<24,j7=p[4]&255|(p[5]&255)<<8|(p[6]&255)<<16|(p[7]&255)<<24,j8=p[8]&255|(p[9]&255)<<8|(p[10]&255)<<16|(p[11]&255)<<24,j9=p[12]&255|(p[13]&255)<<8|(p[14]&255)<<16|(p[15]&255)<<24,j10=c[8]&255|(c[9]&255)<<8|(c[10]&255)<<16|(c[11]&255)<<24,j11=k[16]&255|(k[17]&255)<<8|(k[18]&255)<<16|(k[19]&255)<<24,j12=k[20]&255|(k[21]&255)<<8|(k[22]&255)<<16|(k[23]&255)<<24,j13=k[24]&255|(k[25]&255)<<8|(k[26]&255)<<16|(k[27]&255)<<24,j14=k[28]&255|(k[29]&255)<<8|(k[30]&255)<<16|(k[31]&255)<<24,j15=c[12]&255|(c[13]&255)<<8|(c[14]&255)<<16|(c[15]&255)<<24;var x0=j0,x1=j1,x2=j2,x3=j3,x4=j4,x5=j5,x6=j6,x7=j7,x8=j8,x9=j9,x10=j10,x11=j11,x12=j12,x13=j13,x14=j14,x15=j15,u;for(var i=0;i<20;i+=2){u=x0+x12|0;x4^=u<<7|u>>>32-7;u=x4+x0|0;x8^=u<<9|u>>>32-9;u=x8+x4|0;x12^=u<<13|u>>>32-13;u=x12+x8|0;x0^=u<<18|u>>>32-18;u=x5+x1|0;x9^=u<<7|u>>>32-7;u=x9+x5|0;x13^=u<<9|u>>>32-9;u=x13+x9|0;x1^=u<<13|u>>>32-13;u=x1+x13|0;x5^=u<<18|u>>>32-18;u=x10+x6|0;x14^=u<<7|u>>>32-7;u=x14+x10|0;x2^=u<<9|u>>>32-9;u=x2+x14|0;x6^=u<<13|u>>>32-13;u=x6+x2|0;x10^=u<<18|u>>>32-18;u=x15+x11|0;x3^=u<<7|u>>>32-7;u=x3+x15|0;x7^=u<<9|u>>>32-9;u=x7+x3|0;x11^=u<<13|u>>>32-13;u=x11+x7|0;x15^=u<<18|u>>>32-18;u=x0+x3|0;x1^=u<<7|u>>>32-7;u=x1+x0|0;x2^=u<<9|u>>>32-9;u=x2+x1|0;x3^=u<<13|u>>>32-13;u=x3+x2|0;x0^=u<<18|u>>>32-18;u=x5+x4|0;x6^=u<<7|u>>>32-7;u=x6+x5|0;x7^=u<<9|u>>>32-9;u=x7+x6|0;x4^=u<<13|u>>>32-13;u=x4+x7|0;x5^=u<<18|u>>>32-18;u=x10+x9|0;x11^=u<<7|u>>>32-7;u=x11+x10|0;x8^=u<<9|u>>>32-9;u=x8+x11|0;x9^=u<<13|u>>>32-13;u=x9+x8|0;x10^=u<<18|u>>>32-18;u=x15+x14|0;x12^=u<<7|u>>>32-7;u=x12+x15|0;x13^=u<<9|u>>>32-9;u=x13+x12|0;x14^=u<<13|u>>>32-13;u=x14+x13|0;x15^=u<<18|u>>>32-18}o[0]=x0>>>0&255;o[1]=x0>>>8&255;o[2]=x0>>>16&255;o[3]=x0>>>24&255;o[4]=x5>>>0&255;o[5]=x5>>>8&255;o[6]=x5>>>16&255;o[7]=x5>>>24&255;o[8]=x10>>>0&255;o[9]=x10>>>8&255;o[10]=x10>>>16&255;o[11]=x10>>>24&255;o[12]=x15>>>0&255;o[13]=x15>>>8&255;o[14]=x15>>>16&255;o[15]=x15>>>24&255;o[16]=x6>>>0&255;o[17]=x6>>>8&255;o[18]=x6>>>16&255;o[19]=x6>>>24&255;o[20]=x7>>>0&255;o[21]=x7>>>8&255;o[22]=x7>>>16&255;o[23]=x7>>>24&255;o[24]=x8>>>0&255;o[25]=x8>>>8&255;o[26]=x8>>>16&255;o[27]=x8>>>24&255;o[28]=x9>>>0&255;o[29]=x9>>>8&255;o[30]=x9>>>16&255;o[31]=x9>>>24&255}function crypto_core_salsa20(out,inp,k,c){core_salsa20(out,inp,k,c)}function crypto_core_hsalsa20(out,inp,k,c){core_hsalsa20(out,inp,k,c)}var sigma=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function crypto_stream_salsa20_xor(c,cpos,m,mpos,b,n,k){var z=new Uint8Array(16),x=new Uint8Array(64);var u,i;for(i=0;i<16;i++){z[i]=0}for(i=0;i<8;i++){z[i]=n[i]}while(b>=64){crypto_core_salsa20(x,z,k,sigma);for(i=0;i<64;i++){c[cpos+i]=m[mpos+i]^x[i]}u=1;for(i=8;i<16;i++){u=u+(z[i]&255)|0;z[i]=u&255;u>>>=8}b-=64;cpos+=64;mpos+=64}if(b>0){crypto_core_salsa20(x,z,k,sigma);for(i=0;i<b;i++){c[cpos+i]=m[mpos+i]^x[i]}}return 0}function crypto_stream_salsa20(c,cpos,b,n,k){var z=new Uint8Array(16),x=new Uint8Array(64);var u,i;for(i=0;i<16;i++){z[i]=0}for(i=0;i<8;i++){z[i]=n[i]}while(b>=64){crypto_core_salsa20(x,z,k,sigma);for(i=0;i<64;i++){c[cpos+i]=x[i]}u=1;for(i=8;i<16;i++){u=u+(z[i]&255)|0;z[i]=u&255;u>>>=8}b-=64;cpos+=64}if(b>0){crypto_core_salsa20(x,z,k,sigma);for(i=0;i<b;i++){c[cpos+i]=x[i]}}return 0}function crypto_stream(c,cpos,d,n,k){var s=new Uint8Array(32);crypto_core_hsalsa20(s,n,k,sigma);var sn=new Uint8Array(8);for(var i=0;i<8;i++){sn[i]=n[i+16]}return crypto_stream_salsa20(c,cpos,d,sn,s)}function crypto_stream_xor(c,cpos,m,mpos,d,n,k){var s=new Uint8Array(32);crypto_core_hsalsa20(s,n,k,sigma);var sn=new Uint8Array(8);for(var i=0;i<8;i++){sn[i]=n[i+16]}return crypto_stream_salsa20_xor(c,cpos,m,mpos,d,sn,s)}var poly1305=function poly1305(key){this.buffer=new Uint8Array(16);this.r=new Uint16Array(10);this.h=new Uint16Array(10);this.pad=new Uint16Array(8);this.leftover=0;this.fin=0;var t0,t1,t2,t3,t4,t5,t6,t7;t0=key[0]&255|(key[1]&255)<<8;this.r[0]=t0&8191;t1=key[2]&255|(key[3]&255)<<8;this.r[1]=(t0>>>13|t1<<3)&8191;t2=key[4]&255|(key[5]&255)<<8;this.r[2]=(t1>>>10|t2<<6)&7939;t3=key[6]&255|(key[7]&255)<<8;this.r[3]=(t2>>>7|t3<<9)&8191;t4=key[8]&255|(key[9]&255)<<8;this.r[4]=(t3>>>4|t4<<12)&255;this.r[5]=t4>>>1&8190;t5=key[10]&255|(key[11]&255)<<8;this.r[6]=(t4>>>14|t5<<2)&8191;t6=key[12]&255|(key[13]&255)<<8;this.r[7]=(t5>>>11|t6<<5)&8065;t7=key[14]&255|(key[15]&255)<<8;this.r[8]=(t6>>>8|t7<<8)&8191;this.r[9]=t7>>>5&127;this.pad[0]=key[16]&255|(key[17]&255)<<8;this.pad[1]=key[18]&255|(key[19]&255)<<8;this.pad[2]=key[20]&255|(key[21]&255)<<8;this.pad[3]=key[22]&255|(key[23]&255)<<8;this.pad[4]=key[24]&255|(key[25]&255)<<8;this.pad[5]=key[26]&255|(key[27]&255)<<8;this.pad[6]=key[28]&255|(key[29]&255)<<8;this.pad[7]=key[30]&255|(key[31]&255)<<8};poly1305.prototype.blocks=function(m,mpos,bytes){var hibit=this.fin?0:1<<11;var t0,t1,t2,t3,t4,t5,t6,t7,c;var d0,d1,d2,d3,d4,d5,d6,d7,d8,d9;var h0=this.h[0],h1=this.h[1],h2=this.h[2],h3=this.h[3],h4=this.h[4],h5=this.h[5],h6=this.h[6],h7=this.h[7],h8=this.h[8],h9=this.h[9];var r0=this.r[0],r1=this.r[1],r2=this.r[2],r3=this.r[3],r4=this.r[4],r5=this.r[5],r6=this.r[6],r7=this.r[7],r8=this.r[8],r9=this.r[9];while(bytes>=16){t0=m[mpos+0]&255|(m[mpos+1]&255)<<8;h0+=t0&8191;t1=m[mpos+2]&255|(m[mpos+3]&255)<<8;h1+=(t0>>>13|t1<<3)&8191;t2=m[mpos+4]&255|(m[mpos+5]&255)<<8;h2+=(t1>>>10|t2<<6)&8191;t3=m[mpos+6]&255|(m[mpos+7]&255)<<8;h3+=(t2>>>7|t3<<9)&8191;t4=m[mpos+8]&255|(m[mpos+9]&255)<<8;h4+=(t3>>>4|t4<<12)&8191;h5+=t4>>>1&8191;t5=m[mpos+10]&255|(m[mpos+11]&255)<<8;h6+=(t4>>>14|t5<<2)&8191;t6=m[mpos+12]&255|(m[mpos+13]&255)<<8;h7+=(t5>>>11|t6<<5)&8191;t7=m[mpos+14]&255|(m[mpos+15]&255)<<8;h8+=(t6>>>8|t7<<8)&8191;h9+=t7>>>5|hibit;c=0;d0=c;d0+=h0*r0;d0+=h1*(5*r9);d0+=h2*(5*r8);d0+=h3*(5*r7);d0+=h4*(5*r6);c=d0>>>13;d0&=8191;d0+=h5*(5*r5);d0+=h6*(5*r4);d0+=h7*(5*r3);d0+=h8*(5*r2);d0+=h9*(5*r1);c+=d0>>>13;d0&=8191;d1=c;d1+=h0*r1;d1+=h1*r0;d1+=h2*(5*r9);d1+=h3*(5*r8);d1+=h4*(5*r7);c=d1>>>13;d1&=8191;d1+=h5*(5*r6);d1+=h6*(5*r5);d1+=h7*(5*r4);d1+=h8*(5*r3);d1+=h9*(5*r2);c+=d1>>>13;d1&=8191;d2=c;d2+=h0*r2;d2+=h1*r1;d2+=h2*r0;d2+=h3*(5*r9);d2+=h4*(5*r8);c=d2>>>13;d2&=8191;d2+=h5*(5*r7);d2+=h6*(5*r6);d2+=h7*(5*r5);d2+=h8*(5*r4);d2+=h9*(5*r3);c+=d2>>>13;d2&=8191;d3=c;d3+=h0*r3;d3+=h1*r2;d3+=h2*r1;d3+=h3*r0;d3+=h4*(5*r9);c=d3>>>13;d3&=8191;d3+=h5*(5*r8);d3+=h6*(5*r7);d3+=h7*(5*r6);d3+=h8*(5*r5);d3+=h9*(5*r4);c+=d3>>>13;d3&=8191;d4=c;d4+=h0*r4;d4+=h1*r3;d4+=h2*r2;d4+=h3*r1;d4+=h4*r0;c=d4>>>13;d4&=8191;d4+=h5*(5*r9);d4+=h6*(5*r8);d4+=h7*(5*r7);d4+=h8*(5*r6);d4+=h9*(5*r5);c+=d4>>>13;d4&=8191;d5=c;d5+=h0*r5;d5+=h1*r4;d5+=h2*r3;d5+=h3*r2;d5+=h4*r1;c=d5>>>13;d5&=8191;d5+=h5*r0;d5+=h6*(5*r9);d5+=h7*(5*r8);d5+=h8*(5*r7);d5+=h9*(5*r6);c+=d5>>>13;d5&=8191;d6=c;d6+=h0*r6;d6+=h1*r5;d6+=h2*r4;d6+=h3*r3;d6+=h4*r2;c=d6>>>13;d6&=8191;d6+=h5*r1;d6+=h6*r0;d6+=h7*(5*r9);d6+=h8*(5*r8);d6+=h9*(5*r7);c+=d6>>>13;d6&=8191;d7=c;d7+=h0*r7;d7+=h1*r6;d7+=h2*r5;d7+=h3*r4;d7+=h4*r3;c=d7>>>13;d7&=8191;d7+=h5*r2;d7+=h6*r1;d7+=h7*r0;d7+=h8*(5*r9);d7+=h9*(5*r8);c+=d7>>>13;d7&=8191;d8=c;d8+=h0*r8;d8+=h1*r7;d8+=h2*r6;d8+=h3*r5;d8+=h4*r4;c=d8>>>13;d8&=8191;d8+=h5*r3;d8+=h6*r2;d8+=h7*r1;d8+=h8*r0;d8+=h9*(5*r9);c+=d8>>>13;d8&=8191;d9=c;d9+=h0*r9;d9+=h1*r8;d9+=h2*r7;d9+=h3*r6;d9+=h4*r5;c=d9>>>13;d9&=8191;d9+=h5*r4;d9+=h6*r3;d9+=h7*r2;d9+=h8*r1;d9+=h9*r0;c+=d9>>>13;d9&=8191;c=(c<<2)+c|0;c=c+d0|0;d0=c&8191;c=c>>>13;d1+=c;h0=d0;h1=d1;h2=d2;h3=d3;h4=d4;h5=d5;h6=d6;h7=d7;h8=d8;h9=d9;mpos+=16;bytes-=16}this.h[0]=h0;this.h[1]=h1;this.h[2]=h2;this.h[3]=h3;this.h[4]=h4;this.h[5]=h5;this.h[6]=h6;this.h[7]=h7;this.h[8]=h8;this.h[9]=h9};poly1305.prototype.finish=function(mac,macpos){var g=new Uint16Array(10);var c,mask,f,i;if(this.leftover){i=this.leftover;this.buffer[i++]=1;for(;i<16;i++){this.buffer[i]=0}this.fin=1;this.blocks(this.buffer,0,16)}c=this.h[1]>>>13;this.h[1]&=8191;for(i=2;i<10;i++){this.h[i]+=c;c=this.h[i]>>>13;this.h[i]&=8191}this.h[0]+=c*5;c=this.h[0]>>>13;this.h[0]&=8191;this.h[1]+=c;c=this.h[1]>>>13;this.h[1]&=8191;this.h[2]+=c;g[0]=this.h[0]+5;c=g[0]>>>13;g[0]&=8191;for(i=1;i<10;i++){g[i]=this.h[i]+c;c=g[i]>>>13;g[i]&=8191}g[9]-=1<<13;mask=(c^1)-1;for(i=0;i<10;i++){g[i]&=mask}mask=~mask;for(i=0;i<10;i++){this.h[i]=this.h[i]&mask|g[i]}this.h[0]=(this.h[0]|this.h[1]<<13)&65535;this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535;this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535;this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535;this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535;this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535;this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535;this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535;f=this.h[0]+this.pad[0];this.h[0]=f&65535;for(i=1;i<8;i++){f=(this.h[i]+this.pad[i]|0)+(f>>>16)|0;this.h[i]=f&65535}mac[macpos+0]=this.h[0]>>>0&255;mac[macpos+1]=this.h[0]>>>8&255;mac[macpos+2]=this.h[1]>>>0&255;mac[macpos+3]=this.h[1]>>>8&255;mac[macpos+4]=this.h[2]>>>0&255;mac[macpos+5]=this.h[2]>>>8&255;mac[macpos+6]=this.h[3]>>>0&255;mac[macpos+7]=this.h[3]>>>8&255;mac[macpos+8]=this.h[4]>>>0&255;mac[macpos+9]=this.h[4]>>>8&255;mac[macpos+10]=this.h[5]>>>0&255;mac[macpos+11]=this.h[5]>>>8&255;mac[macpos+12]=this.h[6]>>>0&255;mac[macpos+13]=this.h[6]>>>8&255;mac[macpos+14]=this.h[7]>>>0&255;mac[macpos+15]=this.h[7]>>>8&255};poly1305.prototype.update=function(m,mpos,bytes){var i,want;if(this.leftover){want=16-this.leftover;if(want>bytes)want=bytes;for(i=0;i<want;i++){this.buffer[this.leftover+i]=m[mpos+i]}bytes-=want;mpos+=want;this.leftover+=want;if(this.leftover<16)return;this.blocks(this.buffer,0,16);this.leftover=0}if(bytes>=16){want=bytes-bytes%16;this.blocks(m,mpos,want);mpos+=want;bytes-=want}if(bytes){for(i=0;i<bytes;i++){this.buffer[this.leftover+i]=m[mpos+i]}this.leftover+=bytes}};function crypto_onetimeauth(out,outpos,m,mpos,n,k){var s=new poly1305(k);s.update(m,mpos,n);s.finish(out,outpos);return 0}function crypto_onetimeauth_verify(h,hpos,m,mpos,n,k){var x=new Uint8Array(16);crypto_onetimeauth(x,0,m,mpos,n,k);return crypto_verify_16(h,hpos,x,0)}function crypto_secretbox(c,m,d,n,k){var i;if(d<32)return-1;crypto_stream_xor(c,0,m,0,d,n,k);crypto_onetimeauth(c,16,c,32,d-32,c);for(i=0;i<16;i++){c[i]=0}return 0}function crypto_secretbox_open(m,c,d,n,k){var i;var x=new Uint8Array(32);if(d<32)return-1;crypto_stream(x,0,32,n,k);if(crypto_onetimeauth_verify(c,16,c,32,d-32,x)!==0)return-1;crypto_stream_xor(m,0,c,0,d,n,k);for(i=0;i<32;i++){m[i]=0}return 0}function set25519(r,a){var i;for(i=0;i<16;i++){r[i]=a[i]|0}}function car25519(o){var i,v,c=1;for(i=0;i<16;i++){v=o[i]+c+65535;c=Math.floor(v/65536);o[i]=v-c*65536}o[0]+=c-1+37*(c-1)}function sel25519(p,q,b){var t,c=~(b-1);for(var i=0;i<16;i++){t=c&(p[i]^q[i]);p[i]^=t;q[i]^=t}}function pack25519(o,n){var i,j,b;var m=gf(),t=gf();for(i=0;i<16;i++){t[i]=n[i]}car25519(t);car25519(t);car25519(t);for(j=0;j<2;j++){m[0]=t[0]-65517;for(i=1;i<15;i++){m[i]=t[i]-65535-(m[i-1]>>16&1);m[i-1]&=65535}m[15]=t[15]-32767-(m[14]>>16&1);b=m[15]>>16&1;m[14]&=65535;sel25519(t,m,1-b)}for(i=0;i<16;i++){o[2*i]=t[i]&255;o[2*i+1]=t[i]>>8}}function neq25519(a,b){var c=new Uint8Array(32),d=new Uint8Array(32);pack25519(c,a);pack25519(d,b);return crypto_verify_32(c,0,d,0)}function par25519(a){var d=new Uint8Array(32);pack25519(d,a);return d[0]&1}function unpack25519(o,n){var i;for(i=0;i<16;i++){o[i]=n[2*i]+(n[2*i+1]<<8)}o[15]&=32767}function A(o,a,b){for(var i=0;i<16;i++){o[i]=a[i]+b[i]}}function Z(o,a,b){for(var i=0;i<16;i++){o[i]=a[i]-b[i]}}function M(o,a,b){var v,c,t0=0,t1=0,t2=0,t3=0,t4=0,t5=0,t6=0,t7=0,t8=0,t9=0,t10=0,t11=0,t12=0,t13=0,t14=0,t15=0,t16=0,t17=0,t18=0,t19=0,t20=0,t21=0,t22=0,t23=0,t24=0,t25=0,t26=0,t27=0,t28=0,t29=0,t30=0,b0=b[0],b1=b[1],b2=b[2],b3=b[3],b4=b[4],b5=b[5],b6=b[6],b7=b[7],b8=b[8],b9=b[9],b10=b[10],b11=b[11],b12=b[12],b13=b[13],b14=b[14],b15=b[15];v=a[0];t0+=v*b0;t1+=v*b1;t2+=v*b2;t3+=v*b3;t4+=v*b4;t5+=v*b5;t6+=v*b6;t7+=v*b7;t8+=v*b8;t9+=v*b9;t10+=v*b10;t11+=v*b11;t12+=v*b12;t13+=v*b13;t14+=v*b14;t15+=v*b15;v=a[1];t1+=v*b0;t2+=v*b1;t3+=v*b2;t4+=v*b3;t5+=v*b4;t6+=v*b5;t7+=v*b6;t8+=v*b7;t9+=v*b8;t10+=v*b9;t11+=v*b10;t12+=v*b11;t13+=v*b12;t14+=v*b13;t15+=v*b14;t16+=v*b15;v=a[2];t2+=v*b0;t3+=v*b1;t4+=v*b2;t5+=v*b3;t6+=v*b4;t7+=v*b5;t8+=v*b6;t9+=v*b7;t10+=v*b8;t11+=v*b9;t12+=v*b10;t13+=v*b11;t14+=v*b12;t15+=v*b13;t16+=v*b14;t17+=v*b15;v=a[3];t3+=v*b0;t4+=v*b1;t5+=v*b2;t6+=v*b3;t7+=v*b4;t8+=v*b5;t9+=v*b6;t10+=v*b7;t11+=v*b8;t12+=v*b9;t13+=v*b10;t14+=v*b11;t15+=v*b12;t16+=v*b13;t17+=v*b14;t18+=v*b15;v=a[4];t4+=v*b0;t5+=v*b1;t6+=v*b2;t7+=v*b3;t8+=v*b4;t9+=v*b5;t10+=v*b6;t11+=v*b7;t12+=v*b8;t13+=v*b9;t14+=v*b10;t15+=v*b11;t16+=v*b12;t17+=v*b13;t18+=v*b14;t19+=v*b15;v=a[5];t5+=v*b0;t6+=v*b1;t7+=v*b2;t8+=v*b3;t9+=v*b4;t10+=v*b5;t11+=v*b6;t12+=v*b7;t13+=v*b8;t14+=v*b9;t15+=v*b10;t16+=v*b11;t17+=v*b12;t18+=v*b13;t19+=v*b14;t20+=v*b15;v=a[6];t6+=v*b0;t7+=v*b1;t8+=v*b2;t9+=v*b3;t10+=v*b4;t11+=v*b5;t12+=v*b6;t13+=v*b7;t14+=v*b8;t15+=v*b9;t16+=v*b10;t17+=v*b11;t18+=v*b12;t19+=v*b13;t20+=v*b14;t21+=v*b15;v=a[7];t7+=v*b0;t8+=v*b1;t9+=v*b2;t10+=v*b3;t11+=v*b4;t12+=v*b5;t13+=v*b6;t14+=v*b7;t15+=v*b8;t16+=v*b9;t17+=v*b10;t18+=v*b11;t19+=v*b12;t20+=v*b13;t21+=v*b14;t22+=v*b15;v=a[8];t8+=v*b0;t9+=v*b1;t10+=v*b2;t11+=v*b3;t12+=v*b4;t13+=v*b5;t14+=v*b6;t15+=v*b7;t16+=v*b8;t17+=v*b9;t18+=v*b10;t19+=v*b11;t20+=v*b12;t21+=v*b13;t22+=v*b14;t23+=v*b15;v=a[9];t9+=v*b0;t10+=v*b1;t11+=v*b2;t12+=v*b3;t13+=v*b4;t14+=v*b5;t15+=v*b6;t16+=v*b7;t17+=v*b8;t18+=v*b9;t19+=v*b10;t20+=v*b11;t21+=v*b12;t22+=v*b13;t23+=v*b14;t24+=v*b15;v=a[10];t10+=v*b0;t11+=v*b1;t12+=v*b2;t13+=v*b3;t14+=v*b4;t15+=v*b5;t16+=v*b6;t17+=v*b7;t18+=v*b8;t19+=v*b9;t20+=v*b10;t21+=v*b11;t22+=v*b12;t23+=v*b13;t24+=v*b14;t25+=v*b15;v=a[11];t11+=v*b0;t12+=v*b1;t13+=v*b2;t14+=v*b3;t15+=v*b4;t16+=v*b5;t17+=v*b6;t18+=v*b7;t19+=v*b8;t20+=v*b9;t21+=v*b10;t22+=v*b11;t23+=v*b12;t24+=v*b13;t25+=v*b14;t26+=v*b15;v=a[12];t12+=v*b0;t13+=v*b1;t14+=v*b2;t15+=v*b3;t16+=v*b4;t17+=v*b5;t18+=v*b6;t19+=v*b7;t20+=v*b8;t21+=v*b9;t22+=v*b10;t23+=v*b11;t24+=v*b12;t25+=v*b13;t26+=v*b14;t27+=v*b15;v=a[13];t13+=v*b0;t14+=v*b1;t15+=v*b2;t16+=v*b3;t17+=v*b4;t18+=v*b5;t19+=v*b6;t20+=v*b7;t21+=v*b8;t22+=v*b9;t23+=v*b10;t24+=v*b11;t25+=v*b12;t26+=v*b13;t27+=v*b14;t28+=v*b15;v=a[14];t14+=v*b0;t15+=v*b1;t16+=v*b2;t17+=v*b3;t18+=v*b4;t19+=v*b5;t20+=v*b6;t21+=v*b7;t22+=v*b8;t23+=v*b9;t24+=v*b10;t25+=v*b11;t26+=v*b12;t27+=v*b13;t28+=v*b14;t29+=v*b15;v=a[15];t15+=v*b0;t16+=v*b1;t17+=v*b2;t18+=v*b3;t19+=v*b4;t20+=v*b5;t21+=v*b6;t22+=v*b7;t23+=v*b8;t24+=v*b9;t25+=v*b10;t26+=v*b11;t27+=v*b12;t28+=v*b13;t29+=v*b14;t30+=v*b15;t0+=38*t16;t1+=38*t17;t2+=38*t18;t3+=38*t19;t4+=38*t20;t5+=38*t21;t6+=38*t22;t7+=38*t23;t8+=38*t24;t9+=38*t25;t10+=38*t26;t11+=38*t27;t12+=38*t28;t13+=38*t29;t14+=38*t30;c=1;v=t0+c+65535;c=Math.floor(v/65536);t0=v-c*65536;v=t1+c+65535;c=Math.floor(v/65536);t1=v-c*65536;v=t2+c+65535;c=Math.floor(v/65536);t2=v-c*65536;v=t3+c+65535;c=Math.floor(v/65536);t3=v-c*65536;v=t4+c+65535;c=Math.floor(v/65536);t4=v-c*65536;v=t5+c+65535;c=Math.floor(v/65536);t5=v-c*65536;v=t6+c+65535;c=Math.floor(v/65536);t6=v-c*65536;v=t7+c+65535;c=Math.floor(v/65536);t7=v-c*65536;v=t8+c+65535;c=Math.floor(v/65536);t8=v-c*65536;v=t9+c+65535;c=Math.floor(v/65536);t9=v-c*65536;v=t10+c+65535;c=Math.floor(v/65536);t10=v-c*65536;v=t11+c+65535;c=Math.floor(v/65536);t11=v-c*65536;v=t12+c+65535;c=Math.floor(v/65536);t12=v-c*65536;v=t13+c+65535;c=Math.floor(v/65536);t13=v-c*65536;v=t14+c+65535;c=Math.floor(v/65536);t14=v-c*65536;v=t15+c+65535;c=Math.floor(v/65536);t15=v-c*65536;t0+=c-1+37*(c-1);c=1;v=t0+c+65535;c=Math.floor(v/65536);t0=v-c*65536;v=t1+c+65535;c=Math.floor(v/65536);t1=v-c*65536;v=t2+c+65535;c=Math.floor(v/65536);t2=v-c*65536;v=t3+c+65535;c=Math.floor(v/65536);t3=v-c*65536;v=t4+c+65535;c=Math.floor(v/65536);t4=v-c*65536;v=t5+c+65535;c=Math.floor(v/65536);t5=v-c*65536;v=t6+c+65535;c=Math.floor(v/65536);t6=v-c*65536;v=t7+c+65535;c=Math.floor(v/65536);t7=v-c*65536;v=t8+c+65535;c=Math.floor(v/65536);t8=v-c*65536;v=t9+c+65535;c=Math.floor(v/65536);t9=v-c*65536;v=t10+c+65535;c=Math.floor(v/65536);t10=v-c*65536;v=t11+c+65535;c=Math.floor(v/65536);t11=v-c*65536;v=t12+c+65535;c=Math.floor(v/65536);t12=v-c*65536;v=t13+c+65535;c=Math.floor(v/65536);t13=v-c*65536;v=t14+c+65535;c=Math.floor(v/65536);t14=v-c*65536;v=t15+c+65535;c=Math.floor(v/65536);t15=v-c*65536;t0+=c-1+37*(c-1);o[0]=t0;o[1]=t1;o[2]=t2;o[3]=t3;o[4]=t4;o[5]=t5;o[6]=t6;o[7]=t7;o[8]=t8;o[9]=t9;o[10]=t10;o[11]=t11;o[12]=t12;o[13]=t13;o[14]=t14;o[15]=t15}function S(o,a){M(o,a,a)}function inv25519(o,i){var c=gf();var a;for(a=0;a<16;a++){c[a]=i[a]}for(a=253;a>=0;a--){S(c,c);if(a!==2&&a!==4)M(c,c,i)}for(a=0;a<16;a++){o[a]=c[a]}}function pow2523(o,i){var c=gf();var a;for(a=0;a<16;a++){c[a]=i[a]}for(a=250;a>=0;a--){S(c,c);if(a!==1)M(c,c,i)}for(a=0;a<16;a++){o[a]=c[a]}}function crypto_scalarmult(q,n,p){var z=new Uint8Array(32);var x=new Float64Array(80),r,i;var a=gf(),b=gf(),c=gf(),d=gf(),e=gf(),f=gf();for(i=0;i<31;i++){z[i]=n[i]}z[31]=n[31]&127|64;z[0]&=248;unpack25519(x,p);for(i=0;i<16;i++){b[i]=x[i];d[i]=a[i]=c[i]=0}a[0]=d[0]=1;for(i=254;i>=0;--i){r=z[i>>>3]>>>(i&7)&1;sel25519(a,b,r);sel25519(c,d,r);A(e,a,c);Z(a,a,c);A(c,b,d);Z(b,b,d);S(d,e);S(f,a);M(a,c,a);M(c,b,e);A(e,a,c);Z(a,a,c);S(b,a);Z(c,d,f);M(a,c,_121665);A(a,a,d);M(c,c,a);M(a,d,f);M(d,b,x);S(b,e);sel25519(a,b,r);sel25519(c,d,r)}for(i=0;i<16;i++){x[i+16]=a[i];x[i+32]=c[i];x[i+48]=b[i];x[i+64]=d[i]}var x32=x.subarray(32);var x16=x.subarray(16);inv25519(x32,x32);M(x16,x16,x32);pack25519(q,x16);return 0}function crypto_scalarmult_base(q,n){return crypto_scalarmult(q,n,_9)}function crypto_box_keypair(y,x){randombytes(x,32);return crypto_scalarmult_base(y,x)}function crypto_box_beforenm(k,y,x){var s=new Uint8Array(32);crypto_scalarmult(s,x,y);return crypto_core_hsalsa20(k,_0,s,sigma)}var crypto_box_afternm=crypto_secretbox;var crypto_box_open_afternm=crypto_secretbox_open;function crypto_box(c,m,d,n,y,x){var k=new Uint8Array(32);crypto_box_beforenm(k,y,x);return crypto_box_afternm(c,m,d,n,k)}function crypto_box_open(m,c,d,n,y,x){var k=new Uint8Array(32);crypto_box_beforenm(k,y,x);return crypto_box_open_afternm(m,c,d,n,k)}var K=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function crypto_hashblocks_hl(hh,hl,m,n){var wh=new Int32Array(16),wl=new Int32Array(16),bh0,bh1,bh2,bh3,bh4,bh5,bh6,bh7,bl0,bl1,bl2,bl3,bl4,bl5,bl6,bl7,th,tl,i,j,h,l,a,b,c,d;var ah0=hh[0],ah1=hh[1],ah2=hh[2],ah3=hh[3],ah4=hh[4],ah5=hh[5],ah6=hh[6],ah7=hh[7],al0=hl[0],al1=hl[1],al2=hl[2],al3=hl[3],al4=hl[4],al5=hl[5],al6=hl[6],al7=hl[7];var pos=0;while(n>=128){for(i=0;i<16;i++){j=8*i+pos;wh[i]=m[j+0]<<24|m[j+1]<<16|m[j+2]<<8|m[j+3];wl[i]=m[j+4]<<24|m[j+5]<<16|m[j+6]<<8|m[j+7]}for(i=0;i<80;i++){bh0=ah0;bh1=ah1;bh2=ah2;bh3=ah3;bh4=ah4;bh5=ah5;bh6=ah6;bh7=ah7;bl0=al0;bl1=al1;bl2=al2;bl3=al3;bl4=al4;bl5=al5;bl6=al6;bl7=al7;h=ah7;l=al7;a=l&65535;b=l>>>16;c=h&65535;d=h>>>16;h=(ah4>>>14|al4<<32-14)^(ah4>>>18|al4<<32-18)^(al4>>>41-32|ah4<<32-(41-32));l=(al4>>>14|ah4<<32-14)^(al4>>>18|ah4<<32-18)^(ah4>>>41-32|al4<<32-(41-32));a+=l&65535;b+=l>>>16;c+=h&65535;d+=h>>>16;h=ah4&ah5^~ah4&ah6;l=al4&al5^~al4&al6;a+=l&65535;b+=l>>>16;c+=h&65535;d+=h>>>16;h=K[i*2];l=K[i*2+1];a+=l&65535;b+=l>>>16;c+=h&65535;d+=h>>>16;h=wh[i%16];l=wl[i%16];a+=l&65535;b+=l>>>16;c+=h&65535;d+=h>>>16;b+=a>>>16;c+=b>>>16;d+=c>>>16;th=c&65535|d<<16;tl=a&65535|b<<16;h=th;l=tl;a=l&65535;b=l>>>16;c=h&65535;d=h>>>16;h=(ah0>>>28|al0<<32-28)^(al0>>>34-32|ah0<<32-(34-32))^(al0>>>39-32|ah0<<32-(39-32));l=(al0>>>28|ah0<<32-28)^(ah0>>>34-32|al0<<32-(34-32))^(ah0>>>39-32|al0<<32-(39-32));a+=l&65535;b+=l>>>16;c+=h&65535;d+=h>>>16;h=ah0&ah1^ah0&ah2^ah1&ah2;l=al0&al1^al0&al2^al1&al2;a+=l&65535;b+=l>>>16;c+=h&65535;d+=h>>>16;b+=a>>>16;c+=b>>>16;d+=c>>>16;bh7=c&65535|d<<16;bl7=a&65535|b<<16;h=bh3;l=bl3;a=l&65535;b=l>>>16;c=h&65535;d=h>>>16;h=th;l=tl;a+=l&65535;b+=l>>>16;c+=h&65535;d+=h>>>16;b+=a>>>16;c+=b>>>16;d+=c>>>16;bh3=c&65535|d<<16;bl3=a&65535|b<<16;ah1=bh0;ah2=bh1;ah3=bh2;ah4=bh3;ah5=bh4;ah6=bh5;ah7=bh6;ah0=bh7;al1=bl0;al2=bl1;al3=bl2;al4=bl3;al5=bl4;al6=bl5;al7=bl6;al0=bl7;if(i%16===15){for(j=0;j<16;j++){h=wh[j];l=wl[j];a=l&65535;b=l>>>16;c=h&65535;d=h>>>16;h=wh[(j+9)%16];l=wl[(j+9)%16];a+=l&65535;b+=l>>>16;c+=h&65535;d+=h>>>16;th=wh[(j+1)%16];tl=wl[(j+1)%16];h=(th>>>1|tl<<32-1)^(th>>>8|tl<<32-8)^th>>>7;l=(tl>>>1|th<<32-1)^(tl>>>8|th<<32-8)^(tl>>>7|th<<32-7);a+=l&65535;b+=l>>>16;c+=h&65535;d+=h>>>16;th=wh[(j+14)%16];tl=wl[(j+14)%16];h=(th>>>19|tl<<32-19)^(tl>>>61-32|th<<32-(61-32))^th>>>6;l=(tl>>>19|th<<32-19)^(th>>>61-32|tl<<32-(61-32))^(tl>>>6|th<<32-6);a+=l&65535;b+=l>>>16;c+=h&65535;d+=h>>>16;b+=a>>>16;c+=b>>>16;d+=c>>>16;wh[j]=c&65535|d<<16;wl[j]=a&65535|b<<16}}}h=ah0;l=al0;a=l&65535;b=l>>>16;c=h&65535;d=h>>>16;h=hh[0];l=hl[0];a+=l&65535;b+=l>>>16;c+=h&65535;d+=h>>>16;b+=a>>>16;c+=b>>>16;d+=c>>>16;hh[0]=ah0=c&65535|d<<16;hl[0]=al0=a&65535|b<<16;h=ah1;l=al1;a=l&65535;b=l>>>16;c=h&65535;d=h>>>16;h=hh[1];l=hl[1];a+=l&65535;b+=l>>>16;c+=h&65535;d+=h>>>16;b+=a>>>16;c+=b>>>16;d+=c>>>16;hh[1]=ah1=c&65535|d<<16;hl[1]=al1=a&65535|b<<16;h=ah2;l=al2;a=l&65535;b=l>>>16;c=h&65535;d=h>>>16;h=hh[2];l=hl[2];a+=l&65535;b+=l>>>16;c+=h&65535;d+=h>>>16;b+=a>>>16;c+=b>>>16;d+=c>>>16;hh[2]=ah2=c&65535|d<<16;hl[2]=al2=a&65535|b<<16;h=ah3;l=al3;a=l&65535;b=l>>>16;c=h&65535;d=h>>>16;h=hh[3];l=hl[3];a+=l&65535;b+=l>>>16;c+=h&65535;d+=h>>>16;b+=a>>>16;c+=b>>>16;d+=c>>>16;hh[3]=ah3=c&65535|d<<16;hl[3]=al3=a&65535|b<<16;h=ah4;l=al4;a=l&65535;b=l>>>16;c=h&65535;d=h>>>16;h=hh[4];l=hl[4];a+=l&65535;b+=l>>>16;c+=h&65535;d+=h>>>16;b+=a>>>16;c+=b>>>16;d+=c>>>16;hh[4]=ah4=c&65535|d<<16;hl[4]=al4=a&65535|b<<16;h=ah5;l=al5;a=l&65535;b=l>>>16;c=h&65535;d=h>>>16;h=hh[5];l=hl[5];a+=l&65535;b+=l>>>16;c+=h&65535;d+=h>>>16;b+=a>>>16;c+=b>>>16;d+=c>>>16;hh[5]=ah5=c&65535|d<<16;hl[5]=al5=a&65535|b<<16;h=ah6;l=al6;a=l&65535;b=l>>>16;c=h&65535;d=h>>>16;h=hh[6];l=hl[6];a+=l&65535;b+=l>>>16;c+=h&65535;d+=h>>>16;b+=a>>>16;c+=b>>>16;d+=c>>>16;hh[6]=ah6=c&65535|d<<16;hl[6]=al6=a&65535|b<<16;h=ah7;l=al7;a=l&65535;b=l>>>16;c=h&65535;d=h>>>16;h=hh[7];l=hl[7];a+=l&65535;b+=l>>>16;c+=h&65535;d+=h>>>16;b+=a>>>16;c+=b>>>16;d+=c>>>16;hh[7]=ah7=c&65535|d<<16;hl[7]=al7=a&65535|b<<16;pos+=128;n-=128}return n}function crypto_hash(out,m,n){var hh=new Int32Array(8),hl=new Int32Array(8),x=new Uint8Array(256),i,b=n;hh[0]=1779033703;hh[1]=3144134277;hh[2]=1013904242;hh[3]=2773480762;hh[4]=1359893119;hh[5]=2600822924;hh[6]=528734635;hh[7]=1541459225;hl[0]=4089235720;hl[1]=2227873595;hl[2]=4271175723;hl[3]=1595750129;hl[4]=2917565137;hl[5]=725511199;hl[6]=4215389547;hl[7]=327033209;crypto_hashblocks_hl(hh,hl,m,n);n%=128;for(i=0;i<n;i++){x[i]=m[b-n+i]}x[n]=128;n=256-128*(n<112?1:0);x[n-9]=0;ts64(x,n-8,b/536870912|0,b<<3);crypto_hashblocks_hl(hh,hl,x,n);for(i=0;i<8;i++){ts64(out,8*i,hh[i],hl[i])}return 0}function add(p,q){var a=gf(),b=gf(),c=gf(),d=gf(),e=gf(),f=gf(),g=gf(),h=gf(),t=gf();Z(a,p[1],p[0]);Z(t,q[1],q[0]);M(a,a,t);A(b,p[0],p[1]);A(t,q[0],q[1]);M(b,b,t);M(c,p[3],q[3]);M(c,c,D2);M(d,p[2],q[2]);A(d,d,d);Z(e,b,a);Z(f,d,c);A(g,d,c);A(h,b,a);M(p[0],e,f);M(p[1],h,g);M(p[2],g,f);M(p[3],e,h)}function cswap(p,q,b){var i;for(i=0;i<4;i++){sel25519(p[i],q[i],b)}}function pack(r,p){var tx=gf(),ty=gf(),zi=gf();inv25519(zi,p[2]);M(tx,p[0],zi);M(ty,p[1],zi);pack25519(r,ty);r[31]^=par25519(tx)<<7}function scalarmult(p,q,s){var b,i;set25519(p[0],gf0);set25519(p[1],gf1);set25519(p[2],gf1);set25519(p[3],gf0);for(i=255;i>=0;--i){b=s[i/8|0]>>(i&7)&1;cswap(p,q,b);add(q,p);add(p,p);cswap(p,q,b)}}function scalarbase(p,s){var q=[gf(),gf(),gf(),gf()];set25519(q[0],X);set25519(q[1],Y);set25519(q[2],gf1);M(q[3],X,Y);scalarmult(p,q,s)}function crypto_sign_keypair(pk,sk,seeded){var d=new Uint8Array(64);var p=[gf(),gf(),gf(),gf()];var i;if(!seeded)randombytes(sk,32);crypto_hash(d,sk,32);d[0]&=248;d[31]&=127;d[31]|=64;scalarbase(p,d);pack(pk,p);for(i=0;i<32;i++){sk[i+32]=pk[i]}return 0}var L=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function modL(r,x){var carry,i,j,k;for(i=63;i>=32;--i){carry=0;for(j=i-32,k=i-12;j<k;++j){x[j]+=carry-16*x[i]*L[j-(i-32)];carry=Math.floor((x[j]+128)/256);x[j]-=carry*256}x[j]+=carry;x[i]=0}carry=0;for(j=0;j<32;j++){x[j]+=carry-(x[31]>>4)*L[j];carry=x[j]>>8;x[j]&=255}for(j=0;j<32;j++){x[j]-=carry*L[j]}for(i=0;i<32;i++){x[i+1]+=x[i]>>8;r[i]=x[i]&255}}function reduce(r){var x=new Float64Array(64),i;for(i=0;i<64;i++){x[i]=r[i]}for(i=0;i<64;i++){r[i]=0}modL(r,x)}function crypto_sign(sm,m,n,sk){var d=new Uint8Array(64),h=new Uint8Array(64),r=new Uint8Array(64);var i,j,x=new Float64Array(64);var p=[gf(),gf(),gf(),gf()];crypto_hash(d,sk,32);d[0]&=248;d[31]&=127;d[31]|=64;var smlen=n+64;for(i=0;i<n;i++){sm[64+i]=m[i]}for(i=0;i<32;i++){sm[32+i]=d[32+i]}crypto_hash(r,sm.subarray(32),n+32);reduce(r);scalarbase(p,r);pack(sm,p);for(i=32;i<64;i++){sm[i]=sk[i]}crypto_hash(h,sm,n+64);reduce(h);for(i=0;i<64;i++){x[i]=0}for(i=0;i<32;i++){x[i]=r[i]}for(i=0;i<32;i++){for(j=0;j<32;j++){x[i+j]+=h[i]*d[j]}}modL(sm.subarray(32),x);return smlen}function unpackneg(r,p){var t=gf(),chk=gf(),num=gf(),den=gf(),den2=gf(),den4=gf(),den6=gf();set25519(r[2],gf1);unpack25519(r[1],p);S(num,r[1]);M(den,num,D);Z(num,num,r[2]);A(den,r[2],den);S(den2,den);S(den4,den2);M(den6,den4,den2);M(t,den6,num);M(t,t,den);pow2523(t,t);M(t,t,num);M(t,t,den);M(t,t,den);M(r[0],t,den);S(chk,r[0]);M(chk,chk,den);if(neq25519(chk,num))M(r[0],r[0],I);S(chk,r[0]);M(chk,chk,den);if(neq25519(chk,num))return-1;if(par25519(r[0])===p[31]>>7)Z(r[0],gf0,r[0]);M(r[3],r[0],r[1]);return 0}function crypto_sign_open(m,sm,n,pk){var i;var t=new Uint8Array(32),h=new Uint8Array(64);var p=[gf(),gf(),gf(),gf()],q=[gf(),gf(),gf(),gf()];if(n<64)return-1;if(unpackneg(q,pk))return-1;for(i=0;i<n;i++){m[i]=sm[i]}for(i=0;i<32;i++){m[i+32]=pk[i]}crypto_hash(h,m,n);reduce(h);scalarmult(p,q,h);scalarbase(q,sm.subarray(32));add(p,q);pack(t,p);n-=64;if(crypto_verify_32(sm,0,t,0)){for(i=0;i<n;i++){m[i]=0}return-1}for(i=0;i<n;i++){m[i]=sm[i+64]}return n}var crypto_secretbox_KEYBYTES=32,crypto_secretbox_NONCEBYTES=24,crypto_secretbox_ZEROBYTES=32,crypto_secretbox_BOXZEROBYTES=16,crypto_scalarmult_BYTES=32,crypto_scalarmult_SCALARBYTES=32,crypto_box_PUBLICKEYBYTES=32,crypto_box_SECRETKEYBYTES=32,crypto_box_BEFORENMBYTES=32,crypto_box_NONCEBYTES=crypto_secretbox_NONCEBYTES,crypto_box_ZEROBYTES=crypto_secretbox_ZEROBYTES,crypto_box_BOXZEROBYTES=crypto_secretbox_BOXZEROBYTES,crypto_sign_BYTES=64,crypto_sign_PUBLICKEYBYTES=32,crypto_sign_SECRETKEYBYTES=64,crypto_sign_SEEDBYTES=32,crypto_hash_BYTES=64;nacl.lowlevel={crypto_core_hsalsa20:crypto_core_hsalsa20,crypto_stream_xor:crypto_stream_xor,crypto_stream:crypto_stream,crypto_stream_salsa20_xor:crypto_stream_salsa20_xor,crypto_stream_salsa20:crypto_stream_salsa20,crypto_onetimeauth:crypto_onetimeauth,crypto_onetimeauth_verify:crypto_onetimeauth_verify,crypto_verify_16:crypto_verify_16,crypto_verify_32:crypto_verify_32,crypto_secretbox:crypto_secretbox,crypto_secretbox_open:crypto_secretbox_open,crypto_scalarmult:crypto_scalarmult,crypto_scalarmult_base:crypto_scalarmult_base,crypto_box_beforenm:crypto_box_beforenm,crypto_box_afternm:crypto_box_afternm,crypto_box:crypto_box,crypto_box_open:crypto_box_open,crypto_box_keypair:crypto_box_keypair,crypto_hash:crypto_hash,crypto_sign:crypto_sign,crypto_sign_keypair:crypto_sign_keypair,crypto_sign_open:crypto_sign_open,crypto_secretbox_KEYBYTES:crypto_secretbox_KEYBYTES,crypto_secretbox_NONCEBYTES:crypto_secretbox_NONCEBYTES,crypto_secretbox_ZEROBYTES:crypto_secretbox_ZEROBYTES,crypto_secretbox_BOXZEROBYTES:crypto_secretbox_BOXZEROBYTES,crypto_scalarmult_BYTES:crypto_scalarmult_BYTES,crypto_scalarmult_SCALARBYTES:crypto_scalarmult_SCALARBYTES,crypto_box_PUBLICKEYBYTES:crypto_box_PUBLICKEYBYTES,crypto_box_SECRETKEYBYTES:crypto_box_SECRETKEYBYTES,crypto_box_BEFORENMBYTES:crypto_box_BEFORENMBYTES,crypto_box_NONCEBYTES:crypto_box_NONCEBYTES,crypto_box_ZEROBYTES:crypto_box_ZEROBYTES,crypto_box_BOXZEROBYTES:crypto_box_BOXZEROBYTES,crypto_sign_BYTES:crypto_sign_BYTES,crypto_sign_PUBLICKEYBYTES:crypto_sign_PUBLICKEYBYTES,crypto_sign_SECRETKEYBYTES:crypto_sign_SECRETKEYBYTES,crypto_sign_SEEDBYTES:crypto_sign_SEEDBYTES,crypto_hash_BYTES:crypto_hash_BYTES,gf:gf,D:D,L:L,pack25519:pack25519,unpack25519:unpack25519,M:M,A:A,S:S,Z:Z,pow2523:pow2523,add:add,set25519:set25519,modL:modL,scalarmult:scalarmult,scalarbase:scalarbase};function checkLengths(k,n){if(k.length!==crypto_secretbox_KEYBYTES)throw new Error("bad key size");if(n.length!==crypto_secretbox_NONCEBYTES)throw new Error("bad nonce size")}function checkBoxLengths(pk,sk){if(pk.length!==crypto_box_PUBLICKEYBYTES)throw new Error("bad public key size");if(sk.length!==crypto_box_SECRETKEYBYTES)throw new Error("bad secret key size")}function checkArrayTypes(){for(var i=0;i<arguments.length;i++){if(!(arguments[i]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}}function cleanup(arr){for(var i=0;i<arr.length;i++){arr[i]=0}}nacl.randomBytes=function(n){var b=new Uint8Array(n);randombytes(b,n);return b};nacl.secretbox=function(msg,nonce,key){checkArrayTypes(msg,nonce,key);checkLengths(key,nonce);var m=new Uint8Array(crypto_secretbox_ZEROBYTES+msg.length);var c=new Uint8Array(m.length);for(var i=0;i<msg.length;i++){m[i+crypto_secretbox_ZEROBYTES]=msg[i]}crypto_secretbox(c,m,m.length,nonce,key);return c.subarray(crypto_secretbox_BOXZEROBYTES)};nacl.secretbox.open=function(box,nonce,key){checkArrayTypes(box,nonce,key);checkLengths(key,nonce);var c=new Uint8Array(crypto_secretbox_BOXZEROBYTES+box.length);var m=new Uint8Array(c.length);for(var i=0;i<box.length;i++){c[i+crypto_secretbox_BOXZEROBYTES]=box[i]}if(c.length<32)return null;if(crypto_secretbox_open(m,c,c.length,nonce,key)!==0)return null;return m.subarray(crypto_secretbox_ZEROBYTES)};nacl.secretbox.keyLength=crypto_secretbox_KEYBYTES;nacl.secretbox.nonceLength=crypto_secretbox_NONCEBYTES;nacl.secretbox.overheadLength=crypto_secretbox_BOXZEROBYTES;nacl.scalarMult=function(n,p){checkArrayTypes(n,p);if(n.length!==crypto_scalarmult_SCALARBYTES)throw new Error("bad n size");if(p.length!==crypto_scalarmult_BYTES)throw new Error("bad p size");var q=new Uint8Array(crypto_scalarmult_BYTES);crypto_scalarmult(q,n,p);return q};nacl.scalarMult.base=function(n){checkArrayTypes(n);if(n.length!==crypto_scalarmult_SCALARBYTES)throw new Error("bad n size");var q=new Uint8Array(crypto_scalarmult_BYTES);crypto_scalarmult_base(q,n);return q};nacl.scalarMult.scalarLength=crypto_scalarmult_SCALARBYTES;nacl.scalarMult.groupElementLength=crypto_scalarmult_BYTES;nacl.box=function(msg,nonce,publicKey,secretKey){var k=nacl.box.before(publicKey,secretKey);return nacl.secretbox(msg,nonce,k)};nacl.box.before=function(publicKey,secretKey){checkArrayTypes(publicKey,secretKey);checkBoxLengths(publicKey,secretKey);var k=new Uint8Array(crypto_box_BEFORENMBYTES);crypto_box_beforenm(k,publicKey,secretKey);return k};nacl.box.after=nacl.secretbox;nacl.box.open=function(msg,nonce,publicKey,secretKey){var k=nacl.box.before(publicKey,secretKey);return nacl.secretbox.open(msg,nonce,k)};nacl.box.open.after=nacl.secretbox.open;nacl.box.keyPair=function(){var pk=new Uint8Array(crypto_box_PUBLICKEYBYTES);var sk=new Uint8Array(crypto_box_SECRETKEYBYTES);crypto_box_keypair(pk,sk);return{publicKey:pk,secretKey:sk}};nacl.box.keyPair.fromSecretKey=function(secretKey){checkArrayTypes(secretKey);if(secretKey.length!==crypto_box_SECRETKEYBYTES)throw new Error("bad secret key size");var pk=new Uint8Array(crypto_box_PUBLICKEYBYTES);crypto_scalarmult_base(pk,secretKey);return{publicKey:pk,secretKey:new Uint8Array(secretKey)}};nacl.box.publicKeyLength=crypto_box_PUBLICKEYBYTES;nacl.box.secretKeyLength=crypto_box_SECRETKEYBYTES;nacl.box.sharedKeyLength=crypto_box_BEFORENMBYTES;nacl.box.nonceLength=crypto_box_NONCEBYTES;nacl.box.overheadLength=nacl.secretbox.overheadLength;nacl.sign=function(msg,secretKey){checkArrayTypes(msg,secretKey);if(secretKey.length!==crypto_sign_SECRETKEYBYTES)throw new Error("bad secret key size");var signedMsg=new Uint8Array(crypto_sign_BYTES+msg.length);crypto_sign(signedMsg,msg,msg.length,secretKey);return signedMsg};nacl.sign.open=function(signedMsg,publicKey){checkArrayTypes(signedMsg,publicKey);if(publicKey.length!==crypto_sign_PUBLICKEYBYTES)throw new Error("bad public key size");var tmp=new Uint8Array(signedMsg.length);var mlen=crypto_sign_open(tmp,signedMsg,signedMsg.length,publicKey);if(mlen<0)return null;var m=new Uint8Array(mlen);for(var i=0;i<m.length;i++){m[i]=tmp[i]}return m};nacl.sign.detached=function(msg,secretKey){var signedMsg=nacl.sign(msg,secretKey);var sig=new Uint8Array(crypto_sign_BYTES);for(var i=0;i<sig.length;i++){sig[i]=signedMsg[i]}return sig};nacl.sign.detached.verify=function(msg,sig,publicKey){checkArrayTypes(msg,sig,publicKey);if(sig.length!==crypto_sign_BYTES)throw new Error("bad signature size");if(publicKey.length!==crypto_sign_PUBLICKEYBYTES)throw new Error("bad public key size");var sm=new Uint8Array(crypto_sign_BYTES+msg.length);var m=new Uint8Array(crypto_sign_BYTES+msg.length);var i;for(i=0;i<crypto_sign_BYTES;i++){sm[i]=sig[i]}for(i=0;i<msg.length;i++){sm[i+crypto_sign_BYTES]=msg[i]}return crypto_sign_open(m,sm,sm.length,publicKey)>=0};nacl.sign.keyPair=function(){var pk=new Uint8Array(crypto_sign_PUBLICKEYBYTES);var sk=new Uint8Array(crypto_sign_SECRETKEYBYTES);crypto_sign_keypair(pk,sk);return{publicKey:pk,secretKey:sk}};nacl.sign.keyPair.fromSecretKey=function(secretKey){checkArrayTypes(secretKey);if(secretKey.length!==crypto_sign_SECRETKEYBYTES)throw new Error("bad secret key size");var pk=new Uint8Array(crypto_sign_PUBLICKEYBYTES);for(var i=0;i<pk.length;i++){pk[i]=secretKey[32+i]}return{publicKey:pk,secretKey:new Uint8Array(secretKey)}};nacl.sign.keyPair.fromSeed=function(seed){checkArrayTypes(seed);if(seed.length!==crypto_sign_SEEDBYTES)throw new Error("bad seed size");var pk=new Uint8Array(crypto_sign_PUBLICKEYBYTES);var sk=new Uint8Array(crypto_sign_SECRETKEYBYTES);for(var i=0;i<32;i++){sk[i]=seed[i]}crypto_sign_keypair(pk,sk,true);return{publicKey:pk,secretKey:sk}};nacl.sign.publicKeyLength=crypto_sign_PUBLICKEYBYTES;nacl.sign.secretKeyLength=crypto_sign_SECRETKEYBYTES;nacl.sign.seedLength=crypto_sign_SEEDBYTES;nacl.sign.signatureLength=crypto_sign_BYTES;nacl.hash=function(msg){checkArrayTypes(msg);var h=new Uint8Array(crypto_hash_BYTES);crypto_hash(h,msg,msg.length);return h};nacl.hash.hashLength=crypto_hash_BYTES;nacl.verify=function(x,y){checkArrayTypes(x,y);if(x.length===0||y.length===0)return false;if(x.length!==y.length)return false;return vn(x,0,y,0,x.length)===0?true:false};nacl.setPRNG=function(fn){randombytes=fn};(function(){var crypto=typeof self!=="undefined"?self.crypto||self.msCrypto:null;if(crypto&&crypto.getRandomValues){var QUOTA=65536;nacl.setPRNG(function(x,n){var i,v=new Uint8Array(n);for(i=0;i<n;i+=QUOTA){crypto.getRandomValues(v.subarray(i,i+Math.min(n-i,QUOTA)))}for(i=0;i<n;i++){x[i]=v[i]}cleanup(v)})}else if(typeof require!=="undefined"){crypto=require("crypto");if(crypto&&crypto.randomBytes){nacl.setPRNG(function(x,n){var i,v=crypto.randomBytes(n);for(i=0;i<n;i++){x[i]=v[i]}cleanup(v)})}}})()})(typeof module!=="undefined"&&module.exports?module.exports:self.nacl=self.nacl||{})},{crypto:167}],121:[function(require,module,exports){(function(global){(function(){"use strict";module.exports=deprecate;function deprecate(fn,msg){if(config("noDeprecation")){return fn}var warned=false;function deprecated(){if(!warned){if(config("throwDeprecation")){throw new Error(msg)}else if(config("traceDeprecation")){console.trace(msg)}else{console.warn(msg)}warned=true}return fn.apply(this,arguments)}return deprecated}function config(name){try{if(!global.localStorage)return false}catch(_){return false}var val=global.localStorage[name];if(null==val)return false;return String(val).toLowerCase()==="true"}}).call(this)}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],122:[function(require,module,exports){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function _defineProperty(e,r,t){return(r=_toPropertyKey(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}Object.defineProperty(exports,"__esModule",{value:true});exports.getHash=getHash;exports.createCurve=createCurve;var hmac_1=require("@noble/hashes/hmac");var utils_1=require("@noble/hashes/utils");var weierstrass_ts_1=require("./abstract/weierstrass.js");function getHash(hash){return{hash:hash,hmac:function hmac(key){for(var _len=arguments.length,msgs=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){msgs[_key-1]=arguments[_key]}return(0,hmac_1.hmac)(hash,key,(0,utils_1.concatBytes).apply(void 0,msgs))},randomBytes:utils_1.randomBytes}}function createCurve(curveDef,defHash){var create=function create(hash){return(0,weierstrass_ts_1.weierstrass)(_objectSpread(_objectSpread({},curveDef),getHash(hash)))};return _objectSpread(_objectSpread({},create(defHash)),{},{create:create})}},{"./abstract/weierstrass.js":127,"@noble/hashes/hmac":133,"@noble/hashes/utils":139}],123:[function(require,module,exports){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function _defineProperty(e,r,t){return(r=_toPropertyKey(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}Object.defineProperty(exports,"__esModule",{value:true});exports.wNAF=wNAF;exports.pippenger=pippenger;exports.precomputeMSMUnsafe=precomputeMSMUnsafe;exports.validateBasic=validateBasic;var modular_ts_1=require("./modular.js");var utils_ts_1=require("./utils.js");var _0n=BigInt(0);var _1n=BigInt(1);function constTimeNegate(condition,item){var neg=item.negate();return condition?neg:item}function validateW(W,bits){if(!Number.isSafeInteger(W)||W<=0||W>bits)throw new Error("invalid window size, expected [1.."+bits+"], got W="+W)}function calcWOpts(W,scalarBits){validateW(W,scalarBits);var windows=Math.ceil(scalarBits/W)+1;var windowSize=Math.pow(2,W-1);var maxNumber=Math.pow(2,W);var mask=(0,utils_ts_1.bitMask)(W);var shiftBy=BigInt(W);return{windows:windows,windowSize:windowSize,mask:mask,maxNumber:maxNumber,shiftBy:shiftBy}}function calcOffsets(n,window,wOpts){var windowSize=wOpts.windowSize,mask=wOpts.mask,maxNumber=wOpts.maxNumber,shiftBy=wOpts.shiftBy;var wbits=Number(n&mask);var nextN=n>>shiftBy;if(wbits>windowSize){wbits-=maxNumber;nextN+=_1n}var offsetStart=window*windowSize;var offset=offsetStart+Math.abs(wbits)-1;var isZero=wbits===0;var isNeg=wbits<0;var isNegF=window%2!==0;var offsetF=offsetStart;return{nextN:nextN,offset:offset,isZero:isZero,isNeg:isNeg,isNegF:isNegF,offsetF:offsetF}}function validateMSMPoints(points,c){if(!Array.isArray(points))throw new Error("array expected");points.forEach(function(p,i){if(!(p instanceof c))throw new Error("invalid point at index "+i)})}function validateMSMScalars(scalars,field){if(!Array.isArray(scalars))throw new Error("array of scalars expected");scalars.forEach(function(s,i){if(!field.isValid(s))throw new Error("invalid scalar at index "+i)})}var pointPrecomputes=new WeakMap;var pointWindowSizes=new WeakMap;function getW(P){return pointWindowSizes.get(P)||1}function wNAF(c,bits){return{constTimeNegate:constTimeNegate,hasPrecomputes:function hasPrecomputes(elm){return getW(elm)!==1},unsafeLadder:function unsafeLadder(elm,n){var p=arguments.length>2&&arguments[2]!==undefined?arguments[2]:c.ZERO;var d=elm;while(n>_0n){if(n&_1n)p=p.add(d);d=d["double"]();n>>=_1n}return p},precomputeWindow:function precomputeWindow(elm,W){var _calcWOpts=calcWOpts(W,bits),windows=_calcWOpts.windows,windowSize=_calcWOpts.windowSize;var points=[];var p=elm;var base=p;for(var window=0;window<windows;window++){base=p;points.push(base);for(var i=1;i<windowSize;i++){base=base.add(p);points.push(base)}p=base["double"]()}return points},wNAF:function wNAF(W,precomputes,n){var p=c.ZERO;var f=c.BASE;var wo=calcWOpts(W,bits);for(var window=0;window<wo.windows;window++){var _calcOffsets=calcOffsets(n,window,wo),nextN=_calcOffsets.nextN,offset=_calcOffsets.offset,isZero=_calcOffsets.isZero,isNeg=_calcOffsets.isNeg,isNegF=_calcOffsets.isNegF,offsetF=_calcOffsets.offsetF;n=nextN;if(isZero){f=f.add(constTimeNegate(isNegF,precomputes[offsetF]))}else{p=p.add(constTimeNegate(isNeg,precomputes[offset]))}}return{p:p,f:f}},wNAFUnsafe:function wNAFUnsafe(W,precomputes,n){var acc=arguments.length>3&&arguments[3]!==undefined?arguments[3]:c.ZERO;var wo=calcWOpts(W,bits);for(var window=0;window<wo.windows;window++){if(n===_0n)break;var _calcOffsets2=calcOffsets(n,window,wo),nextN=_calcOffsets2.nextN,offset=_calcOffsets2.offset,isZero=_calcOffsets2.isZero,isNeg=_calcOffsets2.isNeg;n=nextN;if(isZero){continue}else{var item=precomputes[offset];acc=acc.add(isNeg?item.negate():item)}}return acc},getPrecomputes:function getPrecomputes(W,P,transform){var comp=pointPrecomputes.get(P);if(!comp){comp=this.precomputeWindow(P,W);if(W!==1)pointPrecomputes.set(P,transform(comp))}return comp},wNAFCached:function wNAFCached(P,n,transform){var W=getW(P);return this.wNAF(W,this.getPrecomputes(W,P,transform),n)},wNAFCachedUnsafe:function wNAFCachedUnsafe(P,n,transform,prev){var W=getW(P);if(W===1)return this.unsafeLadder(P,n,prev);return this.wNAFUnsafe(W,this.getPrecomputes(W,P,transform),n,prev)},setWindowSize:function setWindowSize(P,W){validateW(W,bits);pointWindowSizes.set(P,W);pointPrecomputes["delete"](P)}}}function pippenger(c,fieldN,points,scalars){validateMSMPoints(points,c);validateMSMScalars(scalars,fieldN);if(points.length!==scalars.length)throw new Error("arrays of points and scalars must have equal length");var zero=c.ZERO;var wbits=(0,utils_ts_1.bitLen)(BigInt(points.length));var windowSize=wbits>12?wbits-3:wbits>4?wbits-2:wbits?2:1;var MASK=(0,utils_ts_1.bitMask)(windowSize);var buckets=new Array(Number(MASK)+1).fill(zero);var lastBits=Math.floor((fieldN.BITS-1)/windowSize)*windowSize;var sum=zero;for(var i=lastBits;i>=0;i-=windowSize){buckets.fill(zero);for(var j=0;j<scalars.length;j++){var scalar=scalars[j];var _wbits=Number(scalar>>BigInt(i)&MASK);buckets[_wbits]=buckets[_wbits].add(points[j])}var resI=zero;for(var _j=buckets.length-1,sumI=zero;_j>0;_j--){sumI=sumI.add(buckets[_j]);resI=resI.add(sumI)}sum=sum.add(resI);if(i!==0)for(var _j2=0;_j2<windowSize;_j2++){sum=sum["double"]()}}return sum}function precomputeMSMUnsafe(c,fieldN,points,windowSize){validateW(windowSize,fieldN.BITS);validateMSMPoints(points,c);var zero=c.ZERO;var tableSize=Math.pow(2,windowSize)-1;var chunks=Math.ceil(fieldN.BITS/windowSize);var MASK=(0,utils_ts_1.bitMask)(windowSize);var tables=points.map(function(p){var res=[];for(var i=0,acc=p;i<tableSize;i++){res.push(acc);acc=acc.add(p)}return res});return function(scalars){validateMSMScalars(scalars,fieldN);if(scalars.length>points.length)throw new Error("array of scalars must be smaller than array of points");var res=zero;for(var i=0;i<chunks;i++){if(res!==zero)for(var j=0;j<windowSize;j++){res=res["double"]()}var shiftBy=BigInt(chunks*windowSize-(i+1)*windowSize);for(var _j3=0;_j3<scalars.length;_j3++){var n=scalars[_j3];var curr=Number(n>>shiftBy&MASK);if(!curr)continue;res=res.add(tables[_j3][curr-1])}}return res}}function validateBasic(curve){(0,modular_ts_1.validateField)(curve.Fp);(0,utils_ts_1.validateObject)(curve,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"});return Object.freeze(_objectSpread(_objectSpread(_objectSpread({},(0,modular_ts_1.nLength)(curve.n,curve.nBitLength)),curve),{p:curve.Fp.ORDER}))}},{"./modular.js":125,"./utils.js":126}],124:[function(require,module,exports){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _createForOfIteratorHelper(r,e){var t="undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(!t){if(Array.isArray(r)||(t=_unsupportedIterableToArray(r))||e&&r&&"number"==typeof r.length){t&&(r=t);var _n=0,F=function F(){};return{s:F,n:function n(){return _n>=r.length?{done:!0}:{done:!1,value:r[_n++]}},e:function e(r){throw r},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function s(){t=t.call(r)},n:function n(){var r=t.next();return a=r.done,r},e:function e(r){u=!0,o=r},f:function f(){try{a||null==t["return"]||t["return"]()}finally{if(u)throw o}}}}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function _defineProperty(e,r,t){return(r=_toPropertyKey(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function _slicedToArray(r,e){return _arrayWithHoles(r)||_iterableToArrayLimit(r,e)||_unsupportedIterableToArray(r,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++){n[e]=r[e]}return n}function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0){}}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t["return"]&&(u=t["return"](),Object(u)!==u))return}finally{if(o)throw n}}return a}}function _arrayWithHoles(r){if(Array.isArray(r))return r}Object.defineProperty(exports,"__esModule",{value:true});exports.expand_message_xmd=expand_message_xmd;exports.expand_message_xof=expand_message_xof;exports.hash_to_field=hash_to_field;exports.isogenyMap=isogenyMap;exports.createHasher=createHasher;var modular_ts_1=require("./modular.js");var utils_ts_1=require("./utils.js");var os2ip=utils_ts_1.bytesToNumberBE;function i2osp(value,length){anum(value);anum(length);if(value<0||value>=1<<8*length)throw new Error("invalid I2OSP input: "+value);var res=Array.from({length:length}).fill(0);for(var i=length-1;i>=0;i--){res[i]=value&255;value>>>=8}return new Uint8Array(res)}function strxor(a,b){var arr=new Uint8Array(a.length);for(var i=0;i<a.length;i++){arr[i]=a[i]^b[i]}return arr}function anum(item){if(!Number.isSafeInteger(item))throw new Error("number expected")}function expand_message_xmd(msg,DST,lenInBytes,H){(0,utils_ts_1.abytes)(msg);(0,utils_ts_1.abytes)(DST);anum(lenInBytes);if(DST.length>255)DST=H((0,utils_ts_1.concatBytes)((0,utils_ts_1.utf8ToBytes)("H2C-OVERSIZE-DST-"),DST));var b_in_bytes=H.outputLen,r_in_bytes=H.blockLen;var ell=Math.ceil(lenInBytes/b_in_bytes);if(lenInBytes>65535||ell>255)throw new Error("expand_message_xmd: invalid lenInBytes");var DST_prime=(0,utils_ts_1.concatBytes)(DST,i2osp(DST.length,1));var Z_pad=i2osp(0,r_in_bytes);var l_i_b_str=i2osp(lenInBytes,2);var b=new Array(ell);var b_0=H((0,utils_ts_1.concatBytes)(Z_pad,msg,l_i_b_str,i2osp(0,1),DST_prime));b[0]=H((0,utils_ts_1.concatBytes)(b_0,i2osp(1,1),DST_prime));for(var i=1;i<=ell;i++){var args=[strxor(b_0,b[i-1]),i2osp(i+1,1),DST_prime];b[i]=H((0,utils_ts_1.concatBytes).apply(void 0,args))}var pseudo_random_bytes=(0,utils_ts_1.concatBytes).apply(void 0,b);return pseudo_random_bytes.slice(0,lenInBytes)}function expand_message_xof(msg,DST,lenInBytes,k,H){(0,utils_ts_1.abytes)(msg);(0,utils_ts_1.abytes)(DST);anum(lenInBytes);if(DST.length>255){var dkLen=Math.ceil(2*k/8);DST=H.create({dkLen:dkLen}).update((0,utils_ts_1.utf8ToBytes)("H2C-OVERSIZE-DST-")).update(DST).digest()}if(lenInBytes>65535||DST.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return H.create({dkLen:lenInBytes}).update(msg).update(i2osp(lenInBytes,2)).update(DST).update(i2osp(DST.length,1)).digest()}function hash_to_field(msg,count,options){(0,utils_ts_1.validateObject)(options,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});var p=options.p,k=options.k,m=options.m,hash=options.hash,expand=options.expand,_DST=options.DST;(0,utils_ts_1.abytes)(msg);anum(count);var DST=typeof _DST==="string"?(0,utils_ts_1.utf8ToBytes)(_DST):_DST;var log2p=p.toString(2).length;var L=Math.ceil((log2p+k)/8);var len_in_bytes=count*m*L;var prb;if(expand==="xmd"){prb=expand_message_xmd(msg,DST,len_in_bytes,hash)}else if(expand==="xof"){prb=expand_message_xof(msg,DST,len_in_bytes,k,hash)}else if(expand==="_internal_pass"){prb=msg}else{throw new Error('expand must be "xmd" or "xof"')}var u=new Array(count);for(var i=0;i<count;i++){var e=new Array(m);for(var j=0;j<m;j++){var elm_offset=L*(j+i*m);var tv=prb.subarray(elm_offset,elm_offset+L);e[j]=(0,modular_ts_1.mod)(os2ip(tv),p)}u[i]=e}return u}function isogenyMap(field,map){var COEFF=map.map(function(i){return Array.from(i).reverse()});return function(x,y){var _COEFF$map=COEFF.map(function(val){return val.reduce(function(acc,i){return field.add(field.mul(acc,x),i)})}),_COEFF$map2=_slicedToArray(_COEFF$map,4),xNum=_COEFF$map2[0],xDen=_COEFF$map2[1],yNum=_COEFF$map2[2],yDen=_COEFF$map2[3];if(field.is0(xDen)||field.is0(yDen))throw new Error("bad point: ZERO");x=field.div(xNum,xDen);y=field.mul(y,field.div(yNum,yDen));return{x:x,y:y}}}function createHasher(Point,_mapToCurve,def){if(typeof _mapToCurve!=="function")throw new Error("mapToCurve() must be defined");return{hashToCurve:function hashToCurve(msg,options){var u=hash_to_field(msg,2,_objectSpread(_objectSpread({},def),{},{DST:def.DST},options));var u0=Point.fromAffine(_mapToCurve(u[0]));var u1=Point.fromAffine(_mapToCurve(u[1]));var P=u0.add(u1).clearCofactor();P.assertValidity();return P},encodeToCurve:function encodeToCurve(msg,options){var u=hash_to_field(msg,1,_objectSpread(_objectSpread({},def),{},{DST:def.encodeDST},options));var P=Point.fromAffine(_mapToCurve(u[0])).clearCofactor();P.assertValidity();return P},mapToCurve:function mapToCurve(scalars){if(!Array.isArray(scalars))throw new Error("mapToCurve: expected array of bigints");var _iterator=_createForOfIteratorHelper(scalars),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var i=_step.value;if(typeof i!=="bigint")throw new Error("mapToCurve: expected array of bigints")}}catch(err){_iterator.e(err)}finally{_iterator.f()}var P=Point.fromAffine(_mapToCurve(scalars)).clearCofactor();P.assertValidity();return P}}}},{"./modular.js":125,"./utils.js":126}],125:[function(require,module,exports){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}Object.defineProperty(exports,"__esModule",{value:true});exports.isNegativeLE=void 0;exports.mod=mod;exports.pow=pow;exports.pow2=pow2;exports.invert=invert;exports.tonelliShanks=tonelliShanks;exports.FpSqrt=FpSqrt;exports.validateField=validateField;exports.FpPow=FpPow;exports.FpInvertBatch=FpInvertBatch;exports.FpDiv=FpDiv;exports.FpLegendre=FpLegendre;exports.FpIsSquare=FpIsSquare;exports.nLength=nLength;exports.Field=Field;exports.FpSqrtOdd=FpSqrtOdd;exports.FpSqrtEven=FpSqrtEven;exports.hashToPrivateScalar=hashToPrivateScalar;exports.getFieldBytesLength=getFieldBytesLength;exports.getMinHashLength=getMinHashLength;exports.mapHashToField=mapHashToField;var utils_ts_1=require("./utils.js");var _0n=BigInt(0),_1n=BigInt(1),_2n=BigInt(2),_3n=BigInt(3);var _4n=BigInt(4),_5n=BigInt(5),_8n=BigInt(8);var _9n=BigInt(9),_16n=BigInt(16);function mod(a,b){var result=a%b;return result>=_0n?result:b+result}function pow(num,power,modulo){if(power<_0n)throw new Error("invalid exponent, negatives unsupported");if(modulo<=_0n)throw new Error("invalid modulus");if(modulo===_1n)return _0n;var res=_1n;while(power>_0n){if(power&_1n)res=res*num%modulo;num=num*num%modulo;power>>=_1n}return res}function pow2(x,power,modulo){var res=x;while(power-- >_0n){res*=res;res%=modulo}return res}function invert(number,modulo){if(number===_0n)throw new Error("invert: expected non-zero number");if(modulo<=_0n)throw new Error("invert: expected positive modulus, got "+modulo);var a=mod(number,modulo);var b=modulo;var x=_0n,y=_1n,u=_1n,v=_0n;while(a!==_0n){var q=b/a;var r=b%a;var m=x-u*q;var n=y-v*q;b=a,a=r,x=u,y=v,u=m,v=n}var gcd=b;if(gcd!==_1n)throw new Error("invert: does not exist");return mod(x,modulo)}function tonelliShanks(P){var legendreC=(P-_1n)/_2n;var Q,S,Z;for(Q=P-_1n,S=0;Q%_2n===_0n;Q/=_2n,S++){}for(Z=_2n;Z<P&&pow(Z,legendreC,P)!==P-_1n;Z++){if(Z>1e3)throw new Error("Cannot find square root: likely non-prime P")}if(S===1){var p1div4=(P+_1n)/_4n;return function tonelliFast(Fp,n){var root=Fp.pow(n,p1div4);if(!Fp.eql(Fp.sqr(root),n))throw new Error("Cannot find square root");return root}}var Q1div2=(Q+_1n)/_2n;return function tonelliSlow(Fp,n){if(Fp.pow(n,legendreC)===Fp.neg(Fp.ONE))throw new Error("Cannot find square root");var r=S;var g=Fp.pow(Fp.mul(Fp.ONE,Z),Q);var x=Fp.pow(n,Q1div2);var b=Fp.pow(n,Q);while(!Fp.eql(b,Fp.ONE)){if(Fp.eql(b,Fp.ZERO))return Fp.ZERO;var m=1;for(var t2=Fp.sqr(b);m<r;m++){if(Fp.eql(t2,Fp.ONE))break;t2=Fp.sqr(t2)}var ge=Fp.pow(g,_1n<<BigInt(r-m-1));g=Fp.sqr(ge);x=Fp.mul(x,ge);b=Fp.mul(b,g);r=m}return x}}function FpSqrt(P){if(P%_4n===_3n){var p1div4=(P+_1n)/_4n;return function sqrt3mod4(Fp,n){var root=Fp.pow(n,p1div4);if(!Fp.eql(Fp.sqr(root),n))throw new Error("Cannot find square root");return root}}if(P%_8n===_5n){var c1=(P-_5n)/_8n;return function sqrt5mod8(Fp,n){var n2=Fp.mul(n,_2n);var v=Fp.pow(n2,c1);var nv=Fp.mul(n,v);var i=Fp.mul(Fp.mul(nv,_2n),v);var root=Fp.mul(nv,Fp.sub(i,Fp.ONE));if(!Fp.eql(Fp.sqr(root),n))throw new Error("Cannot find square root");return root}}if(P%_16n===_9n){}return tonelliShanks(P)}var isNegativeLE=function isNegativeLE(num,modulo){return(mod(num,modulo)&_1n)===_1n};exports.isNegativeLE=isNegativeLE;var FIELD_FIELDS=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function validateField(field){var initial={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"};var opts=FIELD_FIELDS.reduce(function(map,val){map[val]="function";return map},initial);return(0,utils_ts_1.validateObject)(field,opts)}function FpPow(f,num,power){if(power<_0n)throw new Error("invalid exponent, negatives unsupported");if(power===_0n)return f.ONE;if(power===_1n)return num;var p=f.ONE;var d=num;while(power>_0n){if(power&_1n)p=f.mul(p,d);d=f.sqr(d);power>>=_1n}return p}function FpInvertBatch(f,nums){var tmp=new Array(nums.length);var lastMultiplied=nums.reduce(function(acc,num,i){if(f.is0(num))return acc;tmp[i]=acc;return f.mul(acc,num)},f.ONE);var inverted=f.inv(lastMultiplied);nums.reduceRight(function(acc,num,i){if(f.is0(num))return acc;tmp[i]=f.mul(acc,tmp[i]);return f.mul(acc,num)},inverted);return tmp}function FpDiv(f,lhs,rhs){return f.mul(lhs,typeof rhs==="bigint"?invert(rhs,f.ORDER):f.inv(rhs))}function FpLegendre(order){var legendreConst=(order-_1n)/_2n;return function(f,x){return f.pow(x,legendreConst)}}function FpIsSquare(f){var legendre=FpLegendre(f.ORDER);return function(x){var p=legendre(f,x);return f.eql(p,f.ZERO)||f.eql(p,f.ONE)}}function nLength(n,nBitLength){var _nBitLength=nBitLength!==undefined?nBitLength:n.toString(2).length;var nByteLength=Math.ceil(_nBitLength/8);return{nBitLength:_nBitLength,nByteLength:nByteLength}}function Field(ORDER,bitLen){var isLE=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var redef=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{};if(ORDER<=_0n)throw new Error("invalid field: expected ORDER > 0, got "+ORDER);var _nLength=nLength(ORDER,bitLen),BITS=_nLength.nBitLength,BYTES=_nLength.nByteLength;if(BYTES>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");var sqrtP;var f=Object.freeze({ORDER:ORDER,isLE:isLE,BITS:BITS,BYTES:BYTES,MASK:(0,utils_ts_1.bitMask)(BITS),ZERO:_0n,ONE:_1n,create:function create(num){return mod(num,ORDER)},isValid:function isValid(num){if(typeof num!=="bigint")throw new Error("invalid field element: expected bigint, got "+_typeof(num));return _0n<=num&&num<ORDER},is0:function is0(num){return num===_0n},isOdd:function isOdd(num){return(num&_1n)===_1n},neg:function neg(num){return mod(-num,ORDER)},eql:function eql(lhs,rhs){return lhs===rhs},sqr:function sqr(num){return mod(num*num,ORDER)},add:function add(lhs,rhs){return mod(lhs+rhs,ORDER)},sub:function sub(lhs,rhs){return mod(lhs-rhs,ORDER)},mul:function mul(lhs,rhs){return mod(lhs*rhs,ORDER)},pow:function pow(num,power){return FpPow(f,num,power)},div:function div(lhs,rhs){return mod(lhs*invert(rhs,ORDER),ORDER)},sqrN:function sqrN(num){return num*num},addN:function addN(lhs,rhs){return lhs+rhs},subN:function subN(lhs,rhs){return lhs-rhs},mulN:function mulN(lhs,rhs){return lhs*rhs},inv:function inv(num){return invert(num,ORDER)},sqrt:redef.sqrt||function(n){if(!sqrtP)sqrtP=FpSqrt(ORDER);return sqrtP(f,n)},invertBatch:function invertBatch(lst){return FpInvertBatch(f,lst)},cmov:function cmov(a,b,c){return c?b:a},toBytes:function toBytes(num){return isLE?(0,utils_ts_1.numberToBytesLE)(num,BYTES):(0,utils_ts_1.numberToBytesBE)(num,BYTES)},fromBytes:function fromBytes(bytes){if(bytes.length!==BYTES)throw new Error("Field.fromBytes: expected "+BYTES+" bytes, got "+bytes.length);return isLE?(0,utils_ts_1.bytesToNumberLE)(bytes):(0,utils_ts_1.bytesToNumberBE)(bytes)}});return Object.freeze(f)}function FpSqrtOdd(Fp,elm){if(!Fp.isOdd)throw new Error("Field doesn't have isOdd");var root=Fp.sqrt(elm);return Fp.isOdd(root)?root:Fp.neg(root)}function FpSqrtEven(Fp,elm){if(!Fp.isOdd)throw new Error("Field doesn't have isOdd");var root=Fp.sqrt(elm);return Fp.isOdd(root)?Fp.neg(root):root}function hashToPrivateScalar(hash,groupOrder){var isLE=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;hash=(0,utils_ts_1.ensureBytes)("privateHash",hash);var hashLen=hash.length;var minLen=nLength(groupOrder).nByteLength+8;if(minLen<24||hashLen<minLen||hashLen>1024)throw new Error("hashToPrivateScalar: expected "+minLen+"-1024 bytes of input, got "+hashLen);var num=isLE?(0,utils_ts_1.bytesToNumberLE)(hash):(0,utils_ts_1.bytesToNumberBE)(hash);return mod(num,groupOrder-_1n)+_1n}function getFieldBytesLength(fieldOrder){if(typeof fieldOrder!=="bigint")throw new Error("field order must be bigint");var bitLength=fieldOrder.toString(2).length;return Math.ceil(bitLength/8)}function getMinHashLength(fieldOrder){var length=getFieldBytesLength(fieldOrder);return length+Math.ceil(length/2)}function mapHashToField(key,fieldOrder){var isLE=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var len=key.length;var fieldLen=getFieldBytesLength(fieldOrder);var minLen=getMinHashLength(fieldOrder);if(len<16||len<minLen||len>1024)throw new Error("expected "+minLen+"-1024 bytes of input, got "+len);var num=isLE?(0,utils_ts_1.bytesToNumberLE)(key):(0,utils_ts_1.bytesToNumberBE)(key);var reduced=mod(num,fieldOrder-_1n)+_1n;return isLE?(0,utils_ts_1.numberToBytesLE)(reduced,fieldLen):(0,utils_ts_1.numberToBytesBE)(reduced,fieldLen)}},{"./utils.js":126}],126:[function(require,module,exports){"use strict";function _slicedToArray(r,e){return _arrayWithHoles(r)||_iterableToArrayLimit(r,e)||_unsupportedIterableToArray(r,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++){n[e]=r[e]}return n}function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0){}}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t["return"]&&(u=t["return"](),Object(u)!==u))return}finally{if(o)throw n}}return a}}function _arrayWithHoles(r){if(Array.isArray(r))return r}function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}Object.defineProperty(exports,"__esModule",{value:true});exports.notImplemented=exports.bitMask=void 0;exports.isBytes=isBytes;exports.abytes=abytes;exports.abool=abool;exports.numberToHexUnpadded=numberToHexUnpadded;exports.hexToNumber=hexToNumber;exports.bytesToHex=bytesToHex;exports.hexToBytes=hexToBytes;exports.bytesToNumberBE=bytesToNumberBE;exports.bytesToNumberLE=bytesToNumberLE;exports.numberToBytesBE=numberToBytesBE;exports.numberToBytesLE=numberToBytesLE;exports.numberToVarBytesBE=numberToVarBytesBE;exports.ensureBytes=ensureBytes;exports.concatBytes=concatBytes;exports.equalBytes=equalBytes;exports.utf8ToBytes=utf8ToBytes;exports.inRange=inRange;exports.aInRange=aInRange;exports.bitLen=bitLen;exports.bitGet=bitGet;exports.bitSet=bitSet;exports.createHmacDrbg=createHmacDrbg;exports.validateObject=validateObject;exports.memoized=memoized;var _0n=BigInt(0);var _1n=BigInt(1);function isBytes(a){return a instanceof Uint8Array||ArrayBuffer.isView(a)&&a.constructor.name==="Uint8Array"}function abytes(item){if(!isBytes(item))throw new Error("Uint8Array expected")}function abool(title,value){if(typeof value!=="boolean")throw new Error(title+" boolean expected, got "+value)}function numberToHexUnpadded(num){var hex=num.toString(16);return hex.length&1?"0"+hex:hex}function hexToNumber(hex){if(typeof hex!=="string")throw new Error("hex string expected, got "+_typeof(hex));return hex===""?_0n:BigInt("0x"+hex)}var hasHexBuiltin=typeof Uint8Array.from([]).toHex==="function"&&typeof Uint8Array.fromHex==="function";var hexes=Array.from({length:256},function(_,i){return i.toString(16).padStart(2,"0")});function bytesToHex(bytes){abytes(bytes);if(hasHexBuiltin)return bytes.toHex();var hex="";for(var i=0;i<bytes.length;i++){hex+=hexes[bytes[i]]}return hex}var asciis={_0:48,_9:57,A:65,F:70,a:97,f:102};function asciiToBase16(ch){if(ch>=asciis._0&&ch<=asciis._9)return ch-asciis._0;if(ch>=asciis.A&&ch<=asciis.F)return ch-(asciis.A-10);if(ch>=asciis.a&&ch<=asciis.f)return ch-(asciis.a-10);return}function hexToBytes(hex){if(typeof hex!=="string")throw new Error("hex string expected, got "+_typeof(hex));if(hasHexBuiltin)return Uint8Array.fromHex(hex);var hl=hex.length;var al=hl/2;if(hl%2)throw new Error("hex string expected, got unpadded hex of length "+hl);var array=new Uint8Array(al);for(var ai=0,hi=0;ai<al;ai++,hi+=2){var n1=asciiToBase16(hex.charCodeAt(hi));var n2=asciiToBase16(hex.charCodeAt(hi+1));if(n1===undefined||n2===undefined){var _char=hex[hi]+hex[hi+1];throw new Error('hex string expected, got non-hex character "'+_char+'" at index '+hi)}array[ai]=n1*16+n2}return array}function bytesToNumberBE(bytes){return hexToNumber(bytesToHex(bytes))}function bytesToNumberLE(bytes){abytes(bytes);return hexToNumber(bytesToHex(Uint8Array.from(bytes).reverse()))}function numberToBytesBE(n,len){return hexToBytes(n.toString(16).padStart(len*2,"0"))}function numberToBytesLE(n,len){return numberToBytesBE(n,len).reverse()}function numberToVarBytesBE(n){return hexToBytes(numberToHexUnpadded(n))}function ensureBytes(title,hex,expectedLength){var res;if(typeof hex==="string"){try{res=hexToBytes(hex)}catch(e){throw new Error(title+" must be hex string or Uint8Array, cause: "+e)}}else if(isBytes(hex)){res=Uint8Array.from(hex)}else{throw new Error(title+" must be hex string or Uint8Array")}var len=res.length;if(typeof expectedLength==="number"&&len!==expectedLength)throw new Error(title+" of length "+expectedLength+" expected, got "+len);return res}function concatBytes(){var sum=0;for(var i=0;i<arguments.length;i++){var a=i<0||arguments.length<=i?undefined:arguments[i];abytes(a);sum+=a.length}var res=new Uint8Array(sum);for(var _i=0,pad=0;_i<arguments.length;_i++){var _a=_i<0||arguments.length<=_i?undefined:arguments[_i];res.set(_a,pad);pad+=_a.length}return res}function equalBytes(a,b){if(a.length!==b.length)return false;var diff=0;for(var i=0;i<a.length;i++){diff|=a[i]^b[i]}return diff===0}function utf8ToBytes(str){if(typeof str!=="string")throw new Error("string expected");return new Uint8Array((new TextEncoder).encode(str))}var isPosBig=function isPosBig(n){return typeof n==="bigint"&&_0n<=n};function inRange(n,min,max){return isPosBig(n)&&isPosBig(min)&&isPosBig(max)&&min<=n&&n<max}function aInRange(title,n,min,max){if(!inRange(n,min,max))throw new Error("expected valid "+title+": "+min+" <= n < "+max+", got "+n)}function bitLen(n){var len;for(len=0;n>_0n;n>>=_1n,len+=1){}return len}function bitGet(n,pos){return n>>BigInt(pos)&_1n}function bitSet(n,pos,value){return n|(value?_1n:_0n)<<BigInt(pos)}var bitMask=function bitMask(n){return(_1n<<BigInt(n))-_1n};exports.bitMask=bitMask;var u8n=function u8n(len){return new Uint8Array(len)};var u8fr=function u8fr(arr){return Uint8Array.from(arr)};function createHmacDrbg(hashLen,qByteLen,hmacFn){if(typeof hashLen!=="number"||hashLen<2)throw new Error("hashLen must be a number");if(typeof qByteLen!=="number"||qByteLen<2)throw new Error("qByteLen must be a number");if(typeof hmacFn!=="function")throw new Error("hmacFn must be a function");var v=u8n(hashLen);var k=u8n(hashLen);var i=0;var reset=function reset(){v.fill(1);k.fill(0);i=0};var h=function h(){for(var _len=arguments.length,b=new Array(_len),_key=0;_key<_len;_key++){b[_key]=arguments[_key]}return hmacFn.apply(void 0,[k,v].concat(b))};var reseed=function reseed(){var seed=arguments.length>0&&arguments[0]!==undefined?arguments[0]:u8n(0);k=h(u8fr([0]),seed);v=h();if(seed.length===0)return;k=h(u8fr([1]),seed);v=h()};var gen=function gen(){if(i++>=1e3)throw new Error("drbg: tried 1000 values");var len=0;var out=[];while(len<qByteLen){v=h();var sl=v.slice();out.push(sl);len+=v.length}return concatBytes.apply(void 0,out)};var genUntil=function genUntil(seed,pred){reset();reseed(seed);var res=undefined;while(!(res=pred(gen()))){reseed()}reset();return res};return genUntil}var validatorFns={bigint:function bigint(val){return typeof val==="bigint"},function:function _function(val){return typeof val==="function"},boolean:function boolean(val){return typeof val==="boolean"},string:function string(val){return typeof val==="string"},stringOrUint8Array:function stringOrUint8Array(val){return typeof val==="string"||isBytes(val)},isSafeInteger:function isSafeInteger(val){return Number.isSafeInteger(val)},array:function array(val){return Array.isArray(val)},field:function field(val,object){return object.Fp.isValid(val)},hash:function hash(val){return typeof val==="function"&&Number.isSafeInteger(val.outputLen)}};function validateObject(object,validators){var optValidators=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var checkField=function checkField(fieldName,type,isOptional){var checkVal=validatorFns[type];if(typeof checkVal!=="function")throw new Error("invalid validator function");var val=object[fieldName];if(isOptional&&val===undefined)return;if(!checkVal(val,object)){throw new Error("param "+String(fieldName)+" is invalid. Expected "+type+", got "+val)}};for(var _i2=0,_Object$entries=Object.entries(validators);_i2<_Object$entries.length;_i2++){var _Object$entries$_i=_slicedToArray(_Object$entries[_i2],2),fieldName=_Object$entries$_i[0],type=_Object$entries$_i[1];checkField(fieldName,type,false)}for(var _i3=0,_Object$entries2=Object.entries(optValidators);_i3<_Object$entries2.length;_i3++){var _Object$entries2$_i=_slicedToArray(_Object$entries2[_i3],2),_fieldName=_Object$entries2$_i[0],_type=_Object$entries2$_i[1];checkField(_fieldName,_type,true)}return object}var notImplemented=function notImplemented(){throw new Error("not implemented")};exports.notImplemented=notImplemented;function memoized(fn){var map=new WeakMap;return function(arg){var val=map.get(arg);if(val!==undefined)return val;for(var _len2=arguments.length,args=new Array(_len2>1?_len2-1:0),_key2=1;_key2<_len2;_key2++){args[_key2-1]=arguments[_key2]}var computed=fn.apply(void 0,[arg].concat(args));map.set(arg,computed);return computed}}},{}],127:[function(require,module,exports){"use strict";function _createForOfIteratorHelper(r,e){var t="undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(!t){if(Array.isArray(r)||(t=_unsupportedIterableToArray(r))||e&&r&&"number"==typeof r.length){t&&(r=t);var _n=0,F=function F(){};return{s:F,n:function n(){return _n>=r.length?{done:!0}:{done:!1,value:r[_n++]}},e:function e(r){throw r},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function s(){t=t.call(r)},n:function n(){var r=t.next();return a=r.done,r},e:function e(r){u=!0,o=r},f:function f(){try{a||null==t["return"]||t["return"]()}finally{if(u)throw o}}}}function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++){n[e]=r[e]}return n}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),o)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _classCallCheck(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf(t,e)}function _createSuper(t){var r=_isNativeReflectConstruct();return function(){var e,o=_getPrototypeOf(t);if(r){var s=_getPrototypeOf(this).constructor;e=Reflect.construct(o,arguments,s)}else e=o.apply(this,arguments);return _possibleConstructorReturn(this,e)}}function _possibleConstructorReturn(t,e){if(e&&("object"==_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _wrapNativeSuper(t){var r="function"==typeof Map?new Map:void 0;return _wrapNativeSuper=function _wrapNativeSuper(t){if(null===t||!_isNativeFunction(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==r){if(r.has(t))return r.get(t);r.set(t,Wrapper)}function Wrapper(){return _construct(t,arguments,_getPrototypeOf(this).constructor)}return Wrapper.prototype=Object.create(t.prototype,{constructor:{value:Wrapper,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(Wrapper,t)},_wrapNativeSuper(t)}function _construct(t,e,r){if(_isNativeReflectConstruct())return Reflect.construct.apply(null,arguments);var o=[null];o.push.apply(o,e);var p=new(t.bind.apply(t,o));return r&&_setPrototypeOf(p,r.prototype),p}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(_isNativeReflectConstruct=function _isNativeReflectConstruct(){return!!t})()}function _isNativeFunction(t){try{return-1!==Function.toString.call(t).indexOf("[native code]")}catch(n){return"function"==typeof t}}function _setPrototypeOf(t,e){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_setPrototypeOf(t,e)}function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(t)}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function _defineProperty(e,r,t){return(r=_toPropertyKey(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}Object.defineProperty(exports,"__esModule",{value:true});exports.DER=exports.DERErr=void 0;exports.weierstrassPoints=weierstrassPoints;exports.weierstrass=weierstrass;exports.SWUFpSqrtRatio=SWUFpSqrtRatio;exports.mapToCurveSimpleSWU=mapToCurveSimpleSWU;var curve_ts_1=require("./curve.js");var modular_ts_1=require("./modular.js");var utils_ts_1=require("./utils.js");function validateSigVerOpts(opts){if(opts.lowS!==undefined)(0,utils_ts_1.abool)("lowS",opts.lowS);if(opts.prehash!==undefined)(0,utils_ts_1.abool)("prehash",opts.prehash)}function validatePointOpts(curve){var opts=(0,curve_ts_1.validateBasic)(curve);(0,utils_ts_1.validateObject)(opts,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});var endo=opts.endo,Fp=opts.Fp,a=opts.a;if(endo){if(!Fp.eql(a,Fp.ZERO)){throw new Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0")}if(_typeof(endo)!=="object"||typeof endo.beta!=="bigint"||typeof endo.splitScalar!=="function"){throw new Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}}return Object.freeze(_objectSpread({},opts))}var DERErr=function(_Error){_inherits(DERErr,_Error);var _super=_createSuper(DERErr);function DERErr(){var m=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";_classCallCheck(this,DERErr);return _super.call(this,m)}return _createClass(DERErr)}(_wrapNativeSuper(Error));exports.DERErr=DERErr;exports.DER={Err:DERErr,_tlv:{encode:function encode(tag,data){var E=exports.DER.Err;if(tag<0||tag>256)throw new E("tlv.encode: wrong tag");if(data.length&1)throw new E("tlv.encode: unpadded data");var dataLen=data.length/2;var len=(0,utils_ts_1.numberToHexUnpadded)(dataLen);if(len.length/2&128)throw new E("tlv.encode: long form length too big");var lenLen=dataLen>127?(0,utils_ts_1.numberToHexUnpadded)(len.length/2|128):"";var t=(0,utils_ts_1.numberToHexUnpadded)(tag);return t+lenLen+len+data},decode:function decode(tag,data){var E=exports.DER.Err;var pos=0;if(tag<0||tag>256)throw new E("tlv.encode: wrong tag");if(data.length<2||data[pos++]!==tag)throw new E("tlv.decode: wrong tlv");var first=data[pos++];var isLong=!!(first&128);var length=0;if(!isLong)length=first;else{var lenLen=first&127;if(!lenLen)throw new E("tlv.decode(long): indefinite length not supported");if(lenLen>4)throw new E("tlv.decode(long): byte length is too big");var lengthBytes=data.subarray(pos,pos+lenLen);if(lengthBytes.length!==lenLen)throw new E("tlv.decode: length bytes not complete");if(lengthBytes[0]===0)throw new E("tlv.decode(long): zero leftmost byte");var _iterator=_createForOfIteratorHelper(lengthBytes),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var b=_step.value;length=length<<8|b}}catch(err){_iterator.e(err)}finally{_iterator.f()}pos+=lenLen;if(length<128)throw new E("tlv.decode(long): not minimal encoding")}var v=data.subarray(pos,pos+length);if(v.length!==length)throw new E("tlv.decode: wrong value length");return{v:v,l:data.subarray(pos+length)}}},_int:{encode:function encode(num){var E=exports.DER.Err;if(num<_0n)throw new E("integer: negative integers are not allowed");var hex=(0,utils_ts_1.numberToHexUnpadded)(num);if(Number.parseInt(hex[0],16)&8)hex="00"+hex;if(hex.length&1)throw new E("unexpected DER parsing assertion: unpadded hex");return hex},decode:function decode(data){var E=exports.DER.Err;if(data[0]&128)throw new E("invalid signature integer: negative");if(data[0]===0&&!(data[1]&128))throw new E("invalid signature integer: unnecessary leading zero");return(0,utils_ts_1.bytesToNumberBE)(data)}},toSig:function toSig(hex){var _exports$DER=exports.DER,E=_exports$DER.Err,_int=_exports$DER._int,tlv=_exports$DER._tlv;var data=(0,utils_ts_1.ensureBytes)("signature",hex);var _tlv$decode=tlv.decode(48,data),seqBytes=_tlv$decode.v,seqLeftBytes=_tlv$decode.l;if(seqLeftBytes.length)throw new E("invalid signature: left bytes after parsing");var _tlv$decode2=tlv.decode(2,seqBytes),rBytes=_tlv$decode2.v,rLeftBytes=_tlv$decode2.l;var _tlv$decode3=tlv.decode(2,rLeftBytes),sBytes=_tlv$decode3.v,sLeftBytes=_tlv$decode3.l;if(sLeftBytes.length)throw new E("invalid signature: left bytes after parsing");return{r:_int.decode(rBytes),s:_int.decode(sBytes)}},hexFromSig:function hexFromSig(sig){var _exports$DER2=exports.DER,tlv=_exports$DER2._tlv,_int2=_exports$DER2._int;var rs=tlv.encode(2,_int2.encode(sig.r));var ss=tlv.encode(2,_int2.encode(sig.s));var seq=rs+ss;return tlv.encode(48,seq)}};var _0n=BigInt(0),_1n=BigInt(1),_2n=BigInt(2),_3n=BigInt(3),_4n=BigInt(4);function weierstrassPoints(opts){var CURVE=validatePointOpts(opts);var Fp=CURVE.Fp;var Fn=(0,modular_ts_1.Field)(CURVE.n,CURVE.nBitLength);var toBytes=CURVE.toBytes||function(_c,point,_isCompressed){var a=point.toAffine();return(0,utils_ts_1.concatBytes)(Uint8Array.from([4]),Fp.toBytes(a.x),Fp.toBytes(a.y))};var fromBytes=CURVE.fromBytes||function(bytes){var tail=bytes.subarray(1);var x=Fp.fromBytes(tail.subarray(0,Fp.BYTES));var y=Fp.fromBytes(tail.subarray(Fp.BYTES,2*Fp.BYTES));return{x:x,y:y}};function weierstrassEquation(x){var a=CURVE.a,b=CURVE.b;var x2=Fp.sqr(x);var x3=Fp.mul(x2,x);return Fp.add(Fp.add(x3,Fp.mul(x,a)),b)}if(!Fp.eql(Fp.sqr(CURVE.Gy),weierstrassEquation(CURVE.Gx)))throw new Error("bad generator point: equation left != right");function isWithinCurveOrder(num){return(0,utils_ts_1.inRange)(num,_1n,CURVE.n)}function normPrivateKeyToScalar(key){var lengths=CURVE.allowedPrivateKeyLengths,nByteLength=CURVE.nByteLength,wrapPrivateKey=CURVE.wrapPrivateKey,N=CURVE.n;if(lengths&&typeof key!=="bigint"){if((0,utils_ts_1.isBytes)(key))key=(0,utils_ts_1.bytesToHex)(key);if(typeof key!=="string"||!lengths.includes(key.length))throw new Error("invalid private key");key=key.padStart(nByteLength*2,"0")}var num;try{num=typeof key==="bigint"?key:(0,utils_ts_1.bytesToNumberBE)((0,utils_ts_1.ensureBytes)("private key",key,nByteLength))}catch(error){throw new Error("invalid private key, expected hex or "+nByteLength+" bytes, got "+_typeof(key))}if(wrapPrivateKey)num=(0,modular_ts_1.mod)(num,N);(0,utils_ts_1.aInRange)("private key",num,_1n,N);return num}function aprjpoint(other){if(!(other instanceof Point))throw new Error("ProjectivePoint expected")}var toAffineMemo=(0,utils_ts_1.memoized)(function(p,iz){var x=p.px,y=p.py,z=p.pz;if(Fp.eql(z,Fp.ONE))return{x:x,y:y};var is0=p.is0();if(iz==null)iz=is0?Fp.ONE:Fp.inv(z);var ax=Fp.mul(x,iz);var ay=Fp.mul(y,iz);var zz=Fp.mul(z,iz);if(is0)return{x:Fp.ZERO,y:Fp.ZERO};if(!Fp.eql(zz,Fp.ONE))throw new Error("invZ was invalid");return{x:ax,y:ay}});var assertValidMemo=(0,utils_ts_1.memoized)(function(p){if(p.is0()){if(CURVE.allowInfinityPoint&&!Fp.is0(p.py))return;throw new Error("bad point: ZERO")}var _p$toAffine=p.toAffine(),x=_p$toAffine.x,y=_p$toAffine.y;if(!Fp.isValid(x)||!Fp.isValid(y))throw new Error("bad point: x or y not FE");var left=Fp.sqr(y);var right=weierstrassEquation(x);if(!Fp.eql(left,right))throw new Error("bad point: equation left != right");if(!p.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return true});var Point=function(){function Point(px,py,pz){_classCallCheck(this,Point);if(px==null||!Fp.isValid(px))throw new Error("x required");if(py==null||!Fp.isValid(py))throw new Error("y required");if(pz==null||!Fp.isValid(pz))throw new Error("z required");this.px=px;this.py=py;this.pz=pz;Object.freeze(this)}_createClass(Point,[{key:"x",get:function get(){return this.toAffine().x}},{key:"y",get:function get(){return this.toAffine().y}},{key:"_setWindowSize",value:function _setWindowSize(windowSize){wnaf.setWindowSize(this,windowSize)}},{key:"assertValidity",value:function assertValidity(){assertValidMemo(this)}},{key:"hasEvenY",value:function hasEvenY(){var _this$toAffine=this.toAffine(),y=_this$toAffine.y;if(Fp.isOdd)return!Fp.isOdd(y);throw new Error("Field doesn't support isOdd")}},{key:"equals",value:function equals(other){aprjpoint(other);var X1=this.px,Y1=this.py,Z1=this.pz;var X2=other.px,Y2=other.py,Z2=other.pz;var U1=Fp.eql(Fp.mul(X1,Z2),Fp.mul(X2,Z1));var U2=Fp.eql(Fp.mul(Y1,Z2),Fp.mul(Y2,Z1));return U1&&U2}},{key:"negate",value:function negate(){return new Point(this.px,Fp.neg(this.py),this.pz)}},{key:"double",value:function double(){var a=CURVE.a,b=CURVE.b;var b3=Fp.mul(b,_3n);var X1=this.px,Y1=this.py,Z1=this.pz;var X3=Fp.ZERO,Y3=Fp.ZERO,Z3=Fp.ZERO;var t0=Fp.mul(X1,X1);var t1=Fp.mul(Y1,Y1);var t2=Fp.mul(Z1,Z1);var t3=Fp.mul(X1,Y1);t3=Fp.add(t3,t3);Z3=Fp.mul(X1,Z1);Z3=Fp.add(Z3,Z3);X3=Fp.mul(a,Z3);Y3=Fp.mul(b3,t2);Y3=Fp.add(X3,Y3);X3=Fp.sub(t1,Y3);Y3=Fp.add(t1,Y3);Y3=Fp.mul(X3,Y3);X3=Fp.mul(t3,X3);Z3=Fp.mul(b3,Z3);t2=Fp.mul(a,t2);t3=Fp.sub(t0,t2);t3=Fp.mul(a,t3);t3=Fp.add(t3,Z3);Z3=Fp.add(t0,t0);t0=Fp.add(Z3,t0);t0=Fp.add(t0,t2);t0=Fp.mul(t0,t3);Y3=Fp.add(Y3,t0);t2=Fp.mul(Y1,Z1);t2=Fp.add(t2,t2);t0=Fp.mul(t2,t3);X3=Fp.sub(X3,t0);Z3=Fp.mul(t2,t1);Z3=Fp.add(Z3,Z3);Z3=Fp.add(Z3,Z3);return new Point(X3,Y3,Z3)}},{key:"add",value:function add(other){aprjpoint(other);var X1=this.px,Y1=this.py,Z1=this.pz;var X2=other.px,Y2=other.py,Z2=other.pz;var X3=Fp.ZERO,Y3=Fp.ZERO,Z3=Fp.ZERO;var a=CURVE.a;var b3=Fp.mul(CURVE.b,_3n);var t0=Fp.mul(X1,X2);var t1=Fp.mul(Y1,Y2);var t2=Fp.mul(Z1,Z2);var t3=Fp.add(X1,Y1);var t4=Fp.add(X2,Y2);t3=Fp.mul(t3,t4);t4=Fp.add(t0,t1);t3=Fp.sub(t3,t4);t4=Fp.add(X1,Z1);var t5=Fp.add(X2,Z2);t4=Fp.mul(t4,t5);t5=Fp.add(t0,t2);t4=Fp.sub(t4,t5);t5=Fp.add(Y1,Z1);X3=Fp.add(Y2,Z2);t5=Fp.mul(t5,X3);X3=Fp.add(t1,t2);t5=Fp.sub(t5,X3);Z3=Fp.mul(a,t4);X3=Fp.mul(b3,t2);Z3=Fp.add(X3,Z3);X3=Fp.sub(t1,Z3);Z3=Fp.add(t1,Z3);Y3=Fp.mul(X3,Z3);t1=Fp.add(t0,t0);t1=Fp.add(t1,t0);t2=Fp.mul(a,t2);t4=Fp.mul(b3,t4);t1=Fp.add(t1,t2);t2=Fp.sub(t0,t2);t2=Fp.mul(a,t2);t4=Fp.add(t4,t2);t0=Fp.mul(t1,t4);Y3=Fp.add(Y3,t0);t0=Fp.mul(t5,t4);X3=Fp.mul(t3,X3);X3=Fp.sub(X3,t0);t0=Fp.mul(t3,t1);Z3=Fp.mul(t5,Z3);Z3=Fp.add(Z3,t0);return new Point(X3,Y3,Z3)}},{key:"subtract",value:function subtract(other){return this.add(other.negate())}},{key:"is0",value:function is0(){return this.equals(Point.ZERO)}},{key:"wNAF",value:function wNAF(n){return wnaf.wNAFCached(this,n,Point.normalizeZ)}},{key:"multiplyUnsafe",value:function multiplyUnsafe(sc){var endo=CURVE.endo,N=CURVE.n;(0,utils_ts_1.aInRange)("scalar",sc,_0n,N);var I=Point.ZERO;if(sc===_0n)return I;if(this.is0()||sc===_1n)return this;if(!endo||wnaf.hasPrecomputes(this))return wnaf.wNAFCachedUnsafe(this,sc,Point.normalizeZ);var _endo$splitScalar=endo.splitScalar(sc),k1neg=_endo$splitScalar.k1neg,k1=_endo$splitScalar.k1,k2neg=_endo$splitScalar.k2neg,k2=_endo$splitScalar.k2;var k1p=I;var k2p=I;var d=this;while(k1>_0n||k2>_0n){if(k1&_1n)k1p=k1p.add(d);if(k2&_1n)k2p=k2p.add(d);d=d["double"]();k1>>=_1n;k2>>=_1n}if(k1neg)k1p=k1p.negate();if(k2neg)k2p=k2p.negate();k2p=new Point(Fp.mul(k2p.px,endo.beta),k2p.py,k2p.pz);return k1p.add(k2p)}},{key:"multiply",value:function multiply(scalar){var endo=CURVE.endo,N=CURVE.n;(0,utils_ts_1.aInRange)("scalar",scalar,_1n,N);var point,fake;if(endo){var _endo$splitScalar2=endo.splitScalar(scalar),k1neg=_endo$splitScalar2.k1neg,k1=_endo$splitScalar2.k1,k2neg=_endo$splitScalar2.k2neg,k2=_endo$splitScalar2.k2;var _this$wNAF=this.wNAF(k1),k1p=_this$wNAF.p,f1p=_this$wNAF.f;var _this$wNAF2=this.wNAF(k2),k2p=_this$wNAF2.p,f2p=_this$wNAF2.f;k1p=wnaf.constTimeNegate(k1neg,k1p);k2p=wnaf.constTimeNegate(k2neg,k2p);k2p=new Point(Fp.mul(k2p.px,endo.beta),k2p.py,k2p.pz);point=k1p.add(k2p);fake=f1p.add(f2p)}else{var _this$wNAF3=this.wNAF(scalar),p=_this$wNAF3.p,f=_this$wNAF3.f;point=p;fake=f}return Point.normalizeZ([point,fake])[0]}},{key:"multiplyAndAddUnsafe",value:function multiplyAndAddUnsafe(Q,a,b){var G=Point.BASE;var mul=function mul(P,a){return a===_0n||a===_1n||!P.equals(G)?P.multiplyUnsafe(a):P.multiply(a)};var sum=mul(this,a).add(mul(Q,b));return sum.is0()?undefined:sum}},{key:"toAffine",value:function toAffine(iz){return toAffineMemo(this,iz)}},{key:"isTorsionFree",value:function isTorsionFree(){var cofactor=CURVE.h,isTorsionFree=CURVE.isTorsionFree;if(cofactor===_1n)return true;if(isTorsionFree)return isTorsionFree(Point,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}},{key:"clearCofactor",value:function clearCofactor(){var cofactor=CURVE.h,clearCofactor=CURVE.clearCofactor;if(cofactor===_1n)return this;if(clearCofactor)return clearCofactor(Point,this);return this.multiplyUnsafe(CURVE.h)}},{key:"toRawBytes",value:function toRawBytes(){var isCompressed=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;(0,utils_ts_1.abool)("isCompressed",isCompressed);this.assertValidity();return toBytes(Point,this,isCompressed)}},{key:"toHex",value:function toHex(){var isCompressed=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;(0,utils_ts_1.abool)("isCompressed",isCompressed);return(0,utils_ts_1.bytesToHex)(this.toRawBytes(isCompressed))}}],[{key:"fromAffine",value:function fromAffine(p){var _ref=p||{},x=_ref.x,y=_ref.y;if(!p||!Fp.isValid(x)||!Fp.isValid(y))throw new Error("invalid affine point");if(p instanceof Point)throw new Error("projective point not allowed");var is0=function is0(i){return Fp.eql(i,Fp.ZERO)};if(is0(x)&&is0(y))return Point.ZERO;return new Point(x,y,Fp.ONE)}},{key:"normalizeZ",value:function normalizeZ(points){var toInv=Fp.invertBatch(points.map(function(p){return p.pz}));return points.map(function(p,i){return p.toAffine(toInv[i])}).map(Point.fromAffine)}},{key:"fromHex",value:function fromHex(hex){var P=Point.fromAffine(fromBytes((0,utils_ts_1.ensureBytes)("pointHex",hex)));P.assertValidity();return P}},{key:"fromPrivateKey",value:function fromPrivateKey(privateKey){return Point.BASE.multiply(normPrivateKeyToScalar(privateKey))}},{key:"msm",value:function msm(points,scalars){return(0,curve_ts_1.pippenger)(Point,Fn,points,scalars)}}]);return Point}();Point.BASE=new Point(CURVE.Gx,CURVE.Gy,Fp.ONE);Point.ZERO=new Point(Fp.ZERO,Fp.ONE,Fp.ZERO);var _bits=CURVE.nBitLength;var wnaf=(0,curve_ts_1.wNAF)(Point,CURVE.endo?Math.ceil(_bits/2):_bits);return{CURVE:CURVE,ProjectivePoint:Point,normPrivateKeyToScalar:normPrivateKeyToScalar,weierstrassEquation:weierstrassEquation,isWithinCurveOrder:isWithinCurveOrder}}function validateOpts(curve){var opts=(0,curve_ts_1.validateBasic)(curve);(0,utils_ts_1.validateObject)(opts,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"});return Object.freeze(_objectSpread({lowS:true},opts))}function weierstrass(curveDef){var CURVE=validateOpts(curveDef);var Fp=CURVE.Fp,CURVE_ORDER=CURVE.n;var compressedLen=Fp.BYTES+1;var uncompressedLen=2*Fp.BYTES+1;function modN(a){return(0,modular_ts_1.mod)(a,CURVE_ORDER)}function invN(a){return(0,modular_ts_1.invert)(a,CURVE_ORDER)}var _weierstrassPoints=weierstrassPoints(_objectSpread(_objectSpread({},CURVE),{},{toBytes:function toBytes(_c,point,isCompressed){var a=point.toAffine();var x=Fp.toBytes(a.x);var cat=utils_ts_1.concatBytes;(0,utils_ts_1.abool)("isCompressed",isCompressed);if(isCompressed){return cat(Uint8Array.from([point.hasEvenY()?2:3]),x)}else{return cat(Uint8Array.from([4]),x,Fp.toBytes(a.y))}},fromBytes:function fromBytes(bytes){var len=bytes.length;var head=bytes[0];var tail=bytes.subarray(1);if(len===compressedLen&&(head===2||head===3)){var x=(0,utils_ts_1.bytesToNumberBE)(tail);if(!(0,utils_ts_1.inRange)(x,_1n,Fp.ORDER))throw new Error("Point is not on curve");var y2=weierstrassEquation(x);var y;try{y=Fp.sqrt(y2)}catch(sqrtError){var suffix=sqrtError instanceof Error?": "+sqrtError.message:"";throw new Error("Point is not on curve"+suffix)}var isYOdd=(y&_1n)===_1n;var isHeadOdd=(head&1)===1;if(isHeadOdd!==isYOdd)y=Fp.neg(y);return{x:x,y:y}}else if(len===uncompressedLen&&head===4){var _x=Fp.fromBytes(tail.subarray(0,Fp.BYTES));var _y=Fp.fromBytes(tail.subarray(Fp.BYTES,2*Fp.BYTES));return{x:_x,y:_y}}else{var cl=compressedLen;var ul=uncompressedLen;throw new Error("invalid Point, expected length of "+cl+", or uncompressed "+ul+", got "+len)}}})),Point=_weierstrassPoints.ProjectivePoint,normPrivateKeyToScalar=_weierstrassPoints.normPrivateKeyToScalar,weierstrassEquation=_weierstrassPoints.weierstrassEquation,isWithinCurveOrder=_weierstrassPoints.isWithinCurveOrder;var numToNByteHex=function numToNByteHex(num){return(0,utils_ts_1.bytesToHex)((0,utils_ts_1.numberToBytesBE)(num,CURVE.nByteLength))};function isBiggerThanHalfOrder(number){var HALF=CURVE_ORDER>>_1n;return number>HALF}function normalizeS(s){return isBiggerThanHalfOrder(s)?modN(-s):s}var slcNum=function slcNum(b,from,to){return(0,utils_ts_1.bytesToNumberBE)(b.slice(from,to))};var Signature=function(){function Signature(r,s,recovery){_classCallCheck(this,Signature);(0,utils_ts_1.aInRange)("r",r,_1n,CURVE_ORDER);(0,utils_ts_1.aInRange)("s",s,_1n,CURVE_ORDER);this.r=r;this.s=s;if(recovery!=null)this.recovery=recovery;Object.freeze(this)}_createClass(Signature,[{key:"assertValidity",value:function assertValidity(){}},{key:"addRecoveryBit",value:function addRecoveryBit(recovery){return new Signature(this.r,this.s,recovery)}},{key:"recoverPublicKey",value:function recoverPublicKey(msgHash){var r=this.r,s=this.s,rec=this.recovery;var h=bits2int_modN((0,utils_ts_1.ensureBytes)("msgHash",msgHash));if(rec==null||![0,1,2,3].includes(rec))throw new Error("recovery id invalid");var radj=rec===2||rec===3?r+CURVE.n:r;if(radj>=Fp.ORDER)throw new Error("recovery id 2 or 3 invalid");var prefix=(rec&1)===0?"02":"03";var R=Point.fromHex(prefix+numToNByteHex(radj));var ir=invN(radj);var u1=modN(-h*ir);var u2=modN(s*ir);var Q=Point.BASE.multiplyAndAddUnsafe(R,u1,u2);if(!Q)throw new Error("point at infinify");Q.assertValidity();return Q}},{key:"hasHighS",value:function hasHighS(){return isBiggerThanHalfOrder(this.s)}},{key:"normalizeS",value:function normalizeS(){return this.hasHighS()?new Signature(this.r,modN(-this.s),this.recovery):this}},{key:"toDERRawBytes",value:function toDERRawBytes(){return(0,utils_ts_1.hexToBytes)(this.toDERHex())}},{key:"toDERHex",value:function toDERHex(){return exports.DER.hexFromSig({r:this.r,s:this.s})}},{key:"toCompactRawBytes",value:function toCompactRawBytes(){return(0,utils_ts_1.hexToBytes)(this.toCompactHex())}},{key:"toCompactHex",value:function toCompactHex(){return numToNByteHex(this.r)+numToNByteHex(this.s)}}],[{key:"fromCompact",value:function fromCompact(hex){var l=CURVE.nByteLength;hex=(0,utils_ts_1.ensureBytes)("compactSignature",hex,l*2);return new Signature(slcNum(hex,0,l),slcNum(hex,l,2*l))}},{key:"fromDER",value:function fromDER(hex){var _exports$DER$toSig=exports.DER.toSig((0,utils_ts_1.ensureBytes)("DER",hex)),r=_exports$DER$toSig.r,s=_exports$DER$toSig.s;return new Signature(r,s)}}]);return Signature}();var utils={isValidPrivateKey:function isValidPrivateKey(privateKey){try{normPrivateKeyToScalar(privateKey);return true}catch(error){return false}},normPrivateKeyToScalar:normPrivateKeyToScalar,randomPrivateKey:function randomPrivateKey(){var length=(0,modular_ts_1.getMinHashLength)(CURVE.n);return(0,modular_ts_1.mapHashToField)(CURVE.randomBytes(length),CURVE.n)},precompute:function precompute(){var windowSize=arguments.length>0&&arguments[0]!==undefined?arguments[0]:8;var point=arguments.length>1&&arguments[1]!==undefined?arguments[1]:Point.BASE;point._setWindowSize(windowSize);point.multiply(BigInt(3));return point}};function getPublicKey(privateKey){var isCompressed=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;return Point.fromPrivateKey(privateKey).toRawBytes(isCompressed)}function isProbPub(item){var arr=(0,utils_ts_1.isBytes)(item);var str=typeof item==="string";var len=(arr||str)&&item.length;if(arr)return len===compressedLen||len===uncompressedLen;if(str)return len===2*compressedLen||len===2*uncompressedLen;if(item instanceof Point)return true;return false}function getSharedSecret(privateA,publicB){var isCompressed=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;if(isProbPub(privateA))throw new Error("first arg must be private key");if(!isProbPub(publicB))throw new Error("second arg must be public key");var b=Point.fromHex(publicB);return b.multiply(normPrivateKeyToScalar(privateA)).toRawBytes(isCompressed)}var bits2int=CURVE.bits2int||function(bytes){if(bytes.length>8192)throw new Error("input is too large");var num=(0,utils_ts_1.bytesToNumberBE)(bytes);var delta=bytes.length*8-CURVE.nBitLength;return delta>0?num>>BigInt(delta):num};var bits2int_modN=CURVE.bits2int_modN||function(bytes){return modN(bits2int(bytes))};var ORDER_MASK=(0,utils_ts_1.bitMask)(CURVE.nBitLength);function int2octets(num){(0,utils_ts_1.aInRange)("num < 2^"+CURVE.nBitLength,num,_0n,ORDER_MASK);return(0,utils_ts_1.numberToBytesBE)(num,CURVE.nByteLength)}function prepSig(msgHash,privateKey){var opts=arguments.length>2&&arguments[2]!==undefined?arguments[2]:defaultSigOpts;if(["recovered","canonical"].some(function(k){return k in opts}))throw new Error("sign() legacy options not supported");var hash=CURVE.hash,randomBytes=CURVE.randomBytes;var lowS=opts.lowS,prehash=opts.prehash,ent=opts.extraEntropy;if(lowS==null)lowS=true;msgHash=(0,utils_ts_1.ensureBytes)("msgHash",msgHash);validateSigVerOpts(opts);if(prehash)msgHash=(0,utils_ts_1.ensureBytes)("prehashed msgHash",hash(msgHash));var h1int=bits2int_modN(msgHash);var d=normPrivateKeyToScalar(privateKey);var seedArgs=[int2octets(d),int2octets(h1int)];if(ent!=null&&ent!==false){var e=ent===true?randomBytes(Fp.BYTES):ent;seedArgs.push((0,utils_ts_1.ensureBytes)("extraEntropy",e))}var seed=(0,utils_ts_1.concatBytes).apply(void 0,seedArgs);var m=h1int;function k2sig(kBytes){var k=bits2int(kBytes);if(!isWithinCurveOrder(k))return;var ik=invN(k);var q=Point.BASE.multiply(k).toAffine();var r=modN(q.x);if(r===_0n)return;var s=modN(ik*modN(m+r*d));if(s===_0n)return;var recovery=(q.x===r?0:2)|Number(q.y&_1n);var normS=s;if(lowS&&isBiggerThanHalfOrder(s)){normS=normalizeS(s);recovery^=1}return new Signature(r,normS,recovery)}return{seed:seed,k2sig:k2sig}}var defaultSigOpts={lowS:CURVE.lowS,prehash:false};var defaultVerOpts={lowS:CURVE.lowS,prehash:false};function sign(msgHash,privKey){var opts=arguments.length>2&&arguments[2]!==undefined?arguments[2]:defaultSigOpts;var _prepSig=prepSig(msgHash,privKey,opts),seed=_prepSig.seed,k2sig=_prepSig.k2sig;var C=CURVE;var drbg=(0,utils_ts_1.createHmacDrbg)(C.hash.outputLen,C.nByteLength,C.hmac);return drbg(seed,k2sig)}Point.BASE._setWindowSize(8);function verify(signature,msgHash,publicKey){var _Point$BASE$multiplyA;var opts=arguments.length>3&&arguments[3]!==undefined?arguments[3]:defaultVerOpts;var sg=signature;msgHash=(0,utils_ts_1.ensureBytes)("msgHash",msgHash);publicKey=(0,utils_ts_1.ensureBytes)("publicKey",publicKey);var lowS=opts.lowS,prehash=opts.prehash,format=opts.format;validateSigVerOpts(opts);if("strict"in opts)throw new Error("options.strict was renamed to lowS");if(format!==undefined&&format!=="compact"&&format!=="der")throw new Error("format must be compact or der");var isHex=typeof sg==="string"||(0,utils_ts_1.isBytes)(sg);var isObj=!isHex&&!format&&_typeof(sg)==="object"&&sg!==null&&typeof sg.r==="bigint"&&typeof sg.s==="bigint";if(!isHex&&!isObj)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");var _sig=undefined;var P;try{if(isObj)_sig=new Signature(sg.r,sg.s);if(isHex){try{if(format!=="compact")_sig=Signature.fromDER(sg)}catch(derError){if(!(derError instanceof exports.DER.Err))throw derError}if(!_sig&&format!=="der")_sig=Signature.fromCompact(sg)}P=Point.fromHex(publicKey)}catch(error){return false}if(!_sig)return false;if(lowS&&_sig.hasHighS())return false;if(prehash)msgHash=CURVE.hash(msgHash);var _sig2=_sig,r=_sig2.r,s=_sig2.s;var h=bits2int_modN(msgHash);var is=invN(s);var u1=modN(h*is);var u2=modN(r*is);var R=(_Point$BASE$multiplyA=Point.BASE.multiplyAndAddUnsafe(P,u1,u2))===null||_Point$BASE$multiplyA===void 0?void 0:_Point$BASE$multiplyA.toAffine();if(!R)return false;var v=modN(R.x);return v===r}return{CURVE:CURVE,getPublicKey:getPublicKey,getSharedSecret:getSharedSecret,sign:sign,verify:verify,ProjectivePoint:Point,Signature:Signature,utils:utils}}function SWUFpSqrtRatio(Fp,Z){var q=Fp.ORDER;var l=_0n;for(var o=q-_1n;o%_2n===_0n;o/=_2n){l+=_1n}var c1=l;var _2n_pow_c1_1=_2n<<c1-_1n-_1n;var _2n_pow_c1=_2n_pow_c1_1*_2n;var c2=(q-_1n)/_2n_pow_c1;var c3=(c2-_1n)/_2n;var c4=_2n_pow_c1-_1n;var c5=_2n_pow_c1_1;var c6=Fp.pow(Z,c2);var c7=Fp.pow(Z,(c2+_1n)/_2n);var sqrtRatio=function sqrtRatio(u,v){var tv1=c6;var tv2=Fp.pow(v,c4);var tv3=Fp.sqr(tv2);tv3=Fp.mul(tv3,v);var tv5=Fp.mul(u,tv3);tv5=Fp.pow(tv5,c3);tv5=Fp.mul(tv5,tv2);tv2=Fp.mul(tv5,v);tv3=Fp.mul(tv5,u);var tv4=Fp.mul(tv3,tv2);tv5=Fp.pow(tv4,c5);var isQR=Fp.eql(tv5,Fp.ONE);tv2=Fp.mul(tv3,c7);tv5=Fp.mul(tv4,tv1);tv3=Fp.cmov(tv2,tv3,isQR);tv4=Fp.cmov(tv5,tv4,isQR);for(var i=c1;i>_1n;i--){var _tv=i-_2n;_tv=_2n<<_tv-_1n;var tvv5=Fp.pow(tv4,_tv);var e1=Fp.eql(tvv5,Fp.ONE);tv2=Fp.mul(tv3,tv1);tv1=Fp.mul(tv1,tv1);tvv5=Fp.mul(tv4,tv1);tv3=Fp.cmov(tv2,tv3,e1);tv4=Fp.cmov(tvv5,tv4,e1)}return{isValid:isQR,value:tv3}};if(Fp.ORDER%_4n===_3n){var _c2=(Fp.ORDER-_3n)/_4n;var _c3=Fp.sqrt(Fp.neg(Z));sqrtRatio=function sqrtRatio(u,v){var tv1=Fp.sqr(v);var tv2=Fp.mul(u,v);tv1=Fp.mul(tv1,tv2);var y1=Fp.pow(tv1,_c2);y1=Fp.mul(y1,tv2);var y2=Fp.mul(y1,_c3);var tv3=Fp.mul(Fp.sqr(y1),v);var isQR=Fp.eql(tv3,u);var y=Fp.cmov(y2,y1,isQR);return{isValid:isQR,value:y}}}return sqrtRatio}function mapToCurveSimpleSWU(Fp,opts){(0,modular_ts_1.validateField)(Fp);if(!Fp.isValid(opts.A)||!Fp.isValid(opts.B)||!Fp.isValid(opts.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");var sqrtRatio=SWUFpSqrtRatio(Fp,opts.Z);if(!Fp.isOdd)throw new Error("Fp.isOdd is not implemented!");return function(u){var tv1,tv2,tv3,tv4,tv5,tv6,x,y;tv1=Fp.sqr(u);tv1=Fp.mul(tv1,opts.Z);tv2=Fp.sqr(tv1);tv2=Fp.add(tv2,tv1);tv3=Fp.add(tv2,Fp.ONE);tv3=Fp.mul(tv3,opts.B);tv4=Fp.cmov(opts.Z,Fp.neg(tv2),!Fp.eql(tv2,Fp.ZERO));tv4=Fp.mul(tv4,opts.A);tv2=Fp.sqr(tv3);tv6=Fp.sqr(tv4);tv5=Fp.mul(tv6,opts.A);tv2=Fp.add(tv2,tv5);tv2=Fp.mul(tv2,tv3);tv6=Fp.mul(tv6,tv4);tv5=Fp.mul(tv6,opts.B);tv2=Fp.add(tv2,tv5);x=Fp.mul(tv1,tv3);var _sqrtRatio=sqrtRatio(tv2,tv6),isValid=_sqrtRatio.isValid,value=_sqrtRatio.value;y=Fp.mul(tv1,u);y=Fp.mul(y,value);x=Fp.cmov(x,tv3,isValid);y=Fp.cmov(y,value,isValid);var e1=Fp.isOdd(u)===Fp.isOdd(y);y=Fp.cmov(Fp.neg(y),y,e1);x=Fp.div(x,tv4);return{x:x,y:y}}}},{"./curve.js":123,"./modular.js":125,"./utils.js":126}],128:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.encodeToCurve=exports.hashToCurve=exports.schnorr=exports.secp256k1=void 0;var sha2_1=require("@noble/hashes/sha2");var utils_1=require("@noble/hashes/utils");var _shortw_utils_ts_1=require("./_shortw_utils.js");var hash_to_curve_ts_1=require("./abstract/hash-to-curve.js");var modular_ts_1=require("./abstract/modular.js");var utils_ts_1=require("./abstract/utils.js");var weierstrass_ts_1=require("./abstract/weierstrass.js");var secp256k1P=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f");var secp256k1N=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141");var _1n=BigInt(1);var _2n=BigInt(2);var divNearest=function divNearest(a,b){return(a+b/_2n)/b};function sqrtMod(y){var P=secp256k1P;var _3n=BigInt(3),_6n=BigInt(6),_11n=BigInt(11),_22n=BigInt(22);var _23n=BigInt(23),_44n=BigInt(44),_88n=BigInt(88);var b2=y*y*y%P;var b3=b2*b2*y%P;var b6=(0,modular_ts_1.pow2)(b3,_3n,P)*b3%P;var b9=(0,modular_ts_1.pow2)(b6,_3n,P)*b3%P;var b11=(0,modular_ts_1.pow2)(b9,_2n,P)*b2%P;var b22=(0,modular_ts_1.pow2)(b11,_11n,P)*b11%P;var b44=(0,modular_ts_1.pow2)(b22,_22n,P)*b22%P;var b88=(0,modular_ts_1.pow2)(b44,_44n,P)*b44%P;var b176=(0,modular_ts_1.pow2)(b88,_88n,P)*b88%P;var b220=(0,modular_ts_1.pow2)(b176,_44n,P)*b44%P;var b223=(0,modular_ts_1.pow2)(b220,_3n,P)*b3%P;var t1=(0,modular_ts_1.pow2)(b223,_23n,P)*b22%P;var t2=(0,modular_ts_1.pow2)(t1,_6n,P)*b2%P;var root=(0,modular_ts_1.pow2)(t2,_2n,P);if(!Fpk1.eql(Fpk1.sqr(root),y))throw new Error("Cannot find square root");return root}var Fpk1=(0,modular_ts_1.Field)(secp256k1P,undefined,undefined,{sqrt:sqrtMod});exports.secp256k1=(0,_shortw_utils_ts_1.createCurve)({a:BigInt(0),b:BigInt(7),Fp:Fpk1,n:secp256k1N,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:true,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:function splitScalar(k){var n=secp256k1N;var a1=BigInt("0x3086d221a7d46bcde86c90e49284eb15");var b1=-_1n*BigInt("0xe4437ed6010e88286f547fa90abfe4c3");var a2=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8");var b2=a1;var POW_2_128=BigInt("0x100000000000000000000000000000000");var c1=divNearest(b2*k,n);var c2=divNearest(-b1*k,n);var k1=(0,modular_ts_1.mod)(k-c1*a1-c2*a2,n);var k2=(0,modular_ts_1.mod)(-c1*b1-c2*b2,n);var k1neg=k1>POW_2_128;var k2neg=k2>POW_2_128;if(k1neg)k1=n-k1;if(k2neg)k2=n-k2;if(k1>POW_2_128||k2>POW_2_128){throw new Error("splitScalar: Endomorphism failed, k="+k)}return{k1neg:k1neg,k1:k1,k2neg:k2neg,k2:k2}}}},sha2_1.sha256);var _0n=BigInt(0);var TAGGED_HASH_PREFIXES={};function taggedHash(tag){var tagP=TAGGED_HASH_PREFIXES[tag];if(tagP===undefined){var tagH=(0,sha2_1.sha256)(Uint8Array.from(tag,function(c){return c.charCodeAt(0)}));tagP=(0,utils_ts_1.concatBytes)(tagH,tagH);TAGGED_HASH_PREFIXES[tag]=tagP}for(var _len=arguments.length,messages=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){messages[_key-1]=arguments[_key]}return(0,sha2_1.sha256)((0,utils_ts_1.concatBytes).apply(void 0,[tagP].concat(messages)))}var pointToBytes=function pointToBytes(point){return point.toRawBytes(true).slice(1)};var numTo32b=function numTo32b(n){return(0,utils_ts_1.numberToBytesBE)(n,32)};var modP=function modP(x){return(0,modular_ts_1.mod)(x,secp256k1P)};var modN=function modN(x){return(0,modular_ts_1.mod)(x,secp256k1N)};var Point=exports.secp256k1.ProjectivePoint;var GmulAdd=function GmulAdd(Q,a,b){return Point.BASE.multiplyAndAddUnsafe(Q,a,b)};function schnorrGetExtPubKey(priv){var d_=exports.secp256k1.utils.normPrivateKeyToScalar(priv);var p=Point.fromPrivateKey(d_);var scalar=p.hasEvenY()?d_:modN(-d_);return{scalar:scalar,bytes:pointToBytes(p)}}function lift_x(x){(0,utils_ts_1.aInRange)("x",x,_1n,secp256k1P);var xx=modP(x*x);var c=modP(xx*x+BigInt(7));var y=sqrtMod(c);if(y%_2n!==_0n)y=modP(-y);var p=new Point(x,y,_1n);p.assertValidity();return p}var num=utils_ts_1.bytesToNumberBE;function challenge(){for(var _len2=arguments.length,args=new Array(_len2),_key2=0;_key2<_len2;_key2++){args[_key2]=arguments[_key2]}return modN(num(taggedHash.apply(void 0,["BIP0340/challenge"].concat(args))))}function schnorrGetPublicKey(privateKey){return schnorrGetExtPubKey(privateKey).bytes}function schnorrSign(message,privateKey){var auxRand=arguments.length>2&&arguments[2]!==undefined?arguments[2]:(0,utils_1.randomBytes)(32);var m=(0,utils_ts_1.ensureBytes)("message",message);var _schnorrGetExtPubKey=schnorrGetExtPubKey(privateKey),px=_schnorrGetExtPubKey.bytes,d=_schnorrGetExtPubKey.scalar;var a=(0,utils_ts_1.ensureBytes)("auxRand",auxRand,32);var t=numTo32b(d^num(taggedHash("BIP0340/aux",a)));var rand=taggedHash("BIP0340/nonce",t,px,m);var k_=modN(num(rand));if(k_===_0n)throw new Error("sign failed: k is zero");var _schnorrGetExtPubKey2=schnorrGetExtPubKey(k_),rx=_schnorrGetExtPubKey2.bytes,k=_schnorrGetExtPubKey2.scalar;var e=challenge(rx,px,m);var sig=new Uint8Array(64);sig.set(rx,0);sig.set(numTo32b(modN(k+e*d)),32);if(!schnorrVerify(sig,m,px))throw new Error("sign: Invalid signature produced");return sig}function schnorrVerify(signature,message,publicKey){var sig=(0,utils_ts_1.ensureBytes)("signature",signature,64);var m=(0,utils_ts_1.ensureBytes)("message",message);var pub=(0,utils_ts_1.ensureBytes)("publicKey",publicKey,32);try{var P=lift_x(num(pub));var r=num(sig.subarray(0,32));if(!(0,utils_ts_1.inRange)(r,_1n,secp256k1P))return false;var s=num(sig.subarray(32,64));if(!(0,utils_ts_1.inRange)(s,_1n,secp256k1N))return false;var e=challenge(numTo32b(r),pointToBytes(P),m);var R=GmulAdd(P,s,modN(-e));if(!R||!R.hasEvenY()||R.toAffine().x!==r)return false;return true}catch(error){return false}}exports.schnorr=function(){return{getPublicKey:schnorrGetPublicKey,sign:schnorrSign,verify:schnorrVerify,utils:{randomPrivateKey:exports.secp256k1.utils.randomPrivateKey,lift_x:lift_x,pointToBytes:pointToBytes,numberToBytesBE:utils_ts_1.numberToBytesBE,bytesToNumberBE:utils_ts_1.bytesToNumberBE,taggedHash:taggedHash,mod:modular_ts_1.mod}}}();var isoMap=function(){return(0,hash_to_curve_ts_1.isogenyMap)(Fpk1,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(function(i){return i.map(function(j){return BigInt(j)})}))}();var mapSWU=function(){return(0,weierstrass_ts_1.mapToCurveSimpleSWU)(Fpk1,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:Fpk1.create(BigInt("-11"))})}();var htf=function(){return(0,hash_to_curve_ts_1.createHasher)(exports.secp256k1.ProjectivePoint,function(scalars){var _mapSWU=mapSWU(Fpk1.create(scalars[0])),x=_mapSWU.x,y=_mapSWU.y;return isoMap(x,y)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:Fpk1.ORDER,m:1,k:128,expand:"xmd",hash:sha2_1.sha256})}();exports.hashToCurve=function(){return htf.hashToCurve}();exports.encodeToCurve=function(){return htf.encodeToCurve}()},{"./_shortw_utils.js":122,"./abstract/hash-to-curve.js":124,"./abstract/modular.js":125,"./abstract/utils.js":126,"./abstract/weierstrass.js":127,"@noble/hashes/sha2":135,"@noble/hashes/utils":139}],129:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.anumber=anumber;exports.abytes=abytes;exports.ahash=ahash;exports.aexists=aexists;exports.aoutput=aoutput;function anumber(n){if(!Number.isSafeInteger(n)||n<0)throw new Error("positive integer expected, got "+n)}function isBytes(a){return a instanceof Uint8Array||ArrayBuffer.isView(a)&&a.constructor.name==="Uint8Array"}function abytes(b){if(!isBytes(b))throw new Error("Uint8Array expected");for(var _len=arguments.length,lengths=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){lengths[_key-1]=arguments[_key]}if(lengths.length>0&&!lengths.includes(b.length))throw new Error("Uint8Array expected of length "+lengths+", got length="+b.length)}function ahash(h){if(typeof h!=="function"||typeof h.create!=="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");anumber(h.outputLen);anumber(h.blockLen)}function aexists(instance){var checkFinished=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;if(instance.destroyed)throw new Error("Hash instance has been destroyed");if(checkFinished&&instance.finished)throw new Error("Hash#digest() has already been called")}function aoutput(out,instance){abytes(out);var min=instance.outputLen;if(out.length<min){throw new Error("digestInto() expects output buffer of length at least "+min)}}},{}],130:[function(require,module,exports){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _toConsumableArray(r){return _arrayWithoutHoles(r)||_iterableToArray(r)||_unsupportedIterableToArray(r)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}function _iterableToArray(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}function _arrayWithoutHoles(r){if(Array.isArray(r))return _arrayLikeToArray(r)}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++){n[e]=r[e]}return n}function _classCallCheck(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),o)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_setPrototypeOf(t,e)}function _createSuper(t){var r=_isNativeReflectConstruct();return function(){var e,o=_getPrototypeOf(t);if(r){var s=_getPrototypeOf(this).constructor;e=Reflect.construct(o,arguments,s)}else e=o.apply(this,arguments);return _possibleConstructorReturn(this,e)}}function _possibleConstructorReturn(t,e){if(e&&("object"==_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(_isNativeReflectConstruct=function _isNativeReflectConstruct(){return!!t})()}function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(t)}Object.defineProperty(exports,"__esModule",{value:true});exports.HashMD=void 0;exports.setBigUint64=setBigUint64;exports.Chi=Chi;exports.Maj=Maj;var _assert_ts_1=require("./_assert.js");var utils_ts_1=require("./utils.js");function setBigUint64(view,byteOffset,value,isLE){if(typeof view.setBigUint64==="function")return view.setBigUint64(byteOffset,value,isLE);var _32n=BigInt(32);var _u32_max=BigInt(4294967295);var wh=Number(value>>_32n&_u32_max);var wl=Number(value&_u32_max);var h=isLE?4:0;var l=isLE?0:4;view.setUint32(byteOffset+h,wh,isLE);view.setUint32(byteOffset+l,wl,isLE)}function Chi(a,b,c){return a&b^~a&c}function Maj(a,b,c){return a&b^a&c^b&c}var HashMD=function(_utils_ts_1$Hash){_inherits(HashMD,_utils_ts_1$Hash);var _super=_createSuper(HashMD);function HashMD(blockLen,outputLen,padOffset,isLE){var _this;_classCallCheck(this,HashMD);_this=_super.call(this);_this.finished=false;_this.length=0;_this.pos=0;_this.destroyed=false;_this.blockLen=blockLen;_this.outputLen=outputLen;_this.padOffset=padOffset;_this.isLE=isLE;_this.buffer=new Uint8Array(blockLen);_this.view=(0,utils_ts_1.createView)(_this.buffer);return _this}_createClass(HashMD,[{key:"update",value:function update(data){(0,_assert_ts_1.aexists)(this);var view=this.view,buffer=this.buffer,blockLen=this.blockLen;data=(0,utils_ts_1.toBytes)(data);var len=data.length;for(var pos=0;pos<len;){var take=Math.min(blockLen-this.pos,len-pos);if(take===blockLen){var dataView=(0,utils_ts_1.createView)(data);for(;blockLen<=len-pos;pos+=blockLen){this.process(dataView,pos)}continue}buffer.set(data.subarray(pos,pos+take),this.pos);this.pos+=take;pos+=take;if(this.pos===blockLen){this.process(view,0);this.pos=0}}this.length+=data.length;this.roundClean();return this}},{key:"digestInto",value:function digestInto(out){(0,_assert_ts_1.aexists)(this);(0,_assert_ts_1.aoutput)(out,this);this.finished=true;var buffer=this.buffer,view=this.view,blockLen=this.blockLen,isLE=this.isLE;var pos=this.pos;buffer[pos++]=128;this.buffer.subarray(pos).fill(0);if(this.padOffset>blockLen-pos){this.process(view,0);pos=0}for(var i=pos;i<blockLen;i++){buffer[i]=0}setBigUint64(view,blockLen-8,BigInt(this.length*8),isLE);this.process(view,0);var oview=(0,utils_ts_1.createView)(out);var len=this.outputLen;if(len%4)throw new Error("_sha2: outputLen should be aligned to 32bit");var outLen=len/4;var state=this.get();if(outLen>state.length)throw new Error("_sha2: outputLen bigger than state");for(var _i=0;_i<outLen;_i++){oview.setUint32(4*_i,state[_i],isLE)}}},{key:"digest",value:function digest(){var buffer=this.buffer,outputLen=this.outputLen;this.digestInto(buffer);var res=buffer.slice(0,outputLen);this.destroy();return res}},{key:"_cloneInto",value:function _cloneInto(to){var _to;to||(to=new this.constructor);(_to=to).set.apply(_to,_toConsumableArray(this.get()));var blockLen=this.blockLen,buffer=this.buffer,length=this.length,finished=this.finished,destroyed=this.destroyed,pos=this.pos;to.length=length;to.pos=pos;to.finished=finished;to.destroyed=destroyed;if(length%blockLen)to.buffer.set(buffer);return to}}]);return HashMD}(utils_ts_1.Hash);exports.HashMD=HashMD},{"./_assert.js":129,"./utils.js":139}],131:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.add5L=exports.add5H=exports.add4H=exports.add4L=exports.add3H=exports.add3L=exports.rotlBL=exports.rotlBH=exports.rotlSL=exports.rotlSH=exports.rotr32L=exports.rotr32H=exports.rotrBL=exports.rotrBH=exports.rotrSL=exports.rotrSH=exports.shrSL=exports.shrSH=exports.toBig=void 0;exports.fromBig=fromBig;exports.split=split;exports.add=add;var U32_MASK64=BigInt(Math.pow(2,32)-1);var _32n=BigInt(32);function fromBig(n){var le=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(le)return{h:Number(n&U32_MASK64),l:Number(n>>_32n&U32_MASK64)};return{h:Number(n>>_32n&U32_MASK64)|0,l:Number(n&U32_MASK64)|0}}function split(lst){var le=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var Ah=new Uint32Array(lst.length);var Al=new Uint32Array(lst.length);for(var i=0;i<lst.length;i++){var _fromBig=fromBig(lst[i],le),h=_fromBig.h,l=_fromBig.l;var _ref=[h,l];Ah[i]=_ref[0];Al[i]=_ref[1]}return[Ah,Al]}var toBig=function toBig(h,l){return BigInt(h>>>0)<<_32n|BigInt(l>>>0)};exports.toBig=toBig;var shrSH=function shrSH(h,_l,s){return h>>>s};exports.shrSH=shrSH;var shrSL=function shrSL(h,l,s){return h<<32-s|l>>>s};exports.shrSL=shrSL;var rotrSH=function rotrSH(h,l,s){return h>>>s|l<<32-s};exports.rotrSH=rotrSH;var rotrSL=function rotrSL(h,l,s){return h<<32-s|l>>>s};exports.rotrSL=rotrSL;var rotrBH=function rotrBH(h,l,s){return h<<64-s|l>>>s-32};exports.rotrBH=rotrBH;var rotrBL=function rotrBL(h,l,s){return h>>>s-32|l<<64-s};exports.rotrBL=rotrBL;var rotr32H=function rotr32H(_h,l){return l};exports.rotr32H=rotr32H;var rotr32L=function rotr32L(h,_l){return h};exports.rotr32L=rotr32L;var rotlSH=function rotlSH(h,l,s){return h<<s|l>>>32-s};exports.rotlSH=rotlSH;var rotlSL=function rotlSL(h,l,s){return l<<s|h>>>32-s};exports.rotlSL=rotlSL;var rotlBH=function rotlBH(h,l,s){return l<<s-32|h>>>64-s};exports.rotlBH=rotlBH;var rotlBL=function rotlBL(h,l,s){return h<<s-32|l>>>64-s};exports.rotlBL=rotlBL;function add(Ah,Al,Bh,Bl){var l=(Al>>>0)+(Bl>>>0);return{h:Ah+Bh+(l/Math.pow(2,32)|0)|0,l:l|0}}var add3L=function add3L(Al,Bl,Cl){return(Al>>>0)+(Bl>>>0)+(Cl>>>0)};exports.add3L=add3L;var add3H=function add3H(low,Ah,Bh,Ch){return Ah+Bh+Ch+(low/Math.pow(2,32)|0)|0};exports.add3H=add3H;var add4L=function add4L(Al,Bl,Cl,Dl){return(Al>>>0)+(Bl>>>0)+(Cl>>>0)+(Dl>>>0)};exports.add4L=add4L;var add4H=function add4H(low,Ah,Bh,Ch,Dh){return Ah+Bh+Ch+Dh+(low/Math.pow(2,32)|0)|0};exports.add4H=add4H;var add5L=function add5L(Al,Bl,Cl,Dl,El){return(Al>>>0)+(Bl>>>0)+(Cl>>>0)+(Dl>>>0)+(El>>>0)};exports.add5L=add5L;var add5H=function add5H(low,Ah,Bh,Ch,Dh,Eh){return Ah+Bh+Ch+Dh+Eh+(low/Math.pow(2,32)|0)|0};exports.add5H=add5H;var u64={fromBig:fromBig,split:split,toBig:toBig,shrSH:shrSH,shrSL:shrSL,rotrSH:rotrSH,rotrSL:rotrSL,rotrBH:rotrBH,rotrBL:rotrBL,rotr32H:rotr32H,rotr32L:rotr32L,rotlSH:rotlSH,rotlSL:rotlSL,rotlBH:rotlBH,rotlBL:rotlBL,add:add,add3L:add3L,add3H:add3H,add4L:add4L,add4H:add4H,add5H:add5H,add5L:add5L};exports["default"]=u64},{}],132:[function(require,module,exports){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}Object.defineProperty(exports,"__esModule",{value:true});exports.crypto=void 0;exports.crypto=(typeof globalThis==="undefined"?"undefined":_typeof(globalThis))==="object"&&"crypto"in globalThis?globalThis.crypto:undefined},{}],133:[function(require,module,exports){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _classCallCheck(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),o)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_setPrototypeOf(t,e)}function _createSuper(t){var r=_isNativeReflectConstruct();return function(){var e,o=_getPrototypeOf(t);if(r){var s=_getPrototypeOf(this).constructor;e=Reflect.construct(o,arguments,s)}else e=o.apply(this,arguments);return _possibleConstructorReturn(this,e)}}function _possibleConstructorReturn(t,e){if(e&&("object"==_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(_isNativeReflectConstruct=function _isNativeReflectConstruct(){return!!t})()}function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(t)}Object.defineProperty(exports,"__esModule",{value:true});exports.hmac=exports.HMAC=void 0;var _assert_ts_1=require("./_assert.js");var utils_ts_1=require("./utils.js");var HMAC=function(_utils_ts_1$Hash){_inherits(HMAC,_utils_ts_1$Hash);var _super=_createSuper(HMAC);function HMAC(hash,_key){var _this;_classCallCheck(this,HMAC);_this=_super.call(this);_this.finished=false;_this.destroyed=false;(0,_assert_ts_1.ahash)(hash);var key=(0,utils_ts_1.toBytes)(_key);_this.iHash=hash.create();if(typeof _this.iHash.update!=="function")throw new Error("Expected instance of class which extends utils.Hash");_this.blockLen=_this.iHash.blockLen;_this.outputLen=_this.iHash.outputLen;var blockLen=_this.blockLen;var pad=new Uint8Array(blockLen);pad.set(key.length>blockLen?hash.create().update(key).digest():key);for(var i=0;i<pad.length;i++){pad[i]^=54}_this.iHash.update(pad);_this.oHash=hash.create();for(var _i=0;_i<pad.length;_i++){pad[_i]^=54^92}_this.oHash.update(pad);pad.fill(0);return _this}_createClass(HMAC,[{key:"update",value:function update(buf){(0,_assert_ts_1.aexists)(this);this.iHash.update(buf);return this}},{key:"digestInto",value:function digestInto(out){(0,_assert_ts_1.aexists)(this);(0,_assert_ts_1.abytes)(out,this.outputLen);this.finished=true;this.iHash.digestInto(out);this.oHash.update(out);this.oHash.digestInto(out);this.destroy()}},{key:"digest",value:function digest(){var out=new Uint8Array(this.oHash.outputLen);this.digestInto(out);return out}},{key:"_cloneInto",value:function _cloneInto(to){to||(to=Object.create(Object.getPrototypeOf(this),{}));var oHash=this.oHash,iHash=this.iHash,finished=this.finished,destroyed=this.destroyed,blockLen=this.blockLen,outputLen=this.outputLen;to=to;to.finished=finished;to.destroyed=destroyed;to.blockLen=blockLen;to.outputLen=outputLen;to.oHash=oHash._cloneInto(to.oHash);to.iHash=iHash._cloneInto(to.iHash);return to}},{key:"destroy",value:function destroy(){this.destroyed=true;this.oHash.destroy();this.iHash.destroy()}}]);return HMAC}(utils_ts_1.Hash);exports.HMAC=HMAC;var hmac=function hmac(hash,key,message){return new HMAC(hash,key).update(message).digest()};exports.hmac=hmac;exports.hmac.create=function(hash,key){return new HMAC(hash,key)}},{"./_assert.js":129,"./utils.js":139}],134:[function(require,module,exports){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _classCallCheck(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),o)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_setPrototypeOf(t,e)}function _createSuper(t){var r=_isNativeReflectConstruct();return function(){var e,o=_getPrototypeOf(t);if(r){var s=_getPrototypeOf(this).constructor;e=Reflect.construct(o,arguments,s)}else e=o.apply(this,arguments);return _possibleConstructorReturn(this,e)}}function _possibleConstructorReturn(t,e){if(e&&("object"==_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(_isNativeReflectConstruct=function _isNativeReflectConstruct(){return!!t})()}function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(t)}Object.defineProperty(exports,"__esModule",{value:true});exports.ripemd160=exports.RIPEMD160=void 0;var _md_ts_1=require("./_md.js");var utils_ts_1=require("./utils.js");var Rho=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]);var Id=new Uint8Array(new Array(16).fill(0).map(function(_,i){return i}));var Pi=Id.map(function(i){return(9*i+5)%16});var idxL=[Id];var idxR=[Pi];for(var i=0;i<4;i++){for(var _i=0,_arr=[idxL,idxR];_i<_arr.length;_i++){var j=_arr[_i];j.push(j[i].map(function(k){return Rho[k]}))}}var shifts=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(function(i){return new Uint8Array(i)});var shiftsL=idxL.map(function(idx,i){return idx.map(function(j){return shifts[i][j]})});var shiftsR=idxR.map(function(idx,i){return idx.map(function(j){return shifts[i][j]})});var Kl=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]);var Kr=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]);function f(group,x,y,z){if(group===0)return x^y^z;else if(group===1)return x&y|~x&z;else if(group===2)return(x|~y)^z;else if(group===3)return x&z|y&~z;else return x^(y|~z)}var R_BUF=new Uint32Array(16);var RIPEMD160=function(_md_ts_1$HashMD){_inherits(RIPEMD160,_md_ts_1$HashMD);var _super=_createSuper(RIPEMD160);function RIPEMD160(){var _this;_classCallCheck(this,RIPEMD160);_this=_super.call(this,64,20,8,true);_this.h0=1732584193|0;_this.h1=4023233417|0;_this.h2=2562383102|0;_this.h3=271733878|0;_this.h4=3285377520|0;return _this}_createClass(RIPEMD160,[{key:"get",value:function get(){var h0=this.h0,h1=this.h1,h2=this.h2,h3=this.h3,h4=this.h4;return[h0,h1,h2,h3,h4]}},{key:"set",value:function set(h0,h1,h2,h3,h4){this.h0=h0|0;this.h1=h1|0;this.h2=h2|0;this.h3=h3|0;this.h4=h4|0}},{key:"process",value:function process(view,offset){for(var _i2=0;_i2<16;_i2++,offset+=4){R_BUF[_i2]=view.getUint32(offset,true)}var al=this.h0|0,ar=al,bl=this.h1|0,br=bl,cl=this.h2|0,cr=cl,dl=this.h3|0,dr=dl,el=this.h4|0,er=el;for(var group=0;group<5;group++){var rGroup=4-group;var hbl=Kl[group],hbr=Kr[group];var rl=idxL[group],rr=idxR[group];var sl=shiftsL[group],sr=shiftsR[group];for(var _i3=0;_i3<16;_i3++){var tl=(0,utils_ts_1.rotl)(al+f(group,bl,cl,dl)+R_BUF[rl[_i3]]+hbl,sl[_i3])+el|0;al=el,el=dl,dl=(0,utils_ts_1.rotl)(cl,10)|0,cl=bl,bl=tl}for(var _i4=0;_i4<16;_i4++){var tr=(0,utils_ts_1.rotl)(ar+f(rGroup,br,cr,dr)+R_BUF[rr[_i4]]+hbr,sr[_i4])+er|0;ar=er,er=dr,dr=(0,utils_ts_1.rotl)(cr,10)|0,cr=br,br=tr}}this.set(this.h1+cl+dr|0,this.h2+dl+er|0,this.h3+el+ar|0,this.h4+al+br|0,this.h0+bl+cr|0)}},{key:"roundClean",value:function roundClean(){R_BUF.fill(0)}},{key:"destroy",value:function destroy(){this.destroyed=true;this.buffer.fill(0);this.set(0,0,0,0,0)}}]);return RIPEMD160}(_md_ts_1.HashMD);exports.RIPEMD160=RIPEMD160;exports.ripemd160=(0,utils_ts_1.wrapConstructor)(function(){return new RIPEMD160})},{"./_md.js":130,"./utils.js":139}],135:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.sha512_256=exports.sha512_224=exports.sha512=exports.sha384=exports.sha256=exports.sha224=void 0;var sha256_ts_1=require("./sha256.js");Object.defineProperty(exports,"sha224",{enumerable:true,get:function get(){return sha256_ts_1.sha224}});Object.defineProperty(exports,"sha256",{enumerable:true,get:function get(){return sha256_ts_1.sha256}});var sha512_ts_1=require("./sha512.js");Object.defineProperty(exports,"sha384",{enumerable:true,get:function get(){return sha512_ts_1.sha384}});Object.defineProperty(exports,"sha512",{enumerable:true,get:function get(){return sha512_ts_1.sha512}});Object.defineProperty(exports,"sha512_224",{enumerable:true,get:function get(){return sha512_ts_1.sha512_224}});Object.defineProperty(exports,"sha512_256",{enumerable:true,get:function get(){return sha512_ts_1.sha512_256}})},{"./sha256.js":136,"./sha512.js":138}],136:[function(require,module,exports){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _classCallCheck(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),o)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_setPrototypeOf(t,e)}function _createSuper(t){var r=_isNativeReflectConstruct();return function(){var e,o=_getPrototypeOf(t);if(r){var s=_getPrototypeOf(this).constructor;e=Reflect.construct(o,arguments,s)}else e=o.apply(this,arguments);return _possibleConstructorReturn(this,e)}}function _possibleConstructorReturn(t,e){if(e&&("object"==_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(_isNativeReflectConstruct=function _isNativeReflectConstruct(){return!!t})()}function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(t)}Object.defineProperty(exports,"__esModule",{value:true});exports.sha224=exports.sha256=exports.SHA256=void 0;var _md_ts_1=require("./_md.js");var utils_ts_1=require("./utils.js");var SHA256_K=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);var SHA256_IV=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]);var SHA256_W=new Uint32Array(64);var SHA256=function(_md_ts_1$HashMD){_inherits(SHA256,_md_ts_1$HashMD);var _super=_createSuper(SHA256);function SHA256(){var _this;var outputLen=arguments.length>0&&arguments[0]!==undefined?arguments[0]:32;_classCallCheck(this,SHA256);_this=_super.call(this,64,outputLen,8,false);_this.A=SHA256_IV[0]|0;_this.B=SHA256_IV[1]|0;_this.C=SHA256_IV[2]|0;_this.D=SHA256_IV[3]|0;_this.E=SHA256_IV[4]|0;_this.F=SHA256_IV[5]|0;_this.G=SHA256_IV[6]|0;_this.H=SHA256_IV[7]|0;return _this}_createClass(SHA256,[{key:"get",value:function get(){var A=this.A,B=this.B,C=this.C,D=this.D,E=this.E,F=this.F,G=this.G,H=this.H;return[A,B,C,D,E,F,G,H]}},{key:"set",value:function set(A,B,C,D,E,F,G,H){this.A=A|0;this.B=B|0;this.C=C|0;this.D=D|0;this.E=E|0;this.F=F|0;this.G=G|0;this.H=H|0}},{key:"process",value:function process(view,offset){for(var i=0;i<16;i++,offset+=4){SHA256_W[i]=view.getUint32(offset,false)}for(var _i=16;_i<64;_i++){var W15=SHA256_W[_i-15];var W2=SHA256_W[_i-2];var s0=(0,utils_ts_1.rotr)(W15,7)^(0,utils_ts_1.rotr)(W15,18)^W15>>>3;var s1=(0,utils_ts_1.rotr)(W2,17)^(0,utils_ts_1.rotr)(W2,19)^W2>>>10;SHA256_W[_i]=s1+SHA256_W[_i-7]+s0+SHA256_W[_i-16]|0}var A=this.A,B=this.B,C=this.C,D=this.D,E=this.E,F=this.F,G=this.G,H=this.H;for(var _i2=0;_i2<64;_i2++){var sigma1=(0,utils_ts_1.rotr)(E,6)^(0,utils_ts_1.rotr)(E,11)^(0,utils_ts_1.rotr)(E,25);var T1=H+sigma1+(0,_md_ts_1.Chi)(E,F,G)+SHA256_K[_i2]+SHA256_W[_i2]|0;var sigma0=(0,utils_ts_1.rotr)(A,2)^(0,utils_ts_1.rotr)(A,13)^(0,utils_ts_1.rotr)(A,22);var T2=sigma0+(0,_md_ts_1.Maj)(A,B,C)|0;H=G;G=F;F=E;E=D+T1|0;D=C;C=B;B=A;A=T1+T2|0}A=A+this.A|0;B=B+this.B|0;C=C+this.C|0;D=D+this.D|0;E=E+this.E|0;F=F+this.F|0;G=G+this.G|0;H=H+this.H|0;this.set(A,B,C,D,E,F,G,H)}},{key:"roundClean",value:function roundClean(){SHA256_W.fill(0)}},{key:"destroy",value:function destroy(){this.set(0,0,0,0,0,0,0,0);this.buffer.fill(0)}}]);return SHA256}(_md_ts_1.HashMD);exports.SHA256=SHA256;var SHA224=function(_SHA){_inherits(SHA224,_SHA);var _super2=_createSuper(SHA224);function SHA224(){var _this2;_classCallCheck(this,SHA224);_this2=_super2.call(this,28);_this2.A=3238371032|0;_this2.B=914150663|0;_this2.C=812702999|0;_this2.D=4144912697|0;_this2.E=4290775857|0;_this2.F=1750603025|0;_this2.G=1694076839|0;_this2.H=3204075428|0;return _this2}return _createClass(SHA224)}(SHA256);exports.sha256=(0,utils_ts_1.wrapConstructor)(function(){return new SHA256});exports.sha224=(0,utils_ts_1.wrapConstructor)(function(){return new SHA224})},{"./_md.js":130,"./utils.js":139}],137:[function(require,module,exports){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _classCallCheck(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),o)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_setPrototypeOf(t,e)}function _createSuper(t){var r=_isNativeReflectConstruct();return function(){var e,o=_getPrototypeOf(t);if(r){var s=_getPrototypeOf(this).constructor;e=Reflect.construct(o,arguments,s)}else e=o.apply(this,arguments);return _possibleConstructorReturn(this,e)}}function _possibleConstructorReturn(t,e){if(e&&("object"==_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(_isNativeReflectConstruct=function _isNativeReflectConstruct(){return!!t})()}function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(t)}function _slicedToArray(r,e){return _arrayWithHoles(r)||_iterableToArrayLimit(r,e)||_unsupportedIterableToArray(r,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++){n[e]=r[e]}return n}function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0){}}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t["return"]&&(u=t["return"](),Object(u)!==u))return}finally{if(o)throw n}}return a}}function _arrayWithHoles(r){if(Array.isArray(r))return r}Object.defineProperty(exports,"__esModule",{value:true});exports.shake256=exports.shake128=exports.keccak_512=exports.keccak_384=exports.keccak_256=exports.keccak_224=exports.sha3_512=exports.sha3_384=exports.sha3_256=exports.sha3_224=exports.Keccak=void 0;exports.keccakP=keccakP;var _assert_ts_1=require("./_assert.js");var _u64_ts_1=require("./_u64.js");var utils_ts_1=require("./utils.js");var SHA3_PI=[];var SHA3_ROTL=[];var _SHA3_IOTA=[];var _0n=BigInt(0);var _1n=BigInt(1);var _2n=BigInt(2);var _7n=BigInt(7);var _256n=BigInt(256);var _0x71n=BigInt(113);for(var round=0,R=_1n,x=1,y=0;round<24;round++){var _ref=[y,(2*x+3*y)%5];x=_ref[0];y=_ref[1];SHA3_PI.push(2*(5*y+x));SHA3_ROTL.push((round+1)*(round+2)/2%64);var t=_0n;for(var j=0;j<7;j++){R=(R<<_1n^(R>>_7n)*_0x71n)%_256n;if(R&_2n)t^=_1n<<(_1n<<BigInt(j))-_1n}_SHA3_IOTA.push(t)}var _ref2=(0,_u64_ts_1.split)(_SHA3_IOTA,true),_ref3=_slicedToArray(_ref2,2),SHA3_IOTA_H=_ref3[0],SHA3_IOTA_L=_ref3[1];var rotlH=function rotlH(h,l,s){return s>32?(0,_u64_ts_1.rotlBH)(h,l,s):(0,_u64_ts_1.rotlSH)(h,l,s)};var rotlL=function rotlL(h,l,s){return s>32?(0,_u64_ts_1.rotlBL)(h,l,s):(0,_u64_ts_1.rotlSL)(h,l,s)};function keccakP(s){var rounds=arguments.length>1&&arguments[1]!==undefined?arguments[1]:24;var B=new Uint32Array(5*2);for(var _round=24-rounds;_round<24;_round++){for(var _x=0;_x<10;_x++){B[_x]=s[_x]^s[_x+10]^s[_x+20]^s[_x+30]^s[_x+40]}for(var _x2=0;_x2<10;_x2+=2){var idx1=(_x2+8)%10;var idx0=(_x2+2)%10;var B0=B[idx0];var B1=B[idx0+1];var Th=rotlH(B0,B1,1)^B[idx1];var Tl=rotlL(B0,B1,1)^B[idx1+1];for(var _y=0;_y<50;_y+=10){s[_x2+_y]^=Th;s[_x2+_y+1]^=Tl}}var curH=s[2];var curL=s[3];for(var _t=0;_t<24;_t++){var shift=SHA3_ROTL[_t];var _Th=rotlH(curH,curL,shift);var _Tl=rotlL(curH,curL,shift);var PI=SHA3_PI[_t];curH=s[PI];curL=s[PI+1];s[PI]=_Th;s[PI+1]=_Tl}for(var _y2=0;_y2<50;_y2+=10){for(var _x3=0;_x3<10;_x3++){B[_x3]=s[_y2+_x3]}for(var _x4=0;_x4<10;_x4++){s[_y2+_x4]^=~B[(_x4+2)%10]&B[(_x4+4)%10]}}s[0]^=SHA3_IOTA_H[_round];s[1]^=SHA3_IOTA_L[_round]}B.fill(0)}var Keccak=function(_utils_ts_1$Hash){_inherits(Keccak,_utils_ts_1$Hash);var _super=_createSuper(Keccak);function Keccak(blockLen,suffix,outputLen){var _this;var enableXOF=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;var rounds=arguments.length>4&&arguments[4]!==undefined?arguments[4]:24;_classCallCheck(this,Keccak);_this=_super.call(this);_this.pos=0;_this.posOut=0;_this.finished=false;_this.destroyed=false;_this.enableXOF=false;_this.blockLen=blockLen;_this.suffix=suffix;_this.outputLen=outputLen;_this.enableXOF=enableXOF;_this.rounds=rounds;(0,_assert_ts_1.anumber)(outputLen);if(0>=_this.blockLen||_this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");_this.state=new Uint8Array(200);_this.state32=(0,utils_ts_1.u32)(_this.state);return _this}_createClass(Keccak,[{key:"keccak",value:function keccak(){if(!utils_ts_1.isLE)(0,utils_ts_1.byteSwap32)(this.state32);keccakP(this.state32,this.rounds);if(!utils_ts_1.isLE)(0,utils_ts_1.byteSwap32)(this.state32);this.posOut=0;this.pos=0}},{key:"update",value:function update(data){(0,_assert_ts_1.aexists)(this);var blockLen=this.blockLen,state=this.state;data=(0,utils_ts_1.toBytes)(data);var len=data.length;for(var pos=0;pos<len;){var take=Math.min(blockLen-this.pos,len-pos);for(var i=0;i<take;i++){state[this.pos++]^=data[pos++]}if(this.pos===blockLen)this.keccak()}return this}},{key:"finish",value:function finish(){if(this.finished)return;this.finished=true;var state=this.state,suffix=this.suffix,pos=this.pos,blockLen=this.blockLen;state[pos]^=suffix;if((suffix&128)!==0&&pos===blockLen-1)this.keccak();state[blockLen-1]^=128;this.keccak()}},{key:"writeInto",value:function writeInto(out){(0,_assert_ts_1.aexists)(this,false);(0,_assert_ts_1.abytes)(out);this.finish();var bufferOut=this.state;var blockLen=this.blockLen;for(var pos=0,len=out.length;pos<len;){if(this.posOut>=blockLen)this.keccak();var take=Math.min(blockLen-this.posOut,len-pos);out.set(bufferOut.subarray(this.posOut,this.posOut+take),pos);this.posOut+=take;pos+=take}return out}},{key:"xofInto",value:function xofInto(out){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(out)}},{key:"xof",value:function xof(bytes){(0,_assert_ts_1.anumber)(bytes);return this.xofInto(new Uint8Array(bytes))}},{key:"digestInto",value:function digestInto(out){(0,_assert_ts_1.aoutput)(out,this);if(this.finished)throw new Error("digest() was already called");this.writeInto(out);this.destroy();return out}},{key:"digest",value:function digest(){return this.digestInto(new Uint8Array(this.outputLen))}},{key:"destroy",value:function destroy(){this.destroyed=true;this.state.fill(0)}},{key:"_cloneInto",value:function _cloneInto(to){var blockLen=this.blockLen,suffix=this.suffix,outputLen=this.outputLen,rounds=this.rounds,enableXOF=this.enableXOF;to||(to=new Keccak(blockLen,suffix,outputLen,enableXOF,rounds));to.state32.set(this.state32);to.pos=this.pos;to.posOut=this.posOut;to.finished=this.finished;to.rounds=rounds;to.suffix=suffix;to.outputLen=outputLen;to.enableXOF=enableXOF;to.destroyed=this.destroyed;return to}}]);return Keccak}(utils_ts_1.Hash);exports.Keccak=Keccak;var gen=function gen(suffix,blockLen,outputLen){return(0,utils_ts_1.wrapConstructor)(function(){return new Keccak(blockLen,suffix,outputLen)})};exports.sha3_224=gen(6,144,224/8);exports.sha3_256=gen(6,136,256/8);exports.sha3_384=gen(6,104,384/8);exports.sha3_512=gen(6,72,512/8);exports.keccak_224=gen(1,144,224/8);exports.keccak_256=gen(1,136,256/8);exports.keccak_384=gen(1,104,384/8);exports.keccak_512=gen(1,72,512/8);var genShake=function genShake(suffix,blockLen,outputLen){return(0,utils_ts_1.wrapXOFConstructorWithOpts)(function(){var opts=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return new Keccak(blockLen,suffix,opts.dkLen===undefined?outputLen:opts.dkLen,true)})};exports.shake128=genShake(31,168,128/8);exports.shake256=genShake(31,136,256/8)},{"./_assert.js":129,"./_u64.js":131,"./utils.js":139}],138:[function(require,module,exports){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _classCallCheck(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),o)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_setPrototypeOf(t,e)}function _createSuper(t){var r=_isNativeReflectConstruct();return function(){var e,o=_getPrototypeOf(t);if(r){var s=_getPrototypeOf(this).constructor;e=Reflect.construct(o,arguments,s)}else e=o.apply(this,arguments);return _possibleConstructorReturn(this,e)}}function _possibleConstructorReturn(t,e){if(e&&("object"==_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(_isNativeReflectConstruct=function _isNativeReflectConstruct(){return!!t})()}function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(t)}function _slicedToArray(r,e){return _arrayWithHoles(r)||_iterableToArrayLimit(r,e)||_unsupportedIterableToArray(r,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++){n[e]=r[e]}return n}function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0){}}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t["return"]&&(u=t["return"](),Object(u)!==u))return}finally{if(o)throw n}}return a}}function _arrayWithHoles(r){if(Array.isArray(r))return r}Object.defineProperty(exports,"__esModule",{value:true});exports.sha384=exports.sha512_256=exports.sha512_224=exports.sha512=exports.SHA384=exports.SHA512_256=exports.SHA512_224=exports.SHA512=void 0;var _md_ts_1=require("./_md.js");var _u64_ts_1=require("./_u64.js");var utils_ts_1=require("./utils.js");var _ref=function(){return _u64_ts_1["default"].split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(function(n){return BigInt(n)}))}(),_ref2=_slicedToArray(_ref,2),SHA512_Kh=_ref2[0],SHA512_Kl=_ref2[1];var SHA512_W_H=new Uint32Array(80);var SHA512_W_L=new Uint32Array(80);var SHA512=function(_md_ts_1$HashMD){_inherits(SHA512,_md_ts_1$HashMD);var _super=_createSuper(SHA512);function SHA512(){var _this;var outputLen=arguments.length>0&&arguments[0]!==undefined?arguments[0]:64;_classCallCheck(this,SHA512);_this=_super.call(this,128,outputLen,16,false);_this.Ah=1779033703|0;_this.Al=4089235720|0;_this.Bh=3144134277|0;_this.Bl=2227873595|0;_this.Ch=1013904242|0;_this.Cl=4271175723|0;_this.Dh=2773480762|0;_this.Dl=1595750129|0;_this.Eh=1359893119|0;_this.El=2917565137|0;_this.Fh=2600822924|0;_this.Fl=725511199|0;_this.Gh=528734635|0;_this.Gl=4215389547|0;_this.Hh=1541459225|0;_this.Hl=327033209|0;return _this}_createClass(SHA512,[{key:"get",value:function get(){var Ah=this.Ah,Al=this.Al,Bh=this.Bh,Bl=this.Bl,Ch=this.Ch,Cl=this.Cl,Dh=this.Dh,Dl=this.Dl,Eh=this.Eh,El=this.El,Fh=this.Fh,Fl=this.Fl,Gh=this.Gh,Gl=this.Gl,Hh=this.Hh,Hl=this.Hl;return[Ah,Al,Bh,Bl,Ch,Cl,Dh,Dl,Eh,El,Fh,Fl,Gh,Gl,Hh,Hl]}},{key:"set",value:function set(Ah,Al,Bh,Bl,Ch,Cl,Dh,Dl,Eh,El,Fh,Fl,Gh,Gl,Hh,Hl){this.Ah=Ah|0;this.Al=Al|0;this.Bh=Bh|0;this.Bl=Bl|0;this.Ch=Ch|0;this.Cl=Cl|0;this.Dh=Dh|0;this.Dl=Dl|0;this.Eh=Eh|0;this.El=El|0;this.Fh=Fh|0;this.Fl=Fl|0;this.Gh=Gh|0;this.Gl=Gl|0;this.Hh=Hh|0;this.Hl=Hl|0}},{key:"process",value:function process(view,offset){for(var i=0;i<16;i++,offset+=4){SHA512_W_H[i]=view.getUint32(offset);SHA512_W_L[i]=view.getUint32(offset+=4)}for(var _i=16;_i<80;_i++){var W15h=SHA512_W_H[_i-15]|0;var W15l=SHA512_W_L[_i-15]|0;var s0h=_u64_ts_1["default"].rotrSH(W15h,W15l,1)^_u64_ts_1["default"].rotrSH(W15h,W15l,8)^_u64_ts_1["default"].shrSH(W15h,W15l,7);var s0l=_u64_ts_1["default"].rotrSL(W15h,W15l,1)^_u64_ts_1["default"].rotrSL(W15h,W15l,8)^_u64_ts_1["default"].shrSL(W15h,W15l,7);var W2h=SHA512_W_H[_i-2]|0;var W2l=SHA512_W_L[_i-2]|0;var s1h=_u64_ts_1["default"].rotrSH(W2h,W2l,19)^_u64_ts_1["default"].rotrBH(W2h,W2l,61)^_u64_ts_1["default"].shrSH(W2h,W2l,6);var s1l=_u64_ts_1["default"].rotrSL(W2h,W2l,19)^_u64_ts_1["default"].rotrBL(W2h,W2l,61)^_u64_ts_1["default"].shrSL(W2h,W2l,6);var SUMl=_u64_ts_1["default"].add4L(s0l,s1l,SHA512_W_L[_i-7],SHA512_W_L[_i-16]);var SUMh=_u64_ts_1["default"].add4H(SUMl,s0h,s1h,SHA512_W_H[_i-7],SHA512_W_H[_i-16]);SHA512_W_H[_i]=SUMh|0;SHA512_W_L[_i]=SUMl|0}var Ah=this.Ah,Al=this.Al,Bh=this.Bh,Bl=this.Bl,Ch=this.Ch,Cl=this.Cl,Dh=this.Dh,Dl=this.Dl,Eh=this.Eh,El=this.El,Fh=this.Fh,Fl=this.Fl,Gh=this.Gh,Gl=this.Gl,Hh=this.Hh,Hl=this.Hl;for(var _i2=0;_i2<80;_i2++){var sigma1h=_u64_ts_1["default"].rotrSH(Eh,El,14)^_u64_ts_1["default"].rotrSH(Eh,El,18)^_u64_ts_1["default"].rotrBH(Eh,El,41);var sigma1l=_u64_ts_1["default"].rotrSL(Eh,El,14)^_u64_ts_1["default"].rotrSL(Eh,El,18)^_u64_ts_1["default"].rotrBL(Eh,El,41);var CHIh=Eh&Fh^~Eh&Gh;var CHIl=El&Fl^~El&Gl;var T1ll=_u64_ts_1["default"].add5L(Hl,sigma1l,CHIl,SHA512_Kl[_i2],SHA512_W_L[_i2]);var T1h=_u64_ts_1["default"].add5H(T1ll,Hh,sigma1h,CHIh,SHA512_Kh[_i2],SHA512_W_H[_i2]);var T1l=T1ll|0;var sigma0h=_u64_ts_1["default"].rotrSH(Ah,Al,28)^_u64_ts_1["default"].rotrBH(Ah,Al,34)^_u64_ts_1["default"].rotrBH(Ah,Al,39);var sigma0l=_u64_ts_1["default"].rotrSL(Ah,Al,28)^_u64_ts_1["default"].rotrBL(Ah,Al,34)^_u64_ts_1["default"].rotrBL(Ah,Al,39);var MAJh=Ah&Bh^Ah&Ch^Bh&Ch;var MAJl=Al&Bl^Al&Cl^Bl&Cl;Hh=Gh|0;Hl=Gl|0;Gh=Fh|0;Gl=Fl|0;Fh=Eh|0;Fl=El|0;var _u64_ts_1$default$add=_u64_ts_1["default"].add(Dh|0,Dl|0,T1h|0,T1l|0);Eh=_u64_ts_1$default$add.h;El=_u64_ts_1$default$add.l;Dh=Ch|0;Dl=Cl|0;Ch=Bh|0;Cl=Bl|0;Bh=Ah|0;Bl=Al|0;var All=_u64_ts_1["default"].add3L(T1l,sigma0l,MAJl);Ah=_u64_ts_1["default"].add3H(All,T1h,sigma0h,MAJh);Al=All|0}var _u64_ts_1$default$add2=_u64_ts_1["default"].add(this.Ah|0,this.Al|0,Ah|0,Al|0);Ah=_u64_ts_1$default$add2.h;Al=_u64_ts_1$default$add2.l;var _u64_ts_1$default$add3=_u64_ts_1["default"].add(this.Bh|0,this.Bl|0,Bh|0,Bl|0);Bh=_u64_ts_1$default$add3.h;Bl=_u64_ts_1$default$add3.l;var _u64_ts_1$default$add4=_u64_ts_1["default"].add(this.Ch|0,this.Cl|0,Ch|0,Cl|0);Ch=_u64_ts_1$default$add4.h;Cl=_u64_ts_1$default$add4.l;var _u64_ts_1$default$add5=_u64_ts_1["default"].add(this.Dh|0,this.Dl|0,Dh|0,Dl|0);Dh=_u64_ts_1$default$add5.h;Dl=_u64_ts_1$default$add5.l;var _u64_ts_1$default$add6=_u64_ts_1["default"].add(this.Eh|0,this.El|0,Eh|0,El|0);Eh=_u64_ts_1$default$add6.h;El=_u64_ts_1$default$add6.l;var _u64_ts_1$default$add7=_u64_ts_1["default"].add(this.Fh|0,this.Fl|0,Fh|0,Fl|0);Fh=_u64_ts_1$default$add7.h;Fl=_u64_ts_1$default$add7.l;var _u64_ts_1$default$add8=_u64_ts_1["default"].add(this.Gh|0,this.Gl|0,Gh|0,Gl|0);Gh=_u64_ts_1$default$add8.h;Gl=_u64_ts_1$default$add8.l;var _u64_ts_1$default$add9=_u64_ts_1["default"].add(this.Hh|0,this.Hl|0,Hh|0,Hl|0);Hh=_u64_ts_1$default$add9.h;Hl=_u64_ts_1$default$add9.l;this.set(Ah,Al,Bh,Bl,Ch,Cl,Dh,Dl,Eh,El,Fh,Fl,Gh,Gl,Hh,Hl)}},{key:"roundClean",value:function roundClean(){SHA512_W_H.fill(0);SHA512_W_L.fill(0)}},{key:"destroy",value:function destroy(){this.buffer.fill(0);this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}]);return SHA512}(_md_ts_1.HashMD);exports.SHA512=SHA512;var SHA512_224=function(_SHA){_inherits(SHA512_224,_SHA);var _super2=_createSuper(SHA512_224);function SHA512_224(){var _this2;_classCallCheck(this,SHA512_224);_this2=_super2.call(this,28);_this2.Ah=2352822216|0;_this2.Al=424955298|0;_this2.Bh=1944164710|0;_this2.Bl=2312950998|0;_this2.Ch=502970286|0;_this2.Cl=855612546|0;_this2.Dh=1738396948|0;_this2.Dl=1479516111|0;_this2.Eh=258812777|0;_this2.El=2077511080|0;_this2.Fh=2011393907|0;_this2.Fl=79989058|0;_this2.Gh=1067287976|0;_this2.Gl=1780299464|0;_this2.Hh=286451373|0;_this2.Hl=2446758561|0;return _this2}return _createClass(SHA512_224)}(SHA512);exports.SHA512_224=SHA512_224;var SHA512_256=function(_SHA2){_inherits(SHA512_256,_SHA2);var _super3=_createSuper(SHA512_256);function SHA512_256(){var _this3;_classCallCheck(this,SHA512_256);_this3=_super3.call(this,32);_this3.Ah=573645204|0;_this3.Al=4230739756|0;_this3.Bh=2673172387|0;_this3.Bl=3360449730|0;_this3.Ch=596883563|0;_this3.Cl=1867755857|0;_this3.Dh=2520282905|0;_this3.Dl=1497426621|0;_this3.Eh=2519219938|0;_this3.El=2827943907|0;_this3.Fh=3193839141|0;_this3.Fl=1401305490|0;_this3.Gh=721525244|0;_this3.Gl=746961066|0;_this3.Hh=246885852|0;_this3.Hl=2177182882|0;return _this3}return _createClass(SHA512_256)}(SHA512);exports.SHA512_256=SHA512_256;var SHA384=function(_SHA3){_inherits(SHA384,_SHA3);var _super4=_createSuper(SHA384);function SHA384(){var _this4;_classCallCheck(this,SHA384);_this4=_super4.call(this,48);_this4.Ah=3418070365|0;_this4.Al=3238371032|0;_this4.Bh=1654270250|0;_this4.Bl=914150663|0;_this4.Ch=2438529370|0;_this4.Cl=812702999|0;_this4.Dh=355462360|0;_this4.Dl=4144912697|0;_this4.Eh=1731405415|0;_this4.El=4290775857|0;_this4.Fh=2394180231|0;_this4.Fl=1750603025|0;_this4.Gh=3675008525|0;_this4.Gl=1694076839|0;_this4.Hh=1203062813|0;_this4.Hl=3204075428|0;return _this4}return _createClass(SHA384)}(SHA512);exports.SHA384=SHA384;exports.sha512=(0,utils_ts_1.wrapConstructor)(function(){return new SHA512});exports.sha512_224=(0,utils_ts_1.wrapConstructor)(function(){return new SHA512_224});exports.sha512_256=(0,utils_ts_1.wrapConstructor)(function(){return new SHA512_256});exports.sha384=(0,utils_ts_1.wrapConstructor)(function(){return new SHA384})},{"./_md.js":130,"./_u64.js":131,"./utils.js":139}],139:[function(require,module,exports){"use strict";function _classCallCheck(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),o)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}Object.defineProperty(exports,"__esModule",{value:true});exports.Hash=exports.nextTick=exports.byteSwapIfBE=exports.isLE=void 0;exports.isBytes=isBytes;exports.u8=u8;exports.u32=u32;exports.createView=createView;exports.rotr=rotr;exports.rotl=rotl;exports.byteSwap=byteSwap;exports.byteSwap32=byteSwap32;exports.bytesToHex=bytesToHex;exports.hexToBytes=hexToBytes;exports.asyncLoop=asyncLoop;exports.utf8ToBytes=utf8ToBytes;exports.toBytes=toBytes;exports.concatBytes=concatBytes;exports.checkOpts=checkOpts;exports.wrapConstructor=wrapConstructor;exports.wrapConstructorWithOpts=wrapConstructorWithOpts;exports.wrapXOFConstructorWithOpts=wrapXOFConstructorWithOpts;exports.randomBytes=randomBytes;var crypto_1=require("@noble/hashes/crypto");var _assert_ts_1=require("./_assert.js");function isBytes(a){return a instanceof Uint8Array||ArrayBuffer.isView(a)&&a.constructor.name==="Uint8Array"}function u8(arr){return new Uint8Array(arr.buffer,arr.byteOffset,arr.byteLength)}function u32(arr){return new Uint32Array(arr.buffer,arr.byteOffset,Math.floor(arr.byteLength/4))}function createView(arr){return new DataView(arr.buffer,arr.byteOffset,arr.byteLength)}function rotr(word,shift){return word<<32-shift|word>>>shift}function rotl(word,shift){return word<<shift|word>>>32-shift>>>0}exports.isLE=function(){return new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68}();function byteSwap(word){return word<<24&4278190080|word<<8&16711680|word>>>8&65280|word>>>24&255}exports.byteSwapIfBE=exports.isLE?function(n){return n}:function(n){return byteSwap(n)};function byteSwap32(arr){for(var i=0;i<arr.length;i++){arr[i]=byteSwap(arr[i])}}var hasHexBuiltin=typeof Uint8Array.from([]).toHex==="function"&&typeof Uint8Array.fromHex==="function";var hexes=Array.from({length:256},function(_,i){return i.toString(16).padStart(2,"0")});function bytesToHex(bytes){(0,_assert_ts_1.abytes)(bytes);if(hasHexBuiltin)return bytes.toHex();var hex="";for(var i=0;i<bytes.length;i++){hex+=hexes[bytes[i]]}return hex}var asciis={_0:48,_9:57,A:65,F:70,a:97,f:102};function asciiToBase16(ch){if(ch>=asciis._0&&ch<=asciis._9)return ch-asciis._0;if(ch>=asciis.A&&ch<=asciis.F)return ch-(asciis.A-10);if(ch>=asciis.a&&ch<=asciis.f)return ch-(asciis.a-10);return}function hexToBytes(hex){if(typeof hex!=="string")throw new Error("hex string expected, got "+_typeof(hex));if(hasHexBuiltin)return Uint8Array.fromHex(hex);var hl=hex.length;var al=hl/2;if(hl%2)throw new Error("hex string expected, got unpadded hex of length "+hl);var array=new Uint8Array(al);for(var ai=0,hi=0;ai<al;ai++,hi+=2){var n1=asciiToBase16(hex.charCodeAt(hi));var n2=asciiToBase16(hex.charCodeAt(hi+1));if(n1===undefined||n2===undefined){var _char=hex[hi]+hex[hi+1];throw new Error('hex string expected, got non-hex character "'+_char+'" at index '+hi)}array[ai]=n1*16+n2}return array}var nextTick=function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:case"end":return _context.stop()}}},_callee)}));return function nextTick(){return _ref.apply(this,arguments)}}();exports.nextTick=nextTick;function asyncLoop(_x,_x2,_x3){return _asyncLoop.apply(this,arguments)}function _asyncLoop(){_asyncLoop=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(iters,tick,cb){var ts,i,diff;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:ts=Date.now();i=0;case 2:if(!(i<iters)){_context2.next=13;break}cb(i);diff=Date.now()-ts;if(!(diff>=0&&diff<tick)){_context2.next=7;break}return _context2.abrupt("continue",10);case 7:_context2.next=9;return(0,exports.nextTick)();case 9:ts+=diff;case 10:i++;_context2.next=2;break;case 13:case"end":return _context2.stop()}}},_callee2)}));return _asyncLoop.apply(this,arguments)}function utf8ToBytes(str){if(typeof str!=="string")throw new Error("utf8ToBytes expected string, got "+_typeof(str));return new Uint8Array((new TextEncoder).encode(str))}function toBytes(data){if(typeof data==="string")data=utf8ToBytes(data);(0,_assert_ts_1.abytes)(data);return data}function concatBytes(){var sum=0;for(var i=0;i<arguments.length;i++){var a=i<0||arguments.length<=i?undefined:arguments[i];(0,_assert_ts_1.abytes)(a);sum+=a.length}var res=new Uint8Array(sum);for(var _i=0,pad=0;_i<arguments.length;_i++){var _a=_i<0||arguments.length<=_i?undefined:arguments[_i];res.set(_a,pad);pad+=_a.length}return res}var Hash=function(){function Hash(){_classCallCheck(this,Hash)}_createClass(Hash,[{key:"clone",value:function clone(){return this._cloneInto()}}]);return Hash}();exports.Hash=Hash;function checkOpts(defaults,opts){if(opts!==undefined&&{}.toString.call(opts)!=="[object Object]")throw new Error("Options should be object or undefined");var merged=Object.assign(defaults,opts);return merged}function wrapConstructor(hashCons){var hashC=function hashC(msg){return hashCons().update(toBytes(msg)).digest()};var tmp=hashCons();hashC.outputLen=tmp.outputLen;hashC.blockLen=tmp.blockLen;hashC.create=function(){return hashCons()};return hashC}function wrapConstructorWithOpts(hashCons){var hashC=function hashC(msg,opts){return hashCons(opts).update(toBytes(msg)).digest()};var tmp=hashCons({});hashC.outputLen=tmp.outputLen;hashC.blockLen=tmp.blockLen;hashC.create=function(opts){return hashCons(opts)};return hashC}function wrapXOFConstructorWithOpts(hashCons){var hashC=function hashC(msg,opts){return hashCons(opts).update(toBytes(msg)).digest()};var tmp=hashCons({});hashC.outputLen=tmp.outputLen;hashC.blockLen=tmp.blockLen;hashC.create=function(opts){return hashCons(opts)};return hashC}function randomBytes(){var bytesLength=arguments.length>0&&arguments[0]!==undefined?arguments[0]:32;if(crypto_1.crypto&&typeof crypto_1.crypto.getRandomValues==="function"){return crypto_1.crypto.getRandomValues(new Uint8Array(bytesLength))}if(crypto_1.crypto&&typeof crypto_1.crypto.randomBytes==="function"){return Uint8Array.from(crypto_1.crypto.randomBytes(bytesLength))}throw new Error("crypto.getRandomValues must be defined")}},{"./_assert.js":129,"@noble/hashes/crypto":132}],140:[function(require,module,exports){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _toConsumableArray(r){return _arrayWithoutHoles(r)||_iterableToArray(r)||_unsupportedIterableToArray(r)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}function _iterableToArray(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}function _arrayWithoutHoles(r){if(Array.isArray(r))return _arrayLikeToArray(r)}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++){n[e]=r[e]}return n}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),o)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function _classCallCheck(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf(t,e)}function _createSuper(t){var r=_isNativeReflectConstruct();return function(){var e,o=_getPrototypeOf(t);if(r){var s=_getPrototypeOf(this).constructor;e=Reflect.construct(o,arguments,s)}else e=o.apply(this,arguments);return _possibleConstructorReturn(this,e)}}function _possibleConstructorReturn(t,e){if(e&&("object"==_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _wrapNativeSuper(t){var r="function"==typeof Map?new Map:void 0;return _wrapNativeSuper=function _wrapNativeSuper(t){if(null===t||!_isNativeFunction(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==r){if(r.has(t))return r.get(t);r.set(t,Wrapper)}function Wrapper(){return _construct(t,arguments,_getPrototypeOf(this).constructor)}return Wrapper.prototype=Object.create(t.prototype,{constructor:{value:Wrapper,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(Wrapper,t)},_wrapNativeSuper(t)}function _construct(t,e,r){if(_isNativeReflectConstruct())return Reflect.construct.apply(null,arguments);var o=[null];o.push.apply(o,e);var p=new(t.bind.apply(t,o));return r&&_setPrototypeOf(p,r.prototype),p}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(_isNativeReflectConstruct=function _isNativeReflectConstruct(){return!!t})()}function _isNativeFunction(t){try{return-1!==Function.toString.call(t).indexOf("[native code]")}catch(n){return"function"==typeof t}}function _setPrototypeOf(t,e){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_setPrototypeOf(t,e)}function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(t)}Object.defineProperty(exports,"__esModule",{value:true});exports.BaseError=void 0;var version_js_1=require("./version.js");var BaseError=function(_Error){_inherits(BaseError,_Error);var _super=_createSuper(BaseError);function BaseError(shortMessage){var _args$cause;var _this;var args=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};_classCallCheck(this,BaseError);var details=args.cause instanceof BaseError?args.cause.details:(_args$cause=args.cause)!==null&&_args$cause!==void 0&&_args$cause.message?args.cause.message:args.details;var docsPath=args.cause instanceof BaseError?args.cause.docsPath||args.docsPath:args.docsPath;var message=[shortMessage||"An error occurred.",""].concat(_toConsumableArray(args.metaMessages?[].concat(_toConsumableArray(args.metaMessages),[""]):[]),_toConsumableArray(docsPath?["Docs: https://abitype.dev".concat(docsPath)]:[]),_toConsumableArray(details?["Details: ".concat(details)]:[]),["Version: abitype@".concat(version_js_1.version)]).join("\n");_this=_super.call(this,message);Object.defineProperty(_assertThisInitialized(_this),"details",{enumerable:true,configurable:true,writable:true,value:void 0});Object.defineProperty(_assertThisInitialized(_this),"docsPath",{enumerable:true,configurable:true,writable:true,value:void 0});Object.defineProperty(_assertThisInitialized(_this),"metaMessages",{enumerable:true,configurable:true,writable:true,value:void 0});Object.defineProperty(_assertThisInitialized(_this),"shortMessage",{enumerable:true,configurable:true,writable:true,value:void 0});Object.defineProperty(_assertThisInitialized(_this),"name",{enumerable:true,configurable:true,writable:true,value:"AbiTypeError"});if(args.cause)_this.cause=args.cause;_this.details=details;_this.docsPath=docsPath;_this.metaMessages=args.metaMessages;_this.shortMessage=shortMessage;return _this}return _createClass(BaseError)}(_wrapNativeSuper(Error));exports.BaseError=BaseError},{"./version.js":161}],141:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.CircularReferenceError=exports.InvalidParenthesisError=exports.UnknownSignatureError=exports.InvalidSignatureError=exports.InvalidStructSignatureError=exports.InvalidAbiParameterError=exports.InvalidAbiParametersError=exports.InvalidParameterError=exports.SolidityProtectedKeywordError=exports.InvalidModifierError=exports.InvalidFunctionModifierError=exports.InvalidAbiTypeParameterError=exports.UnknownSolidityTypeError=exports.InvalidAbiItemError=exports.UnknownTypeError=exports.parseAbiParameters=exports.parseAbiParameter=exports.parseAbiItem=exports.parseAbi=exports.formatAbiParameters=exports.formatAbiParameter=exports.formatAbiItem=exports.formatAbi=exports.narrow=exports.BaseError=void 0;var errors_js_1=require("../errors.js");Object.defineProperty(exports,"BaseError",{enumerable:true,get:function get(){return errors_js_1.BaseError}});var narrow_js_1=require("../narrow.js");Object.defineProperty(exports,"narrow",{enumerable:true,get:function get(){return narrow_js_1.narrow}});var formatAbi_js_1=require("../human-readable/formatAbi.js");Object.defineProperty(exports,"formatAbi",{enumerable:true,get:function get(){return formatAbi_js_1.formatAbi}});var formatAbiItem_js_1=require("../human-readable/formatAbiItem.js");Object.defineProperty(exports,"formatAbiItem",{enumerable:true,get:function get(){return formatAbiItem_js_1.formatAbiItem}});var formatAbiParameter_js_1=require("../human-readable/formatAbiParameter.js");Object.defineProperty(exports,"formatAbiParameter",{enumerable:true,get:function get(){return formatAbiParameter_js_1.formatAbiParameter}});var formatAbiParameters_js_1=require("../human-readable/formatAbiParameters.js");Object.defineProperty(exports,"formatAbiParameters",{enumerable:true,get:function get(){return formatAbiParameters_js_1.formatAbiParameters}});var parseAbi_js_1=require("../human-readable/parseAbi.js");Object.defineProperty(exports,"parseAbi",{enumerable:true,get:function get(){return parseAbi_js_1.parseAbi}});var parseAbiItem_js_1=require("../human-readable/parseAbiItem.js");Object.defineProperty(exports,"parseAbiItem",{enumerable:true,get:function get(){return parseAbiItem_js_1.parseAbiItem}});var parseAbiParameter_js_1=require("../human-readable/parseAbiParameter.js");Object.defineProperty(exports,"parseAbiParameter",{enumerable:true,get:function get(){return parseAbiParameter_js_1.parseAbiParameter}});var parseAbiParameters_js_1=require("../human-readable/parseAbiParameters.js");Object.defineProperty(exports,"parseAbiParameters",{enumerable:true,get:function get(){return parseAbiParameters_js_1.parseAbiParameters}});var abiItem_js_1=require("../human-readable/errors/abiItem.js");Object.defineProperty(exports,"UnknownTypeError",{enumerable:true,get:function get(){return abiItem_js_1.UnknownTypeError}});Object.defineProperty(exports,"InvalidAbiItemError",{enumerable:true,get:function get(){return abiItem_js_1.InvalidAbiItemError}});Object.defineProperty(exports,"UnknownSolidityTypeError",{enumerable:true,get:function get(){return abiItem_js_1.UnknownSolidityTypeError}});var abiParameter_js_1=require("../human-readable/errors/abiParameter.js");Object.defineProperty(exports,"InvalidAbiTypeParameterError",{enumerable:true,get:function get(){return abiParameter_js_1.InvalidAbiTypeParameterError}});Object.defineProperty(exports,"InvalidFunctionModifierError",{enumerable:true,get:function get(){return abiParameter_js_1.InvalidFunctionModifierError}});Object.defineProperty(exports,"InvalidModifierError",{enumerable:true,get:function get(){return abiParameter_js_1.InvalidModifierError}});Object.defineProperty(exports,"SolidityProtectedKeywordError",{enumerable:true,get:function get(){return abiParameter_js_1.SolidityProtectedKeywordError}});Object.defineProperty(exports,"InvalidParameterError",{enumerable:true,get:function get(){return abiParameter_js_1.InvalidParameterError}});Object.defineProperty(exports,"InvalidAbiParametersError",{enumerable:true,get:function get(){return abiParameter_js_1.InvalidAbiParametersError}});Object.defineProperty(exports,"InvalidAbiParameterError",{enumerable:true,get:function get(){return abiParameter_js_1.InvalidAbiParameterError}});var signature_js_1=require("../human-readable/errors/signature.js");Object.defineProperty(exports,"InvalidStructSignatureError",{enumerable:true,get:function get(){return signature_js_1.InvalidStructSignatureError}});Object.defineProperty(exports,"InvalidSignatureError",{enumerable:true,get:function get(){return signature_js_1.InvalidSignatureError}});Object.defineProperty(exports,"UnknownSignatureError",{enumerable:true,get:function get(){return signature_js_1.UnknownSignatureError}});var splitParameters_js_1=require("../human-readable/errors/splitParameters.js");Object.defineProperty(exports,"InvalidParenthesisError",{enumerable:true,get:function get(){return splitParameters_js_1.InvalidParenthesisError}});var struct_js_1=require("../human-readable/errors/struct.js");Object.defineProperty(exports,"CircularReferenceError",{enumerable:true,get:function get(){return struct_js_1.CircularReferenceError}})},{"../errors.js":140,"../human-readable/errors/abiItem.js":142,"../human-readable/errors/abiParameter.js":143,"../human-readable/errors/signature.js":144,"../human-readable/errors/splitParameters.js":145,"../human-readable/errors/struct.js":146,"../human-readable/formatAbi.js":147,"../human-readable/formatAbiItem.js":148,"../human-readable/formatAbiParameter.js":149,"../human-readable/formatAbiParameters.js":150,"../human-readable/parseAbi.js":151,"../human-readable/parseAbiItem.js":152,"../human-readable/parseAbiParameter.js":153,"../human-readable/parseAbiParameters.js":154,"../narrow.js":159}],142:[function(require,module,exports){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),o)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function _classCallCheck(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_setPrototypeOf(t,e)}function _createSuper(t){var r=_isNativeReflectConstruct();return function(){var e,o=_getPrototypeOf(t);if(r){var s=_getPrototypeOf(this).constructor;e=Reflect.construct(o,arguments,s)}else e=o.apply(this,arguments);return _possibleConstructorReturn(this,e)}}function _possibleConstructorReturn(t,e){if(e&&("object"==_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(_isNativeReflectConstruct=function _isNativeReflectConstruct(){return!!t})()}function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(t)}Object.defineProperty(exports,"__esModule",{value:true});exports.UnknownSolidityTypeError=exports.UnknownTypeError=exports.InvalidAbiItemError=void 0;var errors_js_1=require("../../errors.js");var InvalidAbiItemError=function(_errors_js_1$BaseErro){_inherits(InvalidAbiItemError,_errors_js_1$BaseErro);var _super=_createSuper(InvalidAbiItemError);function InvalidAbiItemError(_ref){var _this;var signature=_ref.signature;_classCallCheck(this,InvalidAbiItemError);_this=_super.call(this,"Failed to parse ABI item.",{details:"parseAbiItem(".concat(JSON.stringify(signature,null,2),")"),docsPath:"/api/human#parseabiitem-1"});Object.defineProperty(_assertThisInitialized(_this),"name",{enumerable:true,configurable:true,writable:true,value:"InvalidAbiItemError"});return _this}return _createClass(InvalidAbiItemError)}(errors_js_1.BaseError);exports.InvalidAbiItemError=InvalidAbiItemError;var UnknownTypeError=function(_errors_js_1$BaseErro2){_inherits(UnknownTypeError,_errors_js_1$BaseErro2);var _super2=_createSuper(UnknownTypeError);function UnknownTypeError(_ref2){var _this2;var type=_ref2.type;_classCallCheck(this,UnknownTypeError);_this2=_super2.call(this,"Unknown type.",{metaMessages:['Type "'.concat(type,'" is not a valid ABI type. Perhaps you forgot to include a struct signature?')]});Object.defineProperty(_assertThisInitialized(_this2),"name",{enumerable:true,configurable:true,writable:true,value:"UnknownTypeError"});return _this2}return _createClass(UnknownTypeError)}(errors_js_1.BaseError);exports.UnknownTypeError=UnknownTypeError;var UnknownSolidityTypeError=function(_errors_js_1$BaseErro3){_inherits(UnknownSolidityTypeError,_errors_js_1$BaseErro3);var _super3=_createSuper(UnknownSolidityTypeError);function UnknownSolidityTypeError(_ref3){var _this3;var type=_ref3.type;_classCallCheck(this,UnknownSolidityTypeError);_this3=_super3.call(this,"Unknown type.",{metaMessages:['Type "'.concat(type,'" is not a valid ABI type.')]});Object.defineProperty(_assertThisInitialized(_this3),"name",{enumerable:true,configurable:true,writable:true,value:"UnknownSolidityTypeError"});return _this3}return _createClass(UnknownSolidityTypeError)}(errors_js_1.BaseError);exports.UnknownSolidityTypeError=UnknownSolidityTypeError},{"../../errors.js":140}],143:[function(require,module,exports){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),o)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function _classCallCheck(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_setPrototypeOf(t,e)}function _createSuper(t){var r=_isNativeReflectConstruct();return function(){var e,o=_getPrototypeOf(t);if(r){var s=_getPrototypeOf(this).constructor;e=Reflect.construct(o,arguments,s)}else e=o.apply(this,arguments);return _possibleConstructorReturn(this,e)}}function _possibleConstructorReturn(t,e){if(e&&("object"==_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(_isNativeReflectConstruct=function _isNativeReflectConstruct(){return!!t})()}function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(t)}Object.defineProperty(exports,"__esModule",{value:true});exports.InvalidAbiTypeParameterError=exports.InvalidFunctionModifierError=exports.InvalidModifierError=exports.SolidityProtectedKeywordError=exports.InvalidParameterError=exports.InvalidAbiParametersError=exports.InvalidAbiParameterError=void 0;var errors_js_1=require("../../errors.js");var InvalidAbiParameterError=function(_errors_js_1$BaseErro){_inherits(InvalidAbiParameterError,_errors_js_1$BaseErro);var _super=_createSuper(InvalidAbiParameterError);function InvalidAbiParameterError(_ref){var _this;var param=_ref.param;_classCallCheck(this,InvalidAbiParameterError);_this=_super.call(this,"Failed to parse ABI parameter.",{details:"parseAbiParameter(".concat(JSON.stringify(param,null,2),")"),docsPath:"/api/human#parseabiparameter-1"});Object.defineProperty(_assertThisInitialized(_this),"name",{enumerable:true,configurable:true,writable:true,value:"InvalidAbiParameterError"});return _this}return _createClass(InvalidAbiParameterError)}(errors_js_1.BaseError);exports.InvalidAbiParameterError=InvalidAbiParameterError;var InvalidAbiParametersError=function(_errors_js_1$BaseErro2){_inherits(InvalidAbiParametersError,_errors_js_1$BaseErro2);var _super2=_createSuper(InvalidAbiParametersError);function InvalidAbiParametersError(_ref2){var _this2;var params=_ref2.params;_classCallCheck(this,InvalidAbiParametersError);_this2=_super2.call(this,"Failed to parse ABI parameters.",{details:"parseAbiParameters(".concat(JSON.stringify(params,null,2),")"),docsPath:"/api/human#parseabiparameters-1"});Object.defineProperty(_assertThisInitialized(_this2),"name",{enumerable:true,configurable:true,writable:true,value:"InvalidAbiParametersError"});return _this2}return _createClass(InvalidAbiParametersError)}(errors_js_1.BaseError);exports.InvalidAbiParametersError=InvalidAbiParametersError;var InvalidParameterError=function(_errors_js_1$BaseErro3){_inherits(InvalidParameterError,_errors_js_1$BaseErro3);var _super3=_createSuper(InvalidParameterError);function InvalidParameterError(_ref3){var _this3;var param=_ref3.param;_classCallCheck(this,InvalidParameterError);_this3=_super3.call(this,"Invalid ABI parameter.",{details:param});Object.defineProperty(_assertThisInitialized(_this3),"name",{enumerable:true,configurable:true,writable:true,value:"InvalidParameterError"});return _this3}return _createClass(InvalidParameterError)}(errors_js_1.BaseError);exports.InvalidParameterError=InvalidParameterError;var SolidityProtectedKeywordError=function(_errors_js_1$BaseErro4){_inherits(SolidityProtectedKeywordError,_errors_js_1$BaseErro4);var _super4=_createSuper(SolidityProtectedKeywordError);function SolidityProtectedKeywordError(_ref4){var _this4;var param=_ref4.param,name=_ref4.name;_classCallCheck(this,SolidityProtectedKeywordError);_this4=_super4.call(this,"Invalid ABI parameter.",{details:param,metaMessages:['"'.concat(name,'" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html')]});Object.defineProperty(_assertThisInitialized(_this4),"name",{enumerable:true,configurable:true,writable:true,value:"SolidityProtectedKeywordError"});return _this4}return _createClass(SolidityProtectedKeywordError)}(errors_js_1.BaseError);exports.SolidityProtectedKeywordError=SolidityProtectedKeywordError;var InvalidModifierError=function(_errors_js_1$BaseErro5){_inherits(InvalidModifierError,_errors_js_1$BaseErro5);var _super5=_createSuper(InvalidModifierError);function InvalidModifierError(_ref5){var _this5;var param=_ref5.param,type=_ref5.type,modifier=_ref5.modifier;_classCallCheck(this,InvalidModifierError);_this5=_super5.call(this,"Invalid ABI parameter.",{details:param,metaMessages:['Modifier "'.concat(modifier,'" not allowed').concat(type?' in "'.concat(type,'" type'):"",".")]});Object.defineProperty(_assertThisInitialized(_this5),"name",{enumerable:true,configurable:true,writable:true,value:"InvalidModifierError"});return _this5}return _createClass(InvalidModifierError)}(errors_js_1.BaseError);exports.InvalidModifierError=InvalidModifierError;var InvalidFunctionModifierError=function(_errors_js_1$BaseErro6){_inherits(InvalidFunctionModifierError,_errors_js_1$BaseErro6);var _super6=_createSuper(InvalidFunctionModifierError);function InvalidFunctionModifierError(_ref6){var _this6;var param=_ref6.param,type=_ref6.type,modifier=_ref6.modifier;_classCallCheck(this,InvalidFunctionModifierError);_this6=_super6.call(this,"Invalid ABI parameter.",{details:param,metaMessages:['Modifier "'.concat(modifier,'" not allowed').concat(type?' in "'.concat(type,'" type'):"","."),'Data location can only be specified for array, struct, or mapping types, but "'.concat(modifier,'" was given.')]});Object.defineProperty(_assertThisInitialized(_this6),"name",{enumerable:true,configurable:true,writable:true,value:"InvalidFunctionModifierError"});return _this6}return _createClass(InvalidFunctionModifierError)}(errors_js_1.BaseError);exports.InvalidFunctionModifierError=InvalidFunctionModifierError;var InvalidAbiTypeParameterError=function(_errors_js_1$BaseErro7){_inherits(InvalidAbiTypeParameterError,_errors_js_1$BaseErro7);var _super7=_createSuper(InvalidAbiTypeParameterError);function InvalidAbiTypeParameterError(_ref7){var _this7;var abiParameter=_ref7.abiParameter;_classCallCheck(this,InvalidAbiTypeParameterError);_this7=_super7.call(this,"Invalid ABI parameter.",{details:JSON.stringify(abiParameter,null,2),metaMessages:["ABI parameter type is invalid."]});Object.defineProperty(_assertThisInitialized(_this7),"name",{enumerable:true,configurable:true,writable:true,value:"InvalidAbiTypeParameterError"});return _this7}return _createClass(InvalidAbiTypeParameterError)}(errors_js_1.BaseError);exports.InvalidAbiTypeParameterError=InvalidAbiTypeParameterError},{"../../errors.js":140}],144:[function(require,module,exports){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),o)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function _classCallCheck(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_setPrototypeOf(t,e)}function _createSuper(t){var r=_isNativeReflectConstruct();return function(){var e,o=_getPrototypeOf(t);if(r){var s=_getPrototypeOf(this).constructor;e=Reflect.construct(o,arguments,s)}else e=o.apply(this,arguments);return _possibleConstructorReturn(this,e)}}function _possibleConstructorReturn(t,e){if(e&&("object"==_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(_isNativeReflectConstruct=function _isNativeReflectConstruct(){return!!t})()}function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(t)}Object.defineProperty(exports,"__esModule",{value:true});exports.InvalidStructSignatureError=exports.UnknownSignatureError=exports.InvalidSignatureError=void 0;var errors_js_1=require("../../errors.js");var InvalidSignatureError=function(_errors_js_1$BaseErro){_inherits(InvalidSignatureError,_errors_js_1$BaseErro);var _super=_createSuper(InvalidSignatureError);function InvalidSignatureError(_ref){var _this;var signature=_ref.signature,type=_ref.type;_classCallCheck(this,InvalidSignatureError);_this=_super.call(this,"Invalid ".concat(type," signature."),{details:signature});Object.defineProperty(_assertThisInitialized(_this),"name",{enumerable:true,configurable:true,writable:true,value:"InvalidSignatureError"});return _this}return _createClass(InvalidSignatureError)}(errors_js_1.BaseError);exports.InvalidSignatureError=InvalidSignatureError;var UnknownSignatureError=function(_errors_js_1$BaseErro2){_inherits(UnknownSignatureError,_errors_js_1$BaseErro2);var _super2=_createSuper(UnknownSignatureError);function UnknownSignatureError(_ref2){var _this2;var signature=_ref2.signature;_classCallCheck(this,UnknownSignatureError);_this2=_super2.call(this,"Unknown signature.",{details:signature});Object.defineProperty(_assertThisInitialized(_this2),"name",{enumerable:true,configurable:true,writable:true,value:"UnknownSignatureError"});return _this2}return _createClass(UnknownSignatureError)}(errors_js_1.BaseError);exports.UnknownSignatureError=UnknownSignatureError;var InvalidStructSignatureError=function(_errors_js_1$BaseErro3){_inherits(InvalidStructSignatureError,_errors_js_1$BaseErro3);var _super3=_createSuper(InvalidStructSignatureError);function InvalidStructSignatureError(_ref3){var _this3;var signature=_ref3.signature;_classCallCheck(this,InvalidStructSignatureError);_this3=_super3.call(this,"Invalid struct signature.",{details:signature,metaMessages:["No properties exist."]});Object.defineProperty(_assertThisInitialized(_this3),"name",{enumerable:true,configurable:true,writable:true,value:"InvalidStructSignatureError"});return _this3}return _createClass(InvalidStructSignatureError)}(errors_js_1.BaseError);exports.InvalidStructSignatureError=InvalidStructSignatureError},{"../../errors.js":140}],145:[function(require,module,exports){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),o)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function _classCallCheck(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_setPrototypeOf(t,e)}function _createSuper(t){var r=_isNativeReflectConstruct();return function(){var e,o=_getPrototypeOf(t);if(r){var s=_getPrototypeOf(this).constructor;e=Reflect.construct(o,arguments,s)}else e=o.apply(this,arguments);return _possibleConstructorReturn(this,e)}}function _possibleConstructorReturn(t,e){if(e&&("object"==_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(_isNativeReflectConstruct=function _isNativeReflectConstruct(){return!!t})()}function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(t)}Object.defineProperty(exports,"__esModule",{value:true});exports.InvalidParenthesisError=void 0;var errors_js_1=require("../../errors.js");var InvalidParenthesisError=function(_errors_js_1$BaseErro){_inherits(InvalidParenthesisError,_errors_js_1$BaseErro);var _super=_createSuper(InvalidParenthesisError);function InvalidParenthesisError(_ref){var _this;var current=_ref.current,depth=_ref.depth;_classCallCheck(this,InvalidParenthesisError);_this=_super.call(this,"Unbalanced parentheses.",{metaMessages:['"'.concat(current.trim(),'" has too many ').concat(depth>0?"opening":"closing"," parentheses.")],details:'Depth "'.concat(depth,'"')});Object.defineProperty(_assertThisInitialized(_this),"name",{enumerable:true,configurable:true,writable:true,value:"InvalidParenthesisError"});return _this}return _createClass(InvalidParenthesisError)}(errors_js_1.BaseError);exports.InvalidParenthesisError=InvalidParenthesisError},{"../../errors.js":140}],146:[function(require,module,exports){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),o)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function _classCallCheck(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_setPrototypeOf(t,e)}function _createSuper(t){var r=_isNativeReflectConstruct();return function(){var e,o=_getPrototypeOf(t);if(r){var s=_getPrototypeOf(this).constructor;e=Reflect.construct(o,arguments,s)}else e=o.apply(this,arguments);return _possibleConstructorReturn(this,e)}}function _possibleConstructorReturn(t,e){if(e&&("object"==_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(_isNativeReflectConstruct=function _isNativeReflectConstruct(){return!!t})()}function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(t)}Object.defineProperty(exports,"__esModule",{value:true});exports.CircularReferenceError=void 0;var errors_js_1=require("../../errors.js");var CircularReferenceError=function(_errors_js_1$BaseErro){_inherits(CircularReferenceError,_errors_js_1$BaseErro);var _super=_createSuper(CircularReferenceError);function CircularReferenceError(_ref){var _this;var type=_ref.type;_classCallCheck(this,CircularReferenceError);_this=_super.call(this,"Circular reference detected.",{metaMessages:['Struct "'.concat(type,'" is a circular reference.')]});Object.defineProperty(_assertThisInitialized(_this),"name",{enumerable:true,configurable:true,writable:true,value:"CircularReferenceError"});return _this}return _createClass(CircularReferenceError)}(errors_js_1.BaseError);exports.CircularReferenceError=CircularReferenceError},{"../../errors.js":140}],147:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.formatAbi=formatAbi;var formatAbiItem_js_1=require("./formatAbiItem.js");function formatAbi(abi){var signatures=[];var length=abi.length;for(var i=0;i<length;i++){var abiItem=abi[i];var signature=(0,formatAbiItem_js_1.formatAbiItem)(abiItem);signatures.push(signature)}return signatures}},{"./formatAbiItem.js":148}],148:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.formatAbiItem=formatAbiItem;var formatAbiParameters_js_1=require("./formatAbiParameters.js");function formatAbiItem(abiItem){var _abiItem$outputs;if(abiItem.type==="function")return"function ".concat(abiItem.name,"(").concat((0,formatAbiParameters_js_1.formatAbiParameters)(abiItem.inputs),")").concat(abiItem.stateMutability&&abiItem.stateMutability!=="nonpayable"?" ".concat(abiItem.stateMutability):"").concat((_abiItem$outputs=abiItem.outputs)!==null&&_abiItem$outputs!==void 0&&_abiItem$outputs.length?" returns (".concat((0,formatAbiParameters_js_1.formatAbiParameters)(abiItem.outputs),")"):"");if(abiItem.type==="event")return"event ".concat(abiItem.name,"(").concat((0,formatAbiParameters_js_1.formatAbiParameters)(abiItem.inputs),")");if(abiItem.type==="error")return"error ".concat(abiItem.name,"(").concat((0,formatAbiParameters_js_1.formatAbiParameters)(abiItem.inputs),")");if(abiItem.type==="constructor")return"constructor(".concat((0,formatAbiParameters_js_1.formatAbiParameters)(abiItem.inputs),")").concat(abiItem.stateMutability==="payable"?" payable":"");if(abiItem.type==="fallback")return"fallback() external".concat(abiItem.stateMutability==="payable"?" payable":"");return"receive() external payable"}},{"./formatAbiParameters.js":150}],149:[function(require,module,exports){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function _defineProperty(e,r,t){return(r=_toPropertyKey(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function _wrapRegExp(){_wrapRegExp=function _wrapRegExp(e,r){return new BabelRegExp(e,void 0,r)};var e=RegExp.prototype,r=new WeakMap;function BabelRegExp(e,t,p){var o=RegExp(e,t);return r.set(o,p||r.get(e)),_setPrototypeOf(o,BabelRegExp.prototype)}function buildGroups(e,t){var p=r.get(t);return Object.keys(p).reduce(function(r,t){var o=p[t];if("number"==typeof o)r[t]=e[o];else{for(var i=0;void 0===e[o[i]]&&i+1<o.length;){i++}r[t]=e[o[i]]}return r},Object.create(null))}return _inherits(BabelRegExp,RegExp),BabelRegExp.prototype.exec=function(r){var t=e.exec.call(this,r);if(t){t.groups=buildGroups(t,this);var p=t.indices;p&&(p.groups=buildGroups(p,this))}return t},BabelRegExp.prototype[Symbol.replace]=function(t,p){if("string"==typeof p){var o=r.get(this);return e[Symbol.replace].call(this,t,p.replace(/\$<([^>]+)>/g,function(e,r){var t=o[r];return"$"+(Array.isArray(t)?t.join("$"):t)}))}if("function"==typeof p){var i=this;return e[Symbol.replace].call(this,t,function(){var e=arguments;return"object"!=_typeof(e[e.length-1])&&(e=[].slice.call(e)).push(buildGroups(e,i)),p.apply(this,e)})}return e[Symbol.replace].call(this,t,p)},_wrapRegExp.apply(this,arguments)}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_setPrototypeOf(t,e)}Object.defineProperty(exports,"__esModule",{value:true});exports.formatAbiParameter=formatAbiParameter;var regex_js_1=require("../regex.js");var tupleRegex=_wrapRegExp(/^tuple((\[([0-9]*)\])*)$/,{array:1});function formatAbiParameter(abiParameter){var type=abiParameter.type;if(tupleRegex.test(abiParameter.type)&&"components"in abiParameter){var _result$array;type="(";var length=abiParameter.components.length;for(var i=0;i<length;i++){var component=abiParameter.components[i];type+=formatAbiParameter(component);if(i<length-1)type+=", "}var result=(0,regex_js_1.execTyped)(tupleRegex,abiParameter.type);type+=")".concat((_result$array=result===null||result===void 0?void 0:result.array)!==null&&_result$array!==void 0?_result$array:"");return formatAbiParameter(_objectSpread(_objectSpread({},abiParameter),{},{type:type}))}if("indexed"in abiParameter&&abiParameter.indexed)type="".concat(type," indexed");if(abiParameter.name)return"".concat(type," ").concat(abiParameter.name);return type}},{"../regex.js":160}],150:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.formatAbiParameters=formatAbiParameters;var formatAbiParameter_js_1=require("./formatAbiParameter.js");function formatAbiParameters(abiParameters){var params="";var length=abiParameters.length;for(var i=0;i<length;i++){var abiParameter=abiParameters[i];params+=(0,formatAbiParameter_js_1.formatAbiParameter)(abiParameter);if(i!==length-1)params+=", "}return params}},{"./formatAbiParameter.js":149}],151:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.parseAbi=parseAbi;var signatures_js_1=require("./runtime/signatures.js");var structs_js_1=require("./runtime/structs.js");var utils_js_1=require("./runtime/utils.js");function parseAbi(signatures){var structs=(0,structs_js_1.parseStructs)(signatures);var abi=[];var length=signatures.length;for(var i=0;i<length;i++){var signature=signatures[i];if((0,signatures_js_1.isStructSignature)(signature))continue;abi.push((0,utils_js_1.parseSignature)(signature,structs))}return abi}},{"./runtime/signatures.js":156,"./runtime/structs.js":157,"./runtime/utils.js":158}],152:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.parseAbiItem=parseAbiItem;var abiItem_js_1=require("./errors/abiItem.js");var signatures_js_1=require("./runtime/signatures.js");var structs_js_1=require("./runtime/structs.js");var utils_js_1=require("./runtime/utils.js");function parseAbiItem(signature){var abiItem;if(typeof signature==="string")abiItem=(0,utils_js_1.parseSignature)(signature);else{var structs=(0,structs_js_1.parseStructs)(signature);var length=signature.length;for(var i=0;i<length;i++){var signature_=signature[i];if((0,signatures_js_1.isStructSignature)(signature_))continue;abiItem=(0,utils_js_1.parseSignature)(signature_,structs);break}}if(!abiItem)throw new abiItem_js_1.InvalidAbiItemError({signature:signature});return abiItem}},{"./errors/abiItem.js":142,"./runtime/signatures.js":156,"./runtime/structs.js":157,"./runtime/utils.js":158}],153:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.parseAbiParameter=parseAbiParameter;var abiParameter_js_1=require("./errors/abiParameter.js");var signatures_js_1=require("./runtime/signatures.js");var structs_js_1=require("./runtime/structs.js");var utils_js_1=require("./runtime/utils.js");function parseAbiParameter(param){var abiParameter;if(typeof param==="string")abiParameter=(0,utils_js_1.parseAbiParameter)(param,{modifiers:signatures_js_1.modifiers});else{var structs=(0,structs_js_1.parseStructs)(param);var length=param.length;for(var i=0;i<length;i++){var signature=param[i];if((0,signatures_js_1.isStructSignature)(signature))continue;abiParameter=(0,utils_js_1.parseAbiParameter)(signature,{modifiers:signatures_js_1.modifiers,structs:structs});break}}if(!abiParameter)throw new abiParameter_js_1.InvalidAbiParameterError({param:param});return abiParameter}},{"./errors/abiParameter.js":143,"./runtime/signatures.js":156,"./runtime/structs.js":157,"./runtime/utils.js":158}],154:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.parseAbiParameters=parseAbiParameters;var abiParameter_js_1=require("./errors/abiParameter.js");var signatures_js_1=require("./runtime/signatures.js");var structs_js_1=require("./runtime/structs.js");var utils_js_1=require("./runtime/utils.js");var utils_js_2=require("./runtime/utils.js");function parseAbiParameters(params){var abiParameters=[];if(typeof params==="string"){var parameters=(0,utils_js_1.splitParameters)(params);var length=parameters.length;for(var i=0;i<length;i++){abiParameters.push((0,utils_js_2.parseAbiParameter)(parameters[i],{modifiers:signatures_js_1.modifiers}))}}else{var structs=(0,structs_js_1.parseStructs)(params);var _length=params.length;for(var _i=0;_i<_length;_i++){var signature=params[_i];if((0,signatures_js_1.isStructSignature)(signature))continue;var _parameters=(0,utils_js_1.splitParameters)(signature);var _length2=_parameters.length;for(var k=0;k<_length2;k++){abiParameters.push((0,utils_js_2.parseAbiParameter)(_parameters[k],{modifiers:signatures_js_1.modifiers,structs:structs}))}}}if(abiParameters.length===0)throw new abiParameter_js_1.InvalidAbiParametersError({params:params});return abiParameters}},{"./errors/abiParameter.js":143,"./runtime/signatures.js":156,"./runtime/structs.js":157,"./runtime/utils.js":158}],155:[function(require,module,exports){"use strict";function _createForOfIteratorHelper(r,e){var t="undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(!t){if(Array.isArray(r)||(t=_unsupportedIterableToArray(r))||e&&r&&"number"==typeof r.length){t&&(r=t);var _n=0,F=function F(){};return{s:F,n:function n(){return _n>=r.length?{done:!0}:{done:!1,value:r[_n++]}},e:function e(r){throw r},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function s(){t=t.call(r)},n:function n(){var r=t.next();return a=r.done,r},e:function e(r){u=!0,o=r},f:function f(){try{a||null==t["return"]||t["return"]()}finally{if(u)throw o}}}}function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++){n[e]=r[e]}return n}Object.defineProperty(exports,"__esModule",{value:true});exports.parameterCache=void 0;exports.getParameterCacheKey=getParameterCacheKey;function getParameterCacheKey(param,type,structs){var structKey="";if(structs)for(var _i=0,_Object$entries=Object.entries(structs);_i<_Object$entries.length;_i++){var struct=_Object$entries[_i];if(!struct)continue;var propertyKey="";var _iterator=_createForOfIteratorHelper(struct[1]),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var property=_step.value;propertyKey+="[".concat(property.type).concat(property.name?":".concat(property.name):"","]")}}catch(err){_iterator.e(err)}finally{_iterator.f()}structKey+="(".concat(struct[0],"{").concat(propertyKey,"})")}if(type)return"".concat(type,":").concat(param).concat(structKey);return param}exports.parameterCache=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:true}],["event:address indexed to",{type:"address",name:"to",indexed:true}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:true}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:true}]])},{}],156:[function(require,module,exports){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _wrapRegExp(){_wrapRegExp=function _wrapRegExp(e,r){return new BabelRegExp(e,void 0,r)};var e=RegExp.prototype,r=new WeakMap;function BabelRegExp(e,t,p){var o=RegExp(e,t);return r.set(o,p||r.get(e)),_setPrototypeOf(o,BabelRegExp.prototype)}function buildGroups(e,t){var p=r.get(t);return Object.keys(p).reduce(function(r,t){var o=p[t];if("number"==typeof o)r[t]=e[o];else{for(var i=0;void 0===e[o[i]]&&i+1<o.length;){i++}r[t]=e[o[i]]}return r},Object.create(null))}return _inherits(BabelRegExp,RegExp),BabelRegExp.prototype.exec=function(r){var t=e.exec.call(this,r);if(t){t.groups=buildGroups(t,this);var p=t.indices;p&&(p.groups=buildGroups(p,this))}return t},BabelRegExp.prototype[Symbol.replace]=function(t,p){if("string"==typeof p){var o=r.get(this);return e[Symbol.replace].call(this,t,p.replace(/\$<([^>]+)>/g,function(e,r){var t=o[r];return"$"+(Array.isArray(t)?t.join("$"):t)}))}if("function"==typeof p){var i=this;return e[Symbol.replace].call(this,t,function(){var e=arguments;return"object"!=_typeof(e[e.length-1])&&(e=[].slice.call(e)).push(buildGroups(e,i)),p.apply(this,e)})}return e[Symbol.replace].call(this,t,p)},_wrapRegExp.apply(this,arguments)}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_setPrototypeOf(t,e)}Object.defineProperty(exports,"__esModule",{value:true});exports.functionModifiers=exports.eventModifiers=exports.modifiers=void 0;exports.isErrorSignature=isErrorSignature;exports.execErrorSignature=execErrorSignature;exports.isEventSignature=isEventSignature;exports.execEventSignature=execEventSignature;exports.isFunctionSignature=isFunctionSignature;exports.execFunctionSignature=execFunctionSignature;exports.isStructSignature=isStructSignature;exports.execStructSignature=execStructSignature;exports.isConstructorSignature=isConstructorSignature;exports.execConstructorSignature=execConstructorSignature;exports.isFallbackSignature=isFallbackSignature;exports.execFallbackSignature=execFallbackSignature;exports.isReceiveSignature=isReceiveSignature;var regex_js_1=require("../../regex.js");var errorSignatureRegex=_wrapRegExp(/^error ([\$A-Z_a-z][\$0-9A-Z_a-z]*)\((.*?)\)$/,{name:1,parameters:2});function isErrorSignature(signature){return errorSignatureRegex.test(signature)}function execErrorSignature(signature){return(0,regex_js_1.execTyped)(errorSignatureRegex,signature)}var eventSignatureRegex=_wrapRegExp(/^event ([\$A-Z_a-z][\$0-9A-Z_a-z]*)\((.*?)\)$/,{name:1,parameters:2});function isEventSignature(signature){return eventSignatureRegex.test(signature)}function execEventSignature(signature){return(0,regex_js_1.execTyped)(eventSignatureRegex,signature)}var functionSignatureRegex=_wrapRegExp(/^function ([\$A-Z_a-z][\$0-9A-Z_a-z]*)\((.*?)\)(?: (external|public{1}))?(?: (pure|view|nonpayable|payable{1}))?(?: returns[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]?\((.*?)\))?$/,{name:1,parameters:2,scope:3,stateMutability:4,returns:5});function isFunctionSignature(signature){return functionSignatureRegex.test(signature)}function execFunctionSignature(signature){return(0,regex_js_1.execTyped)(functionSignatureRegex,signature)}var structSignatureRegex=_wrapRegExp(/^struct ([\$A-Z_a-z][\$0-9A-Z_a-z]*) \{(.*?)\}$/,{name:1,properties:2});function isStructSignature(signature){return structSignatureRegex.test(signature)}function execStructSignature(signature){return(0,regex_js_1.execTyped)(structSignatureRegex,signature)}var constructorSignatureRegex=_wrapRegExp(/^constructor\((.*?)\)(?:[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF](payable{1}))?$/,{parameters:1,stateMutability:2});function isConstructorSignature(signature){return constructorSignatureRegex.test(signature)}function execConstructorSignature(signature){return(0,regex_js_1.execTyped)(constructorSignatureRegex,signature)}var fallbackSignatureRegex=_wrapRegExp(/^fallback\(\) external(?:[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF](payable{1}))?$/,{stateMutability:1});function isFallbackSignature(signature){return fallbackSignatureRegex.test(signature)}function execFallbackSignature(signature){return(0,regex_js_1.execTyped)(fallbackSignatureRegex,signature)}var receiveSignatureRegex=/^receive\(\) external payable$/;function isReceiveSignature(signature){return receiveSignatureRegex.test(signature)}exports.modifiers=new Set(["memory","indexed","storage","calldata"]);exports.eventModifiers=new Set(["indexed"]);exports.functionModifiers=new Set(["calldata","memory","storage"])},{"../../regex.js":160}],157:[function(require,module,exports){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _toConsumableArray(r){return _arrayWithoutHoles(r)||_iterableToArray(r)||_unsupportedIterableToArray(r)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}function _arrayWithoutHoles(r){if(Array.isArray(r))return _arrayLikeToArray(r)}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function _defineProperty(e,r,t){return(r=_toPropertyKey(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function _wrapRegExp(){_wrapRegExp=function _wrapRegExp(e,r){return new BabelRegExp(e,void 0,r)};var e=RegExp.prototype,r=new WeakMap;function BabelRegExp(e,t,p){var o=RegExp(e,t);return r.set(o,p||r.get(e)),_setPrototypeOf(o,BabelRegExp.prototype)}function buildGroups(e,t){var p=r.get(t);return Object.keys(p).reduce(function(r,t){var o=p[t];if("number"==typeof o)r[t]=e[o];else{for(var i=0;void 0===e[o[i]]&&i+1<o.length;){i++}r[t]=e[o[i]]}return r},Object.create(null))}return _inherits(BabelRegExp,RegExp),BabelRegExp.prototype.exec=function(r){var t=e.exec.call(this,r);if(t){t.groups=buildGroups(t,this);var p=t.indices;p&&(p.groups=buildGroups(p,this))}return t},BabelRegExp.prototype[Symbol.replace]=function(t,p){if("string"==typeof p){var o=r.get(this);return e[Symbol.replace].call(this,t,p.replace(/\$<([^>]+)>/g,function(e,r){var t=o[r];return"$"+(Array.isArray(t)?t.join("$"):t)}))}if("function"==typeof p){var i=this;return e[Symbol.replace].call(this,t,function(){var e=arguments;return"object"!=_typeof(e[e.length-1])&&(e=[].slice.call(e)).push(buildGroups(e,i)),p.apply(this,e)})}return e[Symbol.replace].call(this,t,p)},_wrapRegExp.apply(this,arguments)}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_setPrototypeOf(t,e)}function _slicedToArray(r,e){return _arrayWithHoles(r)||_iterableToArrayLimit(r,e)||_unsupportedIterableToArray(r,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++){n[e]=r[e]}return n}function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0){}}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t["return"]&&(u=t["return"](),Object(u)!==u))return}finally{if(o)throw n}}return a}}function _arrayWithHoles(r){if(Array.isArray(r))return r}Object.defineProperty(exports,"__esModule",{value:true});exports.parseStructs=parseStructs;var regex_js_1=require("../../regex.js");var abiItem_js_1=require("../errors/abiItem.js");var abiParameter_js_1=require("../errors/abiParameter.js");var signature_js_1=require("../errors/signature.js");var struct_js_1=require("../errors/struct.js");var signatures_js_1=require("./signatures.js");var utils_js_1=require("./utils.js");function parseStructs(signatures){var shallowStructs={};var signaturesLength=signatures.length;for(var i=0;i<signaturesLength;i++){var signature=signatures[i];if(!(0,signatures_js_1.isStructSignature)(signature))continue;var match=(0,signatures_js_1.execStructSignature)(signature);if(!match)throw new signature_js_1.InvalidSignatureError({signature:signature,type:"struct"});var properties=match.properties.split(";");var components=[];var propertiesLength=properties.length;for(var k=0;k<propertiesLength;k++){var property=properties[k];var trimmed=property.trim();if(!trimmed)continue;var abiParameter=(0,utils_js_1.parseAbiParameter)(trimmed,{type:"struct"});components.push(abiParameter)}if(!components.length)throw new signature_js_1.InvalidStructSignatureError({signature:signature});shallowStructs[match.name]=components}var resolvedStructs={};var entries=Object.entries(shallowStructs);var entriesLength=entries.length;for(var _i=0;_i<entriesLength;_i++){var _entries$_i=_slicedToArray(entries[_i],2),name=_entries$_i[0],parameters=_entries$_i[1];resolvedStructs[name]=resolveStructs(parameters,shallowStructs)}return resolvedStructs}var typeWithoutTupleRegex=_wrapRegExp(/^([\$A-Z_a-z][\$0-9A-Z_a-z]*)((?:\[[0-9]*?\])+?)?$/,{type:1,array:2});function resolveStructs(abiParameters,structs){var ancestors=arguments.length>2&&arguments[2]!==undefined?arguments[2]:new Set;var components=[];var length=abiParameters.length;for(var i=0;i<length;i++){var abiParameter=abiParameters[i];var isTuple=regex_js_1.isTupleRegex.test(abiParameter.type);if(isTuple)components.push(abiParameter);else{var match=(0,regex_js_1.execTyped)(typeWithoutTupleRegex,abiParameter.type);if(!(match!==null&&match!==void 0&&match.type))throw new abiParameter_js_1.InvalidAbiTypeParameterError({abiParameter:abiParameter});var array=match.array,type=match.type;if(type in structs){var _structs$type;if(ancestors.has(type))throw new struct_js_1.CircularReferenceError({type:type});components.push(_objectSpread(_objectSpread({},abiParameter),{},{type:"tuple".concat(array!==null&&array!==void 0?array:""),components:resolveStructs((_structs$type=structs[type])!==null&&_structs$type!==void 0?_structs$type:[],structs,new Set([].concat(_toConsumableArray(ancestors),[type])))}))}else{if((0,utils_js_1.isSolidityType)(type))components.push(abiParameter);else throw new abiItem_js_1.UnknownTypeError({type:type})}}}return components}},{"../../regex.js":160,"../errors/abiItem.js":142,"../errors/abiParameter.js":143,"../errors/signature.js":144,"../errors/struct.js":146,"./signatures.js":156,"./utils.js":158}],158:[function(require,module,exports){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _toConsumableArray(r){return _arrayWithoutHoles(r)||_iterableToArray(r)||_unsupportedIterableToArray(r)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}function _iterableToArray(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}function _arrayWithoutHoles(r){if(Array.isArray(r))return _arrayLikeToArray(r)}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++){n[e]=r[e]}return n}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function _defineProperty(e,r,t){return(r=_toPropertyKey(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function _wrapRegExp(){_wrapRegExp=function _wrapRegExp(e,r){return new BabelRegExp(e,void 0,r)};var e=RegExp.prototype,r=new WeakMap;function BabelRegExp(e,t,p){var o=RegExp(e,t);return r.set(o,p||r.get(e)),_setPrototypeOf(o,BabelRegExp.prototype)}function buildGroups(e,t){var p=r.get(t);return Object.keys(p).reduce(function(r,t){var o=p[t];if("number"==typeof o)r[t]=e[o];else{for(var i=0;void 0===e[o[i]]&&i+1<o.length;){i++}r[t]=e[o[i]]}return r},Object.create(null))}return _inherits(BabelRegExp,RegExp),BabelRegExp.prototype.exec=function(r){var t=e.exec.call(this,r);if(t){t.groups=buildGroups(t,this);var p=t.indices;p&&(p.groups=buildGroups(p,this))}return t},BabelRegExp.prototype[Symbol.replace]=function(t,p){if("string"==typeof p){var o=r.get(this);return e[Symbol.replace].call(this,t,p.replace(/\$<([^>]+)>/g,function(e,r){var t=o[r];return"$"+(Array.isArray(t)?t.join("$"):t)}))}if("function"==typeof p){var i=this;return e[Symbol.replace].call(this,t,function(){var e=arguments;return"object"!=_typeof(e[e.length-1])&&(e=[].slice.call(e)).push(buildGroups(e,i)),p.apply(this,e)})}return e[Symbol.replace].call(this,t,p)},_wrapRegExp.apply(this,arguments)}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_setPrototypeOf(t,e)}Object.defineProperty(exports,"__esModule",{value:true});exports.parseSignature=parseSignature;exports.parseFunctionSignature=parseFunctionSignature;exports.parseEventSignature=parseEventSignature;exports.parseErrorSignature=parseErrorSignature;exports.parseConstructorSignature=parseConstructorSignature;exports.parseFallbackSignature=parseFallbackSignature;exports.parseAbiParameter=parseAbiParameter;exports.splitParameters=splitParameters;exports.isSolidityType=isSolidityType;exports.isSolidityKeyword=isSolidityKeyword;exports.isValidDataLocation=isValidDataLocation;var regex_js_1=require("../../regex.js");var abiItem_js_1=require("../errors/abiItem.js");var abiParameter_js_1=require("../errors/abiParameter.js");var signature_js_1=require("../errors/signature.js");var splitParameters_js_1=require("../errors/splitParameters.js");var cache_js_1=require("./cache.js");var signatures_js_1=require("./signatures.js");function parseSignature(signature){var structs=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if((0,signatures_js_1.isFunctionSignature)(signature))return parseFunctionSignature(signature,structs);if((0,signatures_js_1.isEventSignature)(signature))return parseEventSignature(signature,structs);if((0,signatures_js_1.isErrorSignature)(signature))return parseErrorSignature(signature,structs);if((0,signatures_js_1.isConstructorSignature)(signature))return parseConstructorSignature(signature,structs);if((0,signatures_js_1.isFallbackSignature)(signature))return parseFallbackSignature(signature);if((0,signatures_js_1.isReceiveSignature)(signature))return{type:"receive",stateMutability:"payable"};throw new signature_js_1.UnknownSignatureError({signature:signature})}function parseFunctionSignature(signature){var _match$stateMutabilit;var structs=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var match=(0,signatures_js_1.execFunctionSignature)(signature);if(!match)throw new signature_js_1.InvalidSignatureError({signature:signature,type:"function"});var inputParams=splitParameters(match.parameters);var inputs=[];var inputLength=inputParams.length;for(var i=0;i<inputLength;i++){inputs.push(parseAbiParameter(inputParams[i],{modifiers:signatures_js_1.functionModifiers,structs:structs,type:"function"}))}var outputs=[];if(match.returns){var outputParams=splitParameters(match.returns);var outputLength=outputParams.length;for(var _i=0;_i<outputLength;_i++){outputs.push(parseAbiParameter(outputParams[_i],{modifiers:signatures_js_1.functionModifiers,structs:structs,type:"function"}))}}return{name:match.name,type:"function",stateMutability:(_match$stateMutabilit=match.stateMutability)!==null&&_match$stateMutabilit!==void 0?_match$stateMutabilit:"nonpayable",inputs:inputs,outputs:outputs}}function parseEventSignature(signature){var structs=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var match=(0,signatures_js_1.execEventSignature)(signature);if(!match)throw new signature_js_1.InvalidSignatureError({signature:signature,type:"event"});var params=splitParameters(match.parameters);var abiParameters=[];var length=params.length;for(var i=0;i<length;i++){abiParameters.push(parseAbiParameter(params[i],{modifiers:signatures_js_1.eventModifiers,structs:structs,type:"event"}))}return{name:match.name,type:"event",inputs:abiParameters}}function parseErrorSignature(signature){var structs=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var match=(0,signatures_js_1.execErrorSignature)(signature);if(!match)throw new signature_js_1.InvalidSignatureError({signature:signature,type:"error"});var params=splitParameters(match.parameters);var abiParameters=[];var length=params.length;for(var i=0;i<length;i++){abiParameters.push(parseAbiParameter(params[i],{structs:structs,type:"error"}))}return{name:match.name,type:"error",inputs:abiParameters}}function parseConstructorSignature(signature){var _match$stateMutabilit2;var structs=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var match=(0,signatures_js_1.execConstructorSignature)(signature);if(!match)throw new signature_js_1.InvalidSignatureError({signature:signature,type:"constructor"});var params=splitParameters(match.parameters);var abiParameters=[];var length=params.length;for(var i=0;i<length;i++){abiParameters.push(parseAbiParameter(params[i],{structs:structs,type:"constructor"}))}return{type:"constructor",stateMutability:(_match$stateMutabilit2=match.stateMutability)!==null&&_match$stateMutabilit2!==void 0?_match$stateMutabilit2:"nonpayable",inputs:abiParameters}}function parseFallbackSignature(signature){var _match$stateMutabilit3;var match=(0,signatures_js_1.execFallbackSignature)(signature);if(!match)throw new signature_js_1.InvalidSignatureError({signature:signature,type:"fallback"});return{type:"fallback",stateMutability:(_match$stateMutabilit3=match.stateMutability)!==null&&_match$stateMutabilit3!==void 0?_match$stateMutabilit3:"nonpayable"}}var abiParameterWithoutTupleRegex=_wrapRegExp(/^([\$A-Z_a-z][\$0-9A-Z_a-z]*)((?:\[[0-9]*?\])+?)?(?:[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF](calldata|indexed|memory|storage{1}))?(?:[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]([\$A-Z_a-z][\$0-9A-Z_a-z]*))?$/,{type:1,array:2,modifier:3,name:4});var abiParameterWithTupleRegex=_wrapRegExp(/^\((.+?)\)((?:\[[0-9]*?\])+?)?(?:[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF](calldata|indexed|memory|storage{1}))?(?:[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]([\$A-Z_a-z][\$0-9A-Z_a-z]*))?$/,{type:1,array:2,modifier:3,name:4});var dynamicIntegerRegex=/^u?int$/;function parseAbiParameter(param,options){var _options$structs,_match$array;var parameterCacheKey=(0,cache_js_1.getParameterCacheKey)(param,options===null||options===void 0?void 0:options.type,options===null||options===void 0?void 0:options.structs);if(cache_js_1.parameterCache.has(parameterCacheKey))return cache_js_1.parameterCache.get(parameterCacheKey);var isTuple=regex_js_1.isTupleRegex.test(param);var match=(0,regex_js_1.execTyped)(isTuple?abiParameterWithTupleRegex:abiParameterWithoutTupleRegex,param);if(!match)throw new abiParameter_js_1.InvalidParameterError({param:param});if(match.name&&isSolidityKeyword(match.name))throw new abiParameter_js_1.SolidityProtectedKeywordError({param:param,name:match.name});var name=match.name?{name:match.name}:{};var indexed=match.modifier==="indexed"?{indexed:true}:{};var structs=(_options$structs=options===null||options===void 0?void 0:options.structs)!==null&&_options$structs!==void 0?_options$structs:{};var type;var components={};if(isTuple){type="tuple";var params=splitParameters(match.type);var components_=[];var length=params.length;for(var i=0;i<length;i++){components_.push(parseAbiParameter(params[i],{structs:structs}))}components={components:components_}}else if(match.type in structs){type="tuple";components={components:structs[match.type]}}else if(dynamicIntegerRegex.test(match.type)){type="".concat(match.type,"256")}else{type=match.type;if(!((options===null||options===void 0?void 0:options.type)==="struct")&&!isSolidityType(type))throw new abiItem_js_1.UnknownSolidityTypeError({type:type})}if(match.modifier){var _options$modifiers,_options$modifiers$ha;if(!(options!==null&&options!==void 0&&(_options$modifiers=options.modifiers)!==null&&_options$modifiers!==void 0&&(_options$modifiers$ha=_options$modifiers.has)!==null&&_options$modifiers$ha!==void 0&&_options$modifiers$ha.call(_options$modifiers,match.modifier)))throw new abiParameter_js_1.InvalidModifierError({param:param,type:options===null||options===void 0?void 0:options.type,modifier:match.modifier});if(signatures_js_1.functionModifiers.has(match.modifier)&&!isValidDataLocation(type,!!match.array))throw new abiParameter_js_1.InvalidFunctionModifierError({param:param,type:options===null||options===void 0?void 0:options.type,modifier:match.modifier})}var abiParameter=_objectSpread(_objectSpread(_objectSpread({type:"".concat(type).concat((_match$array=match.array)!==null&&_match$array!==void 0?_match$array:"")},name),indexed),components);cache_js_1.parameterCache.set(parameterCacheKey,abiParameter);return abiParameter}function splitParameters(params){var result=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];var current=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"";var depth=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0;var length=params.trim().length;for(var i=0;i<length;i++){var _char=params[i];var tail=params.slice(i+1);switch(_char){case",":return depth===0?splitParameters(tail,[].concat(_toConsumableArray(result),[current.trim()])):splitParameters(tail,result,"".concat(current).concat(_char),depth);case"(":return splitParameters(tail,result,"".concat(current).concat(_char),depth+1);case")":return splitParameters(tail,result,"".concat(current).concat(_char),depth-1);default:return splitParameters(tail,result,"".concat(current).concat(_char),depth)}}if(current==="")return result;if(depth!==0)throw new splitParameters_js_1.InvalidParenthesisError({current:current,depth:depth});result.push(current.trim());return result}function isSolidityType(type){return type==="address"||type==="bool"||type==="function"||type==="string"||regex_js_1.bytesRegex.test(type)||regex_js_1.integerRegex.test(type)}var protectedKeywordsRegex=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function isSolidityKeyword(name){return name==="address"||name==="bool"||name==="function"||name==="string"||name==="tuple"||regex_js_1.bytesRegex.test(name)||regex_js_1.integerRegex.test(name)||protectedKeywordsRegex.test(name)}function isValidDataLocation(type,isArray){return isArray||type==="bytes"||type==="string"||type==="tuple"}},{"../../regex.js":160,"../errors/abiItem.js":142,"../errors/abiParameter.js":143,"../errors/signature.js":144,"../errors/splitParameters.js":145,"./cache.js":155,"./signatures.js":156}],159:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.narrow=narrow;function narrow(value){return value}},{}],160:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.isTupleRegex=exports.integerRegex=exports.bytesRegex=void 0;exports.execTyped=execTyped;function execTyped(regex,string){var match=regex.exec(string);return match===null||match===void 0?void 0:match.groups}exports.bytesRegex=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/;exports.integerRegex=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;exports.isTupleRegex=/^\(.+?\).*?$/},{}],161:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.version=void 0;exports.version="1.0.8"},{}],162:[function(require,module,exports){(function(global){(function(){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}var objectAssign=require("object-assign");function compare(a,b){if(a===b){return 0}var x=a.length;var y=b.length;for(var i=0,len=Math.min(x,y);i<len;++i){if(a[i]!==b[i]){x=a[i];y=b[i];break}}if(x<y){return-1}if(y<x){return 1}return 0}function isBuffer(b){if(global.Buffer&&typeof global.Buffer.isBuffer==="function"){return global.Buffer.isBuffer(b)}return!!(b!=null&&b._isBuffer)}var util=require("util/");var hasOwn=Object.prototype.hasOwnProperty;var pSlice=Array.prototype.slice;var functionsHaveNames=function(){return function foo(){}.name==="foo"}();function pToString(obj){return Object.prototype.toString.call(obj)}function isView(arrbuf){if(isBuffer(arrbuf)){return false}if(typeof global.ArrayBuffer!=="function"){return false}if(typeof ArrayBuffer.isView==="function"){return ArrayBuffer.isView(arrbuf)}if(!arrbuf){return false}if(arrbuf instanceof DataView){return true}if(arrbuf.buffer&&arrbuf.buffer instanceof ArrayBuffer){return true}return false}var assert=module.exports=ok;var regex=/\s*function\s+([^\(\s]*)\s*/;function getName(func){if(!util.isFunction(func)){return}if(functionsHaveNames){return func.name}var str=func.toString();var match=str.match(regex);return match&&match[1]}assert.AssertionError=function AssertionError(options){this.name="AssertionError";this.actual=options.actual;this.expected=options.expected;this.operator=options.operator;if(options.message){this.message=options.message;this.generatedMessage=false}else{this.message=getMessage(this);this.generatedMessage=true}var stackStartFunction=options.stackStartFunction||fail;if(Error.captureStackTrace){Error.captureStackTrace(this,stackStartFunction)}else{var err=new Error;if(err.stack){var out=err.stack;var fn_name=getName(stackStartFunction);var idx=out.indexOf("\n"+fn_name);if(idx>=0){var next_line=out.indexOf("\n",idx+1);out=out.substring(next_line+1)}this.stack=out}}};util.inherits(assert.AssertionError,Error);function truncate(s,n){if(typeof s==="string"){return s.length<n?s:s.slice(0,n)}else{return s}}function inspect(something){if(functionsHaveNames||!util.isFunction(something)){return util.inspect(something)}var rawname=getName(something);var name=rawname?": "+rawname:"";return"[Function"+name+"]"}function getMessage(self){return truncate(inspect(self.actual),128)+" "+self.operator+" "+truncate(inspect(self.expected),128)}function fail(actual,expected,message,operator,stackStartFunction){throw new assert.AssertionError({message:message,actual:actual,expected:expected,operator:operator,stackStartFunction:stackStartFunction})}assert.fail=fail;function ok(value,message){if(!value)fail(value,true,message,"==",assert.ok)}assert.ok=ok;assert.equal=function equal(actual,expected,message){if(actual!=expected)fail(actual,expected,message,"==",assert.equal)};assert.notEqual=function notEqual(actual,expected,message){if(actual==expected){fail(actual,expected,message,"!=",assert.notEqual)}};assert.deepEqual=function deepEqual(actual,expected,message){if(!_deepEqual(actual,expected,false)){fail(actual,expected,message,"deepEqual",assert.deepEqual)}};assert.deepStrictEqual=function deepStrictEqual(actual,expected,message){if(!_deepEqual(actual,expected,true)){fail(actual,expected,message,"deepStrictEqual",assert.deepStrictEqual)}};function _deepEqual(actual,expected,strict,memos){if(actual===expected){return true}else if(isBuffer(actual)&&isBuffer(expected)){return compare(actual,expected)===0}else if(util.isDate(actual)&&util.isDate(expected)){return actual.getTime()===expected.getTime()}else if(util.isRegExp(actual)&&util.isRegExp(expected)){return actual.source===expected.source&&actual.global===expected.global&&actual.multiline===expected.multiline&&actual.lastIndex===expected.lastIndex&&actual.ignoreCase===expected.ignoreCase}else if((actual===null||_typeof(actual)!=="object")&&(expected===null||_typeof(expected)!=="object")){return strict?actual===expected:actual==expected}else if(isView(actual)&&isView(expected)&&pToString(actual)===pToString(expected)&&!(actual instanceof Float32Array||actual instanceof Float64Array)){return compare(new Uint8Array(actual.buffer),new Uint8Array(expected.buffer))===0}else if(isBuffer(actual)!==isBuffer(expected)){return false}else{memos=memos||{actual:[],expected:[]};var actualIndex=memos.actual.indexOf(actual);if(actualIndex!==-1){if(actualIndex===memos.expected.indexOf(expected)){return true}}memos.actual.push(actual);memos.expected.push(expected);return objEquiv(actual,expected,strict,memos)}}function isArguments(object){return Object.prototype.toString.call(object)=="[object Arguments]"}function objEquiv(a,b,strict,actualVisitedObjects){if(a===null||a===undefined||b===null||b===undefined)return false;if(util.isPrimitive(a)||util.isPrimitive(b))return a===b;if(strict&&Object.getPrototypeOf(a)!==Object.getPrototypeOf(b))return false;var aIsArgs=isArguments(a);var bIsArgs=isArguments(b);if(aIsArgs&&!bIsArgs||!aIsArgs&&bIsArgs)return false;if(aIsArgs){a=pSlice.call(a);b=pSlice.call(b);return _deepEqual(a,b,strict)}var ka=objectKeys(a);var kb=objectKeys(b);var key,i;if(ka.length!==kb.length)return false;ka.sort();kb.sort();for(i=ka.length-1;i>=0;i--){if(ka[i]!==kb[i])return false}for(i=ka.length-1;i>=0;i--){key=ka[i];if(!_deepEqual(a[key],b[key],strict,actualVisitedObjects))return false}return true}assert.notDeepEqual=function notDeepEqual(actual,expected,message){if(_deepEqual(actual,expected,false)){fail(actual,expected,message,"notDeepEqual",assert.notDeepEqual)}};assert.notDeepStrictEqual=notDeepStrictEqual;function notDeepStrictEqual(actual,expected,message){if(_deepEqual(actual,expected,true)){fail(actual,expected,message,"notDeepStrictEqual",notDeepStrictEqual)}}assert.strictEqual=function strictEqual(actual,expected,message){if(actual!==expected){fail(actual,expected,message,"===",assert.strictEqual)}};assert.notStrictEqual=function notStrictEqual(actual,expected,message){if(actual===expected){fail(actual,expected,message,"!==",assert.notStrictEqual)}};function expectedException(actual,expected){if(!actual||!expected){return false}if(Object.prototype.toString.call(expected)=="[object RegExp]"){return expected.test(actual)}try{if(actual instanceof expected){return true}}catch(e){}if(Error.isPrototypeOf(expected)){return false}return expected.call({},actual)===true}function _tryBlock(block){var error;try{block()}catch(e){error=e}return error}function _throws(shouldThrow,block,expected,message){var actual;if(typeof block!=="function"){throw new TypeError('"block" argument must be a function')}if(typeof expected==="string"){message=expected;expected=null}actual=_tryBlock(block);message=(expected&&expected.name?" ("+expected.name+").":".")+(message?" "+message:".");if(shouldThrow&&!actual){fail(actual,expected,"Missing expected exception"+message)}var userProvidedMessage=typeof message==="string";var isUnwantedException=!shouldThrow&&util.isError(actual);var isUnexpectedException=!shouldThrow&&actual&&!expected;if(isUnwantedException&&userProvidedMessage&&expectedException(actual,expected)||isUnexpectedException){fail(actual,expected,"Got unwanted exception"+message)}if(shouldThrow&&actual&&expected&&!expectedException(actual,expected)||!shouldThrow&&actual){throw actual}}assert["throws"]=function(block,error,message){_throws(true,block,error,message)};assert.doesNotThrow=function(block,error,message){_throws(false,block,error,message)};assert.ifError=function(err){if(err)throw err};function strict(value,message){if(!value)fail(value,true,message,"==",strict)}assert.strict=objectAssign(strict,assert,{equal:assert.strictEqual,deepEqual:assert.deepStrictEqual,notEqual:assert.notStrictEqual,notDeepEqual:assert.notDeepStrictEqual});assert.strict.strict=assert.strict;var objectKeys=Object.keys||function(obj){var keys=[];for(var key in obj){if(hasOwn.call(obj,key))keys.push(key)}return keys}}).call(this)}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"object-assign":173,"util/":165}],163:[function(require,module,exports){"use strict";if(typeof Object.create==="function"){module.exports=function inherits(ctor,superCtor){ctor.super_=superCtor;ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:false,writable:true,configurable:true}})}}else{module.exports=function inherits(ctor,superCtor){ctor.super_=superCtor;var TempCtor=function TempCtor(){};TempCtor.prototype=superCtor.prototype;ctor.prototype=new TempCtor;ctor.prototype.constructor=ctor}}},{}],164:[function(require,module,exports){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}module.exports=function isBuffer(arg){return arg&&_typeof(arg)==="object"&&typeof arg.copy==="function"&&typeof arg.fill==="function"&&typeof arg.readUInt8==="function"}},{}],165:[function(require,module,exports){(function(process,global){(function(){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}var formatRegExp=/%[sdj%]/g;exports.format=function(f){if(!isString(f)){var objects=[];for(var i=0;i<arguments.length;i++){objects.push(inspect(arguments[i]))}return objects.join(" ")}var i=1;var args=arguments;var len=args.length;var str=String(f).replace(formatRegExp,function(x){if(x==="%%")return"%";if(i>=len)return x;switch(x){case"%s":return String(args[i++]);case"%d":return Number(args[i++]);case"%j":try{return JSON.stringify(args[i++])}catch(_){return"[Circular]"}default:return x}});for(var x=args[i];i<len;x=args[++i]){if(isNull(x)||!isObject(x)){str+=" "+x}else{str+=" "+inspect(x)}}return str};exports.deprecate=function(fn,msg){if(isUndefined(global.process)){return function(){return exports.deprecate(fn,msg).apply(this,arguments)}}if(process.noDeprecation===true){return fn}var warned=false;function deprecated(){if(!warned){if(process.throwDeprecation){throw new Error(msg)}else if(process.traceDeprecation){console.trace(msg)}else{console.error(msg)}warned=true}return fn.apply(this,arguments)}return deprecated};var debugs={};var debugEnviron;exports.debuglog=function(set){if(isUndefined(debugEnviron))debugEnviron=process.env.NODE_DEBUG||"";set=set.toUpperCase();if(!debugs[set]){if(new RegExp("\\b"+set+"\\b","i").test(debugEnviron)){var pid=process.pid;debugs[set]=function(){var msg=exports.format.apply(exports,arguments);console.error("%s %d: %s",set,pid,msg)}}else{debugs[set]=function(){}}}return debugs[set]};function inspect(obj,opts){var ctx={seen:[],stylize:stylizeNoColor};if(arguments.length>=3)ctx.depth=arguments[2];if(arguments.length>=4)ctx.colors=arguments[3];if(isBoolean(opts)){ctx.showHidden=opts}else if(opts){exports._extend(ctx,opts)}if(isUndefined(ctx.showHidden))ctx.showHidden=false;if(isUndefined(ctx.depth))ctx.depth=2;if(isUndefined(ctx.colors))ctx.colors=false;if(isUndefined(ctx.customInspect))ctx.customInspect=true;if(ctx.colors)ctx.stylize=stylizeWithColor;return formatValue(ctx,obj,ctx.depth)}exports.inspect=inspect;inspect.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};inspect.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function stylizeWithColor(str,styleType){var style=inspect.styles[styleType];if(style){return"["+inspect.colors[style][0]+"m"+str+"["+inspect.colors[style][1]+"m"}else{return str}}function stylizeNoColor(str,styleType){return str}function arrayToHash(array){var hash={};array.forEach(function(val,idx){hash[val]=true});return hash}function formatValue(ctx,value,recurseTimes){if(ctx.customInspect&&value&&isFunction(value.inspect)&&value.inspect!==exports.inspect&&!(value.constructor&&value.constructor.prototype===value)){var ret=value.inspect(recurseTimes,ctx);if(!isString(ret)){ret=formatValue(ctx,ret,recurseTimes)}return ret}var primitive=formatPrimitive(ctx,value);if(primitive){return primitive}var keys=Object.keys(value);var visibleKeys=arrayToHash(keys);if(ctx.showHidden){keys=Object.getOwnPropertyNames(value)}if(isError(value)&&(keys.indexOf("message")>=0||keys.indexOf("description")>=0)){return formatError(value)}if(keys.length===0){if(isFunction(value)){var name=value.name?": "+value.name:"";return ctx.stylize("[Function"+name+"]","special")}if(isRegExp(value)){return ctx.stylize(RegExp.prototype.toString.call(value),"regexp")}if(isDate(value)){return ctx.stylize(Date.prototype.toString.call(value),"date")}if(isError(value)){return formatError(value)}}var base="",array=false,braces=["{","}"];if(isArray(value)){array=true;braces=["[","]"]}if(isFunction(value)){var n=value.name?": "+value.name:"";base=" [Function"+n+"]"}if(isRegExp(value)){base=" "+RegExp.prototype.toString.call(value)}if(isDate(value)){base=" "+Date.prototype.toUTCString.call(value)}if(isError(value)){base=" "+formatError(value)}if(keys.length===0&&(!array||value.length==0)){return braces[0]+base+braces[1]}if(recurseTimes<0){if(isRegExp(value)){return ctx.stylize(RegExp.prototype.toString.call(value),"regexp")}else{return ctx.stylize("[Object]","special")}}ctx.seen.push(value);var output;if(array){output=formatArray(ctx,value,recurseTimes,visibleKeys,keys)}else{output=keys.map(function(key){return formatProperty(ctx,value,recurseTimes,visibleKeys,key,array)})}ctx.seen.pop();return reduceToSingleString(output,base,braces)}function formatPrimitive(ctx,value){if(isUndefined(value))return ctx.stylize("undefined","undefined");if(isString(value)){var simple="'"+JSON.stringify(value).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return ctx.stylize(simple,"string")}if(isNumber(value))return ctx.stylize(""+value,"number");if(isBoolean(value))return ctx.stylize(""+value,"boolean");if(isNull(value))return ctx.stylize("null","null")}function formatError(value){return"["+Error.prototype.toString.call(value)+"]"}function formatArray(ctx,value,recurseTimes,visibleKeys,keys){var output=[];for(var i=0,l=value.length;i<l;++i){if(hasOwnProperty(value,String(i))){output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,String(i),true))}else{output.push("")}}keys.forEach(function(key){if(!key.match(/^\d+$/)){output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,key,true))}});return output}function formatProperty(ctx,value,recurseTimes,visibleKeys,key,array){var name,str,desc;desc=Object.getOwnPropertyDescriptor(value,key)||{value:value[key]};if(desc.get){if(desc.set){str=ctx.stylize("[Getter/Setter]","special")}else{str=ctx.stylize("[Getter]","special")}}else{if(desc.set){str=ctx.stylize("[Setter]","special")}}if(!hasOwnProperty(visibleKeys,key)){name="["+key+"]"}if(!str){if(ctx.seen.indexOf(desc.value)<0){if(isNull(recurseTimes)){str=formatValue(ctx,desc.value,null)}else{str=formatValue(ctx,desc.value,recurseTimes-1)}if(str.indexOf("\n")>-1){if(array){str=str.split("\n").map(function(line){return"  "+line}).join("\n").substr(2)}else{str="\n"+str.split("\n").map(function(line){return"   "+line}).join("\n")}}}else{str=ctx.stylize("[Circular]","special")}}if(isUndefined(name)){if(array&&key.match(/^\d+$/)){return str}name=JSON.stringify(""+key);if(name.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)){name=name.substr(1,name.length-2);name=ctx.stylize(name,"name")}else{name=name.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'");name=ctx.stylize(name,"string")}}return name+": "+str}function reduceToSingleString(output,base,braces){var numLinesEst=0;var length=output.reduce(function(prev,cur){numLinesEst++;if(cur.indexOf("\n")>=0)numLinesEst++;return prev+cur.replace(/\u001b\[\d\d?m/g,"").length+1},0);if(length>60){return braces[0]+(base===""?"":base+"\n ")+" "+output.join(",\n  ")+" "+braces[1]}return braces[0]+base+" "+output.join(", ")+" "+braces[1]}function isArray(ar){return Array.isArray(ar)}exports.isArray=isArray;function isBoolean(arg){return typeof arg==="boolean"}exports.isBoolean=isBoolean;function isNull(arg){return arg===null}exports.isNull=isNull;function isNullOrUndefined(arg){return arg==null}exports.isNullOrUndefined=isNullOrUndefined;function isNumber(arg){return typeof arg==="number"}exports.isNumber=isNumber;function isString(arg){return typeof arg==="string"}exports.isString=isString;function isSymbol(arg){return _typeof(arg)==="symbol"}exports.isSymbol=isSymbol;function isUndefined(arg){return arg===void 0}exports.isUndefined=isUndefined;function isRegExp(re){return isObject(re)&&objectToString(re)==="[object RegExp]"}exports.isRegExp=isRegExp;function isObject(arg){return _typeof(arg)==="object"&&arg!==null}exports.isObject=isObject;function isDate(d){return isObject(d)&&objectToString(d)==="[object Date]"}exports.isDate=isDate;function isError(e){return isObject(e)&&(objectToString(e)==="[object Error]"||e instanceof Error)}exports.isError=isError;function isFunction(arg){return typeof arg==="function"}exports.isFunction=isFunction;function isPrimitive(arg){return arg===null||typeof arg==="boolean"||typeof arg==="number"||typeof arg==="string"||_typeof(arg)==="symbol"||typeof arg==="undefined"}exports.isPrimitive=isPrimitive;exports.isBuffer=require("./support/isBuffer");function objectToString(o){return Object.prototype.toString.call(o)}function pad(n){return n<10?"0"+n.toString(10):n.toString(10)}var months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function timestamp(){var d=new Date;var time=[pad(d.getHours()),pad(d.getMinutes()),pad(d.getSeconds())].join(":");return[d.getDate(),months[d.getMonth()],time].join(" ")}exports.log=function(){console.log("%s - %s",timestamp(),exports.format.apply(exports,arguments))};exports.inherits=require("inherits");exports._extend=function(origin,add){if(!add||!isObject(add))return origin;var keys=Object.keys(add);var i=keys.length;while(i--){origin[keys[i]]=add[keys[i]]}return origin};function hasOwnProperty(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)}}).call(this)}).call(this,require("_process"),typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./support/isBuffer":164,_process:197,inherits:163}],166:[function(require,module,exports){"use strict";exports.byteLength=byteLength;exports.toByteArray=toByteArray;exports.fromByteArray=fromByteArray;var lookup=[];var revLookup=[];var Arr=typeof Uint8Array!=="undefined"?Uint8Array:Array;var code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var i=0,len=code.length;i<len;++i){lookup[i]=code[i];revLookup[code.charCodeAt(i)]=i}revLookup["-".charCodeAt(0)]=62;revLookup["_".charCodeAt(0)]=63;function getLens(b64){var len=b64.length;if(len%4>0){throw new Error("Invalid string. Length must be a multiple of 4")}var validLen=b64.indexOf("=");if(validLen===-1)validLen=len;var placeHoldersLen=validLen===len?0:4-validLen%4;return[validLen,placeHoldersLen]}function byteLength(b64){var lens=getLens(b64);var validLen=lens[0];var placeHoldersLen=lens[1];return(validLen+placeHoldersLen)*3/4-placeHoldersLen}function _byteLength(b64,validLen,placeHoldersLen){return(validLen+placeHoldersLen)*3/4-placeHoldersLen}function toByteArray(b64){var tmp;var lens=getLens(b64);var validLen=lens[0];var placeHoldersLen=lens[1];var arr=new Arr(_byteLength(b64,validLen,placeHoldersLen));var curByte=0;var len=placeHoldersLen>0?validLen-4:validLen;var i;for(i=0;i<len;i+=4){tmp=revLookup[b64.charCodeAt(i)]<<18|revLookup[b64.charCodeAt(i+1)]<<12|revLookup[b64.charCodeAt(i+2)]<<6|revLookup[b64.charCodeAt(i+3)];arr[curByte++]=tmp>>16&255;arr[curByte++]=tmp>>8&255;arr[curByte++]=tmp&255}if(placeHoldersLen===2){tmp=revLookup[b64.charCodeAt(i)]<<2|revLookup[b64.charCodeAt(i+1)]>>4;arr[curByte++]=tmp&255}if(placeHoldersLen===1){tmp=revLookup[b64.charCodeAt(i)]<<10|revLookup[b64.charCodeAt(i+1)]<<4|revLookup[b64.charCodeAt(i+2)]>>2;arr[curByte++]=tmp>>8&255;arr[curByte++]=tmp&255}return arr}function tripletToBase64(num){return lookup[num>>18&63]+lookup[num>>12&63]+lookup[num>>6&63]+lookup[num&63]}function encodeChunk(uint8,start,end){var tmp;var output=[];for(var i=start;i<end;i+=3){tmp=(uint8[i]<<16&16711680)+(uint8[i+1]<<8&65280)+(uint8[i+2]&255);output.push(tripletToBase64(tmp))}return output.join("")}function fromByteArray(uint8){var tmp;var len=uint8.length;var extraBytes=len%3;var parts=[];var maxChunkLength=16383;for(var i=0,len2=len-extraBytes;i<len2;i+=maxChunkLength){parts.push(encodeChunk(uint8,i,i+maxChunkLength>len2?len2:i+maxChunkLength))}if(extraBytes===1){tmp=uint8[len-1];parts.push(lookup[tmp>>2]+lookup[tmp<<4&63]+"==")}else if(extraBytes===2){tmp=(uint8[len-2]<<8)+uint8[len-1];parts.push(lookup[tmp>>10]+lookup[tmp>>4&63]+lookup[tmp<<2&63]+"=")}return parts.join("")}},{}],167:[function(require,module,exports){"use strict"},{}],168:[function(require,module,exports){(function(Buffer){(function(){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}var base64=require("base64-js");var ieee754=require("ieee754");exports.Buffer=Buffer;exports.SlowBuffer=SlowBuffer;exports.INSPECT_MAX_BYTES=50;var K_MAX_LENGTH=2147483647;exports.kMaxLength=K_MAX_LENGTH;Buffer.TYPED_ARRAY_SUPPORT=typedArraySupport();if(!Buffer.TYPED_ARRAY_SUPPORT&&typeof console!=="undefined"&&typeof console.error==="function"){console.error("This browser lacks typed array (Uint8Array) support which is required by "+"`buffer` v5.x. Use `buffer` v4.x if you require old browser support.")}function typedArraySupport(){try{var arr=new Uint8Array(1);arr.__proto__={__proto__:Uint8Array.prototype,foo:function foo(){return 42}};return arr.foo()===42}catch(e){return false}}Object.defineProperty(Buffer.prototype,"parent",{enumerable:true,get:function get(){if(!Buffer.isBuffer(this))return undefined;return this.buffer}});Object.defineProperty(Buffer.prototype,"offset",{enumerable:true,get:function get(){if(!Buffer.isBuffer(this))return undefined;return this.byteOffset}});function createBuffer(length){if(length>K_MAX_LENGTH){throw new RangeError('The value "'+length+'" is invalid for option "size"')}var buf=new Uint8Array(length);buf.__proto__=Buffer.prototype;return buf}function Buffer(arg,encodingOrOffset,length){if(typeof arg==="number"){if(typeof encodingOrOffset==="string"){throw new TypeError('The "string" argument must be of type string. Received type number')}return allocUnsafe(arg)}return from(arg,encodingOrOffset,length)}if(typeof Symbol!=="undefined"&&Symbol.species!=null&&Buffer[Symbol.species]===Buffer){Object.defineProperty(Buffer,Symbol.species,{value:null,configurable:true,enumerable:false,writable:false})}Buffer.poolSize=8192;function from(value,encodingOrOffset,length){if(typeof value==="string"){return fromString(value,encodingOrOffset)}if(ArrayBuffer.isView(value)){return fromArrayLike(value)}if(value==null){throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, "+"or Array-like Object. Received type "+_typeof(value))}if(isInstance(value,ArrayBuffer)||value&&isInstance(value.buffer,ArrayBuffer)){return fromArrayBuffer(value,encodingOrOffset,length)}if(typeof value==="number"){throw new TypeError('The "value" argument must not be of type number. Received type number')}var valueOf=value.valueOf&&value.valueOf();if(valueOf!=null&&valueOf!==value){return Buffer.from(valueOf,encodingOrOffset,length)}var b=fromObject(value);if(b)return b;if(typeof Symbol!=="undefined"&&Symbol.toPrimitive!=null&&typeof value[Symbol.toPrimitive]==="function"){return Buffer.from(value[Symbol.toPrimitive]("string"),encodingOrOffset,length)}throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, "+"or Array-like Object. Received type "+_typeof(value))}Buffer.from=function(value,encodingOrOffset,length){return from(value,encodingOrOffset,length)};Buffer.prototype.__proto__=Uint8Array.prototype;Buffer.__proto__=Uint8Array;function assertSize(size){if(typeof size!=="number"){throw new TypeError('"size" argument must be of type number')}else if(size<0){throw new RangeError('The value "'+size+'" is invalid for option "size"')}}function alloc(size,fill,encoding){assertSize(size);if(size<=0){return createBuffer(size)}if(fill!==undefined){return typeof encoding==="string"?createBuffer(size).fill(fill,encoding):createBuffer(size).fill(fill)}return createBuffer(size)}Buffer.alloc=function(size,fill,encoding){return alloc(size,fill,encoding)};function allocUnsafe(size){assertSize(size);return createBuffer(size<0?0:checked(size)|0)}Buffer.allocUnsafe=function(size){return allocUnsafe(size)};Buffer.allocUnsafeSlow=function(size){return allocUnsafe(size)};function fromString(string,encoding){if(typeof encoding!=="string"||encoding===""){encoding="utf8"}if(!Buffer.isEncoding(encoding)){throw new TypeError("Unknown encoding: "+encoding)}var length=byteLength(string,encoding)|0;var buf=createBuffer(length);var actual=buf.write(string,encoding);if(actual!==length){buf=buf.slice(0,actual)}return buf}function fromArrayLike(array){var length=array.length<0?0:checked(array.length)|0;var buf=createBuffer(length);for(var i=0;i<length;i+=1){buf[i]=array[i]&255}return buf}function fromArrayBuffer(array,byteOffset,length){if(byteOffset<0||array.byteLength<byteOffset){throw new RangeError('"offset" is outside of buffer bounds')}if(array.byteLength<byteOffset+(length||0)){throw new RangeError('"length" is outside of buffer bounds')}var buf;if(byteOffset===undefined&&length===undefined){buf=new Uint8Array(array)}else if(length===undefined){buf=new Uint8Array(array,byteOffset)}else{buf=new Uint8Array(array,byteOffset,length)}buf.__proto__=Buffer.prototype;return buf}function fromObject(obj){if(Buffer.isBuffer(obj)){var len=checked(obj.length)|0;var buf=createBuffer(len);if(buf.length===0){return buf}obj.copy(buf,0,0,len);return buf}if(obj.length!==undefined){if(typeof obj.length!=="number"||numberIsNaN(obj.length)){return createBuffer(0)}return fromArrayLike(obj)}if(obj.type==="Buffer"&&Array.isArray(obj.data)){return fromArrayLike(obj.data)}}function checked(length){if(length>=K_MAX_LENGTH){throw new RangeError("Attempt to allocate Buffer larger than maximum "+"size: 0x"+K_MAX_LENGTH.toString(16)+" bytes")}return length|0}function SlowBuffer(length){if(+length!=length){length=0}return Buffer.alloc(+length)}Buffer.isBuffer=function isBuffer(b){return b!=null&&b._isBuffer===true&&b!==Buffer.prototype};Buffer.compare=function compare(a,b){if(isInstance(a,Uint8Array))a=Buffer.from(a,a.offset,a.byteLength);if(isInstance(b,Uint8Array))b=Buffer.from(b,b.offset,b.byteLength);if(!Buffer.isBuffer(a)||!Buffer.isBuffer(b)){throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array')}if(a===b)return 0;var x=a.length;var y=b.length;for(var i=0,len=Math.min(x,y);i<len;++i){if(a[i]!==b[i]){x=a[i];y=b[i];break}}if(x<y)return-1;if(y<x)return 1;return 0};Buffer.isEncoding=function isEncoding(encoding){switch(String(encoding).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return true;default:return false}};Buffer.concat=function concat(list,length){if(!Array.isArray(list)){throw new TypeError('"list" argument must be an Array of Buffers')}if(list.length===0){return Buffer.alloc(0)}var i;if(length===undefined){length=0;for(i=0;i<list.length;++i){length+=list[i].length}}var buffer=Buffer.allocUnsafe(length);var pos=0;for(i=0;i<list.length;++i){var buf=list[i];if(isInstance(buf,Uint8Array)){buf=Buffer.from(buf)}if(!Buffer.isBuffer(buf)){throw new TypeError('"list" argument must be an Array of Buffers')}buf.copy(buffer,pos);pos+=buf.length}return buffer};function byteLength(string,encoding){if(Buffer.isBuffer(string)){return string.length}if(ArrayBuffer.isView(string)||isInstance(string,ArrayBuffer)){return string.byteLength}if(typeof string!=="string"){throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. '+"Received type "+_typeof(string))}var len=string.length;var mustMatch=arguments.length>2&&arguments[2]===true;if(!mustMatch&&len===0)return 0;var loweredCase=false;for(;;){switch(encoding){case"ascii":case"latin1":case"binary":return len;case"utf8":case"utf-8":return utf8ToBytes(string).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return len*2;case"hex":return len>>>1;case"base64":return base64ToBytes(string).length;default:if(loweredCase){return mustMatch?-1:utf8ToBytes(string).length}encoding=(""+encoding).toLowerCase();loweredCase=true}}}Buffer.byteLength=byteLength;function slowToString(encoding,start,end){var loweredCase=false;if(start===undefined||start<0){start=0}if(start>this.length){return""}if(end===undefined||end>this.length){end=this.length}if(end<=0){return""}end>>>=0;start>>>=0;if(end<=start){return""}if(!encoding)encoding="utf8";while(true){switch(encoding){case"hex":return hexSlice(this,start,end);case"utf8":case"utf-8":return utf8Slice(this,start,end);case"ascii":return asciiSlice(this,start,end);case"latin1":case"binary":return latin1Slice(this,start,end);case"base64":return base64Slice(this,start,end);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,start,end);default:if(loweredCase)throw new TypeError("Unknown encoding: "+encoding);encoding=(encoding+"").toLowerCase();loweredCase=true}}}Buffer.prototype._isBuffer=true;function swap(b,n,m){var i=b[n];b[n]=b[m];b[m]=i}Buffer.prototype.swap16=function swap16(){var len=this.length;if(len%2!==0){throw new RangeError("Buffer size must be a multiple of 16-bits")}for(var i=0;i<len;i+=2){swap(this,i,i+1)}return this};Buffer.prototype.swap32=function swap32(){var len=this.length;if(len%4!==0){throw new RangeError("Buffer size must be a multiple of 32-bits")}for(var i=0;i<len;i+=4){swap(this,i,i+3);swap(this,i+1,i+2)}return this};Buffer.prototype.swap64=function swap64(){var len=this.length;if(len%8!==0){throw new RangeError("Buffer size must be a multiple of 64-bits")}for(var i=0;i<len;i+=8){swap(this,i,i+7);swap(this,i+1,i+6);swap(this,i+2,i+5);swap(this,i+3,i+4)}return this};Buffer.prototype.toString=function toString(){var length=this.length;if(length===0)return"";if(arguments.length===0)return utf8Slice(this,0,length);return slowToString.apply(this,arguments)};Buffer.prototype.toLocaleString=Buffer.prototype.toString;Buffer.prototype.equals=function equals(b){if(!Buffer.isBuffer(b))throw new TypeError("Argument must be a Buffer");if(this===b)return true;return Buffer.compare(this,b)===0};Buffer.prototype.inspect=function inspect(){var str="";var max=exports.INSPECT_MAX_BYTES;str=this.toString("hex",0,max).replace(/(.{2})/g,"$1 ").trim();if(this.length>max)str+=" ... ";return"<Buffer "+str+">"};Buffer.prototype.compare=function compare(target,start,end,thisStart,thisEnd){if(isInstance(target,Uint8Array)){target=Buffer.from(target,target.offset,target.byteLength)}if(!Buffer.isBuffer(target)){throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. '+"Received type "+_typeof(target))}if(start===undefined){start=0}if(end===undefined){end=target?target.length:0}if(thisStart===undefined){thisStart=0}if(thisEnd===undefined){thisEnd=this.length}if(start<0||end>target.length||thisStart<0||thisEnd>this.length){throw new RangeError("out of range index")}if(thisStart>=thisEnd&&start>=end){return 0}if(thisStart>=thisEnd){return-1}if(start>=end){return 1}start>>>=0;end>>>=0;thisStart>>>=0;thisEnd>>>=0;if(this===target)return 0;var x=thisEnd-thisStart;var y=end-start;var len=Math.min(x,y);var thisCopy=this.slice(thisStart,thisEnd);var targetCopy=target.slice(start,end);for(var i=0;i<len;++i){if(thisCopy[i]!==targetCopy[i]){x=thisCopy[i];y=targetCopy[i];break}}if(x<y)return-1;if(y<x)return 1;return 0};function bidirectionalIndexOf(buffer,val,byteOffset,encoding,dir){if(buffer.length===0)return-1;if(typeof byteOffset==="string"){encoding=byteOffset;byteOffset=0}else if(byteOffset>2147483647){byteOffset=2147483647}else if(byteOffset<-2147483648){byteOffset=-2147483648}byteOffset=+byteOffset;if(numberIsNaN(byteOffset)){byteOffset=dir?0:buffer.length-1}if(byteOffset<0)byteOffset=buffer.length+byteOffset;if(byteOffset>=buffer.length){if(dir)return-1;else byteOffset=buffer.length-1}else if(byteOffset<0){if(dir)byteOffset=0;else return-1}if(typeof val==="string"){val=Buffer.from(val,encoding)}if(Buffer.isBuffer(val)){if(val.length===0){return-1}return arrayIndexOf(buffer,val,byteOffset,encoding,dir)}else if(typeof val==="number"){val=val&255;if(typeof Uint8Array.prototype.indexOf==="function"){if(dir){return Uint8Array.prototype.indexOf.call(buffer,val,byteOffset)}else{return Uint8Array.prototype.lastIndexOf.call(buffer,val,byteOffset)}}return arrayIndexOf(buffer,[val],byteOffset,encoding,dir)}throw new TypeError("val must be string, number or Buffer")}function arrayIndexOf(arr,val,byteOffset,encoding,dir){var indexSize=1;var arrLength=arr.length;var valLength=val.length;if(encoding!==undefined){encoding=String(encoding).toLowerCase();if(encoding==="ucs2"||encoding==="ucs-2"||encoding==="utf16le"||encoding==="utf-16le"){if(arr.length<2||val.length<2){return-1}indexSize=2;arrLength/=2;valLength/=2;byteOffset/=2}}function read(buf,i){if(indexSize===1){return buf[i]}else{return buf.readUInt16BE(i*indexSize)}}var i;if(dir){var foundIndex=-1;for(i=byteOffset;i<arrLength;i++){if(read(arr,i)===read(val,foundIndex===-1?0:i-foundIndex)){if(foundIndex===-1)foundIndex=i;if(i-foundIndex+1===valLength)return foundIndex*indexSize}else{if(foundIndex!==-1)i-=i-foundIndex;foundIndex=-1}}}else{if(byteOffset+valLength>arrLength)byteOffset=arrLength-valLength;for(i=byteOffset;i>=0;i--){var found=true;for(var j=0;j<valLength;j++){if(read(arr,i+j)!==read(val,j)){found=false;break}}if(found)return i}}return-1}Buffer.prototype.includes=function includes(val,byteOffset,encoding){return this.indexOf(val,byteOffset,encoding)!==-1};Buffer.prototype.indexOf=function indexOf(val,byteOffset,encoding){return bidirectionalIndexOf(this,val,byteOffset,encoding,true)};Buffer.prototype.lastIndexOf=function lastIndexOf(val,byteOffset,encoding){return bidirectionalIndexOf(this,val,byteOffset,encoding,false)};function hexWrite(buf,string,offset,length){offset=Number(offset)||0;var remaining=buf.length-offset;if(!length){length=remaining}else{length=Number(length);if(length>remaining){length=remaining}}var strLen=string.length;if(length>strLen/2){length=strLen/2}for(var i=0;i<length;++i){var parsed=parseInt(string.substr(i*2,2),16);if(numberIsNaN(parsed))return i;buf[offset+i]=parsed}return i}function utf8Write(buf,string,offset,length){return blitBuffer(utf8ToBytes(string,buf.length-offset),buf,offset,length)}function asciiWrite(buf,string,offset,length){return blitBuffer(asciiToBytes(string),buf,offset,length)}function latin1Write(buf,string,offset,length){return asciiWrite(buf,string,offset,length)}function base64Write(buf,string,offset,length){return blitBuffer(base64ToBytes(string),buf,offset,length)}function ucs2Write(buf,string,offset,length){return blitBuffer(utf16leToBytes(string,buf.length-offset),buf,offset,length)}Buffer.prototype.write=function write(string,offset,length,encoding){if(offset===undefined){encoding="utf8";length=this.length;offset=0}else if(length===undefined&&typeof offset==="string"){encoding=offset;length=this.length;offset=0}else if(isFinite(offset)){offset=offset>>>0;if(isFinite(length)){length=length>>>0;if(encoding===undefined)encoding="utf8"}else{encoding=length;length=undefined}}else{throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported")}var remaining=this.length-offset;if(length===undefined||length>remaining)length=remaining;if(string.length>0&&(length<0||offset<0)||offset>this.length){throw new RangeError("Attempt to write outside buffer bounds")}if(!encoding)encoding="utf8";var loweredCase=false;for(;;){switch(encoding){case"hex":return hexWrite(this,string,offset,length);case"utf8":case"utf-8":return utf8Write(this,string,offset,length);case"ascii":return asciiWrite(this,string,offset,length);case"latin1":case"binary":return latin1Write(this,string,offset,length);case"base64":return base64Write(this,string,offset,length);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,string,offset,length);default:if(loweredCase)throw new TypeError("Unknown encoding: "+encoding);encoding=(""+encoding).toLowerCase();loweredCase=true}}};Buffer.prototype.toJSON=function toJSON(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function base64Slice(buf,start,end){if(start===0&&end===buf.length){return base64.fromByteArray(buf)}else{return base64.fromByteArray(buf.slice(start,end))}}function utf8Slice(buf,start,end){end=Math.min(buf.length,end);var res=[];var i=start;while(i<end){var firstByte=buf[i];var codePoint=null;var bytesPerSequence=firstByte>239?4:firstByte>223?3:firstByte>191?2:1;if(i+bytesPerSequence<=end){var secondByte,thirdByte,fourthByte,tempCodePoint;switch(bytesPerSequence){case 1:if(firstByte<128){codePoint=firstByte}break;case 2:secondByte=buf[i+1];if((secondByte&192)===128){tempCodePoint=(firstByte&31)<<6|secondByte&63;if(tempCodePoint>127){codePoint=tempCodePoint}}break;case 3:secondByte=buf[i+1];thirdByte=buf[i+2];if((secondByte&192)===128&&(thirdByte&192)===128){tempCodePoint=(firstByte&15)<<12|(secondByte&63)<<6|thirdByte&63;if(tempCodePoint>2047&&(tempCodePoint<55296||tempCodePoint>57343)){codePoint=tempCodePoint}}break;case 4:secondByte=buf[i+1];thirdByte=buf[i+2];fourthByte=buf[i+3];if((secondByte&192)===128&&(thirdByte&192)===128&&(fourthByte&192)===128){tempCodePoint=(firstByte&15)<<18|(secondByte&63)<<12|(thirdByte&63)<<6|fourthByte&63;if(tempCodePoint>65535&&tempCodePoint<1114112){codePoint=tempCodePoint}}}}if(codePoint===null){codePoint=65533;bytesPerSequence=1}else if(codePoint>65535){codePoint-=65536;res.push(codePoint>>>10&1023|55296);codePoint=56320|codePoint&1023}res.push(codePoint);i+=bytesPerSequence}return decodeCodePointsArray(res)}var MAX_ARGUMENTS_LENGTH=4096;function decodeCodePointsArray(codePoints){var len=codePoints.length;if(len<=MAX_ARGUMENTS_LENGTH){return String.fromCharCode.apply(String,codePoints)}var res="";var i=0;while(i<len){res+=String.fromCharCode.apply(String,codePoints.slice(i,i+=MAX_ARGUMENTS_LENGTH))}return res}function asciiSlice(buf,start,end){var ret="";end=Math.min(buf.length,end);for(var i=start;i<end;++i){ret+=String.fromCharCode(buf[i]&127)}return ret}function latin1Slice(buf,start,end){var ret="";end=Math.min(buf.length,end);for(var i=start;i<end;++i){ret+=String.fromCharCode(buf[i])}return ret}function hexSlice(buf,start,end){var len=buf.length;if(!start||start<0)start=0;if(!end||end<0||end>len)end=len;var out="";for(var i=start;i<end;++i){out+=toHex(buf[i])}return out}function utf16leSlice(buf,start,end){var bytes=buf.slice(start,end);var res="";for(var i=0;i<bytes.length;i+=2){res+=String.fromCharCode(bytes[i]+bytes[i+1]*256)}return res}Buffer.prototype.slice=function slice(start,end){var len=this.length;start=~~start;end=end===undefined?len:~~end;if(start<0){start+=len;if(start<0)start=0}else if(start>len){start=len}if(end<0){end+=len;if(end<0)end=0}else if(end>len){end=len}if(end<start)end=start;var newBuf=this.subarray(start,end);newBuf.__proto__=Buffer.prototype;return newBuf};function checkOffset(offset,ext,length){if(offset%1!==0||offset<0)throw new RangeError("offset is not uint");if(offset+ext>length)throw new RangeError("Trying to access beyond buffer length")}Buffer.prototype.readUIntLE=function readUIntLE(offset,byteLength,noAssert){offset=offset>>>0;byteLength=byteLength>>>0;if(!noAssert)checkOffset(offset,byteLength,this.length);var val=this[offset];var mul=1;var i=0;while(++i<byteLength&&(mul*=256)){val+=this[offset+i]*mul}return val};Buffer.prototype.readUIntBE=function readUIntBE(offset,byteLength,noAssert){offset=offset>>>0;byteLength=byteLength>>>0;if(!noAssert){checkOffset(offset,byteLength,this.length)}var val=this[offset+--byteLength];var mul=1;while(byteLength>0&&(mul*=256)){val+=this[offset+--byteLength]*mul}return val};Buffer.prototype.readUInt8=function readUInt8(offset,noAssert){offset=offset>>>0;if(!noAssert)checkOffset(offset,1,this.length);return this[offset]};Buffer.prototype.readUInt16LE=function readUInt16LE(offset,noAssert){offset=offset>>>0;if(!noAssert)checkOffset(offset,2,this.length);return this[offset]|this[offset+1]<<8};Buffer.prototype.readUInt16BE=function readUInt16BE(offset,noAssert){offset=offset>>>0;if(!noAssert)checkOffset(offset,2,this.length);return this[offset]<<8|this[offset+1]};Buffer.prototype.readUInt32LE=function readUInt32LE(offset,noAssert){offset=offset>>>0;if(!noAssert)checkOffset(offset,4,this.length);return(this[offset]|this[offset+1]<<8|this[offset+2]<<16)+this[offset+3]*16777216};Buffer.prototype.readUInt32BE=function readUInt32BE(offset,noAssert){offset=offset>>>0;if(!noAssert)checkOffset(offset,4,this.length);return this[offset]*16777216+(this[offset+1]<<16|this[offset+2]<<8|this[offset+3])};Buffer.prototype.readIntLE=function readIntLE(offset,byteLength,noAssert){offset=offset>>>0;byteLength=byteLength>>>0;if(!noAssert)checkOffset(offset,byteLength,this.length);var val=this[offset];var mul=1;var i=0;while(++i<byteLength&&(mul*=256)){val+=this[offset+i]*mul}mul*=128;if(val>=mul)val-=Math.pow(2,8*byteLength);return val};Buffer.prototype.readIntBE=function readIntBE(offset,byteLength,noAssert){offset=offset>>>0;byteLength=byteLength>>>0;if(!noAssert)checkOffset(offset,byteLength,this.length);var i=byteLength;var mul=1;var val=this[offset+--i];while(i>0&&(mul*=256)){val+=this[offset+--i]*mul}mul*=128;if(val>=mul)val-=Math.pow(2,8*byteLength);return val};Buffer.prototype.readInt8=function readInt8(offset,noAssert){offset=offset>>>0;if(!noAssert)checkOffset(offset,1,this.length);if(!(this[offset]&128))return this[offset];return(255-this[offset]+1)*-1};Buffer.prototype.readInt16LE=function readInt16LE(offset,noAssert){offset=offset>>>0;if(!noAssert)checkOffset(offset,2,this.length);var val=this[offset]|this[offset+1]<<8;return val&32768?val|4294901760:val};Buffer.prototype.readInt16BE=function readInt16BE(offset,noAssert){offset=offset>>>0;if(!noAssert)checkOffset(offset,2,this.length);var val=this[offset+1]|this[offset]<<8;return val&32768?val|4294901760:val};Buffer.prototype.readInt32LE=function readInt32LE(offset,noAssert){offset=offset>>>0;if(!noAssert)checkOffset(offset,4,this.length);return this[offset]|this[offset+1]<<8|this[offset+2]<<16|this[offset+3]<<24};Buffer.prototype.readInt32BE=function readInt32BE(offset,noAssert){offset=offset>>>0;if(!noAssert)checkOffset(offset,4,this.length);return this[offset]<<24|this[offset+1]<<16|this[offset+2]<<8|this[offset+3]};Buffer.prototype.readFloatLE=function readFloatLE(offset,noAssert){offset=offset>>>0;if(!noAssert)checkOffset(offset,4,this.length);return ieee754.read(this,offset,true,23,4)};Buffer.prototype.readFloatBE=function readFloatBE(offset,noAssert){offset=offset>>>0;if(!noAssert)checkOffset(offset,4,this.length);return ieee754.read(this,offset,false,23,4)};Buffer.prototype.readDoubleLE=function readDoubleLE(offset,noAssert){offset=offset>>>0;if(!noAssert)checkOffset(offset,8,this.length);return ieee754.read(this,offset,true,52,8)};Buffer.prototype.readDoubleBE=function readDoubleBE(offset,noAssert){offset=offset>>>0;if(!noAssert)checkOffset(offset,8,this.length);return ieee754.read(this,offset,false,52,8)};function checkInt(buf,value,offset,ext,max,min){if(!Buffer.isBuffer(buf))throw new TypeError('"buffer" argument must be a Buffer instance');if(value>max||value<min)throw new RangeError('"value" argument is out of bounds');if(offset+ext>buf.length)throw new RangeError("Index out of range")}Buffer.prototype.writeUIntLE=function writeUIntLE(value,offset,byteLength,noAssert){value=+value;offset=offset>>>0;byteLength=byteLength>>>0;if(!noAssert){var maxBytes=Math.pow(2,8*byteLength)-1;checkInt(this,value,offset,byteLength,maxBytes,0)}var mul=1;var i=0;this[offset]=value&255;while(++i<byteLength&&(mul*=256)){this[offset+i]=value/mul&255}return offset+byteLength};Buffer.prototype.writeUIntBE=function writeUIntBE(value,offset,byteLength,noAssert){value=+value;offset=offset>>>0;byteLength=byteLength>>>0;if(!noAssert){var maxBytes=Math.pow(2,8*byteLength)-1;checkInt(this,value,offset,byteLength,maxBytes,0)}var i=byteLength-1;var mul=1;this[offset+i]=value&255;while(--i>=0&&(mul*=256)){this[offset+i]=value/mul&255}return offset+byteLength};Buffer.prototype.writeUInt8=function writeUInt8(value,offset,noAssert){value=+value;offset=offset>>>0;if(!noAssert)checkInt(this,value,offset,1,255,0);this[offset]=value&255;return offset+1};Buffer.prototype.writeUInt16LE=function writeUInt16LE(value,offset,noAssert){value=+value;offset=offset>>>0;if(!noAssert)checkInt(this,value,offset,2,65535,0);this[offset]=value&255;this[offset+1]=value>>>8;return offset+2};Buffer.prototype.writeUInt16BE=function writeUInt16BE(value,offset,noAssert){value=+value;offset=offset>>>0;if(!noAssert)checkInt(this,value,offset,2,65535,0);this[offset]=value>>>8;this[offset+1]=value&255;return offset+2};Buffer.prototype.writeUInt32LE=function writeUInt32LE(value,offset,noAssert){value=+value;offset=offset>>>0;if(!noAssert)checkInt(this,value,offset,4,4294967295,0);this[offset+3]=value>>>24;this[offset+2]=value>>>16;this[offset+1]=value>>>8;this[offset]=value&255;return offset+4};Buffer.prototype.writeUInt32BE=function writeUInt32BE(value,offset,noAssert){value=+value;offset=offset>>>0;if(!noAssert)checkInt(this,value,offset,4,4294967295,0);this[offset]=value>>>24;this[offset+1]=value>>>16;this[offset+2]=value>>>8;this[offset+3]=value&255;return offset+4};Buffer.prototype.writeIntLE=function writeIntLE(value,offset,byteLength,noAssert){value=+value;offset=offset>>>0;if(!noAssert){var limit=Math.pow(2,8*byteLength-1);checkInt(this,value,offset,byteLength,limit-1,-limit)}var i=0;var mul=1;var sub=0;this[offset]=value&255;while(++i<byteLength&&(mul*=256)){if(value<0&&sub===0&&this[offset+i-1]!==0){sub=1}this[offset+i]=(value/mul>>0)-sub&255}return offset+byteLength};Buffer.prototype.writeIntBE=function writeIntBE(value,offset,byteLength,noAssert){value=+value;offset=offset>>>0;if(!noAssert){var limit=Math.pow(2,8*byteLength-1);checkInt(this,value,offset,byteLength,limit-1,-limit)}var i=byteLength-1;var mul=1;var sub=0;this[offset+i]=value&255;while(--i>=0&&(mul*=256)){if(value<0&&sub===0&&this[offset+i+1]!==0){sub=1}this[offset+i]=(value/mul>>0)-sub&255}return offset+byteLength};Buffer.prototype.writeInt8=function writeInt8(value,offset,noAssert){value=+value;offset=offset>>>0;if(!noAssert)checkInt(this,value,offset,1,127,-128);if(value<0)value=255+value+1;this[offset]=value&255;return offset+1};Buffer.prototype.writeInt16LE=function writeInt16LE(value,offset,noAssert){value=+value;offset=offset>>>0;if(!noAssert)checkInt(this,value,offset,2,32767,-32768);this[offset]=value&255;this[offset+1]=value>>>8;return offset+2};Buffer.prototype.writeInt16BE=function writeInt16BE(value,offset,noAssert){value=+value;offset=offset>>>0;if(!noAssert)checkInt(this,value,offset,2,32767,-32768);this[offset]=value>>>8;this[offset+1]=value&255;return offset+2};Buffer.prototype.writeInt32LE=function writeInt32LE(value,offset,noAssert){value=+value;offset=offset>>>0;if(!noAssert)checkInt(this,value,offset,4,2147483647,-2147483648);this[offset]=value&255;this[offset+1]=value>>>8;this[offset+2]=value>>>16;this[offset+3]=value>>>24;return offset+4};Buffer.prototype.writeInt32BE=function writeInt32BE(value,offset,noAssert){value=+value;offset=offset>>>0;if(!noAssert)checkInt(this,value,offset,4,2147483647,-2147483648);if(value<0)value=4294967295+value+1;this[offset]=value>>>24;this[offset+1]=value>>>16;this[offset+2]=value>>>8;this[offset+3]=value&255;return offset+4};function checkIEEE754(buf,value,offset,ext,max,min){if(offset+ext>buf.length)throw new RangeError("Index out of range");if(offset<0)throw new RangeError("Index out of range")}function writeFloat(buf,value,offset,littleEndian,noAssert){value=+value;offset=offset>>>0;if(!noAssert){checkIEEE754(buf,value,offset,4,34028234663852886e22,-34028234663852886e22)}ieee754.write(buf,value,offset,littleEndian,23,4);return offset+4}Buffer.prototype.writeFloatLE=function writeFloatLE(value,offset,noAssert){return writeFloat(this,value,offset,true,noAssert)};Buffer.prototype.writeFloatBE=function writeFloatBE(value,offset,noAssert){return writeFloat(this,value,offset,false,noAssert)};function writeDouble(buf,value,offset,littleEndian,noAssert){value=+value;offset=offset>>>0;if(!noAssert){checkIEEE754(buf,value,offset,8,17976931348623157e292,-17976931348623157e292)}ieee754.write(buf,value,offset,littleEndian,52,8);return offset+8}Buffer.prototype.writeDoubleLE=function writeDoubleLE(value,offset,noAssert){return writeDouble(this,value,offset,true,noAssert)};Buffer.prototype.writeDoubleBE=function writeDoubleBE(value,offset,noAssert){return writeDouble(this,value,offset,false,noAssert)};Buffer.prototype.copy=function copy(target,targetStart,start,end){if(!Buffer.isBuffer(target))throw new TypeError("argument should be a Buffer");if(!start)start=0;if(!end&&end!==0)end=this.length;if(targetStart>=target.length)targetStart=target.length;if(!targetStart)targetStart=0;if(end>0&&end<start)end=start;if(end===start)return 0;if(target.length===0||this.length===0)return 0;if(targetStart<0){throw new RangeError("targetStart out of bounds")}if(start<0||start>=this.length)throw new RangeError("Index out of range");if(end<0)throw new RangeError("sourceEnd out of bounds");if(end>this.length)end=this.length;if(target.length-targetStart<end-start){end=target.length-targetStart+start}var len=end-start;if(this===target&&typeof Uint8Array.prototype.copyWithin==="function"){this.copyWithin(targetStart,start,end)}else if(this===target&&start<targetStart&&targetStart<end){for(var i=len-1;i>=0;--i){target[i+targetStart]=this[i+start]}}else{Uint8Array.prototype.set.call(target,this.subarray(start,end),targetStart)}return len};Buffer.prototype.fill=function fill(val,start,end,encoding){if(typeof val==="string"){if(typeof start==="string"){encoding=start;start=0;end=this.length}else if(typeof end==="string"){encoding=end;end=this.length}if(encoding!==undefined&&typeof encoding!=="string"){throw new TypeError("encoding must be a string")}if(typeof encoding==="string"&&!Buffer.isEncoding(encoding)){throw new TypeError("Unknown encoding: "+encoding)}if(val.length===1){var code=val.charCodeAt(0);if(encoding==="utf8"&&code<128||encoding==="latin1"){val=code}}}else if(typeof val==="number"){val=val&255}if(start<0||this.length<start||this.length<end){throw new RangeError("Out of range index")}if(end<=start){return this}start=start>>>0;end=end===undefined?this.length:end>>>0;if(!val)val=0;var i;if(typeof val==="number"){for(i=start;i<end;++i){this[i]=val}}else{var bytes=Buffer.isBuffer(val)?val:Buffer.from(val,encoding);var len=bytes.length;if(len===0){throw new TypeError('The value "'+val+'" is invalid for argument "value"')}for(i=0;i<end-start;++i){this[i+start]=bytes[i%len]}}return this};var INVALID_BASE64_RE=/[^+/0-9A-Za-z-_]/g;function base64clean(str){str=str.split("=")[0];str=str.trim().replace(INVALID_BASE64_RE,"");if(str.length<2)return"";while(str.length%4!==0){str=str+"="}return str}function toHex(n){if(n<16)return"0"+n.toString(16);return n.toString(16)}function utf8ToBytes(string,units){units=units||Infinity;var codePoint;var length=string.length;var leadSurrogate=null;var bytes=[];for(var i=0;i<length;++i){codePoint=string.charCodeAt(i);if(codePoint>55295&&codePoint<57344){if(!leadSurrogate){if(codePoint>56319){if((units-=3)>-1)bytes.push(239,191,189);continue}else if(i+1===length){if((units-=3)>-1)bytes.push(239,191,189);continue}leadSurrogate=codePoint;continue}if(codePoint<56320){if((units-=3)>-1)bytes.push(239,191,189);leadSurrogate=codePoint;continue}codePoint=(leadSurrogate-55296<<10|codePoint-56320)+65536}else if(leadSurrogate){if((units-=3)>-1)bytes.push(239,191,189)}leadSurrogate=null;if(codePoint<128){if((units-=1)<0)break;bytes.push(codePoint)}else if(codePoint<2048){if((units-=2)<0)break;bytes.push(codePoint>>6|192,codePoint&63|128)}else if(codePoint<65536){if((units-=3)<0)break;bytes.push(codePoint>>12|224,codePoint>>6&63|128,codePoint&63|128)}else if(codePoint<1114112){if((units-=4)<0)break;bytes.push(codePoint>>18|240,codePoint>>12&63|128,codePoint>>6&63|128,codePoint&63|128)}else{throw new Error("Invalid code point")}}return bytes}function asciiToBytes(str){var byteArray=[];for(var i=0;i<str.length;++i){byteArray.push(str.charCodeAt(i)&255)}return byteArray}function utf16leToBytes(str,units){var c,hi,lo;var byteArray=[];for(var i=0;i<str.length;++i){if((units-=2)<0)break;c=str.charCodeAt(i);hi=c>>8;lo=c%256;byteArray.push(lo);byteArray.push(hi)}return byteArray}function base64ToBytes(str){return base64.toByteArray(base64clean(str))}function blitBuffer(src,dst,offset,length){for(var i=0;i<length;++i){if(i+offset>=dst.length||i>=src.length)break;dst[i+offset]=src[i]}return i}function isInstance(obj,type){return obj instanceof type||obj!=null&&obj.constructor!=null&&obj.constructor.name!=null&&obj.constructor.name===type.name}function numberIsNaN(obj){return obj!==obj}}).call(this)}).call(this,require("buffer").Buffer)},{"base64-js":166,buffer:168,ieee754:169}],169:[function(require,module,exports){"use strict";exports.read=function(buffer,offset,isLE,mLen,nBytes){var e,m;var eLen=nBytes*8-mLen-1;var eMax=(1<<eLen)-1;var eBias=eMax>>1;var nBits=-7;var i=isLE?nBytes-1:0;var d=isLE?-1:1;var s=buffer[offset+i];i+=d;e=s&(1<<-nBits)-1;s>>=-nBits;nBits+=eLen;for(;nBits>0;e=e*256+buffer[offset+i],i+=d,nBits-=8){}m=e&(1<<-nBits)-1;e>>=-nBits;nBits+=mLen;for(;nBits>0;m=m*256+buffer[offset+i],i+=d,nBits-=8){}if(e===0){e=1-eBias}else if(e===eMax){return m?NaN:(s?-1:1)*Infinity}else{m=m+Math.pow(2,mLen);e=e-eBias}return(s?-1:1)*m*Math.pow(2,e-mLen)};exports.write=function(buffer,value,offset,isLE,mLen,nBytes){var e,m,c;var eLen=nBytes*8-mLen-1;var eMax=(1<<eLen)-1;var eBias=eMax>>1;var rt=mLen===23?Math.pow(2,-24)-Math.pow(2,-77):0;var i=isLE?0:nBytes-1;var d=isLE?1:-1;var s=value<0||value===0&&1/value<0?1:0;value=Math.abs(value);if(isNaN(value)||value===Infinity){m=isNaN(value)?1:0;e=eMax}else{e=Math.floor(Math.log(value)/Math.LN2);if(value*(c=Math.pow(2,-e))<1){e--;c*=2}if(e+eBias>=1){value+=rt/c}else{value+=rt*Math.pow(2,1-eBias)}if(value*c>=2){e++;c/=2}if(e+eBias>=eMax){m=0;e=eMax}else if(e+eBias>=1){m=(value*c-1)*Math.pow(2,mLen);e=e+eBias}else{m=value*Math.pow(2,eBias-1)*Math.pow(2,mLen);e=0}}for(;mLen>=8;buffer[offset+i]=m&255,i+=d,m/=256,mLen-=8){}e=e<<mLen|m;eLen+=mLen;for(;eLen>0;buffer[offset+i]=e&255,i+=d,e/=256,eLen-=8){}buffer[offset+i-d]|=s*128}},{}],170:[function(require,module,exports){arguments[4][75][0].apply(exports,arguments)},{dup:75}],171:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.WebSocket=void 0;var _utils=require("./utils.js");var WebSocket=(0,_utils.getNativeWebSocket)();exports.WebSocket=WebSocket},{"./utils.js":172}],172:[function(require,module,exports){(function(global){(function(){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getNativeWebSocket=getNativeWebSocket;function getNativeWebSocket(){if(typeof WebSocket!=="undefined")return WebSocket;if(typeof global.WebSocket!=="undefined")return global.WebSocket;if(typeof window.WebSocket!=="undefined")return window.WebSocket;if(typeof self.WebSocket!=="undefined")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}}).call(this)}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],173:[function(require,module,exports){"use strict";var getOwnPropertySymbols=Object.getOwnPropertySymbols;var hasOwnProperty=Object.prototype.hasOwnProperty;var propIsEnumerable=Object.prototype.propertyIsEnumerable;function toObject(val){if(val===null||val===undefined){throw new TypeError("Object.assign cannot be called with null or undefined")}return Object(val)}function shouldUseNative(){try{if(!Object.assign){return false}var test1=new String("abc");test1[5]="de";if(Object.getOwnPropertyNames(test1)[0]==="5"){return false}var test2={};for(var i=0;i<10;i++){test2["_"+String.fromCharCode(i)]=i}var order2=Object.getOwnPropertyNames(test2).map(function(n){return test2[n]});if(order2.join("")!=="0123456789"){return false}var test3={};"abcdefghijklmnopqrst".split("").forEach(function(letter){test3[letter]=letter});if(Object.keys(Object.assign({},test3)).join("")!=="abcdefghijklmnopqrst"){return false}return true}catch(err){return false}}module.exports=shouldUseNative()?Object.assign:function(target,source){var from;var to=toObject(target);var symbols;for(var s=1;s<arguments.length;s++){from=Object(arguments[s]);for(var key in from){if(hasOwnProperty.call(from,key)){to[key]=from[key]}}if(getOwnPropertySymbols){symbols=getOwnPropertySymbols(from);for(var i=0;i<symbols.length;i++){if(propIsEnumerable.call(from,symbols[i])){to[symbols[i]]=from[symbols[i]]}}}}return to}},{}],174:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.decode=decode;exports.encode=encode;exports.format=format;exports.from=from;exports.fromAbi=fromAbi;var abitype=require("abitype");var AbiItem=require("./AbiItem.js");var AbiParameters=require("./AbiParameters.js");var Hex=require("./Hex.js");function decode(abiConstructor,options){var bytecode=options.bytecode;if(abiConstructor.inputs.length===0)return undefined;var data=options.data.replace(bytecode,"0x");return AbiParameters.decode(abiConstructor.inputs,data)}function encode(abiConstructor,options){var _abiConstructor$input;var bytecode=options.bytecode,args=options.args;return Hex.concat(bytecode,(_abiConstructor$input=abiConstructor.inputs)!==null&&_abiConstructor$input!==void 0&&_abiConstructor$input.length&&args!==null&&args!==void 0&&args.length?AbiParameters.encode(abiConstructor.inputs,args):"0x")}function format(abiConstructor){return abitype.formatAbiItem(abiConstructor)}function from(abiConstructor){return AbiItem.from(abiConstructor)}function fromAbi(abi){var item=abi.find(function(item){return item.type==="constructor"});if(!item)throw new AbiItem.NotFoundError({name:"constructor"});return item}},{"./AbiItem.js":176,"./AbiParameters.js":177,"./Hex.js":184,abitype:141}],175:[function(require,module,exports){"use strict";function _toConsumableArray(r){return _arrayWithoutHoles(r)||_iterableToArray(r)||_unsupportedIterableToArray(r)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}function _iterableToArray(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}function _arrayWithoutHoles(r){if(Array.isArray(r))return _arrayLikeToArray(r)}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++){n[e]=r[e]}return n}Object.defineProperty(exports,"__esModule",{value:true});exports.decodeData=decodeData;exports.decodeResult=decodeResult;exports.encodeData=encodeData;exports.encodeResult=encodeResult;exports.format=format;exports.from=from;exports.fromAbi=fromAbi;exports.getSelector=getSelector;var abitype=require("abitype");var AbiItem=require("./AbiItem.js");var AbiParameters=require("./AbiParameters.js");var Hex=require("./Hex.js");function decodeData(abiFunction,data){var overloads=abiFunction.overloads;if(Hex.size(data)<4)throw new AbiItem.InvalidSelectorSizeError({data:data});if(abiFunction.inputs.length===0)return undefined;var item=overloads?fromAbi([abiFunction].concat(_toConsumableArray(overloads)),data):abiFunction;if(Hex.size(data)<=4)return undefined;return AbiParameters.decode(item.inputs,Hex.slice(data,4))}function decodeResult(abiFunction,data){var options=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var values=AbiParameters.decode(abiFunction.outputs,data,options);if(values&&Object.keys(values).length===0)return undefined;if(values&&Object.keys(values).length===1){if(Array.isArray(values))return values[0];return Object.values(values)[0]}return values}function encodeData(abiFunction){var overloads=abiFunction.overloads;var item=overloads?fromAbi([abiFunction].concat(_toConsumableArray(overloads)),abiFunction.name,{args:arguments.length<=1?undefined:arguments[1]}):abiFunction;var selector=getSelector(item);var data=(arguments.length<=1?0:arguments.length-1)>0?AbiParameters.encode(item.inputs,arguments.length<=1?undefined:arguments[1]):undefined;return data?Hex.concat(selector,data):selector}function encodeResult(abiFunction,output){var options=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var _options$as=options.as,as=_options$as===void 0?"Array":_options$as;var values=function(){if(abiFunction.outputs.length===1)return[output];if(Array.isArray(output))return output;if(as==="Object")return Object.values(output);return[output]}();return AbiParameters.encode(abiFunction.outputs,values)}function format(abiFunction){return abitype.formatAbiItem(abiFunction)}function from(abiFunction){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return AbiItem.from(abiFunction,options)}function fromAbi(abi,name,options){var item=AbiItem.fromAbi(abi,name,options);if(item.type!=="function")throw new AbiItem.NotFoundError({name:name,type:"function"});return item}function getSelector(abiItem){return AbiItem.getSelector(abiItem)}},{"./AbiItem.js":176,"./AbiParameters.js":177,"./Hex.js":184,abitype:141}],176:[function(require,module,exports){"use strict";function _defineProperties(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),o)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _classCallCheck(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_setPrototypeOf(t,e)}function _createSuper(t){var r=_isNativeReflectConstruct();return function(){var e,o=_getPrototypeOf(t);if(r){var s=_getPrototypeOf(this).constructor;e=Reflect.construct(o,arguments,s)}else e=o.apply(this,arguments);return _possibleConstructorReturn(this,e)}}function _possibleConstructorReturn(t,e){if(e&&("object"==_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(_isNativeReflectConstruct=function _isNativeReflectConstruct(){return!!t})()}function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(t)}function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _toArray(r){return _arrayWithHoles(r)||_iterableToArray(r)||_unsupportedIterableToArray(r)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}function _arrayWithHoles(r){if(Array.isArray(r))return r}function _createForOfIteratorHelper(r,e){var t="undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(!t){if(Array.isArray(r)||(t=_unsupportedIterableToArray(r))||e&&r&&"number"==typeof r.length){t&&(r=t);var _n=0,F=function F(){};return{s:F,n:function n(){return _n>=r.length?{done:!0}:{done:!1,value:r[_n++]}},e:function e(r){throw r},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function s(){t=t.call(r)},n:function n(){var r=t.next();return a=r.done,r},e:function e(r){u=!0,o=r},f:function f(){try{a||null==t["return"]||t["return"]()}finally{if(u)throw o}}}}function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++){n[e]=r[e]}return n}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function _defineProperty(e,r,t){return(r=_toPropertyKey(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}Object.defineProperty(exports,"__esModule",{value:true});exports.InvalidSelectorSizeError=exports.NotFoundError=exports.AmbiguityError=void 0;exports.format=format;exports.from=from;exports.fromAbi=fromAbi;exports.getSelector=getSelector;exports.getSignature=getSignature;exports.getSignatureHash=getSignatureHash;var abitype=require("abitype");var Errors=require("./Errors.js");var Hash=require("./Hash.js");var Hex=require("./Hex.js");var internal=require("./internal/abiItem.js");function format(abiItem){return abitype.formatAbiItem(abiItem)}function from(abiItem){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var _options$prepare=options.prepare,prepare=_options$prepare===void 0?true:_options$prepare;var item=function(){if(Array.isArray(abiItem))return abitype.parseAbiItem(abiItem);if(typeof abiItem==="string")return abitype.parseAbiItem(abiItem);return abiItem}();return _objectSpread(_objectSpread({},item),prepare?{hash:getSignatureHash(item)}:{})}function fromAbi(abi,name,options){var _ref=options!==null&&options!==void 0?options:{},_ref$args=_ref.args,args=_ref$args===void 0?[]:_ref$args,_ref$prepare=_ref.prepare,prepare=_ref$prepare===void 0?true:_ref$prepare;var isSelector=Hex.validate(name,{strict:false});var abiItems=abi.filter(function(abiItem){if(isSelector){if(abiItem.type==="function"||abiItem.type==="error")return getSelector(abiItem)===Hex.slice(name,0,4);if(abiItem.type==="event")return getSignatureHash(abiItem)===name;return false}return"name"in abiItem&&abiItem.name===name});if(abiItems.length===0)throw new NotFoundError({name:name});if(abiItems.length===1)return _objectSpread(_objectSpread({},abiItems[0]),prepare?{hash:getSignatureHash(abiItems[0])}:{});var matchedAbiItem=undefined;var _iterator=_createForOfIteratorHelper(abiItems),_step;try{var _loop=function _loop(){var abiItem=_step.value;if(!("inputs"in abiItem))return"continue";if(!args||args.length===0){if(!abiItem.inputs||abiItem.inputs.length===0)return{v:_objectSpread(_objectSpread({},abiItem),prepare?{hash:getSignatureHash(abiItem)}:{})};return"continue"}if(!abiItem.inputs)return"continue";if(abiItem.inputs.length===0)return"continue";if(abiItem.inputs.length!==args.length)return"continue";var matched=args.every(function(arg,index){var abiParameter="inputs"in abiItem&&abiItem.inputs[index];if(!abiParameter)return false;return internal.isArgOfType(arg,abiParameter)});if(matched){if(matchedAbiItem&&"inputs"in matchedAbiItem&&matchedAbiItem.inputs){var ambiguousTypes=internal.getAmbiguousTypes(abiItem.inputs,matchedAbiItem.inputs,args);if(ambiguousTypes)throw new AmbiguityError({abiItem:abiItem,type:ambiguousTypes[0]},{abiItem:matchedAbiItem,type:ambiguousTypes[1]})}matchedAbiItem=abiItem}};for(_iterator.s();!(_step=_iterator.n()).done;){var _ret=_loop();if(_ret==="continue")continue;if(_typeof(_ret)==="object")return _ret.v}}catch(err){_iterator.e(err)}finally{_iterator.f()}var abiItem=function(){if(matchedAbiItem)return matchedAbiItem;var _abiItems=_toArray(abiItems),abiItem=_abiItems[0],overloads=_abiItems.slice(1);return _objectSpread(_objectSpread({},abiItem),{},{overloads:overloads})}();if(!abiItem)throw new NotFoundError({name:name});return _objectSpread(_objectSpread({},abiItem),prepare?{hash:getSignatureHash(abiItem)}:{})}function getSelector(abiItem){return Hex.slice(getSignatureHash(abiItem),0,4)}function getSignature(abiItem){var signature=function(){if(typeof abiItem==="string")return abiItem;return abitype.formatAbiItem(abiItem)}();return internal.normalizeSignature(signature)}function getSignatureHash(abiItem){if(typeof abiItem!=="string"&&"hash"in abiItem&&abiItem.hash)return abiItem.hash;return Hash.keccak256(Hex.fromString(getSignature(abiItem)))}var AmbiguityError=function(_Errors$BaseError){_inherits(AmbiguityError,_Errors$BaseError);var _super=_createSuper(AmbiguityError);function AmbiguityError(x,y){var _this;_classCallCheck(this,AmbiguityError);_this=_super.call(this,"Found ambiguous types in overloaded ABI Items.",{metaMessages:["`".concat(x.type,"` in `").concat(internal.normalizeSignature(abitype.formatAbiItem(x.abiItem)),"`, and"),"`".concat(y.type,"` in `").concat(internal.normalizeSignature(abitype.formatAbiItem(y.abiItem)),"`"),"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]});Object.defineProperty(_assertThisInitialized(_this),"name",{enumerable:true,configurable:true,writable:true,value:"AbiItem.AmbiguityError"});return _this}return _createClass(AmbiguityError)}(Errors.BaseError);exports.AmbiguityError=AmbiguityError;var NotFoundError=function(_Errors$BaseError2){_inherits(NotFoundError,_Errors$BaseError2);var _super2=_createSuper(NotFoundError);function NotFoundError(_ref2){var _this2;var name=_ref2.name,data=_ref2.data,_ref2$type=_ref2.type,type=_ref2$type===void 0?"item":_ref2$type;_classCallCheck(this,NotFoundError);var selector=function(){if(name)return' with name "'.concat(name,'"');if(data)return' with data "'.concat(data,'"');return""}();_this2=_super2.call(this,"ABI ".concat(type).concat(selector," not found."));Object.defineProperty(_assertThisInitialized(_this2),"name",{enumerable:true,configurable:true,writable:true,value:"AbiItem.NotFoundError"});return _this2}return _createClass(NotFoundError)}(Errors.BaseError);exports.NotFoundError=NotFoundError;var InvalidSelectorSizeError=function(_Errors$BaseError3){_inherits(InvalidSelectorSizeError,_Errors$BaseError3);var _super3=_createSuper(InvalidSelectorSizeError);function InvalidSelectorSizeError(_ref3){var _this3;var data=_ref3.data;_classCallCheck(this,InvalidSelectorSizeError);_this3=_super3.call(this,"Selector size is invalid. Expected 4 bytes. Received ".concat(Hex.size(data),' bytes ("').concat(data,'").'));Object.defineProperty(_assertThisInitialized(_this3),"name",{enumerable:true,configurable:true,writable:true,value:"AbiItem.InvalidSelectorSizeError"});return _this3}return _createClass(InvalidSelectorSizeError)}(Errors.BaseError);exports.InvalidSelectorSizeError=InvalidSelectorSizeError},{"./Errors.js":182,"./Hash.js":183,"./Hex.js":184,"./internal/abiItem.js":189,abitype:141}],177:[function(require,module,exports){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),o)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function _classCallCheck(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_setPrototypeOf(t,e)}function _createSuper(t){var r=_isNativeReflectConstruct();return function(){var e,o=_getPrototypeOf(t);if(r){var s=_getPrototypeOf(this).constructor;e=Reflect.construct(o,arguments,s)}else e=o.apply(this,arguments);return _possibleConstructorReturn(this,e)}}function _possibleConstructorReturn(t,e){if(e&&("object"==_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(_isNativeReflectConstruct=function _isNativeReflectConstruct(){return!!t})()}function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(t)}function _slicedToArray(r,e){return _arrayWithHoles(r)||_iterableToArrayLimit(r,e)||_unsupportedIterableToArray(r,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++){n[e]=r[e]}return n}function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0){}}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t["return"]&&(u=t["return"](),Object(u)!==u))return}finally{if(o)throw n}}return a}}function _arrayWithHoles(r){if(Array.isArray(r))return r}Object.defineProperty(exports,"__esModule",{value:true});exports.InvalidTypeError=exports.InvalidArrayError=exports.LengthMismatchError=exports.BytesSizeMismatchError=exports.ArrayLengthMismatchError=exports.ZeroDataError=exports.DataSizeTooSmallError=void 0;exports.decode=decode;exports.encode=encode;exports.encodePacked=encodePacked;exports.format=format;exports.from=from;var abitype=require("abitype");var Address=require("./Address.js");var Bytes=require("./Bytes.js");var Errors=require("./Errors.js");var Hex=require("./Hex.js");var Solidity=require("./Solidity.js");var internal=require("./internal/abiParameters.js");var Cursor=require("./internal/cursor.js");function decode(parameters,data){var options=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var _options$as=options.as,as=_options$as===void 0?"Array":_options$as,_options$checksumAddr=options.checksumAddress,checksumAddress=_options$checksumAddr===void 0?false:_options$checksumAddr;var bytes=typeof data==="string"?Bytes.fromHex(data):data;var cursor=Cursor.create(bytes);if(Bytes.size(bytes)===0&&parameters.length>0)throw new ZeroDataError;if(Bytes.size(bytes)&&Bytes.size(bytes)<32)throw new DataSizeTooSmallError({data:typeof data==="string"?data:Hex.fromBytes(data),parameters:parameters,size:Bytes.size(bytes)});var consumed=0;var values=as==="Array"?[]:{};for(var i=0;i<parameters.length;++i){var _param$name;var param=parameters[i];cursor.setPosition(consumed);var _internal$decodeParam=internal.decodeParameter(cursor,param,{checksumAddress:checksumAddress,staticPosition:0}),_internal$decodeParam2=_slicedToArray(_internal$decodeParam,2),_data=_internal$decodeParam2[0],consumed_=_internal$decodeParam2[1];consumed+=consumed_;if(as==="Array")values.push(_data);else values[(_param$name=param.name)!==null&&_param$name!==void 0?_param$name:i]=_data}return values}function encode(parameters,values,options){var _ref=options!==null&&options!==void 0?options:{},_ref$checksumAddress=_ref.checksumAddress,checksumAddress=_ref$checksumAddress===void 0?false:_ref$checksumAddress;if(parameters.length!==values.length)throw new LengthMismatchError({expectedLength:parameters.length,givenLength:values.length});var preparedParameters=internal.prepareParameters({checksumAddress:checksumAddress,parameters:parameters,values:values});var data=internal.encode(preparedParameters);if(data.length===0)return"0x";return data}function encodePacked(types,values){if(types.length!==values.length)throw new LengthMismatchError({expectedLength:types.length,givenLength:values.length});var data=[];for(var i=0;i<types.length;i++){var type=types[i];var value=values[i];data.push(encodePacked.encode(type,value))}return Hex.concat.apply(Hex,data)}(function(encodePacked){function encode(type,value){var isArray=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;if(type==="address"){var address=value;Address.assert(address);return Hex.padLeft(address.toLowerCase(),isArray?32:0)}if(type==="string")return Hex.fromString(value);if(type==="bytes")return value;if(type==="bool")return Hex.padLeft(Hex.fromBoolean(value),isArray?32:1);var intMatch=type.match(Solidity.integerRegex);if(intMatch){var _intMatch=_slicedToArray(intMatch,3),_type=_intMatch[0],baseType=_intMatch[1],_intMatch$=_intMatch[2],bits=_intMatch$===void 0?"256":_intMatch$;var size=Number.parseInt(bits)/8;return Hex.fromNumber(value,{size:isArray?32:size,signed:baseType==="int"})}var bytesMatch=type.match(Solidity.bytesRegex);if(bytesMatch){var _bytesMatch=_slicedToArray(bytesMatch,2),_type2=_bytesMatch[0],_size=_bytesMatch[1];if(Number.parseInt(_size)!==(value.length-2)/2)throw new BytesSizeMismatchError({expectedSize:Number.parseInt(_size),value:value});return Hex.padRight(value,isArray?32:0)}var arrayMatch=type.match(Solidity.arrayRegex);if(arrayMatch&&Array.isArray(value)){var _arrayMatch=_slicedToArray(arrayMatch,2),_type3=_arrayMatch[0],childType=_arrayMatch[1];var data=[];for(var i=0;i<value.length;i++){data.push(encode(childType,value[i],true))}if(data.length===0)return"0x";return Hex.concat.apply(Hex,data)}throw new InvalidTypeError(type)}encodePacked.encode=encode})(encodePacked||(exports.encodePacked=encodePacked={}));function format(parameters){return abitype.formatAbiParameters(parameters)}function from(parameters){if(Array.isArray(parameters)&&typeof parameters[0]==="string")return abitype.parseAbiParameters(parameters);if(typeof parameters==="string")return abitype.parseAbiParameters(parameters);return parameters}var DataSizeTooSmallError=function(_Errors$BaseError){_inherits(DataSizeTooSmallError,_Errors$BaseError);var _super=_createSuper(DataSizeTooSmallError);function DataSizeTooSmallError(_ref2){var _this;var data=_ref2.data,parameters=_ref2.parameters,size=_ref2.size;_classCallCheck(this,DataSizeTooSmallError);_this=_super.call(this,"Data size of ".concat(size," bytes is too small for given parameters."),{metaMessages:["Params: (".concat(abitype.formatAbiParameters(parameters),")"),"Data:   ".concat(data," (").concat(size," bytes)")]});Object.defineProperty(_assertThisInitialized(_this),"name",{enumerable:true,configurable:true,writable:true,value:"AbiParameters.DataSizeTooSmallError"});return _this}return _createClass(DataSizeTooSmallError)}(Errors.BaseError);exports.DataSizeTooSmallError=DataSizeTooSmallError;var ZeroDataError=function(_Errors$BaseError2){_inherits(ZeroDataError,_Errors$BaseError2);var _super2=_createSuper(ZeroDataError);function ZeroDataError(){var _this2;_classCallCheck(this,ZeroDataError);_this2=_super2.call(this,'Cannot decode zero data ("0x") with ABI parameters.');Object.defineProperty(_assertThisInitialized(_this2),"name",{enumerable:true,configurable:true,writable:true,value:"AbiParameters.ZeroDataError"});return _this2}return _createClass(ZeroDataError)}(Errors.BaseError);exports.ZeroDataError=ZeroDataError;var ArrayLengthMismatchError=function(_Errors$BaseError3){_inherits(ArrayLengthMismatchError,_Errors$BaseError3);var _super3=_createSuper(ArrayLengthMismatchError);function ArrayLengthMismatchError(_ref3){var _this3;var expectedLength=_ref3.expectedLength,givenLength=_ref3.givenLength,type=_ref3.type;_classCallCheck(this,ArrayLengthMismatchError);_this3=_super3.call(this,"Array length mismatch for type `".concat(type,"`. Expected: `").concat(expectedLength,"`. Given: `").concat(givenLength,"`."));Object.defineProperty(_assertThisInitialized(_this3),"name",{enumerable:true,configurable:true,writable:true,value:"AbiParameters.ArrayLengthMismatchError"});return _this3}return _createClass(ArrayLengthMismatchError)}(Errors.BaseError);exports.ArrayLengthMismatchError=ArrayLengthMismatchError;var BytesSizeMismatchError=function(_Errors$BaseError4){_inherits(BytesSizeMismatchError,_Errors$BaseError4);var _super4=_createSuper(BytesSizeMismatchError);function BytesSizeMismatchError(_ref4){var _this4;var expectedSize=_ref4.expectedSize,value=_ref4.value;_classCallCheck(this,BytesSizeMismatchError);_this4=_super4.call(this,'Size of bytes "'.concat(value,'" (bytes').concat(Hex.size(value),") does not match expected size (bytes").concat(expectedSize,")."));Object.defineProperty(_assertThisInitialized(_this4),"name",{enumerable:true,configurable:true,writable:true,value:"AbiParameters.BytesSizeMismatchError"});return _this4}return _createClass(BytesSizeMismatchError)}(Errors.BaseError);exports.BytesSizeMismatchError=BytesSizeMismatchError;var LengthMismatchError=function(_Errors$BaseError5){_inherits(LengthMismatchError,_Errors$BaseError5);var _super5=_createSuper(LengthMismatchError);function LengthMismatchError(_ref5){var _this5;var expectedLength=_ref5.expectedLength,givenLength=_ref5.givenLength;_classCallCheck(this,LengthMismatchError);_this5=_super5.call(this,["ABI encoding parameters/values length mismatch.","Expected length (parameters): ".concat(expectedLength),"Given length (values): ".concat(givenLength)].join("\n"));Object.defineProperty(_assertThisInitialized(_this5),"name",{enumerable:true,configurable:true,writable:true,value:"AbiParameters.LengthMismatchError"});return _this5}return _createClass(LengthMismatchError)}(Errors.BaseError);exports.LengthMismatchError=LengthMismatchError;var InvalidArrayError=function(_Errors$BaseError6){_inherits(InvalidArrayError,_Errors$BaseError6);var _super6=_createSuper(InvalidArrayError);function InvalidArrayError(value){var _this6;_classCallCheck(this,InvalidArrayError);_this6=_super6.call(this,"Value `".concat(value,"` is not a valid array."));Object.defineProperty(_assertThisInitialized(_this6),"name",{enumerable:true,configurable:true,writable:true,value:"AbiParameters.InvalidArrayError"});return _this6}return _createClass(InvalidArrayError)}(Errors.BaseError);exports.InvalidArrayError=InvalidArrayError;var InvalidTypeError=function(_Errors$BaseError7){_inherits(InvalidTypeError,_Errors$BaseError7);var _super7=_createSuper(InvalidTypeError);function InvalidTypeError(type){var _this7;_classCallCheck(this,InvalidTypeError);_this7=_super7.call(this,"Type `".concat(type,"` is not a valid ABI Type."));Object.defineProperty(_assertThisInitialized(_this7),"name",{enumerable:true,configurable:true,writable:true,value:"AbiParameters.InvalidTypeError"});return _this7}return _createClass(InvalidTypeError)}(Errors.BaseError);exports.InvalidTypeError=InvalidTypeError},{"./Address.js":178,"./Bytes.js":180,"./Errors.js":182,"./Hex.js":184,"./Solidity.js":187,"./internal/abiParameters.js":190,"./internal/cursor.js":192,abitype:141}],178:[function(require,module,exports){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),o)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function _classCallCheck(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_setPrototypeOf(t,e)}function _createSuper(t){var r=_isNativeReflectConstruct();return function(){var e,o=_getPrototypeOf(t);if(r){var s=_getPrototypeOf(this).constructor;e=Reflect.construct(o,arguments,s)}else e=o.apply(this,arguments);return _possibleConstructorReturn(this,e)}}function _possibleConstructorReturn(t,e){if(e&&("object"==_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(_isNativeReflectConstruct=function _isNativeReflectConstruct(){return!!t})()}function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(t)}Object.defineProperty(exports,"__esModule",{value:true});exports.InvalidChecksumError=exports.InvalidInputError=exports.InvalidAddressError=void 0;exports.assert=assert;exports.checksum=checksum;exports.from=from;exports.fromPublicKey=fromPublicKey;exports.isEqual=isEqual;exports.validate=validate;var Bytes=require("./Bytes.js");var Caches=require("./Caches.js");var Errors=require("./Errors.js");var Hash=require("./Hash.js");var PublicKey=require("./PublicKey.js");var addressRegex=/^0x[a-fA-F0-9]{40}$/;function assert(value){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var _options$strict=options.strict,strict=_options$strict===void 0?true:_options$strict;if(!addressRegex.test(value))throw new InvalidAddressError({address:value,cause:new InvalidInputError});if(strict){if(value.toLowerCase()===value)return;if(checksum(value)!==value)throw new InvalidAddressError({address:value,cause:new InvalidChecksumError})}}function checksum(address){if(Caches.checksum.has(address))return Caches.checksum.get(address);assert(address,{strict:false});var hexAddress=address.substring(2).toLowerCase();var hash=Hash.keccak256(Bytes.fromString(hexAddress),{as:"Bytes"});var characters=hexAddress.split("");for(var i=0;i<40;i+=2){if(hash[i>>1]>>4>=8&&characters[i]){characters[i]=characters[i].toUpperCase()}if((hash[i>>1]&15)>=8&&characters[i+1]){characters[i+1]=characters[i+1].toUpperCase()}}var result="0x".concat(characters.join(""));Caches.checksum.set(address,result);return result}function from(address){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var _options$checksum=options.checksum,checksumVal=_options$checksum===void 0?false:_options$checksum;assert(address);if(checksumVal)return checksum(address);return address}function fromPublicKey(publicKey){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var address=Hash.keccak256("0x".concat(PublicKey.toHex(publicKey).slice(4))).substring(26);return from("0x".concat(address),options)}function isEqual(addressA,addressB){assert(addressA,{strict:false});assert(addressB,{strict:false});return addressA.toLowerCase()===addressB.toLowerCase()}function validate(address){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var _ref=options!==null&&options!==void 0?options:{},_ref$strict=_ref.strict,strict=_ref$strict===void 0?true:_ref$strict;try{assert(address,{strict:strict});return true}catch(_unused){return false}}var InvalidAddressError=function(_Errors$BaseError){_inherits(InvalidAddressError,_Errors$BaseError);var _super=_createSuper(InvalidAddressError);function InvalidAddressError(_ref2){var _this;var address=_ref2.address,cause=_ref2.cause;_classCallCheck(this,InvalidAddressError);_this=_super.call(this,'Address "'.concat(address,'" is invalid.'),{cause:cause});Object.defineProperty(_assertThisInitialized(_this),"name",{enumerable:true,configurable:true,writable:true,value:"Address.InvalidAddressError"});return _this}return _createClass(InvalidAddressError)}(Errors.BaseError);exports.InvalidAddressError=InvalidAddressError;var InvalidInputError=function(_Errors$BaseError2){_inherits(InvalidInputError,_Errors$BaseError2);var _super2=_createSuper(InvalidInputError);function InvalidInputError(){var _this2;_classCallCheck(this,InvalidInputError);_this2=_super2.call(this,"Address is not a 20 byte (40 hexadecimal character) value.");Object.defineProperty(_assertThisInitialized(_this2),"name",{enumerable:true,configurable:true,writable:true,value:"Address.InvalidInputError"});return _this2}return _createClass(InvalidInputError)}(Errors.BaseError);exports.InvalidInputError=InvalidInputError;var InvalidChecksumError=function(_Errors$BaseError3){_inherits(InvalidChecksumError,_Errors$BaseError3);var _super3=_createSuper(InvalidChecksumError);function InvalidChecksumError(){var _this3;_classCallCheck(this,InvalidChecksumError);_this3=_super3.call(this,"Address does not match its checksum counterpart.");Object.defineProperty(_assertThisInitialized(_this3),"name",{enumerable:true,configurable:true,writable:true,value:"Address.InvalidChecksumError"});return _this3}return _createClass(InvalidChecksumError)}(Errors.BaseError);exports.InvalidChecksumError=InvalidChecksumError},{"./Bytes.js":180,"./Caches.js":181,"./Errors.js":182,"./Hash.js":183,"./PublicKey.js":186}],179:[function(require,module,exports){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function _defineProperty(e,r,t){return(r=_toPropertyKey(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}Object.defineProperty(exports,"__esModule",{value:true});exports.fromRpc=fromRpc;exports.toRpc=toRpc;var Hex=require("./Hex.js");var Withdrawal=require("./Withdrawal.js");function fromRpc(rpcBlockOverrides){return _objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread({},rpcBlockOverrides.baseFeePerGas&&{baseFeePerGas:BigInt(rpcBlockOverrides.baseFeePerGas)}),rpcBlockOverrides.blobBaseFee&&{blobBaseFee:BigInt(rpcBlockOverrides.blobBaseFee)}),rpcBlockOverrides.feeRecipient&&{feeRecipient:rpcBlockOverrides.feeRecipient}),rpcBlockOverrides.gasLimit&&{gasLimit:BigInt(rpcBlockOverrides.gasLimit)}),rpcBlockOverrides.number&&{number:BigInt(rpcBlockOverrides.number)}),rpcBlockOverrides.prevRandao&&{prevRandao:BigInt(rpcBlockOverrides.prevRandao)}),rpcBlockOverrides.time&&{time:BigInt(rpcBlockOverrides.time)}),rpcBlockOverrides.withdrawals&&{withdrawals:rpcBlockOverrides.withdrawals.map(Withdrawal.fromRpc)})}function toRpc(blockOverrides){return _objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread({},typeof blockOverrides.baseFeePerGas==="bigint"&&{baseFeePerGas:Hex.fromNumber(blockOverrides.baseFeePerGas)}),typeof blockOverrides.blobBaseFee==="bigint"&&{blobBaseFee:Hex.fromNumber(blockOverrides.blobBaseFee)}),typeof blockOverrides.feeRecipient==="string"&&{feeRecipient:blockOverrides.feeRecipient}),typeof blockOverrides.gasLimit==="bigint"&&{gasLimit:Hex.fromNumber(blockOverrides.gasLimit)}),typeof blockOverrides.number==="bigint"&&{number:Hex.fromNumber(blockOverrides.number)}),typeof blockOverrides.prevRandao==="bigint"&&{prevRandao:Hex.fromNumber(blockOverrides.prevRandao)}),typeof blockOverrides.time==="bigint"&&{time:Hex.fromNumber(blockOverrides.time)}),blockOverrides.withdrawals&&{withdrawals:blockOverrides.withdrawals.map(Withdrawal.toRpc)})}},{"./Hex.js":184,"./Withdrawal.js":188}],180:[function(require,module,exports){"use strict";function _defineProperties(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),o)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function _classCallCheck(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_setPrototypeOf(t,e)}function _createSuper(t){var r=_isNativeReflectConstruct();return function(){var e,o=_getPrototypeOf(t);if(r){var s=_getPrototypeOf(this).constructor;e=Reflect.construct(o,arguments,s)}else e=o.apply(this,arguments);return _possibleConstructorReturn(this,e)}}function _possibleConstructorReturn(t,e){if(e&&("object"==_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(_isNativeReflectConstruct=function _isNativeReflectConstruct(){return!!t})()}function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(t)}function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}Object.defineProperty(exports,"__esModule",{value:true});exports.SizeExceedsPaddingSizeError=exports.SliceOffsetOutOfBoundsError=exports.SizeOverflowError=exports.InvalidBytesTypeError=exports.InvalidBytesBooleanError=void 0;exports.assert=assert;exports.concat=concat;exports.from=from;exports.fromArray=fromArray;exports.fromBoolean=fromBoolean;exports.fromHex=fromHex;exports.fromNumber=fromNumber;exports.fromString=fromString;exports.isEqual=isEqual;exports.padLeft=padLeft;exports.padRight=padRight;exports.random=random;exports.size=size;exports.slice=slice;exports.toBigInt=toBigInt;exports.toBoolean=toBoolean;exports.toHex=toHex;exports.toNumber=toNumber;exports.toString=toString;exports.trimLeft=trimLeft;exports.trimRight=trimRight;exports.validate=validate;var utils_1=require("@noble/curves/abstract/utils");var Errors=require("./Errors.js");var Hex=require("./Hex.js");var Json=require("./Json.js");var internal=require("./internal/bytes.js");var internal_hex=require("./internal/hex.js");var decoder=new TextDecoder;var encoder=new TextEncoder;function assert(value){if(value instanceof Uint8Array)return;if(!value)throw new InvalidBytesTypeError(value);if(_typeof(value)!=="object")throw new InvalidBytesTypeError(value);if(!("BYTES_PER_ELEMENT"in value))throw new InvalidBytesTypeError(value);if(value.BYTES_PER_ELEMENT!==1||value.constructor.name!=="Uint8Array")throw new InvalidBytesTypeError(value)}function concat(){var length=0;for(var _len=arguments.length,values=new Array(_len),_key=0;_key<_len;_key++){values[_key]=arguments[_key]}for(var _i=0,_values=values;_i<_values.length;_i++){var arr=_values[_i];length+=arr.length}var result=new Uint8Array(length);for(var i=0,index=0;i<values.length;i++){var _arr=values[i];result.set(_arr,index);index+=_arr.length}return result}function from(value){if(value instanceof Uint8Array)return value;if(typeof value==="string")return fromHex(value);return fromArray(value)}function fromArray(value){return value instanceof Uint8Array?value:new Uint8Array(value)}function fromBoolean(value){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var size=options.size;var bytes=new Uint8Array(1);bytes[0]=Number(value);if(typeof size==="number"){internal.assertSize(bytes,size);return padLeft(bytes,size)}return bytes}function fromHex(value){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var size=options.size;var hex=value;if(size){internal_hex.assertSize(value,size);hex=Hex.padRight(value,size)}var hexString=hex.slice(2);if(hexString.length%2)hexString="0".concat(hexString);var length=hexString.length/2;var bytes=new Uint8Array(length);for(var index=0,j=0;index<length;index++){var nibbleLeft=internal.charCodeToBase16(hexString.charCodeAt(j++));var nibbleRight=internal.charCodeToBase16(hexString.charCodeAt(j++));if(nibbleLeft===undefined||nibbleRight===undefined){throw new Errors.BaseError('Invalid byte sequence ("'.concat(hexString[j-2]).concat(hexString[j-1],'" in "').concat(hexString,'").'))}bytes[index]=nibbleLeft*16+nibbleRight}return bytes}function fromNumber(value,options){var hex=Hex.fromNumber(value,options);return fromHex(hex)}function fromString(value){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var size=options.size;var bytes=encoder.encode(value);if(typeof size==="number"){internal.assertSize(bytes,size);return padRight(bytes,size)}return bytes}function isEqual(bytesA,bytesB){return(0,utils_1.equalBytes)(bytesA,bytesB)}function padLeft(value,size){return internal.pad(value,{dir:"left",size:size})}function padRight(value,size){return internal.pad(value,{dir:"right",size:size})}function random(length){return crypto.getRandomValues(new Uint8Array(length))}function size(value){return value.length}function slice(value,start,end){var options=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{};var strict=options.strict;internal.assertStartOffset(value,start);var value_=value.slice(start,end);if(strict)internal.assertEndOffset(value_,start,end);return value_}function toBigInt(bytes){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var size=options.size;if(typeof size!=="undefined")internal.assertSize(bytes,size);var hex=Hex.fromBytes(bytes,options);return Hex.toBigInt(hex,options)}function toBoolean(bytes){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var size=options.size;var bytes_=bytes;if(typeof size!=="undefined"){internal.assertSize(bytes_,size);bytes_=trimLeft(bytes_)}if(bytes_.length>1||bytes_[0]>1)throw new InvalidBytesBooleanError(bytes_);return Boolean(bytes_[0])}function toHex(value){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return Hex.fromBytes(value,options)}function toNumber(bytes){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var size=options.size;if(typeof size!=="undefined")internal.assertSize(bytes,size);var hex=Hex.fromBytes(bytes,options);return Hex.toNumber(hex,options)}function toString(bytes){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var size=options.size;var bytes_=bytes;if(typeof size!=="undefined"){internal.assertSize(bytes_,size);bytes_=trimRight(bytes_)}return decoder.decode(bytes_)}function trimLeft(value){return internal.trim(value,{dir:"left"})}function trimRight(value){return internal.trim(value,{dir:"right"})}function validate(value){try{assert(value);return true}catch(_unused){return false}}var InvalidBytesBooleanError=function(_Errors$BaseError){_inherits(InvalidBytesBooleanError,_Errors$BaseError);var _super=_createSuper(InvalidBytesBooleanError);function InvalidBytesBooleanError(bytes){var _this;_classCallCheck(this,InvalidBytesBooleanError);_this=_super.call(this,"Bytes value `".concat(bytes,"` is not a valid boolean."),{metaMessages:["The bytes array must contain a single byte of either a `0` or `1` value."]});Object.defineProperty(_assertThisInitialized(_this),"name",{enumerable:true,configurable:true,writable:true,value:"Bytes.InvalidBytesBooleanError"});return _this}return _createClass(InvalidBytesBooleanError)}(Errors.BaseError);exports.InvalidBytesBooleanError=InvalidBytesBooleanError;var InvalidBytesTypeError=function(_Errors$BaseError2){_inherits(InvalidBytesTypeError,_Errors$BaseError2);var _super2=_createSuper(InvalidBytesTypeError);function InvalidBytesTypeError(value){var _this2;_classCallCheck(this,InvalidBytesTypeError);_this2=_super2.call(this,"Value `".concat(_typeof(value)==="object"?Json.stringify(value):value,"` of type `").concat(_typeof(value),"` is an invalid Bytes value."),{metaMessages:["Bytes values must be of type `Bytes`."]});Object.defineProperty(_assertThisInitialized(_this2),"name",{enumerable:true,configurable:true,writable:true,value:"Bytes.InvalidBytesTypeError"});return _this2}return _createClass(InvalidBytesTypeError)}(Errors.BaseError);exports.InvalidBytesTypeError=InvalidBytesTypeError;var SizeOverflowError=function(_Errors$BaseError3){_inherits(SizeOverflowError,_Errors$BaseError3);var _super3=_createSuper(SizeOverflowError);function SizeOverflowError(_ref){var _this3;var givenSize=_ref.givenSize,maxSize=_ref.maxSize;_classCallCheck(this,SizeOverflowError);_this3=_super3.call(this,"Size cannot exceed `".concat(maxSize,"` bytes. Given size: `").concat(givenSize,"` bytes."));Object.defineProperty(_assertThisInitialized(_this3),"name",{enumerable:true,configurable:true,writable:true,value:"Bytes.SizeOverflowError"});return _this3}return _createClass(SizeOverflowError)}(Errors.BaseError);exports.SizeOverflowError=SizeOverflowError;var SliceOffsetOutOfBoundsError=function(_Errors$BaseError4){_inherits(SliceOffsetOutOfBoundsError,_Errors$BaseError4);var _super4=_createSuper(SliceOffsetOutOfBoundsError);function SliceOffsetOutOfBoundsError(_ref2){var _this4;var offset=_ref2.offset,position=_ref2.position,size=_ref2.size;_classCallCheck(this,SliceOffsetOutOfBoundsError);_this4=_super4.call(this,"Slice ".concat(position==="start"?"starting":"ending"," at offset `").concat(offset,"` is out-of-bounds (size: `").concat(size,"`)."));Object.defineProperty(_assertThisInitialized(_this4),"name",{enumerable:true,configurable:true,writable:true,value:"Bytes.SliceOffsetOutOfBoundsError"});return _this4}return _createClass(SliceOffsetOutOfBoundsError)}(Errors.BaseError);exports.SliceOffsetOutOfBoundsError=SliceOffsetOutOfBoundsError;var SizeExceedsPaddingSizeError=function(_Errors$BaseError5){_inherits(SizeExceedsPaddingSizeError,_Errors$BaseError5);var _super5=_createSuper(SizeExceedsPaddingSizeError);function SizeExceedsPaddingSizeError(_ref3){var _this5;var size=_ref3.size,targetSize=_ref3.targetSize,type=_ref3.type;_classCallCheck(this,SizeExceedsPaddingSizeError);_this5=_super5.call(this,"".concat(type.charAt(0).toUpperCase()).concat(type.slice(1).toLowerCase()," size (`").concat(size,"`) exceeds padding size (`").concat(targetSize,"`)."));Object.defineProperty(_assertThisInitialized(_this5),"name",{enumerable:true,configurable:true,writable:true,value:"Bytes.SizeExceedsPaddingSizeError"});return _this5}return _createClass(SizeExceedsPaddingSizeError)}(Errors.BaseError);exports.SizeExceedsPaddingSizeError=SizeExceedsPaddingSizeError},{"./Errors.js":182,"./Hex.js":184,"./Json.js":185,"./internal/bytes.js":191,"./internal/hex.js":194,"@noble/curves/abstract/utils":126}],181:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.checksum=void 0;exports.clear=clear;var lru_js_1=require("./internal/lru.js");var caches={checksum:new lru_js_1.LruMap(8192)};exports.checksum=caches.checksum;function clear(){for(var _i=0,_Object$values=Object.values(caches);_i<_Object$values.length;_i++){var cache=_Object$values[_i];cache.clear()}}},{"./internal/lru.js":195}],182:[function(require,module,exports){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _toConsumableArray(r){return _arrayWithoutHoles(r)||_iterableToArray(r)||_unsupportedIterableToArray(r)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}function _iterableToArray(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}function _arrayWithoutHoles(r){if(Array.isArray(r))return _arrayLikeToArray(r)}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++){n[e]=r[e]}return n}function _classCallCheck(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),o)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf(t,e)}function _createSuper(t){var r=_isNativeReflectConstruct();return function(){var e,o=_getPrototypeOf(t);if(r){var s=_getPrototypeOf(this).constructor;e=Reflect.construct(o,arguments,s)}else e=o.apply(this,arguments);return _possibleConstructorReturn(this,e)}}function _possibleConstructorReturn(t,e){if(e&&("object"==_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _wrapNativeSuper(t){var r="function"==typeof Map?new Map:void 0;return _wrapNativeSuper=function _wrapNativeSuper(t){if(null===t||!_isNativeFunction(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==r){if(r.has(t))return r.get(t);r.set(t,Wrapper)}function Wrapper(){return _construct(t,arguments,_getPrototypeOf(this).constructor)}return Wrapper.prototype=Object.create(t.prototype,{constructor:{value:Wrapper,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(Wrapper,t)},_wrapNativeSuper(t)}function _construct(t,e,r){if(_isNativeReflectConstruct())return Reflect.construct.apply(null,arguments);var o=[null];o.push.apply(o,e);var p=new(t.bind.apply(t,o));return r&&_setPrototypeOf(p,r.prototype),p}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(_isNativeReflectConstruct=function _isNativeReflectConstruct(){return!!t})()}function _isNativeFunction(t){try{return-1!==Function.toString.call(t).indexOf("[native code]")}catch(n){return"function"==typeof t}}function _setPrototypeOf(t,e){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_setPrototypeOf(t,e)}function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(t)}Object.defineProperty(exports,"__esModule",{value:true});exports.BaseError=void 0;var errors_js_1=require("./internal/errors.js");var BaseError=function(_Error){_inherits(BaseError,_Error);var _super=_createSuper(BaseError);function BaseError(shortMessage){var _this;var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};_classCallCheck(this,BaseError);var details=function(_options$cause){if(options.cause instanceof BaseError){if(options.cause.details)return options.cause.details;if(options.cause.shortMessage)return options.cause.shortMessage}if((_options$cause=options.cause)!==null&&_options$cause!==void 0&&_options$cause.message)return options.cause.message;return options.details}();var docsPath=function(){if(options.cause instanceof BaseError)return options.cause.docsPath||options.docsPath;return options.docsPath}();var docsBaseUrl="https://oxlib.sh";var docs="".concat(docsBaseUrl).concat(docsPath!==null&&docsPath!==void 0?docsPath:"");var message=[shortMessage||"An error occurred."].concat(_toConsumableArray(options.metaMessages?[""].concat(_toConsumableArray(options.metaMessages)):[]),_toConsumableArray(details||docsPath?["",details?"Details: ".concat(details):undefined,docsPath?"See: ".concat(docs):undefined]:[])).filter(function(x){return typeof x==="string"}).join("\n");_this=_super.call(this,message,options.cause?{cause:options.cause}:undefined);Object.defineProperty(_assertThisInitialized(_this),"details",{enumerable:true,configurable:true,writable:true,value:void 0});Object.defineProperty(_assertThisInitialized(_this),"docs",{enumerable:true,configurable:true,writable:true,value:void 0});Object.defineProperty(_assertThisInitialized(_this),"docsPath",{enumerable:true,configurable:true,writable:true,value:void 0});Object.defineProperty(_assertThisInitialized(_this),"shortMessage",{enumerable:true,configurable:true,writable:true,value:void 0});Object.defineProperty(_assertThisInitialized(_this),"cause",{enumerable:true,configurable:true,writable:true,value:void 0});Object.defineProperty(_assertThisInitialized(_this),"name",{enumerable:true,configurable:true,writable:true,value:"BaseError"});Object.defineProperty(_assertThisInitialized(_this),"version",{enumerable:true,configurable:true,writable:true,value:"ox@".concat((0,errors_js_1.getVersion)())});_this.cause=options.cause;_this.details=details;_this.docs=docs;_this.docsPath=docsPath;_this.shortMessage=shortMessage;return _this}_createClass(BaseError,[{key:"walk",value:function walk(fn){return _walk(this,fn)}}]);return BaseError}(_wrapNativeSuper(Error));exports.BaseError=BaseError;function _walk(err,fn){if(fn!==null&&fn!==void 0&&fn(err))return err;if(err&&_typeof(err)==="object"&&"cause"in err&&err.cause)return _walk(err.cause,fn);return fn?null:err}},{"./internal/errors.js":193}],183:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.keccak256=keccak256;exports.ripemd160=ripemd160;exports.sha256=sha256;exports.validate=validate;var ripemd160_1=require("@noble/hashes/ripemd160");var sha3_1=require("@noble/hashes/sha3");var sha256_1=require("@noble/hashes/sha256");var Bytes=require("./Bytes.js");var Hex=require("./Hex.js");function keccak256(value){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var _options$as=options.as,as=_options$as===void 0?typeof value==="string"?"Hex":"Bytes":_options$as;var bytes=(0,sha3_1.keccak_256)(Bytes.from(value));if(as==="Bytes")return bytes;return Hex.fromBytes(bytes)}function ripemd160(value){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var _options$as2=options.as,as=_options$as2===void 0?typeof value==="string"?"Hex":"Bytes":_options$as2;var bytes=(0,ripemd160_1.ripemd160)(Bytes.from(value));if(as==="Bytes")return bytes;return Hex.fromBytes(bytes)}function sha256(value){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var _options$as3=options.as,as=_options$as3===void 0?typeof value==="string"?"Hex":"Bytes":_options$as3;var bytes=(0,sha256_1.sha256)(Bytes.from(value));if(as==="Bytes")return bytes;return Hex.fromBytes(bytes)}function validate(value){return Hex.validate(value)&&Hex.size(value)===32}},{"./Bytes.js":180,"./Hex.js":184,"@noble/hashes/ripemd160":134,"@noble/hashes/sha256":136,"@noble/hashes/sha3":137}],184:[function(require,module,exports){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),o)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function _classCallCheck(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_setPrototypeOf(t,e)}function _createSuper(t){var r=_isNativeReflectConstruct();return function(){var e,o=_getPrototypeOf(t);if(r){var s=_getPrototypeOf(this).constructor;e=Reflect.construct(o,arguments,s)}else e=o.apply(this,arguments);return _possibleConstructorReturn(this,e)}}function _possibleConstructorReturn(t,e){if(e&&("object"==_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(_isNativeReflectConstruct=function _isNativeReflectConstruct(){return!!t})()}function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(t)}Object.defineProperty(exports,"__esModule",{value:true});exports.SizeExceedsPaddingSizeError=exports.SliceOffsetOutOfBoundsError=exports.SizeOverflowError=exports.InvalidLengthError=exports.InvalidHexValueError=exports.InvalidHexTypeError=exports.InvalidHexBooleanError=exports.IntegerOutOfRangeError=void 0;exports.assert=assert;exports.concat=concat;exports.from=from;exports.fromBoolean=fromBoolean;exports.fromBytes=fromBytes;exports.fromNumber=fromNumber;exports.fromString=fromString;exports.isEqual=isEqual;exports.padLeft=padLeft;exports.padRight=padRight;exports.random=random;exports.slice=slice;exports.size=size;exports.trimLeft=trimLeft;exports.trimRight=trimRight;exports.toBigInt=toBigInt;exports.toBoolean=toBoolean;exports.toBytes=toBytes;exports.toNumber=toNumber;exports.toString=toString;exports.validate=validate;var utils_1=require("@noble/curves/abstract/utils");var Bytes=require("./Bytes.js");var Errors=require("./Errors.js");var Json=require("./Json.js");var internal_bytes=require("./internal/bytes.js");var internal=require("./internal/hex.js");var encoder=new TextEncoder;var hexes=Array.from({length:256},function(_v,i){return i.toString(16).padStart(2,"0")});function assert(value){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var _options$strict=options.strict,strict=_options$strict===void 0?false:_options$strict;if(!value)throw new InvalidHexTypeError(value);if(typeof value!=="string")throw new InvalidHexTypeError(value);if(strict){if(!/^0x[0-9a-fA-F]*$/.test(value))throw new InvalidHexValueError(value)}if(!value.startsWith("0x"))throw new InvalidHexValueError(value)}function concat(){for(var _len=arguments.length,values=new Array(_len),_key=0;_key<_len;_key++){values[_key]=arguments[_key]}return"0x".concat(values.reduce(function(acc,x){return acc+x.replace("0x","")},""))}function from(value){if(value instanceof Uint8Array)return fromBytes(value);if(Array.isArray(value))return fromBytes(new Uint8Array(value));return value}function fromBoolean(value){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var hex="0x".concat(Number(value));if(typeof options.size==="number"){internal.assertSize(hex,options.size);return padLeft(hex,options.size)}return hex}function fromBytes(value){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var string="";for(var i=0;i<value.length;i++){string+=hexes[value[i]]}var hex="0x".concat(string);if(typeof options.size==="number"){internal.assertSize(hex,options.size);return padRight(hex,options.size)}return hex}function fromNumber(value){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var signed=options.signed,size=options.size;var value_=BigInt(value);var maxValue;if(size){if(signed)maxValue=(1n<<BigInt(size)*8n-1n)-1n;else maxValue=Math.pow(2n,BigInt(size)*8n)-1n}else if(typeof value==="number"){maxValue=BigInt(Number.MAX_SAFE_INTEGER)}var minValue=typeof maxValue==="bigint"&&signed?-maxValue-1n:0;if(maxValue&&value_>maxValue||value_<minValue){var suffix=typeof value==="bigint"?"n":"";throw new IntegerOutOfRangeError({max:maxValue?"".concat(maxValue).concat(suffix):undefined,min:"".concat(minValue).concat(suffix),signed:signed,size:size,value:"".concat(value).concat(suffix)})}var stringValue=(signed&&value_<0?(1n<<BigInt(size*8))+BigInt(value_):value_).toString(16);var hex="0x".concat(stringValue);if(size)return padLeft(hex,size);return hex}function fromString(value){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return fromBytes(encoder.encode(value),options)}function isEqual(hexA,hexB){return(0,utils_1.equalBytes)(Bytes.fromHex(hexA),Bytes.fromHex(hexB))}function padLeft(value,size){return internal.pad(value,{dir:"left",size:size})}function padRight(value,size){return internal.pad(value,{dir:"right",size:size})}function random(length){return fromBytes(Bytes.random(length))}function slice(value,start,end){var options=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{};var strict=options.strict;internal.assertStartOffset(value,start);var value_="0x".concat(value.replace("0x","").slice((start!==null&&start!==void 0?start:0)*2,(end!==null&&end!==void 0?end:value.length)*2));if(strict)internal.assertEndOffset(value_,start,end);return value_}function size(value){return Math.ceil((value.length-2)/2)}function trimLeft(value){return internal.trim(value,{dir:"left"})}function trimRight(value){return internal.trim(value,{dir:"right"})}function toBigInt(hex){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var signed=options.signed;if(options.size)internal.assertSize(hex,options.size);var value=BigInt(hex);if(!signed)return value;var size=(hex.length-2)/2;var max_unsigned=(1n<<BigInt(size)*8n)-1n;var max_signed=max_unsigned>>1n;if(value<=max_signed)return value;return value-max_unsigned-1n}function toBoolean(hex){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(options.size)internal.assertSize(hex,options.size);var hex_=trimLeft(hex);if(hex_==="0x")return false;if(hex_==="0x1")return true;throw new InvalidHexBooleanError(hex)}function toBytes(hex){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return Bytes.fromHex(hex,options)}function toNumber(hex){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var signed=options.signed,size=options.size;if(!signed&&!size)return Number(hex);return Number(toBigInt(hex,options))}function toString(hex){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var size=options.size;var bytes=Bytes.fromHex(hex);if(size){internal_bytes.assertSize(bytes,size);bytes=Bytes.trimRight(bytes)}return(new TextDecoder).decode(bytes)}function validate(value){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var _options$strict2=options.strict,strict=_options$strict2===void 0?false:_options$strict2;try{assert(value,{strict:strict});return true}catch(_unused){return false}}var IntegerOutOfRangeError=function(_Errors$BaseError){_inherits(IntegerOutOfRangeError,_Errors$BaseError);var _super=_createSuper(IntegerOutOfRangeError);function IntegerOutOfRangeError(_ref){var _this;var max=_ref.max,min=_ref.min,signed=_ref.signed,size=_ref.size,value=_ref.value;_classCallCheck(this,IntegerOutOfRangeError);_this=_super.call(this,"Number `".concat(value,"` is not in safe").concat(size?" ".concat(size*8,"-bit"):"").concat(signed?" signed":" unsigned"," integer range ").concat(max?"(`".concat(min,"` to `").concat(max,"`)"):"(above `".concat(min,"`)")));Object.defineProperty(_assertThisInitialized(_this),"name",{enumerable:true,configurable:true,writable:true,value:"Hex.IntegerOutOfRangeError"});return _this}return _createClass(IntegerOutOfRangeError)}(Errors.BaseError);exports.IntegerOutOfRangeError=IntegerOutOfRangeError;var InvalidHexBooleanError=function(_Errors$BaseError2){_inherits(InvalidHexBooleanError,_Errors$BaseError2);var _super2=_createSuper(InvalidHexBooleanError);function InvalidHexBooleanError(hex){var _this2;_classCallCheck(this,InvalidHexBooleanError);_this2=_super2.call(this,'Hex value `"'.concat(hex,'"` is not a valid boolean.'),{metaMessages:['The hex value must be `"0x0"` (false) or `"0x1"` (true).']});Object.defineProperty(_assertThisInitialized(_this2),"name",{enumerable:true,configurable:true,writable:true,value:"Hex.InvalidHexBooleanError"});return _this2}return _createClass(InvalidHexBooleanError)}(Errors.BaseError);exports.InvalidHexBooleanError=InvalidHexBooleanError;var InvalidHexTypeError=function(_Errors$BaseError3){_inherits(InvalidHexTypeError,_Errors$BaseError3);var _super3=_createSuper(InvalidHexTypeError);function InvalidHexTypeError(value){var _this3;_classCallCheck(this,InvalidHexTypeError);_this3=_super3.call(this,"Value `".concat(_typeof(value)==="object"?Json.stringify(value):value,"` of type `").concat(_typeof(value),"` is an invalid hex type."),{metaMessages:['Hex types must be represented as `"0x${string}"`.']});Object.defineProperty(_assertThisInitialized(_this3),"name",{enumerable:true,configurable:true,writable:true,value:"Hex.InvalidHexTypeError"});return _this3}return _createClass(InvalidHexTypeError)}(Errors.BaseError);exports.InvalidHexTypeError=InvalidHexTypeError;var InvalidHexValueError=function(_Errors$BaseError4){_inherits(InvalidHexValueError,_Errors$BaseError4);var _super4=_createSuper(InvalidHexValueError);function InvalidHexValueError(value){var _this4;_classCallCheck(this,InvalidHexValueError);_this4=_super4.call(this,"Value `".concat(value,"` is an invalid hex value."),{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']});Object.defineProperty(_assertThisInitialized(_this4),"name",{enumerable:true,configurable:true,writable:true,value:"Hex.InvalidHexValueError"});return _this4}return _createClass(InvalidHexValueError)}(Errors.BaseError);exports.InvalidHexValueError=InvalidHexValueError;var InvalidLengthError=function(_Errors$BaseError5){_inherits(InvalidLengthError,_Errors$BaseError5);var _super5=_createSuper(InvalidLengthError);function InvalidLengthError(value){var _this5;_classCallCheck(this,InvalidLengthError);_this5=_super5.call(this,'Hex value `"'.concat(value,'"` is an odd length (').concat(value.length-2," nibbles)."),{metaMessages:["It must be an even length."]});Object.defineProperty(_assertThisInitialized(_this5),"name",{enumerable:true,configurable:true,writable:true,value:"Hex.InvalidLengthError"});return _this5}return _createClass(InvalidLengthError)}(Errors.BaseError);exports.InvalidLengthError=InvalidLengthError;var SizeOverflowError=function(_Errors$BaseError6){_inherits(SizeOverflowError,_Errors$BaseError6);var _super6=_createSuper(SizeOverflowError);function SizeOverflowError(_ref2){var _this6;var givenSize=_ref2.givenSize,maxSize=_ref2.maxSize;_classCallCheck(this,SizeOverflowError);_this6=_super6.call(this,"Size cannot exceed `".concat(maxSize,"` bytes. Given size: `").concat(givenSize,"` bytes."));Object.defineProperty(_assertThisInitialized(_this6),"name",{enumerable:true,configurable:true,writable:true,value:"Hex.SizeOverflowError"});return _this6}return _createClass(SizeOverflowError)}(Errors.BaseError);exports.SizeOverflowError=SizeOverflowError;var SliceOffsetOutOfBoundsError=function(_Errors$BaseError7){_inherits(SliceOffsetOutOfBoundsError,_Errors$BaseError7);var _super7=_createSuper(SliceOffsetOutOfBoundsError);function SliceOffsetOutOfBoundsError(_ref3){var _this7;var offset=_ref3.offset,position=_ref3.position,size=_ref3.size;_classCallCheck(this,SliceOffsetOutOfBoundsError);_this7=_super7.call(this,"Slice ".concat(position==="start"?"starting":"ending"," at offset `").concat(offset,"` is out-of-bounds (size: `").concat(size,"`)."));Object.defineProperty(_assertThisInitialized(_this7),"name",{enumerable:true,configurable:true,writable:true,value:"Hex.SliceOffsetOutOfBoundsError"});return _this7}return _createClass(SliceOffsetOutOfBoundsError)}(Errors.BaseError);exports.SliceOffsetOutOfBoundsError=SliceOffsetOutOfBoundsError;var SizeExceedsPaddingSizeError=function(_Errors$BaseError8){_inherits(SizeExceedsPaddingSizeError,_Errors$BaseError8);var _super8=_createSuper(SizeExceedsPaddingSizeError);function SizeExceedsPaddingSizeError(_ref4){var _this8;var size=_ref4.size,targetSize=_ref4.targetSize,type=_ref4.type;_classCallCheck(this,SizeExceedsPaddingSizeError);_this8=_super8.call(this,"".concat(type.charAt(0).toUpperCase()).concat(type.slice(1).toLowerCase()," size (`").concat(size,"`) exceeds padding size (`").concat(targetSize,"`)."));Object.defineProperty(_assertThisInitialized(_this8),"name",{enumerable:true,configurable:true,writable:true,value:"Hex.SizeExceedsPaddingSizeError"});return _this8}return _createClass(SizeExceedsPaddingSizeError)}(Errors.BaseError);exports.SizeExceedsPaddingSizeError=SizeExceedsPaddingSizeError},{"./Bytes.js":180,"./Errors.js":182,"./Json.js":185,"./internal/bytes.js":191,"./internal/hex.js":194,"@noble/curves/abstract/utils":126}],185:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.parse=parse;exports.stringify=stringify;var bigIntSuffix="#__bigint";function parse(string,reviver){return JSON.parse(string,function(key,value_){var value=value_;if(typeof value==="string"&&value.endsWith(bigIntSuffix))return BigInt(value.slice(0,-bigIntSuffix.length));return typeof reviver==="function"?reviver(key,value):value})}function stringify(value,replacer,space){return JSON.stringify(value,function(key,value){if(typeof replacer==="function")return replacer(key,value);if(typeof value==="bigint")return value.toString()+bigIntSuffix;return value},space)}},{}],186:[function(require,module,exports){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),o)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function _classCallCheck(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_setPrototypeOf(t,e)}function _createSuper(t){var r=_isNativeReflectConstruct();return function(){var e,o=_getPrototypeOf(t);if(r){var s=_getPrototypeOf(this).constructor;e=Reflect.construct(o,arguments,s)}else e=o.apply(this,arguments);return _possibleConstructorReturn(this,e)}}function _possibleConstructorReturn(t,e){if(e&&("object"==_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(_isNativeReflectConstruct=function _isNativeReflectConstruct(){return!!t})()}function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(t)}Object.defineProperty(exports,"__esModule",{value:true});exports.InvalidSerializedSizeError=exports.InvalidUncompressedPrefixError=exports.InvalidCompressedPrefixError=exports.InvalidPrefixError=exports.InvalidError=void 0;exports.assert=assert;exports.compress=compress;exports.from=from;exports.fromBytes=fromBytes;exports.fromHex=fromHex;exports.toBytes=toBytes;exports.toHex=toHex;exports.validate=validate;var Bytes=require("./Bytes.js");var Errors=require("./Errors.js");var Hex=require("./Hex.js");var Json=require("./Json.js");function assert(publicKey){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var compressed=options.compressed;var prefix=publicKey.prefix,x=publicKey.x,y=publicKey.y;if(compressed===false||typeof x==="bigint"&&typeof y==="bigint"){if(prefix!==4)throw new InvalidPrefixError({prefix:prefix,cause:new InvalidUncompressedPrefixError});return}if(compressed===true||typeof x==="bigint"&&typeof y==="undefined"){if(prefix!==3&&prefix!==2)throw new InvalidPrefixError({prefix:prefix,cause:new InvalidCompressedPrefixError});return}throw new InvalidError({publicKey:publicKey})}function compress(publicKey){var x=publicKey.x,y=publicKey.y;return{prefix:y%2n===0n?2:3,x:x}}function from(value){var publicKey=function(){if(Hex.validate(value))return fromHex(value);if(Bytes.validate(value))return fromBytes(value);var prefix=value.prefix,x=value.x,y=value.y;if(typeof x==="bigint"&&typeof y==="bigint")return{prefix:prefix!==null&&prefix!==void 0?prefix:4,x:x,y:y};return{prefix:prefix,x:x}}();assert(publicKey);return publicKey}function fromBytes(publicKey){return fromHex(Hex.fromBytes(publicKey))}function fromHex(publicKey){if(publicKey.length!==132&&publicKey.length!==130&&publicKey.length!==68)throw new InvalidSerializedSizeError({publicKey:publicKey});if(publicKey.length===130){var _x=BigInt(Hex.slice(publicKey,0,32));var y=BigInt(Hex.slice(publicKey,32,64));return{prefix:4,x:_x,y:y}}if(publicKey.length===132){var _prefix=Number(Hex.slice(publicKey,0,1));var _x2=BigInt(Hex.slice(publicKey,1,33));var _y=BigInt(Hex.slice(publicKey,33,65));return{prefix:_prefix,x:_x2,y:_y}}var prefix=Number(Hex.slice(publicKey,0,1));var x=BigInt(Hex.slice(publicKey,1,33));return{prefix:prefix,x:x}}function toBytes(publicKey){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return Bytes.fromHex(toHex(publicKey,options))}function toHex(publicKey){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};assert(publicKey);var prefix=publicKey.prefix,x=publicKey.x,y=publicKey.y;var _options$includePrefi=options.includePrefix,includePrefix=_options$includePrefi===void 0?true:_options$includePrefi;var publicKey_=Hex.concat(includePrefix?Hex.fromNumber(prefix,{size:1}):"0x",Hex.fromNumber(x,{size:32}),typeof y==="bigint"?Hex.fromNumber(y,{size:32}):"0x");return publicKey_}function validate(publicKey){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};try{assert(publicKey,options);return true}catch(error){return false}}var InvalidError=function(_Errors$BaseError){_inherits(InvalidError,_Errors$BaseError);var _super=_createSuper(InvalidError);function InvalidError(_ref){var _this;var publicKey=_ref.publicKey;_classCallCheck(this,InvalidError);_this=_super.call(this,"Value `".concat(Json.stringify(publicKey),"` is not a valid public key."),{metaMessages:["Public key must contain:","- an `x` and `prefix` value (compressed)","- an `x`, `y`, and `prefix` value (uncompressed)"]});Object.defineProperty(_assertThisInitialized(_this),"name",{enumerable:true,configurable:true,writable:true,value:"PublicKey.InvalidError"});return _this}return _createClass(InvalidError)}(Errors.BaseError);exports.InvalidError=InvalidError;var InvalidPrefixError=function(_Errors$BaseError2){_inherits(InvalidPrefixError,_Errors$BaseError2);var _super2=_createSuper(InvalidPrefixError);function InvalidPrefixError(_ref2){var _this2;var prefix=_ref2.prefix,cause=_ref2.cause;_classCallCheck(this,InvalidPrefixError);_this2=_super2.call(this,'Prefix "'.concat(prefix,'" is invalid.'),{cause:cause});Object.defineProperty(_assertThisInitialized(_this2),"name",{enumerable:true,configurable:true,writable:true,value:"PublicKey.InvalidPrefixError"});return _this2}return _createClass(InvalidPrefixError)}(Errors.BaseError);exports.InvalidPrefixError=InvalidPrefixError;var InvalidCompressedPrefixError=function(_Errors$BaseError3){_inherits(InvalidCompressedPrefixError,_Errors$BaseError3);var _super3=_createSuper(InvalidCompressedPrefixError);function InvalidCompressedPrefixError(){var _this3;_classCallCheck(this,InvalidCompressedPrefixError);_this3=_super3.call(this,"Prefix must be 2 or 3 for compressed public keys.");Object.defineProperty(_assertThisInitialized(_this3),"name",{enumerable:true,configurable:true,writable:true,value:"PublicKey.InvalidCompressedPrefixError"});return _this3}return _createClass(InvalidCompressedPrefixError)}(Errors.BaseError);exports.InvalidCompressedPrefixError=InvalidCompressedPrefixError;var InvalidUncompressedPrefixError=function(_Errors$BaseError4){_inherits(InvalidUncompressedPrefixError,_Errors$BaseError4);var _super4=_createSuper(InvalidUncompressedPrefixError);function InvalidUncompressedPrefixError(){var _this4;_classCallCheck(this,InvalidUncompressedPrefixError);_this4=_super4.call(this,"Prefix must be 4 for uncompressed public keys.");Object.defineProperty(_assertThisInitialized(_this4),"name",{enumerable:true,configurable:true,writable:true,value:"PublicKey.InvalidUncompressedPrefixError"});return _this4}return _createClass(InvalidUncompressedPrefixError)}(Errors.BaseError);exports.InvalidUncompressedPrefixError=InvalidUncompressedPrefixError;var InvalidSerializedSizeError=function(_Errors$BaseError5){_inherits(InvalidSerializedSizeError,_Errors$BaseError5);var _super5=_createSuper(InvalidSerializedSizeError);function InvalidSerializedSizeError(_ref3){var _this5;var publicKey=_ref3.publicKey;_classCallCheck(this,InvalidSerializedSizeError);_this5=_super5.call(this,"Value `".concat(publicKey,"` is an invalid public key size."),{metaMessages:["Expected: 33 bytes (compressed + prefix), 64 bytes (uncompressed) or 65 bytes (uncompressed + prefix).","Received ".concat(Hex.size(Hex.from(publicKey))," bytes.")]});Object.defineProperty(_assertThisInitialized(_this5),"name",{enumerable:true,configurable:true,writable:true,value:"PublicKey.InvalidSerializedSizeError"});return _this5}return _createClass(InvalidSerializedSizeError)}(Errors.BaseError);exports.InvalidSerializedSizeError=InvalidSerializedSizeError},{"./Bytes.js":180,"./Errors.js":182,"./Hex.js":184,"./Json.js":185}],187:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.minInt120=exports.minInt112=exports.minInt104=exports.minInt96=exports.minInt88=exports.minInt80=exports.minInt72=exports.minInt64=exports.minInt56=exports.minInt48=exports.minInt40=exports.minInt32=exports.minInt24=exports.minInt16=exports.minInt8=exports.maxInt256=exports.maxInt248=exports.maxInt240=exports.maxInt232=exports.maxInt224=exports.maxInt216=exports.maxInt208=exports.maxInt200=exports.maxInt192=exports.maxInt184=exports.maxInt176=exports.maxInt168=exports.maxInt160=exports.maxInt152=exports.maxInt144=exports.maxInt136=exports.maxInt128=exports.maxInt120=exports.maxInt112=exports.maxInt104=exports.maxInt96=exports.maxInt88=exports.maxInt80=exports.maxInt72=exports.maxInt64=exports.maxInt56=exports.maxInt48=exports.maxInt40=exports.maxInt32=exports.maxInt24=exports.maxInt16=exports.maxInt8=exports.integerRegex=exports.bytesRegex=exports.arrayRegex=void 0;exports.maxUint256=exports.maxUint248=exports.maxUint240=exports.maxUint232=exports.maxUint224=exports.maxUint216=exports.maxUint208=exports.maxUint200=exports.maxUint192=exports.maxUint184=exports.maxUint176=exports.maxUint168=exports.maxUint160=exports.maxUint152=exports.maxUint144=exports.maxUint136=exports.maxUint128=exports.maxUint120=exports.maxUint112=exports.maxUint104=exports.maxUint96=exports.maxUint88=exports.maxUint80=exports.maxUint72=exports.maxUint64=exports.maxUint56=exports.maxUint48=exports.maxUint40=exports.maxUint32=exports.maxUint24=exports.maxUint16=exports.maxUint8=exports.minInt256=exports.minInt248=exports.minInt240=exports.minInt232=exports.minInt224=exports.minInt216=exports.minInt208=exports.minInt200=exports.minInt192=exports.minInt184=exports.minInt176=exports.minInt168=exports.minInt160=exports.minInt152=exports.minInt144=exports.minInt136=exports.minInt128=void 0;exports.arrayRegex=/^(.*)\[([0-9]*)\]$/;exports.bytesRegex=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/;exports.integerRegex=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;exports.maxInt8=Math.pow(2n,8n-1n)-1n;exports.maxInt16=Math.pow(2n,16n-1n)-1n;exports.maxInt24=Math.pow(2n,24n-1n)-1n;exports.maxInt32=Math.pow(2n,32n-1n)-1n;exports.maxInt40=Math.pow(2n,40n-1n)-1n;exports.maxInt48=Math.pow(2n,48n-1n)-1n;exports.maxInt56=Math.pow(2n,56n-1n)-1n;exports.maxInt64=Math.pow(2n,64n-1n)-1n;exports.maxInt72=Math.pow(2n,72n-1n)-1n;exports.maxInt80=Math.pow(2n,80n-1n)-1n;exports.maxInt88=Math.pow(2n,88n-1n)-1n;exports.maxInt96=Math.pow(2n,96n-1n)-1n;exports.maxInt104=Math.pow(2n,104n-1n)-1n;exports.maxInt112=Math.pow(2n,112n-1n)-1n;exports.maxInt120=Math.pow(2n,120n-1n)-1n;exports.maxInt128=Math.pow(2n,128n-1n)-1n;exports.maxInt136=Math.pow(2n,136n-1n)-1n;exports.maxInt144=Math.pow(2n,144n-1n)-1n;exports.maxInt152=Math.pow(2n,152n-1n)-1n;exports.maxInt160=Math.pow(2n,160n-1n)-1n;exports.maxInt168=Math.pow(2n,168n-1n)-1n;exports.maxInt176=Math.pow(2n,176n-1n)-1n;exports.maxInt184=Math.pow(2n,184n-1n)-1n;exports.maxInt192=Math.pow(2n,192n-1n)-1n;exports.maxInt200=Math.pow(2n,200n-1n)-1n;exports.maxInt208=Math.pow(2n,208n-1n)-1n;exports.maxInt216=Math.pow(2n,216n-1n)-1n;exports.maxInt224=Math.pow(2n,224n-1n)-1n;exports.maxInt232=Math.pow(2n,232n-1n)-1n;exports.maxInt240=Math.pow(2n,240n-1n)-1n;exports.maxInt248=Math.pow(2n,248n-1n)-1n;exports.maxInt256=Math.pow(2n,256n-1n)-1n;exports.minInt8=-Math.pow(2n,8n-1n);exports.minInt16=-Math.pow(2n,16n-1n);exports.minInt24=-Math.pow(2n,24n-1n);exports.minInt32=-Math.pow(2n,32n-1n);exports.minInt40=-Math.pow(2n,40n-1n);exports.minInt48=-Math.pow(2n,48n-1n);exports.minInt56=-Math.pow(2n,56n-1n);exports.minInt64=-Math.pow(2n,64n-1n);exports.minInt72=-Math.pow(2n,72n-1n);exports.minInt80=-Math.pow(2n,80n-1n);exports.minInt88=-Math.pow(2n,88n-1n);exports.minInt96=-Math.pow(2n,96n-1n);exports.minInt104=-Math.pow(2n,104n-1n);exports.minInt112=-Math.pow(2n,112n-1n);exports.minInt120=-Math.pow(2n,120n-1n);exports.minInt128=-Math.pow(2n,128n-1n);exports.minInt136=-Math.pow(2n,136n-1n);exports.minInt144=-Math.pow(2n,144n-1n);exports.minInt152=-Math.pow(2n,152n-1n);exports.minInt160=-Math.pow(2n,160n-1n);exports.minInt168=-Math.pow(2n,168n-1n);exports.minInt176=-Math.pow(2n,176n-1n);exports.minInt184=-Math.pow(2n,184n-1n);exports.minInt192=-Math.pow(2n,192n-1n);exports.minInt200=-Math.pow(2n,200n-1n);exports.minInt208=-Math.pow(2n,208n-1n);exports.minInt216=-Math.pow(2n,216n-1n);exports.minInt224=-Math.pow(2n,224n-1n);exports.minInt232=-Math.pow(2n,232n-1n);exports.minInt240=-Math.pow(2n,240n-1n);exports.minInt248=-Math.pow(2n,248n-1n);exports.minInt256=-Math.pow(2n,256n-1n);exports.maxUint8=Math.pow(2n,8n)-1n;exports.maxUint16=Math.pow(2n,16n)-1n;exports.maxUint24=Math.pow(2n,24n)-1n;exports.maxUint32=Math.pow(2n,32n)-1n;exports.maxUint40=Math.pow(2n,40n)-1n;exports.maxUint48=Math.pow(2n,48n)-1n;exports.maxUint56=Math.pow(2n,56n)-1n;exports.maxUint64=Math.pow(2n,64n)-1n;exports.maxUint72=Math.pow(2n,72n)-1n;exports.maxUint80=Math.pow(2n,80n)-1n;exports.maxUint88=Math.pow(2n,88n)-1n;exports.maxUint96=Math.pow(2n,96n)-1n;exports.maxUint104=Math.pow(2n,104n)-1n;exports.maxUint112=Math.pow(2n,112n)-1n;exports.maxUint120=Math.pow(2n,120n)-1n;exports.maxUint128=Math.pow(2n,128n)-1n;exports.maxUint136=Math.pow(2n,136n)-1n;exports.maxUint144=Math.pow(2n,144n)-1n;exports.maxUint152=Math.pow(2n,152n)-1n;exports.maxUint160=Math.pow(2n,160n)-1n;exports.maxUint168=Math.pow(2n,168n)-1n;exports.maxUint176=Math.pow(2n,176n)-1n;exports.maxUint184=Math.pow(2n,184n)-1n;exports.maxUint192=Math.pow(2n,192n)-1n;exports.maxUint200=Math.pow(2n,200n)-1n;exports.maxUint208=Math.pow(2n,208n)-1n;exports.maxUint216=Math.pow(2n,216n)-1n;exports.maxUint224=Math.pow(2n,224n)-1n;exports.maxUint232=Math.pow(2n,232n)-1n;exports.maxUint240=Math.pow(2n,240n)-1n;exports.maxUint248=Math.pow(2n,248n)-1n;exports.maxUint256=Math.pow(2n,256n)-1n},{}],188:[function(require,module,exports){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function _defineProperty(e,r,t){return(r=_toPropertyKey(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}Object.defineProperty(exports,"__esModule",{value:true});exports.fromRpc=fromRpc;exports.toRpc=toRpc;var Hex=require("./Hex.js");function fromRpc(withdrawal){return _objectSpread(_objectSpread({},withdrawal),{},{amount:BigInt(withdrawal.amount),index:Number(withdrawal.index),validatorIndex:Number(withdrawal.validatorIndex)})}function toRpc(withdrawal){return{address:withdrawal.address,amount:Hex.fromNumber(withdrawal.amount),index:Hex.fromNumber(withdrawal.index),validatorIndex:Hex.fromNumber(withdrawal.validatorIndex)}}},{"./Hex.js":184}],189:[function(require,module,exports){"use strict";function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function _defineProperty(e,r,t){return(r=_toPropertyKey(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}Object.defineProperty(exports,"__esModule",{value:true});exports.normalizeSignature=normalizeSignature;exports.isArgOfType=isArgOfType;exports.getAmbiguousTypes=getAmbiguousTypes;var Address=require("../Address.js");var Errors=require("../Errors.js");function normalizeSignature(signature){var active=true;var current="";var level=0;var result="";var valid=false;for(var i=0;i<signature.length;i++){var _char=signature[i];if(["(",")",","].includes(_char))active=true;if(_char==="(")level++;if(_char===")")level--;if(!active)continue;if(level===0){if(_char===" "&&["event","function","error",""].includes(result))result="";else{result+=_char;if(_char===")"){valid=true;break}}continue}if(_char===" "){if(signature[i-1]!==","&&current!==","&&current!==",("){current="";active=false}continue}result+=_char;current+=_char}if(!valid)throw new Errors.BaseError("Unable to normalize signature.");return result}function isArgOfType(arg,abiParameter){var argType=_typeof(arg);var abiParameterType=abiParameter.type;switch(abiParameterType){case"address":return Address.validate(arg,{strict:false});case"bool":return argType==="boolean";case"function":return argType==="string";case"string":return argType==="string";default:{if(abiParameterType==="tuple"&&"components"in abiParameter)return Object.values(abiParameter.components).every(function(component,index){return isArgOfType(Object.values(arg)[index],component)});if(/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(abiParameterType))return argType==="number"||argType==="bigint";if(/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(abiParameterType))return argType==="string"||arg instanceof Uint8Array;if(/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(abiParameterType)){return Array.isArray(arg)&&arg.every(function(x){return isArgOfType(x,_objectSpread(_objectSpread({},abiParameter),{},{type:abiParameterType.replace(/(\[[0-9]{0,}\])$/,"")}))})}return false}}}function getAmbiguousTypes(sourceParameters,targetParameters,args){var _loop=function _loop(parameterIndex){var sourceParameter=sourceParameters[parameterIndex];var targetParameter=targetParameters[parameterIndex];if(sourceParameter.type==="tuple"&&targetParameter.type==="tuple"&&"components"in sourceParameter&&"components"in targetParameter)return{v:getAmbiguousTypes(sourceParameter.components,targetParameter.components,args[parameterIndex])};var types=[sourceParameter.type,targetParameter.type];var ambiguous=function(){if(types.includes("address")&&types.includes("bytes20"))return true;if(types.includes("address")&&types.includes("string"))return Address.validate(args[parameterIndex],{strict:false});if(types.includes("address")&&types.includes("bytes"))return Address.validate(args[parameterIndex],{strict:false});return false}();if(ambiguous)return{v:types}};for(var parameterIndex in sourceParameters){var _ret=_loop(parameterIndex);if(_typeof(_ret)==="object")return _ret.v}return}},{"../Address.js":178,"../Errors.js":182}],190:[function(require,module,exports){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _toConsumableArray(r){return _arrayWithoutHoles(r)||_iterableToArray(r)||_unsupportedIterableToArray(r)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}function _arrayWithoutHoles(r){if(Array.isArray(r))return _arrayLikeToArray(r)}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function _defineProperty(e,r,t){return(r=_toPropertyKey(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function _slicedToArray(r,e){return _arrayWithHoles(r)||_iterableToArrayLimit(r,e)||_unsupportedIterableToArray(r,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++){n[e]=r[e]}return n}function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0){}}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t["return"]&&(u=t["return"](),Object(u)!==u))return}finally{if(o)throw n}}return a}}function _arrayWithHoles(r){if(Array.isArray(r))return r}Object.defineProperty(exports,"__esModule",{value:true});exports.decodeParameter=decodeParameter;exports.decodeAddress=decodeAddress;exports.decodeArray=decodeArray;exports.decodeBool=decodeBool;exports.decodeBytes=decodeBytes;exports.decodeNumber=decodeNumber;exports.decodeTuple=decodeTuple;exports.decodeString=decodeString;exports.prepareParameters=prepareParameters;exports.prepareParameter=prepareParameter;exports.encode=encode;exports.encodeAddress=encodeAddress;exports.encodeArray=encodeArray;exports.encodeBytes=encodeBytes;exports.encodeBoolean=encodeBoolean;exports.encodeNumber=encodeNumber;exports.encodeString=encodeString;exports.encodeTuple=encodeTuple;exports.getArrayComponents=getArrayComponents;exports.hasDynamicChild=hasDynamicChild;var AbiParameters=require("../AbiParameters.js");var Address=require("../Address.js");var Bytes=require("../Bytes.js");var Errors=require("../Errors.js");var Hex=require("../Hex.js");var Solidity_js_1=require("../Solidity.js");function decodeParameter(cursor,param,options){var checksumAddress=options.checksumAddress,staticPosition=options.staticPosition;var arrayComponents=getArrayComponents(param.type);if(arrayComponents){var _arrayComponents=_slicedToArray(arrayComponents,2),length=_arrayComponents[0],type=_arrayComponents[1];return decodeArray(cursor,_objectSpread(_objectSpread({},param),{},{type:type}),{checksumAddress:checksumAddress,length:length,staticPosition:staticPosition})}if(param.type==="tuple")return decodeTuple(cursor,param,{checksumAddress:checksumAddress,staticPosition:staticPosition});if(param.type==="address")return decodeAddress(cursor,{checksum:checksumAddress});if(param.type==="bool")return decodeBool(cursor);if(param.type.startsWith("bytes"))return decodeBytes(cursor,param,{staticPosition:staticPosition});if(param.type.startsWith("uint")||param.type.startsWith("int"))return decodeNumber(cursor,param);if(param.type==="string")return decodeString(cursor,{staticPosition:staticPosition});throw new AbiParameters.InvalidTypeError(param.type)}var sizeOfLength=32;var sizeOfOffset=32;function decodeAddress(cursor){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var _options$checksum=options.checksum,checksum=_options$checksum===void 0?false:_options$checksum;var value=cursor.readBytes(32);var wrap=function wrap(address){return checksum?Address.checksum(address):address};return[wrap(Hex.fromBytes(Bytes.slice(value,-20))),32]}function decodeArray(cursor,param,options){var checksumAddress=options.checksumAddress,length=options.length,staticPosition=options.staticPosition;if(!length){var offset=Bytes.toNumber(cursor.readBytes(sizeOfOffset));var start=staticPosition+offset;var startOfData=start+sizeOfLength;cursor.setPosition(start);var _length=Bytes.toNumber(cursor.readBytes(sizeOfLength));var dynamicChild=hasDynamicChild(param);var _consumed=0;var _value=[];for(var i=0;i<_length;++i){cursor.setPosition(startOfData+(dynamicChild?i*32:_consumed));var _decodeParameter=decodeParameter(cursor,param,{checksumAddress:checksumAddress,staticPosition:startOfData}),_decodeParameter2=_slicedToArray(_decodeParameter,2),data=_decodeParameter2[0],consumed_=_decodeParameter2[1];_consumed+=consumed_;_value.push(data)}cursor.setPosition(staticPosition+32);return[_value,32]}if(hasDynamicChild(param)){var _offset=Bytes.toNumber(cursor.readBytes(sizeOfOffset));var _start=staticPosition+_offset;var _value2=[];for(var _i=0;_i<length;++_i){cursor.setPosition(_start+_i*32);var _decodeParameter3=decodeParameter(cursor,param,{checksumAddress:checksumAddress,staticPosition:_start}),_decodeParameter4=_slicedToArray(_decodeParameter3,1),_data=_decodeParameter4[0];_value2.push(_data)}cursor.setPosition(staticPosition+32);return[_value2,32]}var consumed=0;var value=[];for(var _i2=0;_i2<length;++_i2){var _decodeParameter5=decodeParameter(cursor,param,{checksumAddress:checksumAddress,staticPosition:staticPosition+consumed}),_decodeParameter6=_slicedToArray(_decodeParameter5,2),_data2=_decodeParameter6[0],_consumed_=_decodeParameter6[1];consumed+=_consumed_;value.push(_data2)}return[value,consumed]}function decodeBool(cursor){return[Bytes.toBoolean(cursor.readBytes(32),{size:32}),32]}function decodeBytes(cursor,param,_ref){var staticPosition=_ref.staticPosition;var _param$type$split=param.type.split("bytes"),_param$type$split2=_slicedToArray(_param$type$split,2),_=_param$type$split2[0],size=_param$type$split2[1];if(!size){var offset=Bytes.toNumber(cursor.readBytes(32));cursor.setPosition(staticPosition+offset);var length=Bytes.toNumber(cursor.readBytes(32));if(length===0){cursor.setPosition(staticPosition+32);return["0x",32]}var data=cursor.readBytes(length);cursor.setPosition(staticPosition+32);return[Hex.fromBytes(data),32]}var value=Hex.fromBytes(cursor.readBytes(Number.parseInt(size),32));return[value,32]}function decodeNumber(cursor,param){var signed=param.type.startsWith("int");var size=Number.parseInt(param.type.split("int")[1]||"256");var value=cursor.readBytes(32);return[size>48?Bytes.toBigInt(value,{signed:signed}):Bytes.toNumber(value,{signed:signed}),32]}function decodeTuple(cursor,param,options){var checksumAddress=options.checksumAddress,staticPosition=options.staticPosition;var hasUnnamedChild=param.components.length===0||param.components.some(function(_ref2){var name=_ref2.name;return!name});var value=hasUnnamedChild?[]:{};var consumed=0;if(hasDynamicChild(param)){var offset=Bytes.toNumber(cursor.readBytes(sizeOfOffset));var start=staticPosition+offset;for(var i=0;i<param.components.length;++i){var component=param.components[i];cursor.setPosition(start+consumed);var _decodeParameter7=decodeParameter(cursor,component,{checksumAddress:checksumAddress,staticPosition:start}),_decodeParameter8=_slicedToArray(_decodeParameter7,2),data=_decodeParameter8[0],consumed_=_decodeParameter8[1];consumed+=consumed_;value[hasUnnamedChild?i:component===null||component===void 0?void 0:component.name]=data}cursor.setPosition(staticPosition+32);return[value,32]}for(var _i3=0;_i3<param.components.length;++_i3){var _component=param.components[_i3];var _decodeParameter9=decodeParameter(cursor,_component,{checksumAddress:checksumAddress,staticPosition:staticPosition}),_decodeParameter10=_slicedToArray(_decodeParameter9,2),_data3=_decodeParameter10[0],_consumed_2=_decodeParameter10[1];value[hasUnnamedChild?_i3:_component===null||_component===void 0?void 0:_component.name]=_data3;consumed+=_consumed_2}return[value,consumed]}function decodeString(cursor,_ref3){var staticPosition=_ref3.staticPosition;var offset=Bytes.toNumber(cursor.readBytes(32));var start=staticPosition+offset;cursor.setPosition(start);var length=Bytes.toNumber(cursor.readBytes(32));if(length===0){cursor.setPosition(staticPosition+32);return["",32]}var data=cursor.readBytes(length,32);var value=Bytes.toString(Bytes.trimLeft(data));cursor.setPosition(staticPosition+32);return[value,32]}function prepareParameters(_ref4){var checksumAddress=_ref4.checksumAddress,parameters=_ref4.parameters,values=_ref4.values;var preparedParameters=[];for(var i=0;i<parameters.length;i++){preparedParameters.push(prepareParameter({checksumAddress:checksumAddress,parameter:parameters[i],value:values[i]}))}return preparedParameters}function prepareParameter(_ref5){var _ref5$checksumAddress=_ref5.checksumAddress,checksumAddress=_ref5$checksumAddress===void 0?false:_ref5$checksumAddress,parameter_=_ref5.parameter,value=_ref5.value;var parameter=parameter_;var arrayComponents=getArrayComponents(parameter.type);if(arrayComponents){var _arrayComponents2=_slicedToArray(arrayComponents,2),length=_arrayComponents2[0],type=_arrayComponents2[1];return encodeArray(value,{checksumAddress:checksumAddress,length:length,parameter:_objectSpread(_objectSpread({},parameter),{},{type:type})})}if(parameter.type==="tuple"){return encodeTuple(value,{checksumAddress:checksumAddress,parameter:parameter})}if(parameter.type==="address"){return encodeAddress(value,{checksum:checksumAddress})}if(parameter.type==="bool"){return encodeBoolean(value)}if(parameter.type.startsWith("uint")||parameter.type.startsWith("int")){var _Solidity_js_1$intege;var signed=parameter.type.startsWith("int");var _ref6=(_Solidity_js_1$intege=Solidity_js_1.integerRegex.exec(parameter.type))!==null&&_Solidity_js_1$intege!==void 0?_Solidity_js_1$intege:[],_ref7=_slicedToArray(_ref6,3),_ref7$=_ref7[2],size=_ref7$===void 0?"256":_ref7$;return encodeNumber(value,{signed:signed,size:Number(size)})}if(parameter.type.startsWith("bytes")){return encodeBytes(value,{type:parameter.type})}if(parameter.type==="string"){return encodeString(value)}throw new AbiParameters.InvalidTypeError(parameter.type)}function encode(preparedParameters){var staticSize=0;for(var i=0;i<preparedParameters.length;i++){var _preparedParameters$i=preparedParameters[i],dynamic=_preparedParameters$i.dynamic,encoded=_preparedParameters$i.encoded;if(dynamic)staticSize+=32;else staticSize+=Hex.size(encoded)}var staticParameters=[];var dynamicParameters=[];var dynamicSize=0;for(var _i4=0;_i4<preparedParameters.length;_i4++){var _preparedParameters$_=preparedParameters[_i4],_dynamic=_preparedParameters$_.dynamic,_encoded=_preparedParameters$_.encoded;if(_dynamic){staticParameters.push(Hex.fromNumber(staticSize+dynamicSize,{size:32}));dynamicParameters.push(_encoded);dynamicSize+=Hex.size(_encoded)}else{staticParameters.push(_encoded)}}return Hex.concat.apply(Hex,staticParameters.concat(dynamicParameters))}function encodeAddress(value,options){var _options$checksum2=options.checksum,checksum=_options$checksum2===void 0?false:_options$checksum2;Address.assert(value,{strict:checksum});return{dynamic:false,encoded:Hex.padLeft(value.toLowerCase())}}function encodeArray(value,options){var checksumAddress=options.checksumAddress,length=options.length,parameter=options.parameter;var dynamic=length===null;if(!Array.isArray(value))throw new AbiParameters.InvalidArrayError(value);if(!dynamic&&value.length!==length)throw new AbiParameters.ArrayLengthMismatchError({expectedLength:length,givenLength:value.length,type:"".concat(parameter.type,"[").concat(length,"]")});var dynamicChild=false;var preparedParameters=[];for(var i=0;i<value.length;i++){var preparedParam=prepareParameter({checksumAddress:checksumAddress,parameter:parameter,value:value[i]});if(preparedParam.dynamic)dynamicChild=true;preparedParameters.push(preparedParam)}if(dynamic||dynamicChild){var data=encode(preparedParameters);if(dynamic){var _length2=Hex.fromNumber(preparedParameters.length,{size:32});return{dynamic:true,encoded:preparedParameters.length>0?Hex.concat(_length2,data):_length2}}if(dynamicChild)return{dynamic:true,encoded:data}}return{dynamic:false,encoded:Hex.concat.apply(Hex,_toConsumableArray(preparedParameters.map(function(_ref8){var encoded=_ref8.encoded;return encoded})))}}function encodeBytes(value,_ref9){var type=_ref9.type;var _type$split=type.split("bytes"),_type$split2=_slicedToArray(_type$split,2),parametersize=_type$split2[1];var bytesSize=Hex.size(value);if(!parametersize){var value_=value;if(bytesSize%32!==0)value_=Hex.padRight(value_,Math.ceil((value.length-2)/2/32)*32);return{dynamic:true,encoded:Hex.concat(Hex.padLeft(Hex.fromNumber(bytesSize,{size:32})),value_)}}if(bytesSize!==Number.parseInt(parametersize))throw new AbiParameters.BytesSizeMismatchError({expectedSize:Number.parseInt(parametersize),value:value});return{dynamic:false,encoded:Hex.padRight(value)}}function encodeBoolean(value){if(typeof value!=="boolean")throw new Errors.BaseError('Invalid boolean value: "'.concat(value,'" (type: ').concat(_typeof(value),"). Expected: `true` or `false`."));return{dynamic:false,encoded:Hex.padLeft(Hex.fromBoolean(value))}}function encodeNumber(value,_ref10){var signed=_ref10.signed,size=_ref10.size;if(typeof size==="number"){var max=Math.pow(2n,BigInt(size)-(signed?1n:0n))-1n;var min=signed?-max-1n:0n;if(value>max||value<min)throw new Hex.IntegerOutOfRangeError({max:max.toString(),min:min.toString(),signed:signed,size:size/8,value:value.toString()})}return{dynamic:false,encoded:Hex.fromNumber(value,{size:32,signed:signed})}}function encodeString(value){var hexValue=Hex.fromString(value);var partsLength=Math.ceil(Hex.size(hexValue)/32);var parts=[];for(var i=0;i<partsLength;i++){parts.push(Hex.padRight(Hex.slice(hexValue,i*32,(i+1)*32)))}return{dynamic:true,encoded:Hex.concat.apply(Hex,[Hex.padRight(Hex.fromNumber(Hex.size(hexValue),{size:32}))].concat(parts))}}function encodeTuple(value,options){var checksumAddress=options.checksumAddress,parameter=options.parameter;var dynamic=false;var preparedParameters=[];for(var i=0;i<parameter.components.length;i++){var param_=parameter.components[i];var index=Array.isArray(value)?i:param_.name;var preparedParam=prepareParameter({checksumAddress:checksumAddress,parameter:param_,value:value[index]});preparedParameters.push(preparedParam);if(preparedParam.dynamic)dynamic=true}return{dynamic:dynamic,encoded:dynamic?encode(preparedParameters):Hex.concat.apply(Hex,_toConsumableArray(preparedParameters.map(function(_ref11){var encoded=_ref11.encoded;return encoded})))}}function getArrayComponents(type){var matches=type.match(/^(.*)\[(\d+)?\]$/);return matches?[matches[2]?Number(matches[2]):null,matches[1]]:undefined}function hasDynamicChild(param){var _param$components;var type=param.type;if(type==="string")return true;if(type==="bytes")return true;if(type.endsWith("[]"))return true;if(type==="tuple")return(_param$components=param.components)===null||_param$components===void 0?void 0:_param$components.some(hasDynamicChild);var arrayComponents=getArrayComponents(param.type);if(arrayComponents&&hasDynamicChild(_objectSpread(_objectSpread({},param),{},{type:arrayComponents[1]})))return true;return false}},{"../AbiParameters.js":177,"../Address.js":178,"../Bytes.js":180,"../Errors.js":182,"../Hex.js":184,"../Solidity.js":187}],191:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.charCodeMap=void 0;exports.assertSize=assertSize;exports.assertStartOffset=assertStartOffset;exports.assertEndOffset=assertEndOffset;exports.charCodeToBase16=charCodeToBase16;exports.pad=pad;exports.trim=trim;var Bytes=require("../Bytes.js");function assertSize(bytes,size_){if(Bytes.size(bytes)>size_)throw new Bytes.SizeOverflowError({givenSize:Bytes.size(bytes),maxSize:size_})}function assertStartOffset(value,start){if(typeof start==="number"&&start>0&&start>Bytes.size(value)-1)throw new Bytes.SliceOffsetOutOfBoundsError({offset:start,position:"start",size:Bytes.size(value)})}function assertEndOffset(value,start,end){if(typeof start==="number"&&typeof end==="number"&&Bytes.size(value)!==end-start){throw new Bytes.SliceOffsetOutOfBoundsError({offset:end,position:"end",size:Bytes.size(value)})}}exports.charCodeMap={zero:48,nine:57,A:65,F:70,a:97,f:102};function charCodeToBase16(_char){if(_char>=exports.charCodeMap.zero&&_char<=exports.charCodeMap.nine)return _char-exports.charCodeMap.zero;if(_char>=exports.charCodeMap.A&&_char<=exports.charCodeMap.F)return _char-(exports.charCodeMap.A-10);if(_char>=exports.charCodeMap.a&&_char<=exports.charCodeMap.f)return _char-(exports.charCodeMap.a-10);return undefined}function pad(bytes){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var dir=options.dir,_options$size=options.size,size=_options$size===void 0?32:_options$size;if(size===0)return bytes;if(bytes.length>size)throw new Bytes.SizeExceedsPaddingSizeError({size:bytes.length,targetSize:size,type:"Bytes"});var paddedBytes=new Uint8Array(size);for(var i=0;i<size;i++){var padEnd=dir==="right";paddedBytes[padEnd?i:size-i-1]=bytes[padEnd?i:bytes.length-i-1]}return paddedBytes}function trim(value){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var _options$dir=options.dir,dir=_options$dir===void 0?"left":_options$dir;var data=value;var sliceLength=0;for(var i=0;i<data.length-1;i++){if(data[dir==="left"?i:data.length-i-1].toString()==="0")sliceLength++;else break}data=dir==="left"?data.slice(sliceLength):data.slice(0,data.length-sliceLength);return data}},{"../Bytes.js":180}],192:[function(require,module,exports){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),o)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function _classCallCheck(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_setPrototypeOf(t,e)}function _createSuper(t){var r=_isNativeReflectConstruct();return function(){var e,o=_getPrototypeOf(t);if(r){var s=_getPrototypeOf(this).constructor;e=Reflect.construct(o,arguments,s)}else e=o.apply(this,arguments);return _possibleConstructorReturn(this,e)}}function _possibleConstructorReturn(t,e){if(e&&("object"==_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(_isNativeReflectConstruct=function _isNativeReflectConstruct(){return!!t})()}function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(t)}Object.defineProperty(exports,"__esModule",{value:true});exports.RecursiveReadLimitExceededError=exports.PositionOutOfBoundsError=exports.NegativeOffsetError=void 0;exports.create=create;var Errors=require("../Errors.js");var staticCursor={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit:function assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new RecursiveReadLimitExceededError({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition:function assertPosition(position){if(position<0||position>this.bytes.length-1)throw new PositionOutOfBoundsError({length:this.bytes.length,position:position})},decrementPosition:function decrementPosition(offset){if(offset<0)throw new NegativeOffsetError({offset:offset});var position=this.position-offset;this.assertPosition(position);this.position=position},getReadCount:function getReadCount(position){return this.positionReadCount.get(position||this.position)||0},incrementPosition:function incrementPosition(offset){if(offset<0)throw new NegativeOffsetError({offset:offset});var position=this.position+offset;this.assertPosition(position);this.position=position},inspectByte:function inspectByte(position_){var position=position_!==null&&position_!==void 0?position_:this.position;this.assertPosition(position);return this.bytes[position]},inspectBytes:function inspectBytes(length,position_){var position=position_!==null&&position_!==void 0?position_:this.position;this.assertPosition(position+length-1);return this.bytes.subarray(position,position+length)},inspectUint8:function inspectUint8(position_){var position=position_!==null&&position_!==void 0?position_:this.position;this.assertPosition(position);return this.bytes[position]},inspectUint16:function inspectUint16(position_){var position=position_!==null&&position_!==void 0?position_:this.position;this.assertPosition(position+1);return this.dataView.getUint16(position)},inspectUint24:function inspectUint24(position_){var position=position_!==null&&position_!==void 0?position_:this.position;this.assertPosition(position+2);return(this.dataView.getUint16(position)<<8)+this.dataView.getUint8(position+2)},inspectUint32:function inspectUint32(position_){var position=position_!==null&&position_!==void 0?position_:this.position;this.assertPosition(position+3);return this.dataView.getUint32(position)},pushByte:function pushByte(_byte){this.assertPosition(this.position);this.bytes[this.position]=_byte;this.position++},pushBytes:function pushBytes(bytes){this.assertPosition(this.position+bytes.length-1);this.bytes.set(bytes,this.position);this.position+=bytes.length},pushUint8:function pushUint8(value){this.assertPosition(this.position);this.bytes[this.position]=value;this.position++},pushUint16:function pushUint16(value){this.assertPosition(this.position+1);this.dataView.setUint16(this.position,value);this.position+=2},pushUint24:function pushUint24(value){this.assertPosition(this.position+2);this.dataView.setUint16(this.position,value>>8);this.dataView.setUint8(this.position+2,value&~4294967040);this.position+=3},pushUint32:function pushUint32(value){this.assertPosition(this.position+3);this.dataView.setUint32(this.position,value);this.position+=4},readByte:function readByte(){this.assertReadLimit();this._touch();var value=this.inspectByte();this.position++;return value},readBytes:function readBytes(length,size){this.assertReadLimit();this._touch();var value=this.inspectBytes(length);this.position+=size!==null&&size!==void 0?size:length;return value},readUint8:function readUint8(){this.assertReadLimit();this._touch();var value=this.inspectUint8();this.position+=1;return value},readUint16:function readUint16(){this.assertReadLimit();this._touch();var value=this.inspectUint16();this.position+=2;return value},readUint24:function readUint24(){this.assertReadLimit();this._touch();var value=this.inspectUint24();this.position+=3;return value},readUint32:function readUint32(){this.assertReadLimit();this._touch();var value=this.inspectUint32();this.position+=4;return value},get remaining(){return this.bytes.length-this.position},setPosition:function setPosition(position){var _this=this;var oldPosition=this.position;this.assertPosition(position);this.position=position;return function(){return _this.position=oldPosition}},_touch:function _touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;var count=this.getReadCount();this.positionReadCount.set(this.position,count+1);if(count>0)this.recursiveReadCount++}};function create(bytes){var _ref=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},_ref$recursiveReadLim=_ref.recursiveReadLimit,recursiveReadLimit=_ref$recursiveReadLim===void 0?8192:_ref$recursiveReadLim;var cursor=Object.create(staticCursor);cursor.bytes=bytes;cursor.dataView=new DataView(bytes.buffer,bytes.byteOffset,bytes.byteLength);cursor.positionReadCount=new Map;cursor.recursiveReadLimit=recursiveReadLimit;return cursor}var NegativeOffsetError=function(_Errors$BaseError){_inherits(NegativeOffsetError,_Errors$BaseError);var _super=_createSuper(NegativeOffsetError);function NegativeOffsetError(_ref2){var _this2;var offset=_ref2.offset;_classCallCheck(this,NegativeOffsetError);_this2=_super.call(this,"Offset `".concat(offset,"` cannot be negative."));Object.defineProperty(_assertThisInitialized(_this2),"name",{enumerable:true,configurable:true,writable:true,value:"Cursor.NegativeOffsetError"});return _this2}return _createClass(NegativeOffsetError)}(Errors.BaseError);exports.NegativeOffsetError=NegativeOffsetError;var PositionOutOfBoundsError=function(_Errors$BaseError2){_inherits(PositionOutOfBoundsError,_Errors$BaseError2);var _super2=_createSuper(PositionOutOfBoundsError);function PositionOutOfBoundsError(_ref3){var _this3;var length=_ref3.length,position=_ref3.position;_classCallCheck(this,PositionOutOfBoundsError);_this3=_super2.call(this,"Position `".concat(position,"` is out of bounds (`0 < position < ").concat(length,"`)."));Object.defineProperty(_assertThisInitialized(_this3),"name",{enumerable:true,configurable:true,writable:true,value:"Cursor.PositionOutOfBoundsError"});return _this3}return _createClass(PositionOutOfBoundsError)}(Errors.BaseError);exports.PositionOutOfBoundsError=PositionOutOfBoundsError;var RecursiveReadLimitExceededError=function(_Errors$BaseError3){_inherits(RecursiveReadLimitExceededError,_Errors$BaseError3);var _super3=_createSuper(RecursiveReadLimitExceededError);function RecursiveReadLimitExceededError(_ref4){var _this4;var count=_ref4.count,limit=_ref4.limit;_classCallCheck(this,RecursiveReadLimitExceededError);_this4=_super3.call(this,"Recursive read limit of `".concat(limit,"` exceeded (recursive read count: `").concat(count,"`)."));Object.defineProperty(_assertThisInitialized(_this4),"name",{enumerable:true,configurable:true,writable:true,value:"Cursor.RecursiveReadLimitExceededError"});return _this4}return _createClass(RecursiveReadLimitExceededError)}(Errors.BaseError);exports.RecursiveReadLimitExceededError=RecursiveReadLimitExceededError},{"../Errors.js":182}],193:[function(require,module,exports){"use strict";function _slicedToArray(r,e){return _arrayWithHoles(r)||_iterableToArrayLimit(r,e)||_unsupportedIterableToArray(r,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++){n[e]=r[e]}return n}function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0){}}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t["return"]&&(u=t["return"](),Object(u)!==u))return}finally{if(o)throw n}}return a}}function _arrayWithHoles(r){if(Array.isArray(r))return r}Object.defineProperty(exports,"__esModule",{value:true});exports.getUrl=getUrl;exports.getVersion=getVersion;exports.prettyPrint=prettyPrint;var version_js_1=require("../version.js");function getUrl(url){return url}function getVersion(){return version_js_1.version}function prettyPrint(args){if(!args)return"";var entries=Object.entries(args).map(function(_ref){var _ref2=_slicedToArray(_ref,2),key=_ref2[0],value=_ref2[1];if(value===undefined||value===false)return null;return[key,value]}).filter(Boolean);var maxLength=entries.reduce(function(acc,_ref3){var _ref4=_slicedToArray(_ref3,1),key=_ref4[0];return Math.max(acc,key.length)},0);return entries.map(function(_ref5){var _ref6=_slicedToArray(_ref5,2),key=_ref6[0],value=_ref6[1];return"  ".concat("".concat(key,":").padEnd(maxLength+1),"  ").concat(value)}).join("\n")}},{"../version.js":196}],194:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.assertSize=assertSize;exports.assertStartOffset=assertStartOffset;exports.assertEndOffset=assertEndOffset;exports.pad=pad;exports.trim=trim;var Hex=require("../Hex.js");function assertSize(hex,size_){if(Hex.size(hex)>size_)throw new Hex.SizeOverflowError({givenSize:Hex.size(hex),maxSize:size_})}function assertStartOffset(value,start){if(typeof start==="number"&&start>0&&start>Hex.size(value)-1)throw new Hex.SliceOffsetOutOfBoundsError({offset:start,position:"start",size:Hex.size(value)})}function assertEndOffset(value,start,end){if(typeof start==="number"&&typeof end==="number"&&Hex.size(value)!==end-start){throw new Hex.SliceOffsetOutOfBoundsError({offset:end,position:"end",size:Hex.size(value)})}}function pad(hex_){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var dir=options.dir,_options$size=options.size,size=_options$size===void 0?32:_options$size;if(size===0)return hex_;var hex=hex_.replace("0x","");if(hex.length>size*2)throw new Hex.SizeExceedsPaddingSizeError({size:Math.ceil(hex.length/2),targetSize:size,type:"Hex"});return"0x".concat(hex[dir==="right"?"padEnd":"padStart"](size*2,"0"))}function trim(value){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var _options$dir=options.dir,dir=_options$dir===void 0?"left":_options$dir;var data=value.replace("0x","");var sliceLength=0;for(var i=0;i<data.length-1;i++){if(data[dir==="left"?i:data.length-i-1].toString()==="0")sliceLength++;else break}data=dir==="left"?data.slice(sliceLength):data.slice(0,data.length-sliceLength);if(data==="0")return"0x";if(dir==="right"&&data.length%2===1)return"0x".concat(data,"0");return"0x".concat(data)}},{"../Hex.js":184}],195:[function(require,module,exports){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _classCallCheck(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),o)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function _get(){return _get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var p=_superPropBase(e,t);if(p){var n=Object.getOwnPropertyDescriptor(p,t);return n.get?n.get.call(arguments.length<3?e:r):n.value}},_get.apply(null,arguments)}function _superPropBase(t,o){for(;!{}.hasOwnProperty.call(t,o)&&null!==(t=_getPrototypeOf(t));){}return t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf(t,e)}function _createSuper(t){var r=_isNativeReflectConstruct();return function(){var e,o=_getPrototypeOf(t);if(r){var s=_getPrototypeOf(this).constructor;e=Reflect.construct(o,arguments,s)}else e=o.apply(this,arguments);return _possibleConstructorReturn(this,e)}}function _possibleConstructorReturn(t,e){if(e&&("object"==_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _wrapNativeSuper(t){var r="function"==typeof Map?new Map:void 0;return _wrapNativeSuper=function _wrapNativeSuper(t){if(null===t||!_isNativeFunction(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==r){if(r.has(t))return r.get(t);r.set(t,Wrapper)}function Wrapper(){return _construct(t,arguments,_getPrototypeOf(this).constructor)}return Wrapper.prototype=Object.create(t.prototype,{constructor:{value:Wrapper,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(Wrapper,t)},_wrapNativeSuper(t)}function _construct(t,e,r){if(_isNativeReflectConstruct())return Reflect.construct.apply(null,arguments);var o=[null];o.push.apply(o,e);var p=new(t.bind.apply(t,o));return r&&_setPrototypeOf(p,r.prototype),p}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(_isNativeReflectConstruct=function _isNativeReflectConstruct(){return!!t})()}function _isNativeFunction(t){try{return-1!==Function.toString.call(t).indexOf("[native code]")}catch(n){return"function"==typeof t}}function _setPrototypeOf(t,e){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_setPrototypeOf(t,e)}function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(t)}Object.defineProperty(exports,"__esModule",{value:true});exports.LruMap=void 0;var LruMap=function(_Map){_inherits(LruMap,_Map);var _super=_createSuper(LruMap);function LruMap(size){var _this;_classCallCheck(this,LruMap);_this=_super.call(this);Object.defineProperty(_assertThisInitialized(_this),"maxSize",{enumerable:true,configurable:true,writable:true,value:void 0});_this.maxSize=size;return _this}_createClass(LruMap,[{key:"get",value:function get(key){var value=_get(_getPrototypeOf(LruMap.prototype),"get",this).call(this,key);if(_get(_getPrototypeOf(LruMap.prototype),"has",this).call(this,key)&&value!==undefined){this["delete"](key);_get(_getPrototypeOf(LruMap.prototype),"set",this).call(this,key,value)}return value}},{key:"set",value:function set(key,value){_get(_getPrototypeOf(LruMap.prototype),"set",this).call(this,key,value);if(this.maxSize&&this.size>this.maxSize){var firstKey=this.keys().next().value;if(firstKey)this["delete"](firstKey)}return this}}]);return LruMap}(_wrapNativeSuper(Map));exports.LruMap=LruMap},{}],196:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.version=void 0;exports.version="0.1.1"},{}],197:[function(require,module,exports){"use strict";var process=module.exports={};var cachedSetTimeout;var cachedClearTimeout;function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}(function(){try{if(typeof setTimeout==="function"){cachedSetTimeout=setTimeout}else{cachedSetTimeout=defaultSetTimout}}catch(e){cachedSetTimeout=defaultSetTimout}try{if(typeof clearTimeout==="function"){cachedClearTimeout=clearTimeout}else{cachedClearTimeout=defaultClearTimeout}}catch(e){cachedClearTimeout=defaultClearTimeout}})();function runTimeout(fun){if(cachedSetTimeout===setTimeout){return setTimeout(fun,0)}if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout){cachedSetTimeout=setTimeout;return setTimeout(fun,0)}try{return cachedSetTimeout(fun,0)}catch(e){try{return cachedSetTimeout.call(null,fun,0)}catch(e){return cachedSetTimeout.call(this,fun,0)}}}function runClearTimeout(marker){if(cachedClearTimeout===clearTimeout){return clearTimeout(marker)}if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout){cachedClearTimeout=clearTimeout;return clearTimeout(marker)}try{return cachedClearTimeout(marker)}catch(e){try{return cachedClearTimeout.call(null,marker)}catch(e){return cachedClearTimeout.call(this,marker)}}}var queue=[];var draining=false;var currentQueue;var queueIndex=-1;function cleanUpNextTick(){if(!draining||!currentQueue){return}draining=false;if(currentQueue.length){queue=currentQueue.concat(queue)}else{queueIndex=-1}if(queue.length){drainQueue()}}function drainQueue(){if(draining){return}var timeout=runTimeout(cleanUpNextTick);draining=true;var len=queue.length;while(len){currentQueue=queue;queue=[];while(++queueIndex<len){if(currentQueue){currentQueue[queueIndex].run()}}queueIndex=-1;len=queue.length}currentQueue=null;draining=false;runClearTimeout(timeout)}process.nextTick=function(fun){var args=new Array(arguments.length-1);if(arguments.length>1){for(var i=1;i<arguments.length;i++){args[i-1]=arguments[i]}}queue.push(new Item(fun,args));if(queue.length===1&&!draining){runTimeout(drainQueue)}};function Item(fun,array){this.fun=fun;this.array=array}Item.prototype.run=function(){this.fun.apply(null,this.array)};process.title="browser";process.browser=true;process.env={};process.argv=[];process.version="";process.versions={};function noop(){}process.on=noop;process.addListener=noop;process.once=noop;process.off=noop;process.removeListener=noop;process.removeAllListeners=noop;process.emit=noop;process.prependListener=noop;process.prependOnceListener=noop;process.listeners=function(name){return[]};process.binding=function(name){throw new Error("process.binding is not supported")};process.cwd=function(){return"/"};process.chdir=function(dir){throw new Error("process.chdir is not supported")};process.umask=function(){return 0}},{}],198:[function(require,module,exports){"use strict";module.exports=Stream;var EE=require("events").EventEmitter;var inherits=require("inherits");inherits(Stream,EE);Stream.Readable=require("readable-stream/lib/_stream_readable.js");Stream.Writable=require("readable-stream/lib/_stream_writable.js");Stream.Duplex=require("readable-stream/lib/_stream_duplex.js");Stream.Transform=require("readable-stream/lib/_stream_transform.js");Stream.PassThrough=require("readable-stream/lib/_stream_passthrough.js");Stream.finished=require("readable-stream/lib/internal/streams/end-of-stream.js");Stream.pipeline=require("readable-stream/lib/internal/streams/pipeline.js");Stream.Stream=Stream;function Stream(){EE.call(this)}Stream.prototype.pipe=function(dest,options){var source=this;function ondata(chunk){if(dest.writable){if(false===dest.write(chunk)&&source.pause){source.pause()}}}source.on("data",ondata);function ondrain(){if(source.readable&&source.resume){source.resume()}}dest.on("drain",ondrain);if(!dest._isStdio&&(!options||options.end!==false)){source.on("end",onend);source.on("close",onclose)}var didOnEnd=false;function onend(){if(didOnEnd)return;didOnEnd=true;dest.end()}function onclose(){if(didOnEnd)return;didOnEnd=true;if(typeof dest.destroy==="function")dest.destroy()}function onerror(er){cleanup();if(EE.listenerCount(this,"error")===0){throw er}}source.on("error",onerror);dest.on("error",onerror);function cleanup(){source.removeListener("data",ondata);dest.removeListener("drain",ondrain);source.removeListener("end",onend);source.removeListener("close",onclose);source.removeListener("error",onerror);dest.removeListener("error",onerror);source.removeListener("end",cleanup);source.removeListener("close",cleanup);dest.removeListener("close",cleanup)}source.on("end",cleanup);source.on("close",cleanup);dest.on("close",cleanup);dest.emit("pipe",source);return dest}},{events:60,inherits:170,"readable-stream/lib/_stream_duplex.js":200,"readable-stream/lib/_stream_passthrough.js":201,"readable-stream/lib/_stream_readable.js":202,"readable-stream/lib/_stream_transform.js":203,"readable-stream/lib/_stream_writable.js":204,"readable-stream/lib/internal/streams/end-of-stream.js":208,"readable-stream/lib/internal/streams/pipeline.js":210}],199:[function(require,module,exports){arguments[4][88][0].apply(exports,arguments)},{dup:88}],200:[function(require,module,exports){(function(process){(function(){"use strict";var objectKeys=Object.keys||function(obj){var keys=[];for(var key in obj){keys.push(key)}return keys};module.exports=Duplex;var Readable=require("./_stream_readable");var Writable=require("./_stream_writable");require("inherits")(Duplex,Readable);{var keys=objectKeys(Writable.prototype);for(var v=0;v<keys.length;v++){var method=keys[v];if(!Duplex.prototype[method])Duplex.prototype[method]=Writable.prototype[method]}}function Duplex(options){if(!(this instanceof Duplex))return new Duplex(options);Readable.call(this,options);Writable.call(this,options);this.allowHalfOpen=true;if(options){if(options.readable===false)this.readable=false;if(options.writable===false)this.writable=false;if(options.allowHalfOpen===false){this.allowHalfOpen=false;this.once("end",onend)}}}Object.defineProperty(Duplex.prototype,"writableHighWaterMark",{enumerable:false,get:function get(){return this._writableState.highWaterMark}});Object.defineProperty(Duplex.prototype,"writableBuffer",{enumerable:false,get:function get(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(Duplex.prototype,"writableLength",{enumerable:false,get:function get(){return this._writableState.length}});function onend(){if(this._writableState.ended)return;process.nextTick(onEndNT,this)}function onEndNT(self){self.end()}Object.defineProperty(Duplex.prototype,"destroyed",{enumerable:false,get:function get(){if(this._readableState===undefined||this._writableState===undefined){return false}return this._readableState.destroyed&&this._writableState.destroyed},set:function set(value){if(this._readableState===undefined||this._writableState===undefined){return}this._readableState.destroyed=value;this._writableState.destroyed=value}})}).call(this)}).call(this,require("_process"))},{"./_stream_readable":202,"./_stream_writable":204,_process:197,inherits:170}],201:[function(require,module,exports){"use strict";module.exports=PassThrough;var Transform=require("./_stream_transform");require("inherits")(PassThrough,Transform);function PassThrough(options){if(!(this instanceof PassThrough))return new PassThrough(options);Transform.call(this,options)}PassThrough.prototype._transform=function(chunk,encoding,cb){cb(null,chunk)}},{"./_stream_transform":203,inherits:170}],202:[function(require,module,exports){(function(process,global){(function(){"use strict";module.exports=Readable;var Duplex;Readable.ReadableState=ReadableState;var EE=require("events").EventEmitter;var EElistenerCount=function EElistenerCount(emitter,type){return emitter.listeners(type).length};var Stream=require("./internal/streams/stream");var Buffer=require("buffer").Buffer;var OurUint8Array=global.Uint8Array||function(){};function _uint8ArrayToBuffer(chunk){return Buffer.from(chunk)}function _isUint8Array(obj){return Buffer.isBuffer(obj)||obj instanceof OurUint8Array}var debugUtil=require("util");var debug;if(debugUtil&&debugUtil.debuglog){debug=debugUtil.debuglog("stream")}else{debug=function debug(){}}var BufferList=require("./internal/streams/buffer_list");var destroyImpl=require("./internal/streams/destroy");var _require=require("./internal/streams/state"),getHighWaterMark=_require.getHighWaterMark;var _require$codes=require("../errors").codes,ERR_INVALID_ARG_TYPE=_require$codes.ERR_INVALID_ARG_TYPE,ERR_STREAM_PUSH_AFTER_EOF=_require$codes.ERR_STREAM_PUSH_AFTER_EOF,ERR_METHOD_NOT_IMPLEMENTED=_require$codes.ERR_METHOD_NOT_IMPLEMENTED,ERR_STREAM_UNSHIFT_AFTER_END_EVENT=_require$codes.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;var StringDecoder;var createReadableStreamAsyncIterator;var from;require("inherits")(Readable,Stream);var errorOrDestroy=destroyImpl.errorOrDestroy;var kProxyEvents=["error","close","destroy","pause","resume"];function prependListener(emitter,event,fn){if(typeof emitter.prependListener==="function")return emitter.prependListener(event,fn);if(!emitter._events||!emitter._events[event])emitter.on(event,fn);else if(Array.isArray(emitter._events[event]))emitter._events[event].unshift(fn);else emitter._events[event]=[fn,emitter._events[event]]}function ReadableState(options,stream,isDuplex){Duplex=Duplex||require("./_stream_duplex");options=options||{};if(typeof isDuplex!=="boolean")isDuplex=stream instanceof Duplex;this.objectMode=!!options.objectMode;if(isDuplex)this.objectMode=this.objectMode||!!options.readableObjectMode;this.highWaterMark=getHighWaterMark(this,options,"readableHighWaterMark",isDuplex);this.buffer=new BufferList;this.length=0;this.pipes=null;this.pipesCount=0;this.flowing=null;this.ended=false;this.endEmitted=false;this.reading=false;this.sync=true;this.needReadable=false;this.emittedReadable=false;this.readableListening=false;this.resumeScheduled=false;this.paused=true;this.emitClose=options.emitClose!==false;this.autoDestroy=!!options.autoDestroy;this.destroyed=false;this.defaultEncoding=options.defaultEncoding||"utf8";this.awaitDrain=0;this.readingMore=false;this.decoder=null;this.encoding=null;if(options.encoding){if(!StringDecoder)StringDecoder=require("string_decoder/").StringDecoder;this.decoder=new StringDecoder(options.encoding);this.encoding=options.encoding}}function Readable(options){Duplex=Duplex||require("./_stream_duplex");if(!(this instanceof Readable))return new Readable(options);var isDuplex=this instanceof Duplex;this._readableState=new ReadableState(options,this,isDuplex);this.readable=true;if(options){if(typeof options.read==="function")this._read=options.read;if(typeof options.destroy==="function")this._destroy=options.destroy}Stream.call(this)}Object.defineProperty(Readable.prototype,"destroyed",{enumerable:false,get:function get(){if(this._readableState===undefined){return false}return this._readableState.destroyed},set:function set(value){if(!this._readableState){return}this._readableState.destroyed=value}});Readable.prototype.destroy=destroyImpl.destroy;Readable.prototype._undestroy=destroyImpl.undestroy;Readable.prototype._destroy=function(err,cb){cb(err)};Readable.prototype.push=function(chunk,encoding){var state=this._readableState;var skipChunkCheck;if(!state.objectMode){if(typeof chunk==="string"){encoding=encoding||state.defaultEncoding;if(encoding!==state.encoding){chunk=Buffer.from(chunk,encoding);encoding=""}skipChunkCheck=true}}else{skipChunkCheck=true}return readableAddChunk(this,chunk,encoding,false,skipChunkCheck)};Readable.prototype.unshift=function(chunk){return readableAddChunk(this,chunk,null,true,false)};function readableAddChunk(stream,chunk,encoding,addToFront,skipChunkCheck){debug("readableAddChunk",chunk);var state=stream._readableState;if(chunk===null){state.reading=false;onEofChunk(stream,state)}else{var er;if(!skipChunkCheck)er=chunkInvalid(state,chunk);if(er){errorOrDestroy(stream,er)}else if(state.objectMode||chunk&&chunk.length>0){if(typeof chunk!=="string"&&!state.objectMode&&Object.getPrototypeOf(chunk)!==Buffer.prototype){chunk=_uint8ArrayToBuffer(chunk)}if(addToFront){if(state.endEmitted)errorOrDestroy(stream,new ERR_STREAM_UNSHIFT_AFTER_END_EVENT);else addChunk(stream,state,chunk,true)}else if(state.ended){errorOrDestroy(stream,new ERR_STREAM_PUSH_AFTER_EOF)}else if(state.destroyed){return false}else{state.reading=false;if(state.decoder&&!encoding){chunk=state.decoder.write(chunk);if(state.objectMode||chunk.length!==0)addChunk(stream,state,chunk,false);else maybeReadMore(stream,state)}else{addChunk(stream,state,chunk,false)}}}else if(!addToFront){state.reading=false;maybeReadMore(stream,state)}}return!state.ended&&(state.length<state.highWaterMark||state.length===0)}function addChunk(stream,state,chunk,addToFront){if(state.flowing&&state.length===0&&!state.sync){state.awaitDrain=0;stream.emit("data",chunk)}else{state.length+=state.objectMode?1:chunk.length;if(addToFront)state.buffer.unshift(chunk);else state.buffer.push(chunk);if(state.needReadable)emitReadable(stream)}maybeReadMore(stream,state)}function chunkInvalid(state,chunk){var er;if(!_isUint8Array(chunk)&&typeof chunk!=="string"&&chunk!==undefined&&!state.objectMode){er=new ERR_INVALID_ARG_TYPE("chunk",["string","Buffer","Uint8Array"],chunk)}return er}Readable.prototype.isPaused=function(){return this._readableState.flowing===false};Readable.prototype.setEncoding=function(enc){if(!StringDecoder)StringDecoder=require("string_decoder/").StringDecoder;var decoder=new StringDecoder(enc);this._readableState.decoder=decoder;this._readableState.encoding=this._readableState.decoder.encoding;var p=this._readableState.buffer.head;var content="";while(p!==null){content+=decoder.write(p.data);p=p.next}this._readableState.buffer.clear();if(content!=="")this._readableState.buffer.push(content);this._readableState.length=content.length;return this};var MAX_HWM=1073741824;function computeNewHighWaterMark(n){if(n>=MAX_HWM){n=MAX_HWM}else{n--;n|=n>>>1;n|=n>>>2;n|=n>>>4;n|=n>>>8;n|=n>>>16;n++}return n}function howMuchToRead(n,state){if(n<=0||state.length===0&&state.ended)return 0;if(state.objectMode)return 1;if(n!==n){if(state.flowing&&state.length)return state.buffer.head.data.length;else return state.length}if(n>state.highWaterMark)state.highWaterMark=computeNewHighWaterMark(n);if(n<=state.length)return n;if(!state.ended){state.needReadable=true;return 0}return state.length}Readable.prototype.read=function(n){debug("read",n);n=parseInt(n,10);var state=this._readableState;var nOrig=n;if(n!==0)state.emittedReadable=false;if(n===0&&state.needReadable&&((state.highWaterMark!==0?state.length>=state.highWaterMark:state.length>0)||state.ended)){debug("read: emitReadable",state.length,state.ended);if(state.length===0&&state.ended)endReadable(this);else emitReadable(this);return null}n=howMuchToRead(n,state);if(n===0&&state.ended){if(state.length===0)endReadable(this);return null}var doRead=state.needReadable;debug("need readable",doRead);if(state.length===0||state.length-n<state.highWaterMark){doRead=true;debug("length less than watermark",doRead)}if(state.ended||state.reading){doRead=false;debug("reading or ended",doRead)}else if(doRead){debug("do read");state.reading=true;state.sync=true;if(state.length===0)state.needReadable=true;this._read(state.highWaterMark);state.sync=false;if(!state.reading)n=howMuchToRead(nOrig,state)}var ret;if(n>0)ret=fromList(n,state);else ret=null;if(ret===null){state.needReadable=state.length<=state.highWaterMark;n=0}else{state.length-=n;state.awaitDrain=0}if(state.length===0){if(!state.ended)state.needReadable=true;if(nOrig!==n&&state.ended)endReadable(this)}if(ret!==null)this.emit("data",ret);return ret};function onEofChunk(stream,state){debug("onEofChunk");if(state.ended)return;if(state.decoder){var chunk=state.decoder.end();if(chunk&&chunk.length){state.buffer.push(chunk);state.length+=state.objectMode?1:chunk.length}}state.ended=true;if(state.sync){emitReadable(stream)}else{state.needReadable=false;if(!state.emittedReadable){state.emittedReadable=true;emitReadable_(stream)}}}function emitReadable(stream){var state=stream._readableState;debug("emitReadable",state.needReadable,state.emittedReadable);state.needReadable=false;if(!state.emittedReadable){debug("emitReadable",state.flowing);state.emittedReadable=true;process.nextTick(emitReadable_,stream)}}function emitReadable_(stream){var state=stream._readableState;debug("emitReadable_",state.destroyed,state.length,state.ended);if(!state.destroyed&&(state.length||state.ended)){stream.emit("readable");state.emittedReadable=false}state.needReadable=!state.flowing&&!state.ended&&state.length<=state.highWaterMark;flow(stream)}function maybeReadMore(stream,state){if(!state.readingMore){state.readingMore=true;process.nextTick(maybeReadMore_,stream,state)}}function maybeReadMore_(stream,state){while(!state.reading&&!state.ended&&(state.length<state.highWaterMark||state.flowing&&state.length===0)){var len=state.length;debug("maybeReadMore read 0");stream.read(0);if(len===state.length)break}state.readingMore=false}Readable.prototype._read=function(n){errorOrDestroy(this,new ERR_METHOD_NOT_IMPLEMENTED("_read()"))};Readable.prototype.pipe=function(dest,pipeOpts){var src=this;var state=this._readableState;switch(state.pipesCount){case 0:state.pipes=dest;break;case 1:state.pipes=[state.pipes,dest];break;default:state.pipes.push(dest);break}state.pipesCount+=1;debug("pipe count=%d opts=%j",state.pipesCount,pipeOpts);var doEnd=(!pipeOpts||pipeOpts.end!==false)&&dest!==process.stdout&&dest!==process.stderr;var endFn=doEnd?onend:unpipe;if(state.endEmitted)process.nextTick(endFn);else src.once("end",endFn);dest.on("unpipe",onunpipe);function onunpipe(readable,unpipeInfo){debug("onunpipe");if(readable===src){if(unpipeInfo&&unpipeInfo.hasUnpiped===false){unpipeInfo.hasUnpiped=true;cleanup()}}}function onend(){debug("onend");dest.end()}var ondrain=pipeOnDrain(src);dest.on("drain",ondrain);var cleanedUp=false;function cleanup(){debug("cleanup");dest.removeListener("close",onclose);dest.removeListener("finish",onfinish);dest.removeListener("drain",ondrain);dest.removeListener("error",onerror);dest.removeListener("unpipe",onunpipe);src.removeListener("end",onend);src.removeListener("end",unpipe);src.removeListener("data",ondata);cleanedUp=true;if(state.awaitDrain&&(!dest._writableState||dest._writableState.needDrain))ondrain()}src.on("data",ondata);function ondata(chunk){debug("ondata");var ret=dest.write(chunk);debug("dest.write",ret);if(ret===false){if((state.pipesCount===1&&state.pipes===dest||state.pipesCount>1&&indexOf(state.pipes,dest)!==-1)&&!cleanedUp){debug("false write response, pause",state.awaitDrain);state.awaitDrain++}src.pause()}}function onerror(er){debug("onerror",er);unpipe();dest.removeListener("error",onerror);if(EElistenerCount(dest,"error")===0)errorOrDestroy(dest,er)}prependListener(dest,"error",onerror);function onclose(){dest.removeListener("finish",onfinish);unpipe()}dest.once("close",onclose);function onfinish(){debug("onfinish");dest.removeListener("close",onclose);unpipe()}dest.once("finish",onfinish);function unpipe(){debug("unpipe");src.unpipe(dest)}dest.emit("pipe",src);if(!state.flowing){debug("pipe resume");src.resume()}return dest};function pipeOnDrain(src){return function pipeOnDrainFunctionResult(){var state=src._readableState;debug("pipeOnDrain",state.awaitDrain);if(state.awaitDrain)state.awaitDrain--;if(state.awaitDrain===0&&EElistenerCount(src,"data")){state.flowing=true;flow(src)}}}Readable.prototype.unpipe=function(dest){var state=this._readableState;var unpipeInfo={hasUnpiped:false};if(state.pipesCount===0)return this;if(state.pipesCount===1){if(dest&&dest!==state.pipes)return this;if(!dest)dest=state.pipes;state.pipes=null;state.pipesCount=0;state.flowing=false;if(dest)dest.emit("unpipe",this,unpipeInfo);return this}if(!dest){var dests=state.pipes;var len=state.pipesCount;state.pipes=null;state.pipesCount=0;state.flowing=false;for(var i=0;i<len;i++){dests[i].emit("unpipe",this,{hasUnpiped:false})}return this}var index=indexOf(state.pipes,dest);if(index===-1)return this;state.pipes.splice(index,1);state.pipesCount-=1;if(state.pipesCount===1)state.pipes=state.pipes[0];dest.emit("unpipe",this,unpipeInfo);return this};Readable.prototype.on=function(ev,fn){var res=Stream.prototype.on.call(this,ev,fn);var state=this._readableState;if(ev==="data"){state.readableListening=this.listenerCount("readable")>0;if(state.flowing!==false)this.resume()}else if(ev==="readable"){if(!state.endEmitted&&!state.readableListening){state.readableListening=state.needReadable=true;state.flowing=false;state.emittedReadable=false;debug("on readable",state.length,state.reading);if(state.length){emitReadable(this)}else if(!state.reading){process.nextTick(nReadingNextTick,this)}}}return res};Readable.prototype.addListener=Readable.prototype.on;Readable.prototype.removeListener=function(ev,fn){var res=Stream.prototype.removeListener.call(this,ev,fn);if(ev==="readable"){process.nextTick(updateReadableListening,this)}return res};Readable.prototype.removeAllListeners=function(ev){var res=Stream.prototype.removeAllListeners.apply(this,arguments);if(ev==="readable"||ev===undefined){process.nextTick(updateReadableListening,this)}return res};function updateReadableListening(self){var state=self._readableState;state.readableListening=self.listenerCount("readable")>0;if(state.resumeScheduled&&!state.paused){state.flowing=true}else if(self.listenerCount("data")>0){self.resume()}}function nReadingNextTick(self){debug("readable nexttick read 0");self.read(0)}Readable.prototype.resume=function(){var state=this._readableState;if(!state.flowing){debug("resume");state.flowing=!state.readableListening;resume(this,state)}state.paused=false;return this};function resume(stream,state){if(!state.resumeScheduled){state.resumeScheduled=true;process.nextTick(resume_,stream,state)}}function resume_(stream,state){debug("resume",state.reading);if(!state.reading){stream.read(0)}state.resumeScheduled=false;stream.emit("resume");flow(stream);if(state.flowing&&!state.reading)stream.read(0)}Readable.prototype.pause=function(){debug("call pause flowing=%j",this._readableState.flowing);if(this._readableState.flowing!==false){debug("pause");this._readableState.flowing=false;this.emit("pause")}this._readableState.paused=true;return this};function flow(stream){var state=stream._readableState;debug("flow",state.flowing);while(state.flowing&&stream.read()!==null){}}Readable.prototype.wrap=function(stream){var _this=this;var state=this._readableState;var paused=false;stream.on("end",function(){debug("wrapped end");if(state.decoder&&!state.ended){var chunk=state.decoder.end();if(chunk&&chunk.length)_this.push(chunk)}_this.push(null)});stream.on("data",function(chunk){debug("wrapped data");if(state.decoder)chunk=state.decoder.write(chunk);if(state.objectMode&&(chunk===null||chunk===undefined))return;else if(!state.objectMode&&(!chunk||!chunk.length))return;var ret=_this.push(chunk);if(!ret){paused=true;stream.pause()}});for(var i in stream){if(this[i]===undefined&&typeof stream[i]==="function"){this[i]=function methodWrap(method){return function methodWrapReturnFunction(){return stream[method].apply(stream,arguments)}}(i)}}for(var n=0;n<kProxyEvents.length;n++){stream.on(kProxyEvents[n],this.emit.bind(this,kProxyEvents[n]))}this._read=function(n){debug("wrapped _read",n);if(paused){paused=false;stream.resume()}};return this};if(typeof Symbol==="function"){Readable.prototype[Symbol.asyncIterator]=function(){if(createReadableStreamAsyncIterator===undefined){createReadableStreamAsyncIterator=require("./internal/streams/async_iterator")}return createReadableStreamAsyncIterator(this)}}Object.defineProperty(Readable.prototype,"readableHighWaterMark",{enumerable:false,get:function get(){return this._readableState.highWaterMark}});Object.defineProperty(Readable.prototype,"readableBuffer",{enumerable:false,get:function get(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(Readable.prototype,"readableFlowing",{enumerable:false,get:function get(){return this._readableState.flowing},set:function set(state){if(this._readableState){this._readableState.flowing=state}}});Readable._fromList=fromList;Object.defineProperty(Readable.prototype,"readableLength",{enumerable:false,get:function get(){return this._readableState.length}});function fromList(n,state){if(state.length===0)return null;var ret;if(state.objectMode)ret=state.buffer.shift();else if(!n||n>=state.length){if(state.decoder)ret=state.buffer.join("");else if(state.buffer.length===1)ret=state.buffer.first();else ret=state.buffer.concat(state.length);state.buffer.clear()}else{ret=state.buffer.consume(n,state.decoder)}return ret}function endReadable(stream){var state=stream._readableState;debug("endReadable",state.endEmitted);if(!state.endEmitted){state.ended=true;process.nextTick(endReadableNT,state,stream)}}function endReadableNT(state,stream){debug("endReadableNT",state.endEmitted,state.length);if(!state.endEmitted&&state.length===0){state.endEmitted=true;stream.readable=false;stream.emit("end");if(state.autoDestroy){var wState=stream._writableState;if(!wState||wState.autoDestroy&&wState.finished){stream.destroy()}}}}if(typeof Symbol==="function"){Readable.from=function(iterable,opts){if(from===undefined){from=require("./internal/streams/from")}return from(Readable,iterable,opts)}}function indexOf(xs,x){for(var i=0,l=xs.length;i<l;i++){if(xs[i]===x)return i}return-1}}).call(this)}).call(this,require("_process"),typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"../errors":199,"./_stream_duplex":200,"./internal/streams/async_iterator":205,"./internal/streams/buffer_list":206,"./internal/streams/destroy":207,"./internal/streams/from":209,"./internal/streams/state":211,"./internal/streams/stream":212,_process:197,buffer:168,events:60,inherits:170,"string_decoder/":213,util:167}],203:[function(require,module,exports){"use strict";module.exports=Transform;var _require$codes=require("../errors").codes,ERR_METHOD_NOT_IMPLEMENTED=_require$codes.ERR_METHOD_NOT_IMPLEMENTED,ERR_MULTIPLE_CALLBACK=_require$codes.ERR_MULTIPLE_CALLBACK,ERR_TRANSFORM_ALREADY_TRANSFORMING=_require$codes.ERR_TRANSFORM_ALREADY_TRANSFORMING,ERR_TRANSFORM_WITH_LENGTH_0=_require$codes.ERR_TRANSFORM_WITH_LENGTH_0;var Duplex=require("./_stream_duplex");require("inherits")(Transform,Duplex);function afterTransform(er,data){var ts=this._transformState;ts.transforming=false;var cb=ts.writecb;if(cb===null){return this.emit("error",new ERR_MULTIPLE_CALLBACK)}ts.writechunk=null;ts.writecb=null;if(data!=null)this.push(data);cb(er);var rs=this._readableState;rs.reading=false;if(rs.needReadable||rs.length<rs.highWaterMark){this._read(rs.highWaterMark)}}function Transform(options){if(!(this instanceof Transform))return new Transform(options);Duplex.call(this,options);this._transformState={afterTransform:afterTransform.bind(this),needTransform:false,transforming:false,writecb:null,writechunk:null,writeencoding:null};this._readableState.needReadable=true;this._readableState.sync=false;if(options){if(typeof options.transform==="function")this._transform=options.transform;if(typeof options.flush==="function")this._flush=options.flush}this.on("prefinish",prefinish)}function prefinish(){var _this=this;if(typeof this._flush==="function"&&!this._readableState.destroyed){this._flush(function(er,data){done(_this,er,data)})}else{done(this,null,null)}}Transform.prototype.push=function(chunk,encoding){this._transformState.needTransform=false;return Duplex.prototype.push.call(this,chunk,encoding)};Transform.prototype._transform=function(chunk,encoding,cb){cb(new ERR_METHOD_NOT_IMPLEMENTED("_transform()"))};Transform.prototype._write=function(chunk,encoding,cb){var ts=this._transformState;ts.writecb=cb;ts.writechunk=chunk;ts.writeencoding=encoding;if(!ts.transforming){var rs=this._readableState;if(ts.needTransform||rs.needReadable||rs.length<rs.highWaterMark)this._read(rs.highWaterMark)}};Transform.prototype._read=function(n){var ts=this._transformState;if(ts.writechunk!==null&&!ts.transforming){ts.transforming=true;this._transform(ts.writechunk,ts.writeencoding,ts.afterTransform)}else{ts.needTransform=true}};Transform.prototype._destroy=function(err,cb){Duplex.prototype._destroy.call(this,err,function(err2){cb(err2)})};function done(stream,er,data){if(er)return stream.emit("error",er);if(data!=null)stream.push(data);if(stream._writableState.length)throw new ERR_TRANSFORM_WITH_LENGTH_0;if(stream._transformState.transforming)throw new ERR_TRANSFORM_ALREADY_TRANSFORMING;return stream.push(null)}},{"../errors":199,"./_stream_duplex":200,inherits:170}],204:[function(require,module,exports){(function(process,global){(function(){"use strict";module.exports=Writable;function WriteReq(chunk,encoding,cb){this.chunk=chunk;this.encoding=encoding;this.callback=cb;this.next=null}function CorkedRequest(state){var _this=this;this.next=null;this.entry=null;this.finish=function(){onCorkedFinish(_this,state)}}var Duplex;Writable.WritableState=WritableState;var internalUtil={deprecate:require("util-deprecate")};var Stream=require("./internal/streams/stream");var Buffer=require("buffer").Buffer;var OurUint8Array=global.Uint8Array||function(){};function _uint8ArrayToBuffer(chunk){return Buffer.from(chunk)}function _isUint8Array(obj){return Buffer.isBuffer(obj)||obj instanceof OurUint8Array}var destroyImpl=require("./internal/streams/destroy");var _require=require("./internal/streams/state"),getHighWaterMark=_require.getHighWaterMark;var _require$codes=require("../errors").codes,ERR_INVALID_ARG_TYPE=_require$codes.ERR_INVALID_ARG_TYPE,ERR_METHOD_NOT_IMPLEMENTED=_require$codes.ERR_METHOD_NOT_IMPLEMENTED,ERR_MULTIPLE_CALLBACK=_require$codes.ERR_MULTIPLE_CALLBACK,ERR_STREAM_CANNOT_PIPE=_require$codes.ERR_STREAM_CANNOT_PIPE,ERR_STREAM_DESTROYED=_require$codes.ERR_STREAM_DESTROYED,ERR_STREAM_NULL_VALUES=_require$codes.ERR_STREAM_NULL_VALUES,ERR_STREAM_WRITE_AFTER_END=_require$codes.ERR_STREAM_WRITE_AFTER_END,ERR_UNKNOWN_ENCODING=_require$codes.ERR_UNKNOWN_ENCODING;var errorOrDestroy=destroyImpl.errorOrDestroy;require("inherits")(Writable,Stream);function nop(){}function WritableState(options,stream,isDuplex){Duplex=Duplex||require("./_stream_duplex");options=options||{};if(typeof isDuplex!=="boolean")isDuplex=stream instanceof Duplex;this.objectMode=!!options.objectMode;if(isDuplex)this.objectMode=this.objectMode||!!options.writableObjectMode;this.highWaterMark=getHighWaterMark(this,options,"writableHighWaterMark",isDuplex);this.finalCalled=false;this.needDrain=false;this.ending=false;this.ended=false;this.finished=false;this.destroyed=false;var noDecode=options.decodeStrings===false;this.decodeStrings=!noDecode;this.defaultEncoding=options.defaultEncoding||"utf8";this.length=0;this.writing=false;this.corked=0;this.sync=true;this.bufferProcessing=false;this.onwrite=function(er){onwrite(stream,er)};this.writecb=null;this.writelen=0;this.bufferedRequest=null;this.lastBufferedRequest=null;this.pendingcb=0;this.prefinished=false;this.errorEmitted=false;this.emitClose=options.emitClose!==false;this.autoDestroy=!!options.autoDestroy;this.bufferedRequestCount=0;this.corkedRequestsFree=new CorkedRequest(this)}WritableState.prototype.getBuffer=function getBuffer(){var current=this.bufferedRequest;var out=[];while(current){out.push(current);current=current.next}return out};(function(){try{Object.defineProperty(WritableState.prototype,"buffer",{get:internalUtil.deprecate(function writableStateBufferGetter(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer "+"instead.","DEP0003")})}catch(_){}})();var realHasInstance;if(typeof Symbol==="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]==="function"){realHasInstance=Function.prototype[Symbol.hasInstance];Object.defineProperty(Writable,Symbol.hasInstance,{value:function value(object){if(realHasInstance.call(this,object))return true;if(this!==Writable)return false;return object&&object._writableState instanceof WritableState}})}else{realHasInstance=function realHasInstance(object){return object instanceof this}}function Writable(options){Duplex=Duplex||require("./_stream_duplex");var isDuplex=this instanceof Duplex;if(!isDuplex&&!realHasInstance.call(Writable,this))return new Writable(options);this._writableState=new WritableState(options,this,isDuplex);this.writable=true;if(options){if(typeof options.write==="function")this._write=options.write;if(typeof options.writev==="function")this._writev=options.writev;if(typeof options.destroy==="function")this._destroy=options.destroy;if(typeof options["final"]==="function")this._final=options["final"]}Stream.call(this)}Writable.prototype.pipe=function(){errorOrDestroy(this,new ERR_STREAM_CANNOT_PIPE)};function writeAfterEnd(stream,cb){var er=new ERR_STREAM_WRITE_AFTER_END;errorOrDestroy(stream,er);process.nextTick(cb,er)}function validChunk(stream,state,chunk,cb){var er;if(chunk===null){er=new ERR_STREAM_NULL_VALUES}else if(typeof chunk!=="string"&&!state.objectMode){er=new ERR_INVALID_ARG_TYPE("chunk",["string","Buffer"],chunk)}if(er){errorOrDestroy(stream,er);process.nextTick(cb,er);return false}return true}Writable.prototype.write=function(chunk,encoding,cb){var state=this._writableState;var ret=false;var isBuf=!state.objectMode&&_isUint8Array(chunk);if(isBuf&&!Buffer.isBuffer(chunk)){chunk=_uint8ArrayToBuffer(chunk)}if(typeof encoding==="function"){cb=encoding;encoding=null}if(isBuf)encoding="buffer";else if(!encoding)encoding=state.defaultEncoding;if(typeof cb!=="function")cb=nop;if(state.ending)writeAfterEnd(this,cb);else if(isBuf||validChunk(this,state,chunk,cb)){state.pendingcb++;ret=writeOrBuffer(this,state,isBuf,chunk,encoding,cb)}return ret};Writable.prototype.cork=function(){this._writableState.corked++};Writable.prototype.uncork=function(){var state=this._writableState;if(state.corked){state.corked--;if(!state.writing&&!state.corked&&!state.bufferProcessing&&state.bufferedRequest)clearBuffer(this,state)}};Writable.prototype.setDefaultEncoding=function setDefaultEncoding(encoding){if(typeof encoding==="string")encoding=encoding.toLowerCase();if(!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((encoding+"").toLowerCase())>-1))throw new ERR_UNKNOWN_ENCODING(encoding);this._writableState.defaultEncoding=encoding;return this};Object.defineProperty(Writable.prototype,"writableBuffer",{enumerable:false,get:function get(){return this._writableState&&this._writableState.getBuffer()}});function decodeChunk(state,chunk,encoding){if(!state.objectMode&&state.decodeStrings!==false&&typeof chunk==="string"){chunk=Buffer.from(chunk,encoding)}return chunk}Object.defineProperty(Writable.prototype,"writableHighWaterMark",{enumerable:false,get:function get(){return this._writableState.highWaterMark}});function writeOrBuffer(stream,state,isBuf,chunk,encoding,cb){if(!isBuf){var newChunk=decodeChunk(state,chunk,encoding);if(chunk!==newChunk){isBuf=true;encoding="buffer";chunk=newChunk}}var len=state.objectMode?1:chunk.length;state.length+=len;var ret=state.length<state.highWaterMark;if(!ret)state.needDrain=true;if(state.writing||state.corked){var last=state.lastBufferedRequest;state.lastBufferedRequest={chunk:chunk,encoding:encoding,isBuf:isBuf,callback:cb,next:null};if(last){last.next=state.lastBufferedRequest}else{state.bufferedRequest=state.lastBufferedRequest}state.bufferedRequestCount+=1}else{doWrite(stream,state,false,len,chunk,encoding,cb)}return ret}function doWrite(stream,state,writev,len,chunk,encoding,cb){state.writelen=len;state.writecb=cb;state.writing=true;state.sync=true;if(state.destroyed)state.onwrite(new ERR_STREAM_DESTROYED("write"));else if(writev)stream._writev(chunk,state.onwrite);else stream._write(chunk,encoding,state.onwrite);state.sync=false}function onwriteError(stream,state,sync,er,cb){--state.pendingcb;if(sync){process.nextTick(cb,er);process.nextTick(finishMaybe,stream,state);stream._writableState.errorEmitted=true;errorOrDestroy(stream,er)}else{cb(er);stream._writableState.errorEmitted=true;errorOrDestroy(stream,er);finishMaybe(stream,state)}}function onwriteStateUpdate(state){state.writing=false;state.writecb=null;state.length-=state.writelen;state.writelen=0}function onwrite(stream,er){var state=stream._writableState;var sync=state.sync;var cb=state.writecb;if(typeof cb!=="function")throw new ERR_MULTIPLE_CALLBACK;onwriteStateUpdate(state);if(er)onwriteError(stream,state,sync,er,cb);else{var finished=needFinish(state)||stream.destroyed;if(!finished&&!state.corked&&!state.bufferProcessing&&state.bufferedRequest){clearBuffer(stream,state)}if(sync){process.nextTick(afterWrite,stream,state,finished,cb)}else{afterWrite(stream,state,finished,cb)}}}function afterWrite(stream,state,finished,cb){if(!finished)onwriteDrain(stream,state);state.pendingcb--;cb();finishMaybe(stream,state)}function onwriteDrain(stream,state){if(state.length===0&&state.needDrain){state.needDrain=false;stream.emit("drain")}}function clearBuffer(stream,state){state.bufferProcessing=true;var entry=state.bufferedRequest;if(stream._writev&&entry&&entry.next){var l=state.bufferedRequestCount;var buffer=new Array(l);var holder=state.corkedRequestsFree;holder.entry=entry;var count=0;var allBuffers=true;while(entry){buffer[count]=entry;if(!entry.isBuf)allBuffers=false;entry=entry.next;count+=1}buffer.allBuffers=allBuffers;doWrite(stream,state,true,state.length,buffer,"",holder.finish);state.pendingcb++;state.lastBufferedRequest=null;if(holder.next){state.corkedRequestsFree=holder.next;holder.next=null}else{state.corkedRequestsFree=new CorkedRequest(state)}state.bufferedRequestCount=0}else{while(entry){var chunk=entry.chunk;var encoding=entry.encoding;var cb=entry.callback;var len=state.objectMode?1:chunk.length;doWrite(stream,state,false,len,chunk,encoding,cb);entry=entry.next;state.bufferedRequestCount--;if(state.writing){break}}if(entry===null)state.lastBufferedRequest=null}state.bufferedRequest=entry;state.bufferProcessing=false}Writable.prototype._write=function(chunk,encoding,cb){cb(new ERR_METHOD_NOT_IMPLEMENTED("_write()"))};Writable.prototype._writev=null;Writable.prototype.end=function(chunk,encoding,cb){var state=this._writableState;if(typeof chunk==="function"){cb=chunk;chunk=null;encoding=null}else if(typeof encoding==="function"){cb=encoding;encoding=null}if(chunk!==null&&chunk!==undefined)this.write(chunk,encoding);if(state.corked){state.corked=1;this.uncork()}if(!state.ending)endWritable(this,state,cb);return this};Object.defineProperty(Writable.prototype,"writableLength",{enumerable:false,get:function get(){return this._writableState.length}});function needFinish(state){return state.ending&&state.length===0&&state.bufferedRequest===null&&!state.finished&&!state.writing}function callFinal(stream,state){stream._final(function(err){state.pendingcb--;if(err){errorOrDestroy(stream,err)}state.prefinished=true;stream.emit("prefinish");finishMaybe(stream,state)})}function prefinish(stream,state){if(!state.prefinished&&!state.finalCalled){if(typeof stream._final==="function"&&!state.destroyed){state.pendingcb++;state.finalCalled=true;process.nextTick(callFinal,stream,state)}else{state.prefinished=true;stream.emit("prefinish")}}}function finishMaybe(stream,state){var need=needFinish(state);if(need){prefinish(stream,state);if(state.pendingcb===0){state.finished=true;stream.emit("finish");if(state.autoDestroy){var rState=stream._readableState;if(!rState||rState.autoDestroy&&rState.endEmitted){stream.destroy()}}}}return need}function endWritable(stream,state,cb){state.ending=true;finishMaybe(stream,state);if(cb){if(state.finished)process.nextTick(cb);else stream.once("finish",cb)}state.ended=true;stream.writable=false}function onCorkedFinish(corkReq,state,err){var entry=corkReq.entry;corkReq.entry=null;while(entry){var cb=entry.callback;state.pendingcb--;cb(err);entry=entry.next}state.corkedRequestsFree.next=corkReq}Object.defineProperty(Writable.prototype,"destroyed",{enumerable:false,get:function get(){if(this._writableState===undefined){return false}return this._writableState.destroyed},set:function set(value){if(!this._writableState){return}this._writableState.destroyed=value}});Writable.prototype.destroy=destroyImpl.destroy;Writable.prototype._undestroy=destroyImpl.undestroy;Writable.prototype._destroy=function(err,cb){cb(err)}}).call(this)}).call(this,require("_process"),typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"../errors":199,"./_stream_duplex":200,"./internal/streams/destroy":207,"./internal/streams/state":211,"./internal/streams/stream":212,_process:197,buffer:168,inherits:170,"util-deprecate":215}],205:[function(require,module,exports){(function(process){(function(){"use strict";var _Object$setPrototypeO;function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var finished=require("./end-of-stream");var kLastResolve=Symbol("lastResolve");var kLastReject=Symbol("lastReject");var kError=Symbol("error");var kEnded=Symbol("ended");var kLastPromise=Symbol("lastPromise");var kHandlePromise=Symbol("handlePromise");var kStream=Symbol("stream");function createIterResult(value,done){return{value:value,done:done}}function readAndResolve(iter){var resolve=iter[kLastResolve];if(resolve!==null){var data=iter[kStream].read();if(data!==null){iter[kLastPromise]=null;iter[kLastResolve]=null;iter[kLastReject]=null;resolve(createIterResult(data,false))}}}function onReadable(iter){process.nextTick(readAndResolve,iter)}function wrapForNext(lastPromise,iter){return function(resolve,reject){lastPromise.then(function(){if(iter[kEnded]){resolve(createIterResult(undefined,true));return}iter[kHandlePromise](resolve,reject)},reject)}}var AsyncIteratorPrototype=Object.getPrototypeOf(function(){});var ReadableStreamAsyncIteratorPrototype=Object.setPrototypeOf((_Object$setPrototypeO={get stream(){return this[kStream]},next:function next(){var _this=this;var error=this[kError];if(error!==null){return Promise.reject(error)}if(this[kEnded]){return Promise.resolve(createIterResult(undefined,true))}if(this[kStream].destroyed){return new Promise(function(resolve,reject){process.nextTick(function(){if(_this[kError]){reject(_this[kError])}else{resolve(createIterResult(undefined,true))}})})}var lastPromise=this[kLastPromise];var promise;if(lastPromise){promise=new Promise(wrapForNext(lastPromise,this))}else{var data=this[kStream].read();if(data!==null){return Promise.resolve(createIterResult(data,false))}promise=new Promise(this[kHandlePromise])}this[kLastPromise]=promise;return promise}},_defineProperty(_Object$setPrototypeO,Symbol.asyncIterator,function(){return this}),_defineProperty(_Object$setPrototypeO,"return",function _return(){var _this2=this;return new Promise(function(resolve,reject){_this2[kStream].destroy(null,function(err){if(err){reject(err);return}resolve(createIterResult(undefined,true))})})}),_Object$setPrototypeO),AsyncIteratorPrototype);var createReadableStreamAsyncIterator=function createReadableStreamAsyncIterator(stream){var _Object$create;var iterator=Object.create(ReadableStreamAsyncIteratorPrototype,(_Object$create={},_defineProperty(_Object$create,kStream,{value:stream,writable:true}),_defineProperty(_Object$create,kLastResolve,{value:null,writable:true}),_defineProperty(_Object$create,kLastReject,{value:null,writable:true}),_defineProperty(_Object$create,kError,{value:null,writable:true}),_defineProperty(_Object$create,kEnded,{value:stream._readableState.endEmitted,writable:true}),_defineProperty(_Object$create,kHandlePromise,{value:function value(resolve,reject){var data=iterator[kStream].read();if(data){iterator[kLastPromise]=null;iterator[kLastResolve]=null;iterator[kLastReject]=null;resolve(createIterResult(data,false))}else{iterator[kLastResolve]=resolve;iterator[kLastReject]=reject}},writable:true}),_Object$create));iterator[kLastPromise]=null;finished(stream,function(err){if(err&&err.code!=="ERR_STREAM_PREMATURE_CLOSE"){var reject=iterator[kLastReject];if(reject!==null){iterator[kLastPromise]=null;iterator[kLastResolve]=null;iterator[kLastReject]=null;reject(err)}iterator[kError]=err;return}var resolve=iterator[kLastResolve];if(resolve!==null){iterator[kLastPromise]=null;iterator[kLastResolve]=null;iterator[kLastReject]=null;resolve(createIterResult(undefined,true))}iterator[kEnded]=true});stream.on("readable",onReadable.bind(null,iterator));return iterator};module.exports=createReadableStreamAsyncIterator}).call(this)}).call(this,require("_process"))},{"./end-of-stream":208,_process:197}],206:[function(require,module,exports){"use strict";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable});keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){_defineProperty(target,key,source[key])})}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}var _require=require("buffer"),Buffer=_require.Buffer;var _require2=require("util"),inspect=_require2.inspect;var custom=inspect&&inspect.custom||"inspect";function copyBuffer(src,target,offset){Buffer.prototype.copy.call(src,target,offset)}module.exports=function(){function BufferList(){_classCallCheck(this,BufferList);this.head=null;this.tail=null;this.length=0}_createClass(BufferList,[{key:"push",value:function push(v){var entry={data:v,next:null};if(this.length>0)this.tail.next=entry;else this.head=entry;this.tail=entry;++this.length}},{key:"unshift",value:function unshift(v){var entry={data:v,next:this.head};if(this.length===0)this.tail=entry;this.head=entry;++this.length}},{key:"shift",value:function shift(){if(this.length===0)return;var ret=this.head.data;if(this.length===1)this.head=this.tail=null;else this.head=this.head.next;--this.length;return ret}},{key:"clear",value:function clear(){this.head=this.tail=null;this.length=0}},{key:"join",value:function join(s){if(this.length===0)return"";var p=this.head;var ret=""+p.data;while(p=p.next){ret+=s+p.data}return ret}},{key:"concat",value:function concat(n){if(this.length===0)return Buffer.alloc(0);var ret=Buffer.allocUnsafe(n>>>0);var p=this.head;var i=0;while(p){copyBuffer(p.data,ret,i);i+=p.data.length;p=p.next}return ret}},{key:"consume",value:function consume(n,hasStrings){var ret;if(n<this.head.data.length){ret=this.head.data.slice(0,n);this.head.data=this.head.data.slice(n)}else if(n===this.head.data.length){ret=this.shift()}else{ret=hasStrings?this._getString(n):this._getBuffer(n)}return ret}},{key:"first",value:function first(){return this.head.data}},{key:"_getString",value:function _getString(n){var p=this.head;var c=1;var ret=p.data;n-=ret.length;while(p=p.next){var str=p.data;var nb=n>str.length?str.length:n;if(nb===str.length)ret+=str;else ret+=str.slice(0,n);n-=nb;if(n===0){if(nb===str.length){++c;if(p.next)this.head=p.next;else this.head=this.tail=null}else{this.head=p;p.data=str.slice(nb)}break}++c}this.length-=c;return ret}},{key:"_getBuffer",value:function _getBuffer(n){var ret=Buffer.allocUnsafe(n);var p=this.head;var c=1;p.data.copy(ret);n-=p.data.length;while(p=p.next){var buf=p.data;var nb=n>buf.length?buf.length:n;buf.copy(ret,ret.length-n,0,nb);n-=nb;if(n===0){if(nb===buf.length){++c;if(p.next)this.head=p.next;else this.head=this.tail=null}else{this.head=p;p.data=buf.slice(nb)}break}++c}this.length-=c;return ret}},{key:custom,value:function value(_,options){return inspect(this,_objectSpread({},options,{depth:0,customInspect:false}))}}]);return BufferList}()},{buffer:168,util:167}],207:[function(require,module,exports){(function(process){(function(){"use strict";function destroy(err,cb){var _this=this;var readableDestroyed=this._readableState&&this._readableState.destroyed;var writableDestroyed=this._writableState&&this._writableState.destroyed;if(readableDestroyed||writableDestroyed){if(cb){cb(err)}else if(err){if(!this._writableState){process.nextTick(emitErrorNT,this,err)}else if(!this._writableState.errorEmitted){this._writableState.errorEmitted=true;process.nextTick(emitErrorNT,this,err)}}return this}if(this._readableState){this._readableState.destroyed=true}if(this._writableState){this._writableState.destroyed=true}this._destroy(err||null,function(err){if(!cb&&err){if(!_this._writableState){process.nextTick(emitErrorAndCloseNT,_this,err)}else if(!_this._writableState.errorEmitted){_this._writableState.errorEmitted=true;process.nextTick(emitErrorAndCloseNT,_this,err)}else{process.nextTick(emitCloseNT,_this)}}else if(cb){process.nextTick(emitCloseNT,_this);cb(err)}else{process.nextTick(emitCloseNT,_this)}});return this}function emitErrorAndCloseNT(self,err){emitErrorNT(self,err);emitCloseNT(self)}function emitCloseNT(self){if(self._writableState&&!self._writableState.emitClose)return;if(self._readableState&&!self._readableState.emitClose)return;self.emit("close")}function undestroy(){if(this._readableState){this._readableState.destroyed=false;this._readableState.reading=false;this._readableState.ended=false;this._readableState.endEmitted=false}if(this._writableState){this._writableState.destroyed=false;this._writableState.ended=false;this._writableState.ending=false;this._writableState.finalCalled=false;this._writableState.prefinished=false;this._writableState.finished=false;this._writableState.errorEmitted=false}}function emitErrorNT(self,err){self.emit("error",err)}function errorOrDestroy(stream,err){var rState=stream._readableState;var wState=stream._writableState;if(rState&&rState.autoDestroy||wState&&wState.autoDestroy)stream.destroy(err);else stream.emit("error",err)}module.exports={destroy:destroy,undestroy:undestroy,errorOrDestroy:errorOrDestroy}}).call(this)}).call(this,require("_process"))},{_process:197}],208:[function(require,module,exports){"use strict";var ERR_STREAM_PREMATURE_CLOSE=require("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function once(callback){var called=false;return function(){if(called)return;called=true;for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}callback.apply(this,args)}}function noop(){}function isRequest(stream){return stream.setHeader&&typeof stream.abort==="function"}function eos(stream,opts,callback){if(typeof opts==="function")return eos(stream,null,opts);if(!opts)opts={};callback=once(callback||noop);var readable=opts.readable||opts.readable!==false&&stream.readable;var writable=opts.writable||opts.writable!==false&&stream.writable;var onlegacyfinish=function onlegacyfinish(){if(!stream.writable)onfinish()};var writableEnded=stream._writableState&&stream._writableState.finished;var onfinish=function onfinish(){writable=false;writableEnded=true;if(!readable)callback.call(stream)};var readableEnded=stream._readableState&&stream._readableState.endEmitted;var onend=function onend(){readable=false;readableEnded=true;if(!writable)callback.call(stream)};var onerror=function onerror(err){callback.call(stream,err)};var onclose=function onclose(){var err;if(readable&&!readableEnded){if(!stream._readableState||!stream._readableState.ended)err=new ERR_STREAM_PREMATURE_CLOSE;return callback.call(stream,err)}if(writable&&!writableEnded){if(!stream._writableState||!stream._writableState.ended)err=new ERR_STREAM_PREMATURE_CLOSE;return callback.call(stream,err)}};var onrequest=function onrequest(){stream.req.on("finish",onfinish)};if(isRequest(stream)){stream.on("complete",onfinish);stream.on("abort",onclose);if(stream.req)onrequest();else stream.on("request",onrequest)}else if(writable&&!stream._writableState){stream.on("end",onlegacyfinish);stream.on("close",onlegacyfinish)}stream.on("end",onend);stream.on("finish",onfinish);if(opts.error!==false)stream.on("error",onerror);stream.on("close",onclose);return function(){stream.removeListener("complete",onfinish);stream.removeListener("abort",onclose);stream.removeListener("request",onrequest);if(stream.req)stream.req.removeListener("finish",onfinish);stream.removeListener("end",onlegacyfinish);stream.removeListener("close",onlegacyfinish);stream.removeListener("finish",onfinish);stream.removeListener("end",onend);stream.removeListener("error",onerror);stream.removeListener("close",onclose)}}module.exports=eos},{"../../../errors":199}],209:[function(require,module,exports){arguments[4][98][0].apply(exports,arguments)},{dup:98}],210:[function(require,module,exports){"use strict";var eos;function once(callback){var called=false;return function(){if(called)return;called=true;callback.apply(void 0,arguments)}}var _require$codes=require("../../../errors").codes,ERR_MISSING_ARGS=_require$codes.ERR_MISSING_ARGS,ERR_STREAM_DESTROYED=_require$codes.ERR_STREAM_DESTROYED;function noop(err){if(err)throw err}function isRequest(stream){return stream.setHeader&&typeof stream.abort==="function"}function destroyer(stream,reading,writing,callback){callback=once(callback);var closed=false;stream.on("close",function(){closed=true});if(eos===undefined)eos=require("./end-of-stream");eos(stream,{readable:reading,writable:writing},function(err){if(err)return callback(err);closed=true;callback()});var destroyed=false;return function(err){if(closed)return;if(destroyed)return;destroyed=true;if(isRequest(stream))return stream.abort();if(typeof stream.destroy==="function")return stream.destroy();callback(err||new ERR_STREAM_DESTROYED("pipe"))}}function call(fn){fn()}function pipe(from,to){return from.pipe(to)}function popCallback(streams){if(!streams.length)return noop;if(typeof streams[streams.length-1]!=="function")return noop;return streams.pop()}function pipeline(){for(var _len=arguments.length,streams=new Array(_len),_key=0;_key<_len;_key++){streams[_key]=arguments[_key]}var callback=popCallback(streams);if(Array.isArray(streams[0]))streams=streams[0];if(streams.length<2){throw new ERR_MISSING_ARGS("streams")}var error;var destroys=streams.map(function(stream,i){var reading=i<streams.length-1;var writing=i>0;return destroyer(stream,reading,writing,function(err){if(!error)error=err;if(err)destroys.forEach(call);if(reading)return;destroys.forEach(call);callback(error)})});return streams.reduce(pipe)}module.exports=pipeline},{"../../../errors":199,"./end-of-stream":208}],211:[function(require,module,exports){"use strict";var ERR_INVALID_OPT_VALUE=require("../../../errors").codes.ERR_INVALID_OPT_VALUE;function highWaterMarkFrom(options,isDuplex,duplexKey){return options.highWaterMark!=null?options.highWaterMark:isDuplex?options[duplexKey]:null}function getHighWaterMark(state,options,duplexKey,isDuplex){var hwm=highWaterMarkFrom(options,isDuplex,duplexKey);if(hwm!=null){if(!(isFinite(hwm)&&Math.floor(hwm)===hwm)||hwm<0){var name=isDuplex?duplexKey:"highWaterMark";throw new ERR_INVALID_OPT_VALUE(name,hwm)}return Math.floor(hwm)}return state.objectMode?16:16*1024}module.exports={getHighWaterMark:getHighWaterMark}},{"../../../errors":199}],212:[function(require,module,exports){arguments[4][101][0].apply(exports,arguments)},{dup:101,events:60}],213:[function(require,module,exports){arguments[4][117][0].apply(exports,arguments)},{dup:117,"safe-buffer":214}],214:[function(require,module,exports){arguments[4][105][0].apply(exports,arguments)},{buffer:168,dup:105}],215:[function(require,module,exports){arguments[4][121][0].apply(exports,arguments)},{dup:121}],216:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.parseAccount=parseAccount;function parseAccount(account){if(typeof account==="string")return{address:account,type:"json-rpc"};return account}},{}],217:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.publicKeyToAddress=publicKeyToAddress;var getAddress_js_1=require("../../utils/address/getAddress.js");var keccak256_js_1=require("../../utils/hash/keccak256.js");function publicKeyToAddress(publicKey){var address=(0,keccak256_js_1.keccak256)("0x".concat(publicKey.substring(4))).substring(26);return(0,getAddress_js_1.checksumAddress)("0x".concat(address))}},{"../../utils/address/getAddress.js":392,"../../utils/hash/keccak256.js":455}],218:[function(require,module,exports){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function _defineProperty(e,r,t){return(r=_toPropertyKey(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}Object.defineProperty(exports,"__esModule",{value:true});exports.getEnsAddress=getEnsAddress;var abis_js_1=require("../../constants/abis.js");var decodeFunctionResult_js_1=require("../../utils/abi/decodeFunctionResult.js");var encodeFunctionData_js_1=require("../../utils/abi/encodeFunctionData.js");var getChainContractAddress_js_1=require("../../utils/chain/getChainContractAddress.js");var trim_js_1=require("../../utils/data/trim.js");var toHex_js_1=require("../../utils/encoding/toHex.js");var errors_js_1=require("../../utils/ens/errors.js");var localBatchGatewayRequest_js_1=require("../../utils/ens/localBatchGatewayRequest.js");var namehash_js_1=require("../../utils/ens/namehash.js");var packetToBytes_js_1=require("../../utils/ens/packetToBytes.js");var getAction_js_1=require("../../utils/getAction.js");var readContract_js_1=require("../public/readContract.js");function getEnsAddress(_x,_x2){return _getEnsAddress.apply(this,arguments)}function _getEnsAddress(){_getEnsAddress=_asyncToGenerator(regeneratorRuntime.mark(function _callee(client,parameters){var blockNumber,blockTag,coinType,name,gatewayUrls,strict,chain,universalResolverAddress,tlds,functionData,readContractParameters,readContractAction,res,address;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:blockNumber=parameters.blockNumber,blockTag=parameters.blockTag,coinType=parameters.coinType,name=parameters.name,gatewayUrls=parameters.gatewayUrls,strict=parameters.strict;chain=client.chain;universalResolverAddress=function(){if(parameters.universalResolverAddress)return parameters.universalResolverAddress;if(!chain)throw new Error("client chain not configured. universalResolverAddress is required.");return(0,getChainContractAddress_js_1.getChainContractAddress)({blockNumber:blockNumber,chain:chain,contract:"ensUniversalResolver"})}();tlds=chain===null||chain===void 0?void 0:chain.ensTlds;if(!(tlds&&!tlds.some(function(tld){return name.endsWith(tld)}))){_context.next=6;break}return _context.abrupt("return",null);case 6:_context.prev=6;functionData=(0,encodeFunctionData_js_1.encodeFunctionData)(_objectSpread({abi:abis_js_1.addressResolverAbi,functionName:"addr"},coinType!=null?{args:[(0,namehash_js_1.namehash)(name),BigInt(coinType)]}:{args:[(0,namehash_js_1.namehash)(name)]}));readContractParameters={address:universalResolverAddress,abi:abis_js_1.universalResolverResolveAbi,functionName:"resolve",args:[(0,toHex_js_1.toHex)((0,packetToBytes_js_1.packetToBytes)(name)),functionData,gatewayUrls!==null&&gatewayUrls!==void 0?gatewayUrls:[localBatchGatewayRequest_js_1.localBatchGatewayUrl]],blockNumber:blockNumber,blockTag:blockTag};readContractAction=(0,getAction_js_1.getAction)(client,readContract_js_1.readContract,"readContract");_context.next=12;return readContractAction(readContractParameters);case 12:res=_context.sent;if(!(res[0]==="0x")){_context.next=15;break}return _context.abrupt("return",null);case 15:address=(0,decodeFunctionResult_js_1.decodeFunctionResult)({abi:abis_js_1.addressResolverAbi,args:coinType!=null?[(0,namehash_js_1.namehash)(name),BigInt(coinType)]:undefined,functionName:"addr",data:res[0]});if(!(address==="0x")){_context.next=18;break}return _context.abrupt("return",null);case 18:if(!((0,trim_js_1.trim)(address)==="0x00")){_context.next=20;break}return _context.abrupt("return",null);case 20:return _context.abrupt("return",address);case 23:_context.prev=23;_context.t0=_context["catch"](6);if(!strict){_context.next=27;break}throw _context.t0;case 27:if(!(0,errors_js_1.isNullUniversalResolverError)(_context.t0,"resolve")){_context.next=29;break}return _context.abrupt("return",null);case 29:throw _context.t0;case 30:case"end":return _context.stop()}}},_callee,null,[[6,23]])}));return _getEnsAddress.apply(this,arguments)}},{"../../constants/abis.js":334,"../../utils/abi/decodeFunctionResult.js":379,"../../utils/abi/encodeFunctionData.js":384,"../../utils/chain/getChainContractAddress.js":413,"../../utils/data/trim.js":421,"../../utils/encoding/toHex.js":426,"../../utils/ens/errors.js":432,"../../utils/ens/localBatchGatewayRequest.js":434,"../../utils/ens/namehash.js":435,"../../utils/ens/packetToBytes.js":436,"../../utils/getAction.js":452,"../public/readContract.js":255}],219:[function(require,module,exports){"use strict";function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}Object.defineProperty(exports,"__esModule",{value:true});exports.getEnsAvatar=getEnsAvatar;var parseAvatarRecord_js_1=require("../../utils/ens/avatar/parseAvatarRecord.js");var getAction_js_1=require("../../utils/getAction.js");var getEnsText_js_1=require("./getEnsText.js");function getEnsAvatar(_x,_x2){return _getEnsAvatar.apply(this,arguments)}function _getEnsAvatar(){_getEnsAvatar=_asyncToGenerator(regeneratorRuntime.mark(function _callee(client,_ref){var blockNumber,blockTag,assetGatewayUrls,name,gatewayUrls,strict,universalResolverAddress,record;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:blockNumber=_ref.blockNumber,blockTag=_ref.blockTag,assetGatewayUrls=_ref.assetGatewayUrls,name=_ref.name,gatewayUrls=_ref.gatewayUrls,strict=_ref.strict,universalResolverAddress=_ref.universalResolverAddress;_context.next=3;return(0,getAction_js_1.getAction)(client,getEnsText_js_1.getEnsText,"getEnsText")({blockNumber:blockNumber,blockTag:blockTag,key:"avatar",name:name,universalResolverAddress:universalResolverAddress,gatewayUrls:gatewayUrls,strict:strict});case 3:record=_context.sent;if(record){_context.next=6;break}return _context.abrupt("return",null);case 6:_context.prev=6;_context.next=9;return(0,parseAvatarRecord_js_1.parseAvatarRecord)(client,{record:record,gatewayUrls:assetGatewayUrls});case 9:return _context.abrupt("return",_context.sent);case 12:_context.prev=12;_context.t0=_context["catch"](6);return _context.abrupt("return",null);case 15:case"end":return _context.stop()}}},_callee,null,[[6,12]])}));return _getEnsAvatar.apply(this,arguments)}},{"../../utils/ens/avatar/parseAvatarRecord.js":428,"../../utils/getAction.js":452,"./getEnsText.js":222}],220:[function(require,module,exports){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _toConsumableArray(r){return _arrayWithoutHoles(r)||_iterableToArray(r)||_unsupportedIterableToArray(r)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}function _arrayWithoutHoles(r){if(Array.isArray(r))return _arrayLikeToArray(r)}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function _defineProperty(e,r,t){return(r=_toPropertyKey(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function _slicedToArray(r,e){return _arrayWithHoles(r)||_iterableToArrayLimit(r,e)||_unsupportedIterableToArray(r,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++){n[e]=r[e]}return n}function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0){}}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t["return"]&&(u=t["return"](),Object(u)!==u))return}finally{if(o)throw n}}return a}}function _arrayWithHoles(r){if(Array.isArray(r))return r}function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}Object.defineProperty(exports,"__esModule",{value:true});exports.getEnsName=getEnsName;var abis_js_1=require("../../constants/abis.js");var getChainContractAddress_js_1=require("../../utils/chain/getChainContractAddress.js");var toHex_js_1=require("../../utils/encoding/toHex.js");var errors_js_1=require("../../utils/ens/errors.js");var packetToBytes_js_1=require("../../utils/ens/packetToBytes.js");var getAction_js_1=require("../../utils/getAction.js");var readContract_js_1=require("../public/readContract.js");function getEnsName(_x,_x2){return _getEnsName.apply(this,arguments)}function _getEnsName(){_getEnsName=_asyncToGenerator(regeneratorRuntime.mark(function _callee(client,_ref){var address,blockNumber,blockTag,gatewayUrls,strict,universalResolverAddress_,universalResolverAddress,reverseNode,readContractParameters,readContractAction,_ref2,_ref3,name,resolvedAddress;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:address=_ref.address,blockNumber=_ref.blockNumber,blockTag=_ref.blockTag,gatewayUrls=_ref.gatewayUrls,strict=_ref.strict,universalResolverAddress_=_ref.universalResolverAddress;universalResolverAddress=universalResolverAddress_;if(universalResolverAddress){_context.next=6;break}if(client.chain){_context.next=5;break}throw new Error("client chain not configured. universalResolverAddress is required.");case 5:universalResolverAddress=(0,getChainContractAddress_js_1.getChainContractAddress)({blockNumber:blockNumber,chain:client.chain,contract:"ensUniversalResolver"});case 6:reverseNode="".concat(address.toLowerCase().substring(2),".addr.reverse");_context.prev=7;readContractParameters={address:universalResolverAddress,abi:abis_js_1.universalResolverReverseAbi,functionName:"reverse",args:[(0,toHex_js_1.toHex)((0,packetToBytes_js_1.packetToBytes)(reverseNode))],blockNumber:blockNumber,blockTag:blockTag};readContractAction=(0,getAction_js_1.getAction)(client,readContract_js_1.readContract,"readContract");if(!gatewayUrls){_context.next=16;break}_context.next=13;return readContractAction(_objectSpread(_objectSpread({},readContractParameters),{},{args:[].concat(_toConsumableArray(readContractParameters.args),[gatewayUrls])}));case 13:_context.t0=_context.sent;_context.next=19;break;case 16:_context.next=18;return readContractAction(readContractParameters);case 18:_context.t0=_context.sent;case 19:_ref2=_context.t0;_ref3=_slicedToArray(_ref2,2);name=_ref3[0];resolvedAddress=_ref3[1];if(!(address.toLowerCase()!==resolvedAddress.toLowerCase())){_context.next=25;break}return _context.abrupt("return",null);case 25:return _context.abrupt("return",name);case 28:_context.prev=28;_context.t1=_context["catch"](7);if(!strict){_context.next=32;break}throw _context.t1;case 32:if(!(0,errors_js_1.isNullUniversalResolverError)(_context.t1,"reverse")){_context.next=34;break}return _context.abrupt("return",null);case 34:throw _context.t1;case 35:case"end":return _context.stop()}}},_callee,null,[[7,28]])}));return _getEnsName.apply(this,arguments)}},{"../../constants/abis.js":334,"../../utils/chain/getChainContractAddress.js":413,"../../utils/encoding/toHex.js":426,"../../utils/ens/errors.js":432,"../../utils/ens/packetToBytes.js":436,"../../utils/getAction.js":452,"../public/readContract.js":255}],221:[function(require,module,exports){"use strict";function _slicedToArray(r,e){return _arrayWithHoles(r)||_iterableToArrayLimit(r,e)||_unsupportedIterableToArray(r,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++){n[e]=r[e]}return n}function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0){}}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t["return"]&&(u=t["return"](),Object(u)!==u))return}finally{if(o)throw n}}return a}}function _arrayWithHoles(r){if(Array.isArray(r))return r}function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}Object.defineProperty(exports,"__esModule",{value:true});exports.getEnsResolver=getEnsResolver;var getChainContractAddress_js_1=require("../../utils/chain/getChainContractAddress.js");var toHex_js_1=require("../../utils/encoding/toHex.js");var packetToBytes_js_1=require("../../utils/ens/packetToBytes.js");var getAction_js_1=require("../../utils/getAction.js");var readContract_js_1=require("../public/readContract.js");function getEnsResolver(_x,_x2){return _getEnsResolver.apply(this,arguments)}function _getEnsResolver(){_getEnsResolver=_asyncToGenerator(regeneratorRuntime.mark(function _callee(client,parameters){var blockNumber,blockTag,name,chain,universalResolverAddress,tlds,_yield,_yield2,resolverAddress;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:blockNumber=parameters.blockNumber,blockTag=parameters.blockTag,name=parameters.name;chain=client.chain;universalResolverAddress=function(){if(parameters.universalResolverAddress)return parameters.universalResolverAddress;if(!chain)throw new Error("client chain not configured. universalResolverAddress is required.");return(0,getChainContractAddress_js_1.getChainContractAddress)({blockNumber:blockNumber,chain:chain,contract:"ensUniversalResolver"})}();tlds=chain===null||chain===void 0?void 0:chain.ensTlds;if(!(tlds&&!tlds.some(function(tld){return name.endsWith(tld)}))){_context.next=6;break}throw new Error("".concat(name," is not a valid ENS TLD (").concat(tlds===null||tlds===void 0?void 0:tlds.join(", "),') for chain "').concat(chain.name,'" (id: ').concat(chain.id,")."));case 6:_context.next=8;return(0,getAction_js_1.getAction)(client,readContract_js_1.readContract,"readContract")({address:universalResolverAddress,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[(0,toHex_js_1.toHex)((0,packetToBytes_js_1.packetToBytes)(name))],blockNumber:blockNumber,blockTag:blockTag});case 8:_yield=_context.sent;_yield2=_slicedToArray(_yield,1);resolverAddress=_yield2[0];return _context.abrupt("return",resolverAddress);case 12:case"end":return _context.stop()}}},_callee)}));return _getEnsResolver.apply(this,arguments)}},{"../../utils/chain/getChainContractAddress.js":413,"../../utils/encoding/toHex.js":426,"../../utils/ens/packetToBytes.js":436,"../../utils/getAction.js":452,"../public/readContract.js":255}],222:[function(require,module,exports){"use strict";function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}Object.defineProperty(exports,"__esModule",{value:true});exports.getEnsText=getEnsText;var abis_js_1=require("../../constants/abis.js");var decodeFunctionResult_js_1=require("../../utils/abi/decodeFunctionResult.js");var encodeFunctionData_js_1=require("../../utils/abi/encodeFunctionData.js");var getChainContractAddress_js_1=require("../../utils/chain/getChainContractAddress.js");var toHex_js_1=require("../../utils/encoding/toHex.js");var errors_js_1=require("../../utils/ens/errors.js");var localBatchGatewayRequest_js_1=require("../../utils/ens/localBatchGatewayRequest.js");var namehash_js_1=require("../../utils/ens/namehash.js");var packetToBytes_js_1=require("../../utils/ens/packetToBytes.js");var getAction_js_1=require("../../utils/getAction.js");var readContract_js_1=require("../public/readContract.js");function getEnsText(_x,_x2){return _getEnsText.apply(this,arguments)}function _getEnsText(){_getEnsText=_asyncToGenerator(regeneratorRuntime.mark(function _callee(client,parameters){var blockNumber,blockTag,key,name,gatewayUrls,strict,chain,universalResolverAddress,tlds,readContractParameters,readContractAction,res,record;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:blockNumber=parameters.blockNumber,blockTag=parameters.blockTag,key=parameters.key,name=parameters.name,gatewayUrls=parameters.gatewayUrls,strict=parameters.strict;chain=client.chain;universalResolverAddress=function(){if(parameters.universalResolverAddress)return parameters.universalResolverAddress;if(!chain)throw new Error("client chain not configured. universalResolverAddress is required.");return(0,getChainContractAddress_js_1.getChainContractAddress)({blockNumber:blockNumber,chain:chain,contract:"ensUniversalResolver"})}();tlds=chain===null||chain===void 0?void 0:chain.ensTlds;if(!(tlds&&!tlds.some(function(tld){return name.endsWith(tld)}))){_context.next=6;break}return _context.abrupt("return",null);case 6:_context.prev=6;readContractParameters={address:universalResolverAddress,abi:abis_js_1.universalResolverResolveAbi,functionName:"resolve",args:[(0,toHex_js_1.toHex)((0,packetToBytes_js_1.packetToBytes)(name)),(0,encodeFunctionData_js_1.encodeFunctionData)({abi:abis_js_1.textResolverAbi,functionName:"text",args:[(0,namehash_js_1.namehash)(name),key]}),gatewayUrls!==null&&gatewayUrls!==void 0?gatewayUrls:[localBatchGatewayRequest_js_1.localBatchGatewayUrl]],blockNumber:blockNumber,blockTag:blockTag};readContractAction=(0,getAction_js_1.getAction)(client,readContract_js_1.readContract,"readContract");_context.next=11;return readContractAction(readContractParameters);case 11:res=_context.sent;if(!(res[0]==="0x")){_context.next=14;break}return _context.abrupt("return",null);case 14:record=(0,decodeFunctionResult_js_1.decodeFunctionResult)({abi:abis_js_1.textResolverAbi,functionName:"text",data:res[0]});return _context.abrupt("return",record===""?null:record);case 18:_context.prev=18;_context.t0=_context["catch"](6);if(!strict){_context.next=22;break}throw _context.t0;case 22:if(!(0,errors_js_1.isNullUniversalResolverError)(_context.t0,"resolve")){_context.next=24;break}return _context.abrupt("return",null);case 24:throw _context.t0;case 25:case"end":return _context.stop()}}},_callee,null,[[6,18]])}));return _getEnsText.apply(this,arguments)}},{"../../constants/abis.js":334,"../../utils/abi/decodeFunctionResult.js":379,"../../utils/abi/encodeFunctionData.js":384,"../../utils/chain/getChainContractAddress.js":413,"../../utils/encoding/toHex.js":426,"../../utils/ens/errors.js":432,"../../utils/ens/localBatchGatewayRequest.js":434,"../../utils/ens/namehash.js":435,"../../utils/ens/packetToBytes.js":436,"../../utils/getAction.js":452,"../public/readContract.js":255}],223:[function(require,module,exports){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function _defineProperty(e,r,t){return(r=_toPropertyKey(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function _createForOfIteratorHelper(r,e){var t="undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(!t){if(Array.isArray(r)||(t=_unsupportedIterableToArray(r))||e&&r&&"number"==typeof r.length){t&&(r=t);var _n=0,F=function F(){};return{s:F,n:function n(){return _n>=r.length?{done:!0}:{done:!1,value:r[_n++]}},e:function e(r){throw r},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function s(){t=t.call(r)},n:function n(){var r=t.next();return a=r.done,r},e:function e(r){u=!0,o=r},f:function f(){try{a||null==t["return"]||t["return"]()}finally{if(u)throw o}}}}function _slicedToArray(r,e){return _arrayWithHoles(r)||_iterableToArrayLimit(r,e)||_unsupportedIterableToArray(r,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++){n[e]=r[e]}return n}function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0){}}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t["return"]&&(u=t["return"](),Object(u)!==u))return}finally{if(o)throw n}}return a}}function _arrayWithHoles(r){if(Array.isArray(r))return r}Object.defineProperty(exports,"__esModule",{value:true});exports.getContract=getContract;exports.getFunctionParameters=getFunctionParameters;exports.getEventParameters=getEventParameters;var getAction_js_1=require("../utils/getAction.js");var createContractEventFilter_js_1=require("./public/createContractEventFilter.js");var estimateContractGas_js_1=require("./public/estimateContractGas.js");var getContractEvents_js_1=require("./public/getContractEvents.js");var readContract_js_1=require("./public/readContract.js");var simulateContract_js_1=require("./public/simulateContract.js");var watchContractEvent_js_1=require("./public/watchContractEvent.js");var writeContract_js_1=require("./wallet/writeContract.js");function getContract(_ref){var abi=_ref.abi,address=_ref.address,client_=_ref.client;var client=client_;var _ref2=function(){if(!client)return[undefined,undefined];if("public"in client&&"wallet"in client)return[client["public"],client.wallet];if("public"in client)return[client["public"],undefined];if("wallet"in client)return[undefined,client.wallet];return[client,client]}(),_ref3=_slicedToArray(_ref2,2),publicClient=_ref3[0],walletClient=_ref3[1];var hasPublicClient=publicClient!==undefined&&publicClient!==null;var hasWalletClient=walletClient!==undefined&&walletClient!==null;var contract={};var hasReadFunction=false;var hasWriteFunction=false;var hasEvent=false;var _iterator=_createForOfIteratorHelper(abi),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var item=_step.value;if(item.type==="function"){if(item.stateMutability==="view"||item.stateMutability==="pure")hasReadFunction=true;else hasWriteFunction=true}else if(item.type==="event")hasEvent=true;if(hasReadFunction&&hasWriteFunction&&hasEvent)break}}catch(err){_iterator.e(err)}finally{_iterator.f()}if(hasPublicClient){if(hasReadFunction)contract.read=new Proxy({},{get:function get(_,functionName){return function(){for(var _len=arguments.length,parameters=new Array(_len),_key=0;_key<_len;_key++){parameters[_key]=arguments[_key]}var _getFunctionParameter=getFunctionParameters(parameters),args=_getFunctionParameter.args,options=_getFunctionParameter.options;return(0,getAction_js_1.getAction)(publicClient,readContract_js_1.readContract,"readContract")(_objectSpread({abi:abi,address:address,functionName:functionName,args:args},options))}}});if(hasWriteFunction)contract.simulate=new Proxy({},{get:function get(_,functionName){return function(){for(var _len2=arguments.length,parameters=new Array(_len2),_key2=0;_key2<_len2;_key2++){parameters[_key2]=arguments[_key2]}var _getFunctionParameter2=getFunctionParameters(parameters),args=_getFunctionParameter2.args,options=_getFunctionParameter2.options;return(0,getAction_js_1.getAction)(publicClient,simulateContract_js_1.simulateContract,"simulateContract")(_objectSpread({abi:abi,address:address,functionName:functionName,args:args},options))}}});if(hasEvent){contract.createEventFilter=new Proxy({},{get:function get(_,eventName){return function(){var abiEvent=abi.find(function(x){return x.type==="event"&&x.name===eventName});for(var _len3=arguments.length,parameters=new Array(_len3),_key3=0;_key3<_len3;_key3++){parameters[_key3]=arguments[_key3]}var _getEventParameters=getEventParameters(parameters,abiEvent),args=_getEventParameters.args,options=_getEventParameters.options;return(0,getAction_js_1.getAction)(publicClient,createContractEventFilter_js_1.createContractEventFilter,"createContractEventFilter")(_objectSpread({abi:abi,address:address,eventName:eventName,args:args},options))}}});contract.getEvents=new Proxy({},{get:function get(_,eventName){return function(){var abiEvent=abi.find(function(x){return x.type==="event"&&x.name===eventName});for(var _len4=arguments.length,parameters=new Array(_len4),_key4=0;_key4<_len4;_key4++){parameters[_key4]=arguments[_key4]}var _getEventParameters2=getEventParameters(parameters,abiEvent),args=_getEventParameters2.args,options=_getEventParameters2.options;return(0,getAction_js_1.getAction)(publicClient,getContractEvents_js_1.getContractEvents,"getContractEvents")(_objectSpread({abi:abi,address:address,eventName:eventName,args:args},options))}}});contract.watchEvent=new Proxy({},{get:function get(_,eventName){return function(){var abiEvent=abi.find(function(x){return x.type==="event"&&x.name===eventName});for(var _len5=arguments.length,parameters=new Array(_len5),_key5=0;_key5<_len5;_key5++){parameters[_key5]=arguments[_key5]}var _getEventParameters3=getEventParameters(parameters,abiEvent),args=_getEventParameters3.args,options=_getEventParameters3.options;return(0,getAction_js_1.getAction)(publicClient,watchContractEvent_js_1.watchContractEvent,"watchContractEvent")(_objectSpread({abi:abi,address:address,eventName:eventName,args:args},options))}}})}}if(hasWalletClient){if(hasWriteFunction)contract.write=new Proxy({},{get:function get(_,functionName){return function(){for(var _len6=arguments.length,parameters=new Array(_len6),_key6=0;_key6<_len6;_key6++){parameters[_key6]=arguments[_key6]}var _getFunctionParameter3=getFunctionParameters(parameters),args=_getFunctionParameter3.args,options=_getFunctionParameter3.options;return(0,getAction_js_1.getAction)(walletClient,writeContract_js_1.writeContract,"writeContract")(_objectSpread({abi:abi,address:address,functionName:functionName,args:args},options))}}})}if(hasPublicClient||hasWalletClient)if(hasWriteFunction)contract.estimateGas=new Proxy({},{get:function get(_,functionName){return function(){var _options$account;for(var _len7=arguments.length,parameters=new Array(_len7),_key7=0;_key7<_len7;_key7++){parameters[_key7]=arguments[_key7]}var _getFunctionParameter4=getFunctionParameters(parameters),args=_getFunctionParameter4.args,options=_getFunctionParameter4.options;var client=publicClient!==null&&publicClient!==void 0?publicClient:walletClient;return(0,getAction_js_1.getAction)(client,estimateContractGas_js_1.estimateContractGas,"estimateContractGas")(_objectSpread(_objectSpread({abi:abi,address:address,functionName:functionName,args:args},options),{},{account:(_options$account=options.account)!==null&&_options$account!==void 0?_options$account:walletClient.account}))}}});contract.address=address;contract.abi=abi;return contract}function getFunctionParameters(values){var _ref4;var hasArgs=values.length&&Array.isArray(values[0]);var args=hasArgs?values[0]:[];var options=(_ref4=hasArgs?values[1]:values[0])!==null&&_ref4!==void 0?_ref4:{};return{args:args,options:options}}function getEventParameters(values,abiEvent){var _ref5;var hasArgs=false;if(Array.isArray(values[0]))hasArgs=true;else if(values.length===1){hasArgs=abiEvent.inputs.some(function(x){return x.indexed})}else if(values.length===2){hasArgs=true}var args=hasArgs?values[0]:undefined;var options=(_ref5=hasArgs?values[1]:values[0])!==null&&_ref5!==void 0?_ref5:{};return{args:args,options:options}}},{"../utils/getAction.js":452,"./public/createContractEventFilter.js":227,"./public/estimateContractGas.js":230,"./public/getContractEvents.js":241,"./public/readContract.js":255,"./public/simulateContract.js":258,"./public/watchContractEvent.js":266,"./wallet/writeContract.js":321}],224:[function(require,module,exports){"use strict";var _excluded=["data","to"],_excluded2=["account","batch","blockNumber","blockTag","accessList","blobs","code","data","factory","factoryData","gas","gasPrice","maxFeePerBlobGas","maxFeePerGas","maxPriorityFeePerGas","nonce","to","value","stateOverride"];function _slicedToArray(r,e){return _arrayWithHoles(r)||_iterableToArrayLimit(r,e)||_unsupportedIterableToArray(r,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++){n[e]=r[e]}return n}function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0){}}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t["return"]&&(u=t["return"](),Object(u)!==u))return}finally{if(o)throw n}}return a}}function _arrayWithHoles(r){if(Array.isArray(r))return r}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function _defineProperty(e,r,t){return(r=_toPropertyKey(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _objectWithoutProperties(e,t){if(null==e)return{};var o,r,i=_objectWithoutPropertiesLoose(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(r=0;r<n.length;r++){o=n[r],-1===t.indexOf(o)&&{}.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}}return i}function _objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r){if({}.hasOwnProperty.call(r,n)){if(-1!==e.indexOf(n))continue;t[n]=r[n]}}return t}function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}Object.defineProperty(exports,"__esModule",{value:true});exports.call=call;exports.getRevertErrorData=getRevertErrorData;var abitype_1=require("abitype");var parseAccount_js_1=require("../../accounts/utils/parseAccount.js");var abis_js_1=require("../../constants/abis.js");var contract_js_1=require("../../constants/contract.js");var contracts_js_1=require("../../constants/contracts.js");var base_js_1=require("../../errors/base.js");var chain_js_1=require("../../errors/chain.js");var contract_js_2=require("../../errors/contract.js");var decodeFunctionResult_js_1=require("../../utils/abi/decodeFunctionResult.js");var encodeDeployData_js_1=require("../../utils/abi/encodeDeployData.js");var encodeFunctionData_js_1=require("../../utils/abi/encodeFunctionData.js");var getChainContractAddress_js_1=require("../../utils/chain/getChainContractAddress.js");var toHex_js_1=require("../../utils/encoding/toHex.js");var getCallError_js_1=require("../../utils/errors/getCallError.js");var extract_js_1=require("../../utils/formatters/extract.js");var transactionRequest_js_1=require("../../utils/formatters/transactionRequest.js");var createBatchScheduler_js_1=require("../../utils/promise/createBatchScheduler.js");var stateOverride_js_1=require("../../utils/stateOverride.js");var assertRequest_js_1=require("../../utils/transaction/assertRequest.js");function call(_x,_x2){return _call.apply(this,arguments)}function _call(){_call=_asyncToGenerator(regeneratorRuntime.mark(function _callee(client,args){var _client$batch;var _args$account,account_,_args$batch,batch,blockNumber,_args$blockTag,blockTag,accessList,blobs,code,data_,factory,factoryData,gas,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,nonce,to,value,stateOverride,rest,account,deploylessCallViaBytecode,deploylessCallViaFactory,deploylessCall,data,_client$chain,_client$chain$formatt,_client$chain$formatt2,blockNumberHex,block,rpcStateOverride,chainFormat,format,request,response,_data,_yield$Promise$resolv,offchainLookup,offchainLookupSignature;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_args$account=args.account,account_=_args$account===void 0?client.account:_args$account,_args$batch=args.batch,batch=_args$batch===void 0?Boolean((_client$batch=client.batch)===null||_client$batch===void 0?void 0:_client$batch.multicall):_args$batch,blockNumber=args.blockNumber,_args$blockTag=args.blockTag,blockTag=_args$blockTag===void 0?"latest":_args$blockTag,accessList=args.accessList,blobs=args.blobs,code=args.code,data_=args.data,factory=args.factory,factoryData=args.factoryData,gas=args.gas,gasPrice=args.gasPrice,maxFeePerBlobGas=args.maxFeePerBlobGas,maxFeePerGas=args.maxFeePerGas,maxPriorityFeePerGas=args.maxPriorityFeePerGas,nonce=args.nonce,to=args.to,value=args.value,stateOverride=args.stateOverride,rest=_objectWithoutProperties(args,_excluded2);account=account_?(0,parseAccount_js_1.parseAccount)(account_):undefined;if(!(code&&(factory||factoryData))){_context.next=4;break}throw new base_js_1.BaseError("Cannot provide both `code` & `factory`/`factoryData` as parameters.");case 4:if(!(code&&to)){_context.next=6;break}throw new base_js_1.BaseError("Cannot provide both `code` & `to` as parameters.");case 6:deploylessCallViaBytecode=code&&data_;deploylessCallViaFactory=factory&&factoryData&&to&&data_;deploylessCall=deploylessCallViaBytecode||deploylessCallViaFactory;data=function(){if(deploylessCallViaBytecode)return toDeploylessCallViaBytecodeData({code:code,data:data_});if(deploylessCallViaFactory)return toDeploylessCallViaFactoryData({data:data_,factory:factory,factoryData:factoryData,to:to});return data_}();_context.prev=10;(0,assertRequest_js_1.assertRequest)(args);blockNumberHex=blockNumber?(0,toHex_js_1.numberToHex)(blockNumber):undefined;block=blockNumberHex||blockTag;rpcStateOverride=(0,stateOverride_js_1.serializeStateOverride)(stateOverride);chainFormat=(_client$chain=client.chain)===null||_client$chain===void 0?void 0:(_client$chain$formatt=_client$chain.formatters)===null||_client$chain$formatt===void 0?void 0:(_client$chain$formatt2=_client$chain$formatt.transactionRequest)===null||_client$chain$formatt2===void 0?void 0:_client$chain$formatt2.format;format=chainFormat||transactionRequest_js_1.formatTransactionRequest;request=format(_objectSpread(_objectSpread({},(0,extract_js_1.extract)(rest,{format:chainFormat})),{},{from:account===null||account===void 0?void 0:account.address,accessList:accessList,blobs:blobs,data:data,gas:gas,gasPrice:gasPrice,maxFeePerBlobGas:maxFeePerBlobGas,maxFeePerGas:maxFeePerGas,maxPriorityFeePerGas:maxPriorityFeePerGas,nonce:nonce,to:deploylessCall?undefined:to,value:value}));if(!(batch&&shouldPerformMulticall({request:request})&&!rpcStateOverride)){_context.next=29;break}_context.prev=19;_context.next=22;return scheduleMulticall(client,_objectSpread(_objectSpread({},request),{},{blockNumber:blockNumber,blockTag:blockTag}));case 22:return _context.abrupt("return",_context.sent);case 25:_context.prev=25;_context.t0=_context["catch"](19);if(!(!(_context.t0 instanceof chain_js_1.ClientChainNotConfiguredError)&&!(_context.t0 instanceof chain_js_1.ChainDoesNotSupportContract))){_context.next=29;break}throw _context.t0;case 29:_context.next=31;return client.request({method:"eth_call",params:rpcStateOverride?[request,block,rpcStateOverride]:[request,block]});case 31:response=_context.sent;if(!(response==="0x")){_context.next=34;break}return _context.abrupt("return",{data:undefined});case 34:return _context.abrupt("return",{data:response});case 37:_context.prev=37;_context.t1=_context["catch"](10);_data=getRevertErrorData(_context.t1);_context.next=42;return Promise.resolve().then(function(){return require("../../utils/ccip.js")});case 42:_yield$Promise$resolv=_context.sent;offchainLookup=_yield$Promise$resolv.offchainLookup;offchainLookupSignature=_yield$Promise$resolv.offchainLookupSignature;if(!(client.ccipRead!==false&&(_data===null||_data===void 0?void 0:_data.slice(0,10))===offchainLookupSignature&&to)){_context.next=50;break}_context.next=48;return offchainLookup(client,{data:_data,to:to});case 48:_context.t2=_context.sent;return _context.abrupt("return",{data:_context.t2});case 50:if(!(deploylessCall&&(_data===null||_data===void 0?void 0:_data.slice(0,10))==="0x101bb98d")){_context.next=52;break}throw new contract_js_2.CounterfactualDeploymentFailedError({factory:factory});case 52:throw(0,getCallError_js_1.getCallError)(_context.t1,_objectSpread(_objectSpread({},args),{},{account:account,chain:client.chain}));case 53:case"end":return _context.stop()}}},_callee,null,[[10,37],[19,25]])}));return _call.apply(this,arguments)}function shouldPerformMulticall(_ref){var request=_ref.request;var data=request.data,to=request.to,request_=_objectWithoutProperties(request,_excluded);if(!data)return false;if(data.startsWith(contract_js_1.aggregate3Signature))return false;if(!to)return false;if(Object.values(request_).filter(function(x){return typeof x!=="undefined"}).length>0)return false;return true}function scheduleMulticall(_x3,_x4){return _scheduleMulticall.apply(this,arguments)}function _scheduleMulticall(){_scheduleMulticall=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(client,args){var _client$batch2;var _ref2,_ref2$batchSize,batchSize,_ref2$wait,wait,blockNumber,_args$blockTag2,blockTag,data,multicallAddress_,to,multicallAddress,blockNumberHex,block,_ref3,schedule,_yield$schedule,_yield$schedule2,_yield$schedule2$,returnData,success;return regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_ref2=_typeof((_client$batch2=client.batch)===null||_client$batch2===void 0?void 0:_client$batch2.multicall)==="object"?client.batch.multicall:{},_ref2$batchSize=_ref2.batchSize,batchSize=_ref2$batchSize===void 0?1024:_ref2$batchSize,_ref2$wait=_ref2.wait,wait=_ref2$wait===void 0?0:_ref2$wait;blockNumber=args.blockNumber,_args$blockTag2=args.blockTag,blockTag=_args$blockTag2===void 0?"latest":_args$blockTag2,data=args.data,multicallAddress_=args.multicallAddress,to=args.to;multicallAddress=multicallAddress_;if(multicallAddress){_context3.next=7;break}if(client.chain){_context3.next=6;break}throw new chain_js_1.ClientChainNotConfiguredError;case 6:multicallAddress=(0,getChainContractAddress_js_1.getChainContractAddress)({blockNumber:blockNumber,chain:client.chain,contract:"multicall3"});case 7:blockNumberHex=blockNumber?(0,toHex_js_1.numberToHex)(blockNumber):undefined;block=blockNumberHex||blockTag;_ref3=(0,createBatchScheduler_js_1.createBatchScheduler)({id:"".concat(client.uid,".").concat(block),wait:wait,shouldSplitBatch:function shouldSplitBatch(args){var size=args.reduce(function(size,_ref4){var data=_ref4.data;return size+(data.length-2)},0);return size>batchSize*2},fn:function(){var _fn=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(requests){var calls,calldata,data;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:calls=requests.map(function(request){return{allowFailure:true,callData:request.data,target:request.to}});calldata=(0,encodeFunctionData_js_1.encodeFunctionData)({abi:abis_js_1.multicall3Abi,args:[calls],functionName:"aggregate3"});_context2.next=4;return client.request({method:"eth_call",params:[{data:calldata,to:multicallAddress},block]});case 4:data=_context2.sent;return _context2.abrupt("return",(0,decodeFunctionResult_js_1.decodeFunctionResult)({abi:abis_js_1.multicall3Abi,args:[calls],functionName:"aggregate3",data:data||"0x"}));case 6:case"end":return _context2.stop()}}},_callee2)}));function fn(_x5){return _fn.apply(this,arguments)}return fn}()}),schedule=_ref3.schedule;_context3.next=12;return schedule({data:data,to:to});case 12:_yield$schedule=_context3.sent;_yield$schedule2=_slicedToArray(_yield$schedule,1);_yield$schedule2$=_yield$schedule2[0];returnData=_yield$schedule2$.returnData;success=_yield$schedule2$.success;if(success){_context3.next=19;break}throw new contract_js_2.RawContractError({data:returnData});case 19:if(!(returnData==="0x")){_context3.next=21;break}return _context3.abrupt("return",{data:undefined});case 21:return _context3.abrupt("return",{data:returnData});case 22:case"end":return _context3.stop()}}},_callee3)}));return _scheduleMulticall.apply(this,arguments)}function toDeploylessCallViaBytecodeData(parameters){var code=parameters.code,data=parameters.data;return(0,encodeDeployData_js_1.encodeDeployData)({abi:(0,abitype_1.parseAbi)(["constructor(bytes, bytes)"]),bytecode:contracts_js_1.deploylessCallViaBytecodeBytecode,args:[code,data]})}function toDeploylessCallViaFactoryData(parameters){var data=parameters.data,factory=parameters.factory,factoryData=parameters.factoryData,to=parameters.to;return(0,encodeDeployData_js_1.encodeDeployData)({abi:(0,abitype_1.parseAbi)(["constructor(address, bytes, address, bytes)"]),bytecode:contracts_js_1.deploylessCallViaFactoryBytecode,args:[to,data,factory,factoryData]})}function getRevertErrorData(err){var _error$data;if(!(err instanceof base_js_1.BaseError))return undefined;var error=err.walk();return _typeof(error===null||error===void 0?void 0:error.data)==="object"?(_error$data=error.data)===null||_error$data===void 0?void 0:_error$data.data:error.data}},{"../../accounts/utils/parseAccount.js":216,"../../constants/abis.js":334,"../../constants/contract.js":338,"../../constants/contracts.js":339,"../../errors/base.js":348,"../../errors/chain.js":352,"../../errors/contract.js":353,"../../utils/abi/decodeFunctionResult.js":379,"../../utils/abi/encodeDeployData.js":381,"../../utils/abi/encodeFunctionData.js":384,"../../utils/ccip.js":409,"../../utils/chain/getChainContractAddress.js":413,"../../utils/encoding/toHex.js":426,"../../utils/errors/getCallError.js":437,"../../utils/formatters/extract.js":444,"../../utils/formatters/transactionRequest.js":451,"../../utils/promise/createBatchScheduler.js":474,"../../utils/stateOverride.js":508,"../../utils/transaction/assertRequest.js":510,abitype:141}],225:[function(require,module,exports){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}var _excluded=["account","blockNumber","blockTag","blobs","data","gas","gasPrice","maxFeePerBlobGas","maxFeePerGas","maxPriorityFeePerGas","to","value"];function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function _defineProperty(e,r,t){return(r=_toPropertyKey(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function _objectWithoutProperties(e,t){if(null==e)return{};var o,r,i=_objectWithoutPropertiesLoose(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(r=0;r<n.length;r++){o=n[r],-1===t.indexOf(o)&&{}.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}}return i}function _objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r){if({}.hasOwnProperty.call(r,n)){if(-1!==e.indexOf(n))continue;t[n]=r[n]}}return t}function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}Object.defineProperty(exports,"__esModule",{value:true});exports.createAccessList=createAccessList;var parseAccount_js_1=require("../../accounts/utils/parseAccount.js");var toHex_js_1=require("../../utils/encoding/toHex.js");var getCallError_js_1=require("../../utils/errors/getCallError.js");var extract_js_1=require("../../utils/formatters/extract.js");var transactionRequest_js_1=require("../../utils/formatters/transactionRequest.js");var assertRequest_js_1=require("../../utils/transaction/assertRequest.js");function createAccessList(_x,_x2){return _createAccessList.apply(this,arguments)}function _createAccessList(){_createAccessList=_asyncToGenerator(regeneratorRuntime.mark(function _callee(client,args){var _args$account,account_,blockNumber,_args$blockTag,blockTag,blobs,data,gas,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,to,value,rest,account,_client$chain,_client$chain$formatt,_client$chain$formatt2,blockNumberHex,block,chainFormat,format,request,response;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_args$account=args.account,account_=_args$account===void 0?client.account:_args$account,blockNumber=args.blockNumber,_args$blockTag=args.blockTag,blockTag=_args$blockTag===void 0?"latest":_args$blockTag,blobs=args.blobs,data=args.data,gas=args.gas,gasPrice=args.gasPrice,maxFeePerBlobGas=args.maxFeePerBlobGas,maxFeePerGas=args.maxFeePerGas,maxPriorityFeePerGas=args.maxPriorityFeePerGas,to=args.to,value=args.value,rest=_objectWithoutProperties(args,_excluded);account=account_?(0,parseAccount_js_1.parseAccount)(account_):undefined;_context.prev=2;(0,assertRequest_js_1.assertRequest)(args);blockNumberHex=blockNumber?(0,toHex_js_1.numberToHex)(blockNumber):undefined;block=blockNumberHex||blockTag;chainFormat=(_client$chain=client.chain)===null||_client$chain===void 0?void 0:(_client$chain$formatt=_client$chain.formatters)===null||_client$chain$formatt===void 0?void 0:(_client$chain$formatt2=_client$chain$formatt.transactionRequest)===null||_client$chain$formatt2===void 0?void 0:_client$chain$formatt2.format;format=chainFormat||transactionRequest_js_1.formatTransactionRequest;request=format(_objectSpread(_objectSpread({},(0,extract_js_1.extract)(rest,{format:chainFormat})),{},{from:account===null||account===void 0?void 0:account.address,blobs:blobs,data:data,gas:gas,gasPrice:gasPrice,maxFeePerBlobGas:maxFeePerBlobGas,maxFeePerGas:maxFeePerGas,maxPriorityFeePerGas:maxPriorityFeePerGas,to:to,value:value}));_context.next=11;return client.request({method:"eth_createAccessList",params:[request,block]});case 11:response=_context.sent;return _context.abrupt("return",{accessList:response.accessList,gasUsed:BigInt(response.gasUsed)});case 15:_context.prev=15;_context.t0=_context["catch"](2);throw(0,getCallError_js_1.getCallError)(_context.t0,_objectSpread(_objectSpread({},args),{},{account:account,chain:client.chain}));case 18:case"end":return _context.stop()}}},_callee,null,[[2,15]])}));return _createAccessList.apply(this,arguments)}},{"../../accounts/utils/parseAccount.js":216,"../../utils/encoding/toHex.js":426,"../../utils/errors/getCallError.js":437,"../../utils/formatters/extract.js":444,"../../utils/formatters/transactionRequest.js":451,"../../utils/transaction/assertRequest.js":510}],226:[function(require,module,exports){"use strict";function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}Object.defineProperty(exports,"__esModule",{value:true});exports.createBlockFilter=createBlockFilter;var createFilterRequestScope_js_1=require("../../utils/filters/createFilterRequestScope.js");function createBlockFilter(_x){return _createBlockFilter.apply(this,arguments)}function _createBlockFilter(){_createBlockFilter=_asyncToGenerator(regeneratorRuntime.mark(function _callee(client){var getRequest,id;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:getRequest=(0,createFilterRequestScope_js_1.createFilterRequestScope)(client,{method:"eth_newBlockFilter"});_context.next=3;return client.request({method:"eth_newBlockFilter"});case 3:id=_context.sent;return _context.abrupt("return",{id:id,request:getRequest(id),type:"block"});case 5:case"end":return _context.stop()}}},_callee)}));return _createBlockFilter.apply(this,arguments)}},{"../../utils/filters/createFilterRequestScope.js":442}],227:[function(require,module,exports){"use strict";function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}Object.defineProperty(exports,"__esModule",{value:true});exports.createContractEventFilter=createContractEventFilter;var encodeEventTopics_js_1=require("../../utils/abi/encodeEventTopics.js");var toHex_js_1=require("../../utils/encoding/toHex.js");var createFilterRequestScope_js_1=require("../../utils/filters/createFilterRequestScope.js");function createContractEventFilter(_x,_x2){return _createContractEventFilter.apply(this,arguments)}function _createContractEventFilter(){_createContractEventFilter=_asyncToGenerator(regeneratorRuntime.mark(function _callee(client,parameters){var address,abi,args,eventName,fromBlock,strict,toBlock,getRequest,topics,id;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:address=parameters.address,abi=parameters.abi,args=parameters.args,eventName=parameters.eventName,fromBlock=parameters.fromBlock,strict=parameters.strict,toBlock=parameters.toBlock;getRequest=(0,createFilterRequestScope_js_1.createFilterRequestScope)(client,{method:"eth_newFilter"});topics=eventName?(0,encodeEventTopics_js_1.encodeEventTopics)({abi:abi,args:args,eventName:eventName}):undefined;_context.next=5;return client.request({method:"eth_newFilter",params:[{address:address,fromBlock:typeof fromBlock==="bigint"?(0,toHex_js_1.numberToHex)(fromBlock):fromBlock,toBlock:typeof toBlock==="bigint"?(0,toHex_js_1.numberToHex)(toBlock):toBlock,topics:topics}]});case 5:id=_context.sent;return _context.abrupt("return",{abi:abi,args:args,eventName:eventName,id:id,request:getRequest(id),strict:Boolean(strict),type:"event"});case 7:case"end":return _context.stop()}}},_callee)}));return _createContractEventFilter.apply(this,arguments)}},{"../../utils/abi/encodeEventTopics.js":383,"../../utils/encoding/toHex.js":426,"../../utils/filters/createFilterRequestScope.js":442}],228:[function(require,module,exports){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function _defineProperty(e,r,t){return(r=_toPropertyKey(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}Object.defineProperty(exports,"__esModule",{value:true});exports.createEventFilter=createEventFilter;var encodeEventTopics_js_1=require("../../utils/abi/encodeEventTopics.js");var toHex_js_1=require("../../utils/encoding/toHex.js");var createFilterRequestScope_js_1=require("../../utils/filters/createFilterRequestScope.js");function createEventFilter(_x){return _createEventFilter.apply(this,arguments)}function _createEventFilter(){_createEventFilter=_asyncToGenerator(regeneratorRuntime.mark(function _callee(client){var _ref,address,args,event,events_,fromBlock,strict,toBlock,events,getRequest,topics,encoded,id,_args=arguments;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_ref=_args.length>1&&_args[1]!==undefined?_args[1]:{},address=_ref.address,args=_ref.args,event=_ref.event,events_=_ref.events,fromBlock=_ref.fromBlock,strict=_ref.strict,toBlock=_ref.toBlock;events=events_!==null&&events_!==void 0?events_:event?[event]:undefined;getRequest=(0,createFilterRequestScope_js_1.createFilterRequestScope)(client,{method:"eth_newFilter"});topics=[];if(events){encoded=events.flatMap(function(event){return(0,encodeEventTopics_js_1.encodeEventTopics)({abi:[event],eventName:event.name,args:args})});topics=[encoded];if(event)topics=topics[0]}_context.next=7;return client.request({method:"eth_newFilter",params:[_objectSpread({address:address,fromBlock:typeof fromBlock==="bigint"?(0,toHex_js_1.numberToHex)(fromBlock):fromBlock,toBlock:typeof toBlock==="bigint"?(0,toHex_js_1.numberToHex)(toBlock):toBlock},topics.length?{topics:topics}:{})]});case 7:id=_context.sent;return _context.abrupt("return",{abi:events,args:args,eventName:event?event.name:undefined,fromBlock:fromBlock,id:id,request:getRequest(id),strict:Boolean(strict),toBlock:toBlock,type:"event"});case 9:case"end":return _context.stop()}}},_callee)}));return _createEventFilter.apply(this,arguments)}},{"../../utils/abi/encodeEventTopics.js":383,"../../utils/encoding/toHex.js":426,"../../utils/filters/createFilterRequestScope.js":442}],229:[function(require,module,exports){"use strict";function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}Object.defineProperty(exports,"__esModule",{value:true});exports.createPendingTransactionFilter=createPendingTransactionFilter;var createFilterRequestScope_js_1=require("../../utils/filters/createFilterRequestScope.js");function createPendingTransactionFilter(_x){return _createPendingTransactionFilter.apply(this,arguments)}function _createPendingTransactionFilter(){_createPendingTransactionFilter=_asyncToGenerator(regeneratorRuntime.mark(function _callee(client){var getRequest,id;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:getRequest=(0,createFilterRequestScope_js_1.createFilterRequestScope)(client,{method:"eth_newPendingTransactionFilter"});_context.next=3;return client.request({method:"eth_newPendingTransactionFilter"});case 3:id=_context.sent;return _context.abrupt("return",{id:id,request:getRequest(id),type:"transaction"});case 5:case"end":return _context.stop()}}},_callee)}));return _createPendingTransactionFilter.apply(this,arguments)}},{"../../utils/filters/createFilterRequestScope.js":442}],230:[function(require,module,exports){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}var _excluded=["abi","address","args","functionName","dataSuffix"];function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function _defineProperty(e,r,t){return(r=_toPropertyKey(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function _objectWithoutProperties(e,t){if(null==e)return{};var o,r,i=_objectWithoutPropertiesLoose(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(r=0;r<n.length;r++){o=n[r],-1===t.indexOf(o)&&{}.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}}return i}function _objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r){if({}.hasOwnProperty.call(r,n)){if(-1!==e.indexOf(n))continue;t[n]=r[n]}}return t}function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}Object.defineProperty(exports,"__esModule",{value:true});exports.estimateContractGas=estimateContractGas;var parseAccount_js_1=require("../../accounts/utils/parseAccount.js");var encodeFunctionData_js_1=require("../../utils/abi/encodeFunctionData.js");var getContractError_js_1=require("../../utils/errors/getContractError.js");var getAction_js_1=require("../../utils/getAction.js");var estimateGas_js_1=require("./estimateGas.js");function estimateContractGas(_x,_x2){return _estimateContractGas.apply(this,arguments)}function _estimateContractGas(){_estimateContractGas=_asyncToGenerator(regeneratorRuntime.mark(function _callee(client,parameters){var abi,address,args,functionName,dataSuffix,request,data,gas,account;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:abi=parameters.abi,address=parameters.address,args=parameters.args,functionName=parameters.functionName,dataSuffix=parameters.dataSuffix,request=_objectWithoutProperties(parameters,_excluded);data=(0,encodeFunctionData_js_1.encodeFunctionData)({abi:abi,args:args,functionName:functionName});_context.prev=2;_context.next=5;return(0,getAction_js_1.getAction)(client,estimateGas_js_1.estimateGas,"estimateGas")(_objectSpread({data:"".concat(data).concat(dataSuffix?dataSuffix.replace("0x",""):""),to:address},request));case 5:gas=_context.sent;return _context.abrupt("return",gas);case 9:_context.prev=9;_context.t0=_context["catch"](2);account=request.account?(0,parseAccount_js_1.parseAccount)(request.account):undefined;throw(0,getContractError_js_1.getContractError)(_context.t0,{abi:abi,address:address,args:args,docsPath:"/docs/contract/estimateContractGas",functionName:functionName,sender:account===null||account===void 0?void 0:account.address});case 13:case"end":return _context.stop()}}},_callee,null,[[2,9]])}));return _estimateContractGas.apply(this,arguments)}},{"../../accounts/utils/parseAccount.js":216,"../../utils/abi/encodeFunctionData.js":384,"../../utils/errors/getContractError.js":438,"../../utils/getAction.js":452,"./estimateGas.js":232}],231:[function(require,module,exports){"use strict";function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}Object.defineProperty(exports,"__esModule",{value:true});exports.estimateFeesPerGas=estimateFeesPerGas;exports.internal_estimateFeesPerGas=internal_estimateFeesPerGas;var fee_js_1=require("../../errors/fee.js");var getAction_js_1=require("../../utils/getAction.js");var estimateMaxPriorityFeePerGas_js_1=require("./estimateMaxPriorityFeePerGas.js");var getBlock_js_1=require("./getBlock.js");var getGasPrice_js_1=require("./getGasPrice.js");function estimateFeesPerGas(_x,_x2){return _estimateFeesPerGas.apply(this,arguments)}function _estimateFeesPerGas(){_estimateFeesPerGas=_asyncToGenerator(regeneratorRuntime.mark(function _callee(client,args){return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:return _context.abrupt("return",internal_estimateFeesPerGas(client,args));case 1:case"end":return _context.stop()}}},_callee)}));return _estimateFeesPerGas.apply(this,arguments)}function internal_estimateFeesPerGas(_x3,_x4){return _internal_estimateFeesPerGas.apply(this,arguments)}function _internal_estimateFeesPerGas(){_internal_estimateFeesPerGas=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(client,args){var _baseFeeMultiplier$to,_baseFeeMultiplier$to2,_chain$fees3,_request$gasPrice;var _ref,block_,_ref$chain,chain,request,_ref$type,type,baseFeeMultiplier,decimals,denominator,multiply,block,fees,_request$maxFeePerGas,maxPriorityFeePerGas,baseFeePerGas,maxFeePerGas,gasPrice;return regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_ref=args||{},block_=_ref.block,_ref$chain=_ref.chain,chain=_ref$chain===void 0?client.chain:_ref$chain,request=_ref.request,_ref$type=_ref.type,type=_ref$type===void 0?"eip1559":_ref$type;_context3.next=3;return _asyncToGenerator(regeneratorRuntime.mark(function _callee2(){var _chain$fees,_chain$fees$baseFeeMu,_chain$fees2;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(!(typeof(chain===null||chain===void 0?void 0:(_chain$fees=chain.fees)===null||_chain$fees===void 0?void 0:_chain$fees.baseFeeMultiplier)==="function")){_context2.next=2;break}return _context2.abrupt("return",chain.fees.baseFeeMultiplier({block:block_,client:client,request:request}));case 2:return _context2.abrupt("return",(_chain$fees$baseFeeMu=chain===null||chain===void 0?void 0:(_chain$fees2=chain.fees)===null||_chain$fees2===void 0?void 0:_chain$fees2.baseFeeMultiplier)!==null&&_chain$fees$baseFeeMu!==void 0?_chain$fees$baseFeeMu:1.2);case 3:case"end":return _context2.stop()}}},_callee2)}))();case 3:baseFeeMultiplier=_context3.sent;if(!(baseFeeMultiplier<1)){_context3.next=6;break}throw new fee_js_1.BaseFeeScalarError;case 6:decimals=(_baseFeeMultiplier$to=(_baseFeeMultiplier$to2=baseFeeMultiplier.toString().split(".")[1])===null||_baseFeeMultiplier$to2===void 0?void 0:_baseFeeMultiplier$to2.length)!==null&&_baseFeeMultiplier$to!==void 0?_baseFeeMultiplier$to:0;denominator=Math.pow(10,decimals);multiply=function multiply(base){return base*BigInt(Math.ceil(baseFeeMultiplier*denominator))/BigInt(denominator)};if(!block_){_context3.next=13;break}_context3.t0=block_;_context3.next=16;break;case 13:_context3.next=15;return(0,getAction_js_1.getAction)(client,getBlock_js_1.getBlock,"getBlock")({});case 15:_context3.t0=_context3.sent;case 16:block=_context3.t0;if(!(typeof(chain===null||chain===void 0?void 0:(_chain$fees3=chain.fees)===null||_chain$fees3===void 0?void 0:_chain$fees3.estimateFeesPerGas)==="function")){_context3.next=23;break}_context3.next=20;return chain.fees.estimateFeesPerGas({block:block_,client:client,multiply:multiply,request:request,type:type});case 20:fees=_context3.sent;if(!(fees!==null)){_context3.next=23;break}return _context3.abrupt("return",fees);case 23:if(!(type==="eip1559")){_context3.next=37;break}if(!(typeof block.baseFeePerGas!=="bigint")){_context3.next=26;break}throw new fee_js_1.Eip1559FeesNotSupportedError;case 26:if(!(typeof(request===null||request===void 0?void 0:request.maxPriorityFeePerGas)==="bigint")){_context3.next=30;break}_context3.t1=request.maxPriorityFeePerGas;_context3.next=33;break;case 30:_context3.next=32;return(0,estimateMaxPriorityFeePerGas_js_1.internal_estimateMaxPriorityFeePerGas)(client,{block:block,chain:chain,request:request});case 32:_context3.t1=_context3.sent;case 33:maxPriorityFeePerGas=_context3.t1;baseFeePerGas=multiply(block.baseFeePerGas);maxFeePerGas=(_request$maxFeePerGas=request===null||request===void 0?void 0:request.maxFeePerGas)!==null&&_request$maxFeePerGas!==void 0?_request$maxFeePerGas:baseFeePerGas+maxPriorityFeePerGas;return _context3.abrupt("return",{maxFeePerGas:maxFeePerGas,maxPriorityFeePerGas:maxPriorityFeePerGas});case 37:if(!((_request$gasPrice=request===null||request===void 0?void 0:request.gasPrice)!==null&&_request$gasPrice!==void 0)){_context3.next=41;break}_context3.t2=_request$gasPrice;_context3.next=46;break;case 41:_context3.t3=multiply;_context3.next=44;return(0,getAction_js_1.getAction)(client,getGasPrice_js_1.getGasPrice,"getGasPrice")({});case 44:_context3.t4=_context3.sent;_context3.t2=(0,_context3.t3)(_context3.t4);case 46:gasPrice=_context3.t2;return _context3.abrupt("return",{gasPrice:gasPrice});case 48:case"end":return _context3.stop()}}},_callee3)}));return _internal_estimateFeesPerGas.apply(this,arguments)}},{"../../errors/fee.js":360,"../../utils/getAction.js":452,"./estimateMaxPriorityFeePerGas.js":233,"./getBlock.js":236,"./getGasPrice.js":246}],232:[function(require,module,exports){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}var _excluded=["accessList","authorizationList","blobs","blobVersionedHashes","blockNumber","blockTag","data","gas","gasPrice","maxFeePerBlobGas","maxFeePerGas","maxPriorityFeePerGas","nonce","value","stateOverride"];function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function _defineProperty(e,r,t){return(r=_toPropertyKey(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function _objectWithoutProperties(e,t){if(null==e)return{};var o,r,i=_objectWithoutPropertiesLoose(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(r=0;r<n.length;r++){o=n[r],-1===t.indexOf(o)&&{}.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}}return i}function _objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r){if({}.hasOwnProperty.call(r,n)){if(-1!==e.indexOf(n))continue;t[n]=r[n]}}return t}function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}Object.defineProperty(exports,"__esModule",{value:true});exports.estimateGas=estimateGas;var parseAccount_js_1=require("../../accounts/utils/parseAccount.js");var base_js_1=require("../../errors/base.js");var recoverAuthorizationAddress_js_1=require("../../utils/authorization/recoverAuthorizationAddress.js");var toHex_js_1=require("../../utils/encoding/toHex.js");var getEstimateGasError_js_1=require("../../utils/errors/getEstimateGasError.js");var extract_js_1=require("../../utils/formatters/extract.js");var transactionRequest_js_1=require("../../utils/formatters/transactionRequest.js");var stateOverride_js_1=require("../../utils/stateOverride.js");var assertRequest_js_1=require("../../utils/transaction/assertRequest.js");var prepareTransactionRequest_js_1=require("../wallet/prepareTransactionRequest.js");var getBalance_js_1=require("./getBalance.js");function estimateGas(_x,_x2){return _estimateGas.apply(this,arguments)}function _estimateGas(){_estimateGas=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(client,args){var _args$account,account_,account,_client$chain,_client$chain$formatt,_client$chain$formatt2,estimateGas_rpc,_yield,accessList,authorizationList,blobs,blobVersionedHashes,blockNumber,blockTag,data,gas,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,nonce,value,stateOverride,rest,blockNumberHex,block,rpcStateOverride,to,chainFormat,format,request,estimate,_value,estimates;return regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_args$account=args.account,account_=_args$account===void 0?client.account:_args$account;account=account_?(0,parseAccount_js_1.parseAccount)(account_):undefined;_context3.prev=2;estimateGas_rpc=function estimateGas_rpc(parameters){var block=parameters.block,request=parameters.request,rpcStateOverride=parameters.rpcStateOverride;return client.request({method:"eth_estimateGas",params:rpcStateOverride?[request,block!==null&&block!==void 0?block:"latest",rpcStateOverride]:block?[request,block]:[request]})};_context3.next=6;return(0,prepareTransactionRequest_js_1.prepareTransactionRequest)(client,_objectSpread(_objectSpread({},args),{},{parameters:(account===null||account===void 0?void 0:account.type)==="local"?undefined:["blobVersionedHashes"]}));case 6:_yield=_context3.sent;accessList=_yield.accessList;authorizationList=_yield.authorizationList;blobs=_yield.blobs;blobVersionedHashes=_yield.blobVersionedHashes;blockNumber=_yield.blockNumber;blockTag=_yield.blockTag;data=_yield.data;gas=_yield.gas;gasPrice=_yield.gasPrice;maxFeePerBlobGas=_yield.maxFeePerBlobGas;maxFeePerGas=_yield.maxFeePerGas;maxPriorityFeePerGas=_yield.maxPriorityFeePerGas;nonce=_yield.nonce;value=_yield.value;stateOverride=_yield.stateOverride;rest=_objectWithoutProperties(_yield,_excluded);blockNumberHex=blockNumber?(0,toHex_js_1.numberToHex)(blockNumber):undefined;block=blockNumberHex||blockTag;rpcStateOverride=(0,stateOverride_js_1.serializeStateOverride)(stateOverride);_context3.next=28;return _asyncToGenerator(regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!rest.to){_context.next=2;break}return _context.abrupt("return",rest.to);case 2:if(!(authorizationList&&authorizationList.length>0)){_context.next=6;break}_context.next=5;return(0,recoverAuthorizationAddress_js_1.recoverAuthorizationAddress)({authorization:authorizationList[0]})["catch"](function(){throw new base_js_1.BaseError("`to` is required. Could not infer from `authorizationList`")});case 5:return _context.abrupt("return",_context.sent);case 6:return _context.abrupt("return",undefined);case 7:case"end":return _context.stop()}}},_callee)}))();case 28:to=_context3.sent;(0,assertRequest_js_1.assertRequest)(args);chainFormat=(_client$chain=client.chain)===null||_client$chain===void 0?void 0:(_client$chain$formatt=_client$chain.formatters)===null||_client$chain$formatt===void 0?void 0:(_client$chain$formatt2=_client$chain$formatt.transactionRequest)===null||_client$chain$formatt2===void 0?void 0:_client$chain$formatt2.format;format=chainFormat||transactionRequest_js_1.formatTransactionRequest;request=format(_objectSpread(_objectSpread({},(0,extract_js_1.extract)(rest,{format:chainFormat})),{},{from:account===null||account===void 0?void 0:account.address,accessList:accessList,authorizationList:authorizationList,blobs:blobs,blobVersionedHashes:blobVersionedHashes,data:data,gas:gas,gasPrice:gasPrice,maxFeePerBlobGas:maxFeePerBlobGas,maxFeePerGas:maxFeePerGas,maxPriorityFeePerGas:maxPriorityFeePerGas,nonce:nonce,to:to,value:value}));_context3.t0=BigInt;_context3.next=36;return estimateGas_rpc({block:block,request:request,rpcStateOverride:rpcStateOverride});case 36:_context3.t1=_context3.sent;estimate=(0,_context3.t0)(_context3.t1);if(!authorizationList){_context3.next=46;break}_context3.next=41;return(0,getBalance_js_1.getBalance)(client,{address:request.from});case 41:_value=_context3.sent;_context3.next=44;return Promise.all(authorizationList.map(function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(authorization){var address,estimate;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:address=authorization.address;_context2.next=3;return estimateGas_rpc({block:block,request:{authorizationList:undefined,data:data,from:account===null||account===void 0?void 0:account.address,to:address,value:(0,toHex_js_1.numberToHex)(_value)},rpcStateOverride:rpcStateOverride})["catch"](function(){return 100000n});case 3:estimate=_context2.sent;return _context2.abrupt("return",2n*BigInt(estimate));case 5:case"end":return _context2.stop()}}},_callee2)}));return function(_x3){return _ref2.apply(this,arguments)}}()));case 44:estimates=_context3.sent;estimate+=estimates.reduce(function(acc,curr){return acc+curr},0n);case 46:return _context3.abrupt("return",estimate);case 49:_context3.prev=49;_context3.t2=_context3["catch"](2);throw(0,getEstimateGasError_js_1.getEstimateGasError)(_context3.t2,_objectSpread(_objectSpread({},args),{},{account:account,chain:client.chain}));case 52:case"end":return _context3.stop()}}},_callee3,null,[[2,49]])}));return _estimateGas.apply(this,arguments)}},{"../../accounts/utils/parseAccount.js":216,"../../errors/base.js":348,"../../utils/authorization/recoverAuthorizationAddress.js":397,"../../utils/encoding/toHex.js":426,"../../utils/errors/getEstimateGasError.js":439,"../../utils/formatters/extract.js":444,"../../utils/formatters/transactionRequest.js":451,"../../utils/stateOverride.js":508,"../../utils/transaction/assertRequest.js":510,"../wallet/prepareTransactionRequest.js":307,"./getBalance.js":234}],233:[function(require,module,exports){"use strict";function _slicedToArray(r,e){return _arrayWithHoles(r)||_iterableToArrayLimit(r,e)||_unsupportedIterableToArray(r,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++){n[e]=r[e]}return n}function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0){}}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t["return"]&&(u=t["return"](),Object(u)!==u))return}finally{if(o)throw n}}return a}}function _arrayWithHoles(r){if(Array.isArray(r))return r}function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}Object.defineProperty(exports,"__esModule",{value:true});exports.estimateMaxPriorityFeePerGas=estimateMaxPriorityFeePerGas;exports.internal_estimateMaxPriorityFeePerGas=internal_estimateMaxPriorityFeePerGas;var fee_js_1=require("../../errors/fee.js");var fromHex_js_1=require("../../utils/encoding/fromHex.js");var getAction_js_1=require("../../utils/getAction.js");var getBlock_js_1=require("./getBlock.js");var getGasPrice_js_1=require("./getGasPrice.js");function estimateMaxPriorityFeePerGas(_x,_x2){return _estimateMaxPriorityFeePerGas.apply(this,arguments)}function _estimateMaxPriorityFeePerGas(){_estimateMaxPriorityFeePerGas=_asyncToGenerator(regeneratorRuntime.mark(function _callee(client,args){return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:return _context.abrupt("return",internal_estimateMaxPriorityFeePerGas(client,args));case 1:case"end":return _context.stop()}}},_callee)}));return _estimateMaxPriorityFeePerGas.apply(this,arguments)}function internal_estimateMaxPriorityFeePerGas(_x3,_x4){return _internal_estimateMaxPriorityFeePerGas.apply(this,arguments)}function _internal_estimateMaxPriorityFeePerGas(){_internal_estimateMaxPriorityFeePerGas=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(client,args){var _ref,block_,_ref$chain,chain,request,_chain$fees$maxPriori,_chain$fees,_chain$fees2,maxPriorityFeePerGas,block,maxPriorityFeePerGas_,maxPriorityFeePerGasHex,_yield$Promise$all,_yield$Promise$all2,_block,gasPrice,_maxPriorityFeePerGas;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_ref=args||{},block_=_ref.block,_ref$chain=_ref.chain,chain=_ref$chain===void 0?client.chain:_ref$chain,request=_ref.request;_context2.prev=1;maxPriorityFeePerGas=(_chain$fees$maxPriori=chain===null||chain===void 0?void 0:(_chain$fees=chain.fees)===null||_chain$fees===void 0?void 0:_chain$fees.maxPriorityFeePerGas)!==null&&_chain$fees$maxPriori!==void 0?_chain$fees$maxPriori:chain===null||chain===void 0?void 0:(_chain$fees2=chain.fees)===null||_chain$fees2===void 0?void 0:_chain$fees2.defaultPriorityFee;if(!(typeof maxPriorityFeePerGas==="function")){_context2.next=16;break}_context2.t0=block_;if(_context2.t0){_context2.next=9;break}_context2.next=8;return(0,getAction_js_1.getAction)(client,getBlock_js_1.getBlock,"getBlock")({});case 8:_context2.t0=_context2.sent;case 9:block=_context2.t0;_context2.next=12;return maxPriorityFeePerGas({block:block,client:client,request:request});case 12:maxPriorityFeePerGas_=_context2.sent;if(!(maxPriorityFeePerGas_===null)){_context2.next=15;break}throw new Error;case 15:return _context2.abrupt("return",maxPriorityFeePerGas_);case 16:if(!(typeof maxPriorityFeePerGas!=="undefined")){_context2.next=18;break}return _context2.abrupt("return",maxPriorityFeePerGas);case 18:_context2.next=20;return client.request({method:"eth_maxPriorityFeePerGas"});case 20:maxPriorityFeePerGasHex=_context2.sent;return _context2.abrupt("return",(0,fromHex_js_1.hexToBigInt)(maxPriorityFeePerGasHex));case 24:_context2.prev=24;_context2.t1=_context2["catch"](1);_context2.next=28;return Promise.all([block_?Promise.resolve(block_):(0,getAction_js_1.getAction)(client,getBlock_js_1.getBlock,"getBlock")({}),(0,getAction_js_1.getAction)(client,getGasPrice_js_1.getGasPrice,"getGasPrice")({})]);case 28:_yield$Promise$all=_context2.sent;_yield$Promise$all2=_slicedToArray(_yield$Promise$all,2);_block=_yield$Promise$all2[0];gasPrice=_yield$Promise$all2[1];if(!(typeof _block.baseFeePerGas!=="bigint")){_context2.next=34;break}throw new fee_js_1.Eip1559FeesNotSupportedError;case 34:_maxPriorityFeePerGas=gasPrice-_block.baseFeePerGas;if(!(_maxPriorityFeePerGas<0n)){_context2.next=37;break}return _context2.abrupt("return",0n);case 37:return _context2.abrupt("return",_maxPriorityFeePerGas);case 38:case"end":return _context2.stop()}}},_callee2,null,[[1,24]])}));return _internal_estimateMaxPriorityFeePerGas.apply(this,arguments)}},{"../../errors/fee.js":360,"../../utils/encoding/fromHex.js":423,"../../utils/getAction.js":452,"./getBlock.js":236,"./getGasPrice.js":246}],234:[function(require,module,exports){"use strict";function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}Object.defineProperty(exports,"__esModule",{value:true});exports.getBalance=getBalance;var toHex_js_1=require("../../utils/encoding/toHex.js");function getBalance(_x,_x2){return _getBalance.apply(this,arguments)}function _getBalance(){_getBalance=_asyncToGenerator(regeneratorRuntime.mark(function _callee(client,_ref){var address,blockNumber,_ref$blockTag,blockTag,blockNumberHex,balance;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:address=_ref.address,blockNumber=_ref.blockNumber,_ref$blockTag=_ref.blockTag,blockTag=_ref$blockTag===void 0?"latest":_ref$blockTag;blockNumberHex=blockNumber?(0,toHex_js_1.numberToHex)(blockNumber):undefined;_context.next=4;return client.request({method:"eth_getBalance",params:[address,blockNumberHex||blockTag]});case 4:balance=_context.sent;return _context.abrupt("return",BigInt(balance));case 6:case"end":return _context.stop()}}},_callee)}));return _getBalance.apply(this,arguments)}},{"../../utils/encoding/toHex.js":426}],235:[function(require,module,exports){"use strict";function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}Object.defineProperty(exports,"__esModule",{value:true});exports.getBlobBaseFee=getBlobBaseFee;function getBlobBaseFee(_x){return _getBlobBaseFee.apply(this,arguments)}function _getBlobBaseFee(){_getBlobBaseFee=_asyncToGenerator(regeneratorRuntime.mark(function _callee(client){var baseFee;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return client.request({method:"eth_blobBaseFee"});case 2:baseFee=_context.sent;return _context.abrupt("return",BigInt(baseFee));case 4:case"end":return _context.stop()}}},_callee)}));return _getBlobBaseFee.apply(this,arguments)}},{}],236:[function(require,module,exports){"use strict";function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}Object.defineProperty(exports,"__esModule",{value:true});exports.getBlock=getBlock;var block_js_1=require("../../errors/block.js");var toHex_js_1=require("../../utils/encoding/toHex.js");var block_js_2=require("../../utils/formatters/block.js");function getBlock(_x){return _getBlock.apply(this,arguments)}function _getBlock(){_getBlock=_asyncToGenerator(regeneratorRuntime.mark(function _callee(client){var _client$chain,_client$chain$formatt,_client$chain$formatt2;var _ref,blockHash,blockNumber,blockTag_,includeTransactions_,blockTag,includeTransactions,blockNumberHex,block,format,_args=arguments;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_ref=_args.length>1&&_args[1]!==undefined?_args[1]:{},blockHash=_ref.blockHash,blockNumber=_ref.blockNumber,blockTag_=_ref.blockTag,includeTransactions_=_ref.includeTransactions;blockTag=blockTag_!==null&&blockTag_!==void 0?blockTag_:"latest";includeTransactions=includeTransactions_!==null&&includeTransactions_!==void 0?includeTransactions_:false;blockNumberHex=blockNumber!==undefined?(0,toHex_js_1.numberToHex)(blockNumber):undefined;block=null;if(!blockHash){_context.next=11;break}_context.next=8;return client.request({method:"eth_getBlockByHash",params:[blockHash,includeTransactions]},{dedupe:true});case 8:block=_context.sent;_context.next=14;break;case 11:_context.next=13;return client.request({method:"eth_getBlockByNumber",params:[blockNumberHex||blockTag,includeTransactions]},{dedupe:Boolean(blockNumberHex)});case 13:block=_context.sent;case 14:if(block){_context.next=16;break}throw new block_js_1.BlockNotFoundError({blockHash:blockHash,blockNumber:blockNumber});case 16:format=((_client$chain=client.chain)===null||_client$chain===void 0?void 0:(_client$chain$formatt=_client$chain.formatters)===null||_client$chain$formatt===void 0?void 0:(_client$chain$formatt2=_client$chain$formatt.block)===null||_client$chain$formatt2===void 0?void 0:_client$chain$formatt2.format)||block_js_2.formatBlock;return _context.abrupt("return",format(block));case 18:case"end":return _context.stop()}}},_callee)}));return _getBlock.apply(this,arguments)}},{"../../errors/block.js":350,"../../utils/encoding/toHex.js":426,"../../utils/formatters/block.js":443}],237:[function(require,module,exports){"use strict";function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}Object.defineProperty(exports,"__esModule",{value:true});exports.getBlockNumberCache=getBlockNumberCache;exports.getBlockNumber=getBlockNumber;var withCache_js_1=require("../../utils/promise/withCache.js");var cacheKey=function cacheKey(id){return"blockNumber.".concat(id)};function getBlockNumberCache(id){return(0,withCache_js_1.getCache)(cacheKey(id))}function getBlockNumber(_x){return _getBlockNumber.apply(this,arguments)}function _getBlockNumber(){_getBlockNumber=_asyncToGenerator(regeneratorRuntime.mark(function _callee(client){var _ref,_ref$cacheTime,cacheTime,blockNumberHex,_args=arguments;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_ref=_args.length>1&&_args[1]!==undefined?_args[1]:{},_ref$cacheTime=_ref.cacheTime,cacheTime=_ref$cacheTime===void 0?client.cacheTime:_ref$cacheTime;_context.next=3;return(0,withCache_js_1.withCache)(function(){return client.request({method:"eth_blockNumber"})},{cacheKey:cacheKey(client.uid),cacheTime:cacheTime});case 3:blockNumberHex=_context.sent;return _context.abrupt("return",BigInt(blockNumberHex));case 5:case"end":return _context.stop()}}},_callee)}));return _getBlockNumber.apply(this,arguments)}},{"../../utils/promise/withCache.js":475}],238:[function(require,module,exports){"use strict";function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}Object.defineProperty(exports,"__esModule",{value:true});exports.getBlockTransactionCount=getBlockTransactionCount;var fromHex_js_1=require("../../utils/encoding/fromHex.js");var toHex_js_1=require("../../utils/encoding/toHex.js");function getBlockTransactionCount(_x){return _getBlockTransactionCount.apply(this,arguments)}function _getBlockTransactionCount(){_getBlockTransactionCount=_asyncToGenerator(regeneratorRuntime.mark(function _callee(client){var _ref,blockHash,blockNumber,_ref$blockTag,blockTag,blockNumberHex,count,_args=arguments;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_ref=_args.length>1&&_args[1]!==undefined?_args[1]:{},blockHash=_ref.blockHash,blockNumber=_ref.blockNumber,_ref$blockTag=_ref.blockTag,blockTag=_ref$blockTag===void 0?"latest":_ref$blockTag;blockNumberHex=blockNumber!==undefined?(0,toHex_js_1.numberToHex)(blockNumber):undefined;if(!blockHash){_context.next=8;break}_context.next=5;return client.request({method:"eth_getBlockTransactionCountByHash",params:[blockHash]},{dedupe:true});case 5:count=_context.sent;_context.next=11;break;case 8:_context.next=10;return client.request({method:"eth_getBlockTransactionCountByNumber",params:[blockNumberHex||blockTag]},{dedupe:Boolean(blockNumberHex)});case 10:count=_context.sent;case 11:return _context.abrupt("return",(0,fromHex_js_1.hexToNumber)(count));case 12:case"end":return _context.stop()}}},_callee)}));return _getBlockTransactionCount.apply(this,arguments)}},{"../../utils/encoding/fromHex.js":423,"../../utils/encoding/toHex.js":426}],239:[function(require,module,exports){"use strict";function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}Object.defineProperty(exports,"__esModule",{value:true});exports.getChainId=getChainId;var fromHex_js_1=require("../../utils/encoding/fromHex.js");function getChainId(_x){return _getChainId.apply(this,arguments)}function _getChainId(){_getChainId=_asyncToGenerator(regeneratorRuntime.mark(function _callee(client){var chainIdHex;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return client.request({method:"eth_chainId"},{dedupe:true});case 2:chainIdHex=_context.sent;return _context.abrupt("return",(0,fromHex_js_1.hexToNumber)(chainIdHex));case 4:case"end":return _context.stop()}}},_callee)}));return _getChainId.apply(this,arguments)}},{"../../utils/encoding/fromHex.js":423}],240:[function(require,module,exports){"use strict";function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}Object.defineProperty(exports,"__esModule",{value:true});exports.getCode=getCode;var toHex_js_1=require("../../utils/encoding/toHex.js");function getCode(_x,_x2){return _getCode.apply(this,arguments)}function _getCode(){_getCode=_asyncToGenerator(regeneratorRuntime.mark(function _callee(client,_ref){var address,blockNumber,_ref$blockTag,blockTag,blockNumberHex,hex;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:address=_ref.address,blockNumber=_ref.blockNumber,_ref$blockTag=_ref.blockTag,blockTag=_ref$blockTag===void 0?"latest":_ref$blockTag;blockNumberHex=blockNumber!==undefined?(0,toHex_js_1.numberToHex)(blockNumber):undefined;_context.next=4;return client.request({method:"eth_getCode",params:[address,blockNumberHex||blockTag]},{dedupe:Boolean(blockNumberHex)});case 4:hex=_context.sent;if(!(hex==="0x")){_context.next=7;break}return _context.abrupt("return",undefined);case 7:return _context.abrupt("return",hex);case 8:case"end":return _context.stop()}}},_callee)}));return _getCode.apply(this,arguments)}},{"../../utils/encoding/toHex.js":426}],241:[function(require,module,exports){"use strict";function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}Object.defineProperty(exports,"__esModule",{value:true});exports.getContractEvents=getContractEvents;var getAbiItem_js_1=require("../../utils/abi/getAbiItem.js");var getAction_js_1=require("../../utils/getAction.js");var getLogs_js_1=require("./getLogs.js");function getContractEvents(_x,_x2){return _getContractEvents.apply(this,arguments)}function _getContractEvents(){_getContractEvents=_asyncToGenerator(regeneratorRuntime.mark(function _callee(client,parameters){var abi,address,args,blockHash,eventName,fromBlock,toBlock,strict,event,events;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:abi=parameters.abi,address=parameters.address,args=parameters.args,blockHash=parameters.blockHash,eventName=parameters.eventName,fromBlock=parameters.fromBlock,toBlock=parameters.toBlock,strict=parameters.strict;event=eventName?(0,getAbiItem_js_1.getAbiItem)({abi:abi,name:eventName}):undefined;events=!event?abi.filter(function(x){return x.type==="event"}):undefined;return _context.abrupt("return",(0,getAction_js_1.getAction)(client,getLogs_js_1.getLogs,"getLogs")({address:address,args:args,blockHash:blockHash,event:event,events:events,fromBlock:fromBlock,toBlock:toBlock,strict:strict}));case 4:case"end":return _context.stop()}}},_callee)}));return _getContractEvents.apply(this,arguments)}},{"../../utils/abi/getAbiItem.js":389,"../../utils/getAction.js":452,"./getLogs.js":247}],242:[function(require,module,exports){"use strict";function _slicedToArray(r,e){return _arrayWithHoles(r)||_iterableToArrayLimit(r,e)||_unsupportedIterableToArray(r,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++){n[e]=r[e]}return n}function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0){}}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t["return"]&&(u=t["return"](),Object(u)!==u))return}finally{if(o)throw n}}return a}}function _arrayWithHoles(r){if(Array.isArray(r))return r}function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}Object.defineProperty(exports,"__esModule",{value:true});exports.getEip712Domain=getEip712Domain;var eip712_js_1=require("../../errors/eip712.js");var getAction_js_1=require("../../utils/getAction.js");var readContract_js_1=require("./readContract.js");function getEip712Domain(_x,_x2){return _getEip712Domain.apply(this,arguments)}function _getEip712Domain(){_getEip712Domain=_asyncToGenerator(regeneratorRuntime.mark(function _callee(client,parameters){var address,factory,factoryData,_yield,_yield2,fields,name,version,chainId,verifyingContract,salt,extensions,error;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:address=parameters.address,factory=parameters.factory,factoryData=parameters.factoryData;_context.prev=1;_context.next=4;return(0,getAction_js_1.getAction)(client,readContract_js_1.readContract,"readContract")({abi:abi,address:address,functionName:"eip712Domain",factory:factory,factoryData:factoryData});case 4:_yield=_context.sent;_yield2=_slicedToArray(_yield,7);fields=_yield2[0];name=_yield2[1];version=_yield2[2];chainId=_yield2[3];verifyingContract=_yield2[4];salt=_yield2[5];extensions=_yield2[6];return _context.abrupt("return",{domain:{name:name,version:version,chainId:Number(chainId),verifyingContract:verifyingContract,salt:salt},extensions:extensions,fields:fields});case 16:_context.prev=16;_context.t0=_context["catch"](1);error=_context.t0;if(!(error.name==="ContractFunctionExecutionError"&&error.cause.name==="ContractFunctionZeroDataError")){_context.next=21;break}throw new eip712_js_1.Eip712DomainNotFoundError({address:address});case 21:throw error;case 22:case"end":return _context.stop()}}},_callee,null,[[1,16]])}));return _getEip712Domain.apply(this,arguments)}var abi=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}]},{"../../errors/eip712.js":356,"../../utils/getAction.js":452,"./readContract.js":255}],243:[function(require,module,exports){"use strict";function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}Object.defineProperty(exports,"__esModule",{value:true});exports.getFeeHistory=getFeeHistory;var toHex_js_1=require("../../utils/encoding/toHex.js");var feeHistory_js_1=require("../../utils/formatters/feeHistory.js");function getFeeHistory(_x,_x2){return _getFeeHistory.apply(this,arguments)}function _getFeeHistory(){_getFeeHistory=_asyncToGenerator(regeneratorRuntime.mark(function _callee(client,_ref){var blockCount,blockNumber,_ref$blockTag,blockTag,rewardPercentiles,blockNumberHex,feeHistory;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:blockCount=_ref.blockCount,blockNumber=_ref.blockNumber,_ref$blockTag=_ref.blockTag,blockTag=_ref$blockTag===void 0?"latest":_ref$blockTag,rewardPercentiles=_ref.rewardPercentiles;blockNumberHex=blockNumber?(0,toHex_js_1.numberToHex)(blockNumber):undefined;_context.next=4;return client.request({method:"eth_feeHistory",params:[(0,toHex_js_1.numberToHex)(blockCount),blockNumberHex||blockTag,rewardPercentiles]},{dedupe:Boolean(blockNumberHex)});case 4:feeHistory=_context.sent;return _context.abrupt("return",(0,feeHistory_js_1.formatFeeHistory)(feeHistory));case 6:case"end":return _context.stop()}}},_callee)}));return _getFeeHistory.apply(this,arguments)}},{"../../utils/encoding/toHex.js":426,"../../utils/formatters/feeHistory.js":445}],244:[function(require,module,exports){"use strict";function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}Object.defineProperty(exports,"__esModule",{value:true});exports.getFilterChanges=getFilterChanges;var parseEventLogs_js_1=require("../../utils/abi/parseEventLogs.js");var log_js_1=require("../../utils/formatters/log.js");function getFilterChanges(_x,_x2){return _getFilterChanges.apply(this,arguments)}function _getFilterChanges(){_getFilterChanges=_asyncToGenerator(regeneratorRuntime.mark(function _callee(_client,_ref){var filter,strict,logs,formattedLogs;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:filter=_ref.filter;strict="strict"in filter&&filter.strict;_context.next=4;return filter.request({method:"eth_getFilterChanges",params:[filter.id]});case 4:logs=_context.sent;if(!(typeof logs[0]==="string")){_context.next=7;break}return _context.abrupt("return",logs);case 7:formattedLogs=logs.map(function(log){return(0,log_js_1.formatLog)(log)});if(!(!("abi"in filter)||!filter.abi)){_context.next=10;break}return _context.abrupt("return",formattedLogs);case 10:return _context.abrupt("return",(0,parseEventLogs_js_1.parseEventLogs)({abi:filter.abi,logs:formattedLogs,strict:strict}));case 11:case"end":return _context.stop()}}},_callee)}));return _getFilterChanges.apply(this,arguments)}},{"../../utils/abi/parseEventLogs.js":390,"../../utils/formatters/log.js":447}],245:[function(require,module,exports){"use strict";function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}Object.defineProperty(exports,"__esModule",{value:true});exports.getFilterLogs=getFilterLogs;var parseEventLogs_js_1=require("../../utils/abi/parseEventLogs.js");var log_js_1=require("../../utils/formatters/log.js");function getFilterLogs(_x,_x2){return _getFilterLogs.apply(this,arguments)}function _getFilterLogs(){_getFilterLogs=_asyncToGenerator(regeneratorRuntime.mark(function _callee(_client,_ref){var _filter$strict;var filter,strict,logs,formattedLogs;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:filter=_ref.filter;strict=(_filter$strict=filter.strict)!==null&&_filter$strict!==void 0?_filter$strict:false;_context.next=4;return filter.request({method:"eth_getFilterLogs",params:[filter.id]});case 4:logs=_context.sent;formattedLogs=logs.map(function(log){return(0,log_js_1.formatLog)(log)});if(filter.abi){_context.next=8;break}return _context.abrupt("return",formattedLogs);case 8:return _context.abrupt("return",(0,parseEventLogs_js_1.parseEventLogs)({abi:filter.abi,logs:formattedLogs,strict:strict}));case 9:case"end":return _context.stop()}}},_callee)}));return _getFilterLogs.apply(this,arguments)}},{"../../utils/abi/parseEventLogs.js":390,"../../utils/formatters/log.js":447}],246:[function(require,module,exports){"use strict";function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}Object.defineProperty(exports,"__esModule",{value:true});exports.getGasPrice=getGasPrice;function getGasPrice(_x){return _getGasPrice.apply(this,arguments)}function _getGasPrice(){_getGasPrice=_asyncToGenerator(regeneratorRuntime.mark(function _callee(client){var gasPrice;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return client.request({method:"eth_gasPrice"});case 2:gasPrice=_context.sent;return _context.abrupt("return",BigInt(gasPrice));case 4:case"end":return _context.stop()}}},_callee)}));return _getGasPrice.apply(this,arguments)}},{}],247:[function(require,module,exports){"use strict";function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}Object.defineProperty(exports,"__esModule",{value:true});exports.getLogs=getLogs;var encodeEventTopics_js_1=require("../../utils/abi/encodeEventTopics.js");var parseEventLogs_js_1=require("../../utils/abi/parseEventLogs.js");var toHex_js_1=require("../../utils/encoding/toHex.js");var log_js_1=require("../../utils/formatters/log.js");function getLogs(_x){return _getLogs.apply(this,arguments)}function _getLogs(){_getLogs=_asyncToGenerator(regeneratorRuntime.mark(function _callee(client){var _ref,address,blockHash,fromBlock,toBlock,event,events_,args,strict_,strict,events,topics,encoded,logs,formattedLogs,_args=arguments;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_ref=_args.length>1&&_args[1]!==undefined?_args[1]:{},address=_ref.address,blockHash=_ref.blockHash,fromBlock=_ref.fromBlock,toBlock=_ref.toBlock,event=_ref.event,events_=_ref.events,args=_ref.args,strict_=_ref.strict;strict=strict_!==null&&strict_!==void 0?strict_:false;events=events_!==null&&events_!==void 0?events_:event?[event]:undefined;topics=[];if(events){encoded=events.flatMap(function(event){return(0,encodeEventTopics_js_1.encodeEventTopics)({abi:[event],eventName:event.name,args:events_?undefined:args})});topics=[encoded];if(event)topics=topics[0]}if(!blockHash){_context.next=11;break}_context.next=8;return client.request({method:"eth_getLogs",params:[{address:address,topics:topics,blockHash:blockHash}]});case 8:logs=_context.sent;_context.next=14;break;case 11:_context.next=13;return client.request({method:"eth_getLogs",params:[{address:address,topics:topics,fromBlock:typeof fromBlock==="bigint"?(0,toHex_js_1.numberToHex)(fromBlock):fromBlock,toBlock:typeof toBlock==="bigint"?(0,toHex_js_1.numberToHex)(toBlock):toBlock}]});case 13:logs=_context.sent;case 14:formattedLogs=logs.map(function(log){return(0,log_js_1.formatLog)(log)});if(events){_context.next=17;break}return _context.abrupt("return",formattedLogs);case 17:return _context.abrupt("return",(0,parseEventLogs_js_1.parseEventLogs)({abi:events,args:args,logs:formattedLogs,strict:strict}));case 18:case"end":return _context.stop()}}},_callee)}));return _getLogs.apply(this,arguments)}},{"../../utils/abi/encodeEventTopics.js":383,"../../utils/abi/parseEventLogs.js":390,"../../utils/encoding/toHex.js":426,"../../utils/formatters/log.js":447}],248:[function(require,module,exports){"use strict";function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}Object.defineProperty(exports,"__esModule",{value:true});exports.getProof=getProof;var toHex_js_1=require("../../utils/encoding/toHex.js");var proof_js_1=require("../../utils/formatters/proof.js");function getProof(_x,_x2){return _getProof.apply(this,arguments)}function _getProof(){_getProof=_asyncToGenerator(regeneratorRuntime.mark(function _callee(client,_ref){var address,blockNumber,blockTag_,storageKeys,blockTag,blockNumberHex,proof;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:address=_ref.address,blockNumber=_ref.blockNumber,blockTag_=_ref.blockTag,storageKeys=_ref.storageKeys;blockTag=blockTag_!==null&&blockTag_!==void 0?blockTag_:"latest";blockNumberHex=blockNumber!==undefined?(0,toHex_js_1.numberToHex)(blockNumber):undefined;_context.next=5;return client.request({method:"eth_getProof",params:[address,storageKeys,blockNumberHex||blockTag]});case 5:proof=_context.sent;return _context.abrupt("return",(0,proof_js_1.formatProof)(proof));case 7:case"end":return _context.stop()}}},_callee)}));return _getProof.apply(this,arguments)}},{"../../utils/encoding/toHex.js":426,"../../utils/formatters/proof.js":448}],249:[function(require,module,exports){"use strict";function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}Object.defineProperty(exports,"__esModule",{value:true});exports.getStorageAt=getStorageAt;var toHex_js_1=require("../../utils/encoding/toHex.js");function getStorageAt(_x,_x2){return _getStorageAt.apply(this,arguments)}function _getStorageAt(){_getStorageAt=_asyncToGenerator(regeneratorRuntime.mark(function _callee(client,_ref){var address,blockNumber,_ref$blockTag,blockTag,slot,blockNumberHex,data;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:address=_ref.address,blockNumber=_ref.blockNumber,_ref$blockTag=_ref.blockTag,blockTag=_ref$blockTag===void 0?"latest":_ref$blockTag,slot=_ref.slot;blockNumberHex=blockNumber!==undefined?(0,toHex_js_1.numberToHex)(blockNumber):undefined;_context.next=4;return client.request({method:"eth_getStorageAt",params:[address,slot,blockNumberHex||blockTag]});case 4:data=_context.sent;return _context.abrupt("return",data);case 6:case"end":return _context.stop()}}},_callee)}));return _getStorageAt.apply(this,arguments)}},{"../../utils/encoding/toHex.js":426}],250:[function(require,module,exports){"use strict";function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}Object.defineProperty(exports,"__esModule",{value:true});exports.getTransaction=getTransaction;var transaction_js_1=require("../../errors/transaction.js");var toHex_js_1=require("../../utils/encoding/toHex.js");var transaction_js_2=require("../../utils/formatters/transaction.js");function getTransaction(_x,_x2){return _getTransaction.apply(this,arguments)}function _getTransaction(){_getTransaction=_asyncToGenerator(regeneratorRuntime.mark(function _callee(client,_ref){var _client$chain,_client$chain$formatt,_client$chain$formatt2;var blockHash,blockNumber,blockTag_,hash,index,blockTag,blockNumberHex,transaction,format;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:blockHash=_ref.blockHash,blockNumber=_ref.blockNumber,blockTag_=_ref.blockTag,hash=_ref.hash,index=_ref.index;blockTag=blockTag_||"latest";blockNumberHex=blockNumber!==undefined?(0,toHex_js_1.numberToHex)(blockNumber):undefined;transaction=null;if(!hash){_context.next=10;break}_context.next=7;return client.request({method:"eth_getTransactionByHash",params:[hash]},{dedupe:true});case 7:transaction=_context.sent;_context.next=20;break;case 10:if(!blockHash){_context.next=16;break}_context.next=13;return client.request({method:"eth_getTransactionByBlockHashAndIndex",params:[blockHash,(0,toHex_js_1.numberToHex)(index)]},{dedupe:true});case 13:transaction=_context.sent;_context.next=20;break;case 16:if(!(blockNumberHex||blockTag)){_context.next=20;break}_context.next=19;return client.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[blockNumberHex||blockTag,(0,toHex_js_1.numberToHex)(index)]},{dedupe:Boolean(blockNumberHex)});case 19:transaction=_context.sent;case 20:if(transaction){_context.next=22;break}throw new transaction_js_1.TransactionNotFoundError({blockHash:blockHash,blockNumber:blockNumber,blockTag:blockTag,hash:hash,index:index});case 22:format=((_client$chain=client.chain)===null||_client$chain===void 0?void 0:(_client$chain$formatt=_client$chain.formatters)===null||_client$chain$formatt===void 0?void 0:(_client$chain$formatt2=_client$chain$formatt.transaction)===null||_client$chain$formatt2===void 0?void 0:_client$chain$formatt2.format)||transaction_js_2.formatTransaction;return _context.abrupt("return",format(transaction));case 24:case"end":return _context.stop()}}},_callee)}));return _getTransaction.apply(this,arguments)}},{"../../errors/transaction.js":366,"../../utils/encoding/toHex.js":426,"../../utils/formatters/transaction.js":449}],251:[function(require,module,exports){"use strict";function _slicedToArray(r,e){return _arrayWithHoles(r)||_iterableToArrayLimit(r,e)||_unsupportedIterableToArray(r,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++){n[e]=r[e]}return n}function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0){}}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t["return"]&&(u=t["return"](),Object(u)!==u))return}finally{if(o)throw n}}return a}}function _arrayWithHoles(r){if(Array.isArray(r))return r}function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}Object.defineProperty(exports,"__esModule",{value:true});exports.getTransactionConfirmations=getTransactionConfirmations;var getAction_js_1=require("../../utils/getAction.js");var getBlockNumber_js_1=require("./getBlockNumber.js");var getTransaction_js_1=require("./getTransaction.js");function getTransactionConfirmations(_x,_x2){return _getTransactionConfirmations.apply(this,arguments)}function _getTransactionConfirmations(){_getTransactionConfirmations=_asyncToGenerator(regeneratorRuntime.mark(function _callee(client,_ref){var hash,transactionReceipt,_yield$Promise$all,_yield$Promise$all2,blockNumber,transaction,transactionBlockNumber;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:hash=_ref.hash,transactionReceipt=_ref.transactionReceipt;_context.next=3;return Promise.all([(0,getAction_js_1.getAction)(client,getBlockNumber_js_1.getBlockNumber,"getBlockNumber")({}),hash?(0,getAction_js_1.getAction)(client,getTransaction_js_1.getTransaction,"getTransaction")({hash:hash}):undefined]);case 3:_yield$Promise$all=_context.sent;_yield$Promise$all2=_slicedToArray(_yield$Promise$all,2);blockNumber=_yield$Promise$all2[0];transaction=_yield$Promise$all2[1];transactionBlockNumber=(transactionReceipt===null||transactionReceipt===void 0?void 0:transactionReceipt.blockNumber)||(transaction===null||transaction===void 0?void 0:transaction.blockNumber);if(transactionBlockNumber){_context.next=10;break}return _context.abrupt("return",0n);case 10:return _context.abrupt("return",blockNumber-transactionBlockNumber+1n);case 11:case"end":return _context.stop()}}},_callee)}));return _getTransactionConfirmations.apply(this,arguments)}},{"../../utils/getAction.js":452,"./getBlockNumber.js":237,"./getTransaction.js":250}],252:[function(require,module,exports){"use strict";function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}Object.defineProperty(exports,"__esModule",{value:true});exports.getTransactionCount=getTransactionCount;var fromHex_js_1=require("../../utils/encoding/fromHex.js");var toHex_js_1=require("../../utils/encoding/toHex.js");function getTransactionCount(_x,_x2){return _getTransactionCount.apply(this,arguments)}function _getTransactionCount(){_getTransactionCount=_asyncToGenerator(regeneratorRuntime.mark(function _callee(client,_ref){var address,_ref$blockTag,blockTag,blockNumber,count;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:address=_ref.address,_ref$blockTag=_ref.blockTag,blockTag=_ref$blockTag===void 0?"latest":_ref$blockTag,blockNumber=_ref.blockNumber;_context.next=3;return client.request({method:"eth_getTransactionCount",params:[address,blockNumber?(0,toHex_js_1.numberToHex)(blockNumber):blockTag]},{dedupe:Boolean(blockNumber)});case 3:count=_context.sent;return _context.abrupt("return",(0,fromHex_js_1.hexToNumber)(count));case 5:case"end":return _context.stop()}}},_callee)}));return _getTransactionCount.apply(this,arguments)}},{"../../utils/encoding/fromHex.js":423,"../../utils/encoding/toHex.js":426}],253:[function(require,module,exports){"use strict";function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}Object.defineProperty(exports,"__esModule",{value:true});exports.getTransactionReceipt=getTransactionReceipt;var transaction_js_1=require("../../errors/transaction.js");var transactionReceipt_js_1=require("../../utils/formatters/transactionReceipt.js");function getTransactionReceipt(_x,_x2){return _getTransactionReceipt.apply(this,arguments)}function _getTransactionReceipt(){_getTransactionReceipt=_asyncToGenerator(regeneratorRuntime.mark(function _callee(client,_ref){var _client$chain,_client$chain$formatt,_client$chain$formatt2;var hash,receipt,format;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:hash=_ref.hash;_context.next=3;return client.request({method:"eth_getTransactionReceipt",params:[hash]},{dedupe:true});case 3:receipt=_context.sent;if(receipt){_context.next=6;break}throw new transaction_js_1.TransactionReceiptNotFoundError({hash:hash});case 6:format=((_client$chain=client.chain)===null||_client$chain===void 0?void 0:(_client$chain$formatt=_client$chain.formatters)===null||_client$chain$formatt===void 0?void 0:(_client$chain$formatt2=_client$chain$formatt.transactionReceipt)===null||_client$chain$formatt2===void 0?void 0:_client$chain$formatt2.format)||transactionReceipt_js_1.formatTransactionReceipt;return _context.abrupt("return",format(receipt));case 8:case"end":return _context.stop()}}},_callee)}));return _getTransactionReceipt.apply(this,arguments)}},{"../../errors/transaction.js":366,"../../utils/formatters/transactionReceipt.js":450}],254:[function(require,module,exports){"use strict";function _toConsumableArray(r){return _arrayWithoutHoles(r)||_iterableToArray(r)||_unsupportedIterableToArray(r)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}function _iterableToArray(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}function _arrayWithoutHoles(r){if(Array.isArray(r))return _arrayLikeToArray(r)}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++){n[e]=r[e]}return n}function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}Object.defineProperty(exports,"__esModule",{value:true});exports.multicall=multicall;var abis_js_1=require("../../constants/abis.js");var abi_js_1=require("../../errors/abi.js");var base_js_1=require("../../errors/base.js");var contract_js_1=require("../../errors/contract.js");var decodeFunctionResult_js_1=require("../../utils/abi/decodeFunctionResult.js");var encodeFunctionData_js_1=require("../../utils/abi/encodeFunctionData.js");var getChainContractAddress_js_1=require("../../utils/chain/getChainContractAddress.js");var getContractError_js_1=require("../../utils/errors/getContractError.js");var getAction_js_1=require("../../utils/getAction.js");var readContract_js_1=require("./readContract.js");function multicall(_x,_x2){return _multicall.apply(this,arguments)}function _multicall(){_multicall=_asyncToGenerator(regeneratorRuntime.mark(function _callee(client,parameters){var _client$batch;var _parameters$allowFail,allowFailure,batchSize_,blockNumber,blockTag,multicallAddress_,stateOverride,contracts,batchSize,multicallAddress,chunkedCalls,currentChunk,currentChunkSize,i,_contracts$i,abi,address,args,functionName,callData,error,aggregate3Results,results,_i,result,j,aggregate3Result,_j,_aggregate3Result$_j,returnData,success,_callData,_contracts$results$le,_abi,_address,_functionName,_args,_result,_error;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_parameters$allowFail=parameters.allowFailure,allowFailure=_parameters$allowFail===void 0?true:_parameters$allowFail,batchSize_=parameters.batchSize,blockNumber=parameters.blockNumber,blockTag=parameters.blockTag,multicallAddress_=parameters.multicallAddress,stateOverride=parameters.stateOverride;contracts=parameters.contracts;batchSize=batchSize_!==null&&batchSize_!==void 0?batchSize_:_typeof((_client$batch=client.batch)===null||_client$batch===void 0?void 0:_client$batch.multicall)==="object"&&client.batch.multicall.batchSize||1024;multicallAddress=multicallAddress_;if(multicallAddress){_context.next=8;break}if(client.chain){_context.next=7;break}throw new Error("client chain not configured. multicallAddress is required.");case 7:multicallAddress=(0,getChainContractAddress_js_1.getChainContractAddress)({blockNumber:blockNumber,chain:client.chain,contract:"multicall3"});case 8:chunkedCalls=[[]];currentChunk=0;currentChunkSize=0;i=0;case 12:if(!(i<contracts.length)){_context.next=30;break}_contracts$i=contracts[i],abi=_contracts$i.abi,address=_contracts$i.address,args=_contracts$i.args,functionName=_contracts$i.functionName;_context.prev=14;callData=(0,encodeFunctionData_js_1.encodeFunctionData)({abi:abi,args:args,functionName:functionName});currentChunkSize+=(callData.length-2)/2;if(batchSize>0&&currentChunkSize>batchSize&&chunkedCalls[currentChunk].length>0){currentChunk++;currentChunkSize=(callData.length-2)/2;chunkedCalls[currentChunk]=[]}chunkedCalls[currentChunk]=[].concat(_toConsumableArray(chunkedCalls[currentChunk]),[{allowFailure:true,callData:callData,target:address}]);_context.next=27;break;case 21:_context.prev=21;_context.t0=_context["catch"](14);error=(0,getContractError_js_1.getContractError)(_context.t0,{abi:abi,address:address,args:args,docsPath:"/docs/contract/multicall",functionName:functionName});if(allowFailure){_context.next=26;break}throw error;case 26:chunkedCalls[currentChunk]=[].concat(_toConsumableArray(chunkedCalls[currentChunk]),[{allowFailure:true,callData:"0x",target:address}]);case 27:i++;_context.next=12;break;case 30:_context.next=32;return Promise.allSettled(chunkedCalls.map(function(calls){return(0,getAction_js_1.getAction)(client,readContract_js_1.readContract,"readContract")({abi:abis_js_1.multicall3Abi,address:multicallAddress,args:[calls],blockNumber:blockNumber,blockTag:blockTag,functionName:"aggregate3",stateOverride:stateOverride})}));case 32:aggregate3Results=_context.sent;results=[];_i=0;case 35:if(!(_i<aggregate3Results.length)){_context.next=69;break}result=aggregate3Results[_i];if(!(result.status==="rejected")){_context.next=42;break}if(allowFailure){_context.next=40;break}throw result.reason;case 40:for(j=0;j<chunkedCalls[_i].length;j++){results.push({status:"failure",error:result.reason,result:undefined})}return _context.abrupt("continue",66);case 42:aggregate3Result=result.value;_j=0;case 44:if(!(_j<aggregate3Result.length)){_context.next=66;break}_aggregate3Result$_j=aggregate3Result[_j],returnData=_aggregate3Result$_j.returnData,success=_aggregate3Result$_j.success;_callData=chunkedCalls[_i][_j].callData;_contracts$results$le=contracts[results.length],_abi=_contracts$results$le.abi,_address=_contracts$results$le.address,_functionName=_contracts$results$le.functionName,_args=_contracts$results$le.args;_context.prev=48;if(!(_callData==="0x")){_context.next=51;break}throw new abi_js_1.AbiDecodingZeroDataError;case 51:if(success){_context.next=53;break}throw new contract_js_1.RawContractError({data:returnData});case 53:_result=(0,decodeFunctionResult_js_1.decodeFunctionResult)({abi:_abi,args:_args,data:returnData,functionName:_functionName});results.push(allowFailure?{result:_result,status:"success"}:_result);_context.next=63;break;case 57:_context.prev=57;_context.t1=_context["catch"](48);_error=(0,getContractError_js_1.getContractError)(_context.t1,{abi:_abi,address:_address,args:_args,docsPath:"/docs/contract/multicall",functionName:_functionName});if(allowFailure){_context.next=62;break}throw _error;case 62:results.push({error:_error,result:undefined,status:"failure"});case 63:_j++;_context.next=44;break;case 66:_i++;_context.next=35;break;case 69:if(!(results.length!==contracts.length)){_context.next=71;break}throw new base_js_1.BaseError("multicall results mismatch");case 71:return _context.abrupt("return",results);case 72:case"end":return _context.stop()}}},_callee,null,[[14,21],[48,57]])}));return _multicall.apply(this,arguments)}},{"../../constants/abis.js":334,"../../errors/abi.js":345,"../../errors/base.js":348,"../../errors/contract.js":353,"../../utils/abi/decodeFunctionResult.js":379,"../../utils/abi/encodeFunctionData.js":384,"../../utils/chain/getChainContractAddress.js":413,"../../utils/errors/getContractError.js":438,"../../utils/getAction.js":452,"./readContract.js":255}],255:[function(require,module,exports){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}var _excluded=["abi","address","args","functionName"];function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function _defineProperty(e,r,t){return(r=_toPropertyKey(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function _objectWithoutProperties(e,t){if(null==e)return{};var o,r,i=_objectWithoutPropertiesLoose(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(r=0;r<n.length;r++){o=n[r],-1===t.indexOf(o)&&{}.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}}return i}function _objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r){if({}.hasOwnProperty.call(r,n)){if(-1!==e.indexOf(n))continue;t[n]=r[n]}}return t}function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}Object.defineProperty(exports,"__esModule",{value:true});exports.readContract=readContract;var decodeFunctionResult_js_1=require("../../utils/abi/decodeFunctionResult.js");var encodeFunctionData_js_1=require("../../utils/abi/encodeFunctionData.js");var getContractError_js_1=require("../../utils/errors/getContractError.js");var getAction_js_1=require("../../utils/getAction.js");var call_js_1=require("./call.js");function readContract(_x,_x2){return _readContract.apply(this,arguments)}function _readContract(){_readContract=_asyncToGenerator(regeneratorRuntime.mark(function _callee(client,parameters){var abi,address,args,functionName,rest,calldata,_yield,data;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:abi=parameters.abi,address=parameters.address,args=parameters.args,functionName=parameters.functionName,rest=_objectWithoutProperties(parameters,_excluded);calldata=(0,encodeFunctionData_js_1.encodeFunctionData)({abi:abi,args:args,functionName:functionName});_context.prev=2;_context.next=5;return(0,getAction_js_1.getAction)(client,call_js_1.call,"call")(_objectSpread(_objectSpread({},rest),{},{data:calldata,to:address}));case 5:_yield=_context.sent;data=_yield.data;return _context.abrupt("return",(0,decodeFunctionResult_js_1.decodeFunctionResult)({abi:abi,args:args,functionName:functionName,data:data||"0x"}));case 10:_context.prev=10;_context.t0=_context["catch"](2);throw(0,getContractError_js_1.getContractError)(_context.t0,{abi:abi,address:address,args:args,docsPath:"/docs/contract/readContract",functionName:functionName});case 13:case"end":return _context.stop()}}},_callee,null,[[2,10]])}));return _readContract.apply(this,arguments)}},{"../../utils/abi/decodeFunctionResult.js":379,"../../utils/abi/encodeFunctionData.js":384,"../../utils/errors/getContractError.js":438,"../../utils/getAction.js":452,"./call.js":224}],256:[function(require,module,exports){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function _defineProperty(e,r,t){return(r=_toPropertyKey(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function _createForOfIteratorHelper(r,e){var t="undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(!t){if(Array.isArray(r)||(t=_unsupportedIterableToArray(r))||e&&r&&"number"==typeof r.length){t&&(r=t);var _n=0,F=function F(){};return{s:F,n:function n(){return _n>=r.length?{done:!0}:{done:!1,value:r[_n++]}},e:function e(r){throw r},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function s(){t=t.call(r)},n:function n(){var r=t.next();return a=r.done,r},e:function e(r){u=!0,o=r},f:function f(){try{a||null==t["return"]||t["return"]()}finally{if(u)throw o}}}}function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++){n[e]=r[e]}return n}function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}Object.defineProperty(exports,"__esModule",{value:true});exports.simulateBlocks=simulateBlocks;var BlockOverrides=require("ox/BlockOverrides");var parseAccount_js_1=require("../../accounts/utils/parseAccount.js");var abi_js_1=require("../../errors/abi.js");var contract_js_1=require("../../errors/contract.js");var node_js_1=require("../../errors/node.js");var decodeFunctionResult_js_1=require("../../utils/abi/decodeFunctionResult.js");var encodeFunctionData_js_1=require("../../utils/abi/encodeFunctionData.js");var toHex_js_1=require("../../utils/encoding/toHex.js");var getContractError_js_1=require("../../utils/errors/getContractError.js");var getNodeError_js_1=require("../../utils/errors/getNodeError.js");var block_js_1=require("../../utils/formatters/block.js");var log_js_1=require("../../utils/formatters/log.js");var transactionRequest_js_1=require("../../utils/formatters/transactionRequest.js");var stateOverride_js_1=require("../../utils/stateOverride.js");var assertRequest_js_1=require("../../utils/transaction/assertRequest.js");function simulateBlocks(_x,_x2){return _simulateBlocks.apply(this,arguments)}function _simulateBlocks(){_simulateBlocks=_asyncToGenerator(regeneratorRuntime.mark(function _callee(client,parameters){var blockNumber,_parameters$blockTag,blockTag,blocks,returnFullTransactions,traceTransfers,validation,blockStateCalls,_iterator,_step,_block,blockOverrides,calls,stateOverrides,blockNumberHex,block,result,cause,error;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:blockNumber=parameters.blockNumber,_parameters$blockTag=parameters.blockTag,blockTag=_parameters$blockTag===void 0?"latest":_parameters$blockTag,blocks=parameters.blocks,returnFullTransactions=parameters.returnFullTransactions,traceTransfers=parameters.traceTransfers,validation=parameters.validation;_context.prev=1;blockStateCalls=[];_iterator=_createForOfIteratorHelper(blocks);try{for(_iterator.s();!(_step=_iterator.n()).done;){_block=_step.value;blockOverrides=_block.blockOverrides?BlockOverrides.toRpc(_block.blockOverrides):undefined;calls=_block.calls.map(function(call_){var _call$from;var call=call_;var account=call.account?(0,parseAccount_js_1.parseAccount)(call.account):undefined;var request=_objectSpread(_objectSpread({},call),{},{data:call.abi?(0,encodeFunctionData_js_1.encodeFunctionData)(call):call.data,from:(_call$from=call.from)!==null&&_call$from!==void 0?_call$from:account===null||account===void 0?void 0:account.address});(0,assertRequest_js_1.assertRequest)(request);return(0,transactionRequest_js_1.formatTransactionRequest)(request)});stateOverrides=_block.stateOverrides?(0,stateOverride_js_1.serializeStateOverride)(_block.stateOverrides):undefined;blockStateCalls.push({blockOverrides:blockOverrides,calls:calls,stateOverrides:stateOverrides})}}catch(err){_iterator.e(err)}finally{_iterator.f()}blockNumberHex=blockNumber?(0,toHex_js_1.numberToHex)(blockNumber):undefined;block=blockNumberHex||blockTag;_context.next=9;return client.request({method:"eth_simulateV1",params:[{blockStateCalls:blockStateCalls,returnFullTransactions:returnFullTransactions,traceTransfers:traceTransfers,validation:validation},block]});case 9:result=_context.sent;return _context.abrupt("return",result.map(function(block,i){return _objectSpread(_objectSpread({},(0,block_js_1.formatBlock)(block)),{},{calls:block.calls.map(function(call,j){var _call$error$data,_call$error,_call$logs;var _blocks$i$calls$j=blocks[i].calls[j],abi=_blocks$i$calls$j.abi,args=_blocks$i$calls$j.args,functionName=_blocks$i$calls$j.functionName,to=_blocks$i$calls$j.to;var data=(_call$error$data=(_call$error=call.error)===null||_call$error===void 0?void 0:_call$error.data)!==null&&_call$error$data!==void 0?_call$error$data:call.returnData;var gasUsed=BigInt(call.gasUsed);var logs=(_call$logs=call.logs)===null||_call$logs===void 0?void 0:_call$logs.map(function(log){return(0,log_js_1.formatLog)(log)});var status=call.status==="0x1"?"success":"failure";var result=abi&&status==="success"&&data!=="0x"?(0,decodeFunctionResult_js_1.decodeFunctionResult)({abi:abi,data:data,functionName:functionName}):null;var error=function(_call$error2){if(status==="success")return undefined;var error=undefined;if(((_call$error2=call.error)===null||_call$error2===void 0?void 0:_call$error2.data)==="0x")error=new abi_js_1.AbiDecodingZeroDataError;else if(call.error)error=new contract_js_1.RawContractError(call.error);if(!error)return undefined;return(0,getContractError_js_1.getContractError)(error,{abi:abi!==null&&abi!==void 0?abi:[],address:to,args:args,functionName:functionName!==null&&functionName!==void 0?functionName:"<unknown>"})}();return _objectSpread({data:data,gasUsed:gasUsed,logs:logs,status:status},status==="success"?{result:result}:{error:error})})})}));case 13:_context.prev=13;_context.t0=_context["catch"](1);cause=_context.t0;error=(0,getNodeError_js_1.getNodeError)(cause,{});if(!(error instanceof node_js_1.UnknownNodeError)){_context.next=19;break}throw cause;case 19:throw error;case 20:case"end":return _context.stop()}}},_callee,null,[[1,13]])}));return _simulateBlocks.apply(this,arguments)}},{"../../accounts/utils/parseAccount.js":216,"../../errors/abi.js":345,"../../errors/contract.js":353,"../../errors/node.js":362,"../../utils/abi/decodeFunctionResult.js":379,"../../utils/abi/encodeFunctionData.js":384,"../../utils/encoding/toHex.js":426,"../../utils/errors/getContractError.js":438,"../../utils/errors/getNodeError.js":440,"../../utils/formatters/block.js":443,"../../utils/formatters/log.js":447,"../../utils/formatters/transactionRequest.js":451,"../../utils/stateOverride.js":508,"../../utils/transaction/assertRequest.js":510,"ox/BlockOverrides":179}],257:[function(require,module,exports){"use strict";var _excluded=["calls"];function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _createForOfIteratorHelper(r,e){var t="undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(!t){if(Array.isArray(r)||(t=_unsupportedIterableToArray(r))||e&&r&&"number"==typeof r.length){t&&(r=t);var _n=0,F=function F(){};return{s:F,n:function n(){return _n>=r.length?{done:!0}:{done:!1,value:r[_n++]}},e:function e(r){throw r},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function s(){t=t.call(r)},n:function n(){var r=t.next();return a=r.done,r},e:function e(r){u=!0,o=r},f:function f(){try{a||null==t["return"]||t["return"]()}finally{if(u)throw o}}}}function _objectWithoutProperties(e,t){if(null==e)return{};var o,r,i=_objectWithoutPropertiesLoose(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(r=0;r<n.length;r++){o=n[r],-1===t.indexOf(o)&&{}.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}}return i}function _objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r){if({}.hasOwnProperty.call(r,n)){if(-1!==e.indexOf(n))continue;t[n]=r[n]}}return t}function _slicedToArray(r,e){return _arrayWithHoles(r)||_iterableToArrayLimit(r,e)||_unsupportedIterableToArray(r,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0){}}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t["return"]&&(u=t["return"](),Object(u)!==u))return}finally{if(o)throw n}}return a}}function _arrayWithHoles(r){if(Array.isArray(r))return r}function _toConsumableArray(r){return _arrayWithoutHoles(r)||_iterableToArray(r)||_unsupportedIterableToArray(r)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}function _iterableToArray(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}function _arrayWithoutHoles(r){if(Array.isArray(r))return _arrayLikeToArray(r)}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++){n[e]=r[e]}return n}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function _defineProperty(e,r,t){return(r=_toPropertyKey(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}Object.defineProperty(exports,"__esModule",{value:true});exports.simulateCalls=simulateCalls;var AbiConstructor=require("ox/AbiConstructor");var AbiFunction=require("ox/AbiFunction");var parseAccount_js_1=require("../../accounts/utils/parseAccount.js");var address_js_1=require("../../constants/address.js");var contracts_js_1=require("../../constants/contracts.js");var base_js_1=require("../../errors/base.js");var encodeFunctionData_js_1=require("../../utils/abi/encodeFunctionData.js");var index_js_1=require("../../utils/index.js");var createAccessList_js_1=require("./createAccessList.js");var simulateBlocks_js_1=require("./simulateBlocks.js");var getBalanceCode="0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033";function simulateCalls(_x,_x2){return _simulateCalls.apply(this,arguments)}function _simulateCalls(){_simulateCalls=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(client,parameters){var _block_calls$slice,_block_ethPre$calls,_block_assetsPre$call,_block_ethPost$calls,_block_assetsPost$cal,_block_decimals$calls,_block_symbols$calls,_block_tokenURI$calls;var blockNumber,blockTag,calls,stateOverrides,traceAssetChanges,traceTransfers,validation,account,getBalanceData,assetAddresses,resultsStateOverrides,blocks,block_results,_ref3,_ref4,block_ethPre,block_assetsPre,block_ethPost,block_assetsPost,block_decimals,block_tokenURI,block_symbols,block_calls,block,results,ethPre,assetsPre,balancesPre,ethPost,assetsPost,balancesPost,decimals,symbols,tokenURI,changes,_iterator,_step,_loop,_ret;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:blockNumber=parameters.blockNumber,blockTag=parameters.blockTag,calls=parameters.calls,stateOverrides=parameters.stateOverrides,traceAssetChanges=parameters.traceAssetChanges,traceTransfers=parameters.traceTransfers,validation=parameters.validation;account=parameters.account?(0,parseAccount_js_1.parseAccount)(parameters.account):undefined;if(!(traceAssetChanges&&!account)){_context2.next=4;break}throw new base_js_1.BaseError("`account` is required when `traceAssetChanges` is true");case 4:getBalanceData=account?AbiConstructor.encode(AbiConstructor.from("constructor(bytes, bytes)"),{bytecode:contracts_js_1.deploylessCallViaBytecodeBytecode,args:[getBalanceCode,AbiFunction.encodeData(AbiFunction.from("function getBalance(address)"),[account.address])]}):undefined;if(!traceAssetChanges){_context2.next=11;break}_context2.next=8;return Promise.all(parameters.calls.map(function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(call){var _yield,accessList;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(!call.data&&!call.abi)){_context.next=2;break}return _context.abrupt("return");case 2:_context.next=4;return(0,createAccessList_js_1.createAccessList)(client,_objectSpread(_objectSpread({account:account.address},call),{},{data:call.abi?(0,encodeFunctionData_js_1.encodeFunctionData)(call):call.data}));case 4:_yield=_context.sent;accessList=_yield.accessList;return _context.abrupt("return",accessList.map(function(_ref2){var address=_ref2.address,storageKeys=_ref2.storageKeys;return storageKeys.length>0?address:null}));case 7:case"end":return _context.stop()}}},_callee)}));return function(_x3){return _ref.apply(this,arguments)}}())).then(function(x){return x.flat().filter(Boolean)});case 8:_context2.t0=_context2.sent;_context2.next=12;break;case 11:_context2.t0=[];case 12:assetAddresses=_context2.t0;resultsStateOverrides=stateOverrides===null||stateOverrides===void 0?void 0:stateOverrides.map(function(override){if(override.address===(account===null||account===void 0?void 0:account.address))return _objectSpread(_objectSpread({},override),{},{nonce:0});return override});_context2.next=16;return(0,simulateBlocks_js_1.simulateBlocks)(client,{blockNumber:blockNumber,blockTag:blockTag,blocks:[].concat(_toConsumableArray(traceAssetChanges?[{calls:[{data:getBalanceData}],stateOverrides:stateOverrides},{calls:assetAddresses.map(function(address,i){return{abi:[AbiFunction.from("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[account.address],to:address,from:address_js_1.zeroAddress,nonce:i}}),stateOverrides:[{address:address_js_1.zeroAddress,nonce:0}]}]:[]),[{calls:[].concat(_toConsumableArray(calls),[{}]).map(function(call,index){return _objectSpread(_objectSpread({},call),{},{from:account===null||account===void 0?void 0:account.address,nonce:index})}),stateOverrides:resultsStateOverrides}],_toConsumableArray(traceAssetChanges?[{calls:[{data:getBalanceData}]},{calls:assetAddresses.map(function(address,i){return{abi:[AbiFunction.from("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[account.address],to:address,from:address_js_1.zeroAddress,nonce:i}}),stateOverrides:[{address:address_js_1.zeroAddress,nonce:0}]},{calls:assetAddresses.map(function(address,i){return{to:address,abi:[AbiFunction.from("function decimals() returns (uint256)")],functionName:"decimals",from:address_js_1.zeroAddress,nonce:i}}),stateOverrides:[{address:address_js_1.zeroAddress,nonce:0}]},{calls:assetAddresses.map(function(address,i){return{to:address,abi:[AbiFunction.from("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:address_js_1.zeroAddress,nonce:i}}),stateOverrides:[{address:address_js_1.zeroAddress,nonce:0}]},{calls:assetAddresses.map(function(address,i){return{to:address,abi:[AbiFunction.from("function symbol() returns (string)")],functionName:"symbol",from:address_js_1.zeroAddress,nonce:i}}),stateOverrides:[{address:address_js_1.zeroAddress,nonce:0}]}]:[])),traceTransfers:traceTransfers,validation:validation});case 16:blocks=_context2.sent;block_results=traceAssetChanges?blocks[2]:blocks[0];_ref3=traceAssetChanges?blocks:[],_ref4=_slicedToArray(_ref3,8),block_ethPre=_ref4[0],block_assetsPre=_ref4[1],block_ethPost=_ref4[3],block_assetsPost=_ref4[4],block_decimals=_ref4[5],block_tokenURI=_ref4[6],block_symbols=_ref4[7];block_calls=block_results.calls,block=_objectWithoutProperties(block_results,_excluded);results=(_block_calls$slice=block_calls.slice(0,-1))!==null&&_block_calls$slice!==void 0?_block_calls$slice:[];ethPre=(_block_ethPre$calls=block_ethPre===null||block_ethPre===void 0?void 0:block_ethPre.calls)!==null&&_block_ethPre$calls!==void 0?_block_ethPre$calls:[];assetsPre=(_block_assetsPre$call=block_assetsPre===null||block_assetsPre===void 0?void 0:block_assetsPre.calls)!==null&&_block_assetsPre$call!==void 0?_block_assetsPre$call:[];balancesPre=[].concat(_toConsumableArray(ethPre),_toConsumableArray(assetsPre)).map(function(call){return call.status==="success"?(0,index_js_1.hexToBigInt)(call.data):null});ethPost=(_block_ethPost$calls=block_ethPost===null||block_ethPost===void 0?void 0:block_ethPost.calls)!==null&&_block_ethPost$calls!==void 0?_block_ethPost$calls:[];assetsPost=(_block_assetsPost$cal=block_assetsPost===null||block_assetsPost===void 0?void 0:block_assetsPost.calls)!==null&&_block_assetsPost$cal!==void 0?_block_assetsPost$cal:[];balancesPost=[].concat(_toConsumableArray(ethPost),_toConsumableArray(assetsPost)).map(function(call){return call.status==="success"?(0,index_js_1.hexToBigInt)(call.data):null});decimals=((_block_decimals$calls=block_decimals===null||block_decimals===void 0?void 0:block_decimals.calls)!==null&&_block_decimals$calls!==void 0?_block_decimals$calls:[]).map(function(x){return x.status==="success"?x.result:null});symbols=((_block_symbols$calls=block_symbols===null||block_symbols===void 0?void 0:block_symbols.calls)!==null&&_block_symbols$calls!==void 0?_block_symbols$calls:[]).map(function(x){return x.status==="success"?x.result:null});tokenURI=((_block_tokenURI$calls=block_tokenURI===null||block_tokenURI===void 0?void 0:block_tokenURI.calls)!==null&&_block_tokenURI$calls!==void 0?_block_tokenURI$calls:[]).map(function(x){return x.status==="success"?x.result:null});changes=[];_iterator=_createForOfIteratorHelper(balancesPost.entries());_context2.prev=32;_loop=function _loop(){var _step$value=_slicedToArray(_step.value,2),i=_step$value[0],balancePost=_step$value[1];var balancePre=balancesPre[i];if(typeof balancePost!=="bigint")return"continue";if(typeof balancePre!=="bigint")return"continue";var decimals_=decimals[i-1];var symbol_=symbols[i-1];var tokenURI_=tokenURI[i-1];var token=function(){if(i===0)return{address:address_js_1.ethAddress,decimals:18,symbol:"ETH"};return{address:assetAddresses[i-1],decimals:tokenURI_||decimals_?Number(decimals_!==null&&decimals_!==void 0?decimals_:1):undefined,symbol:symbol_!==null&&symbol_!==void 0?symbol_:undefined}}();if(changes.some(function(change){return change.token.address===token.address}))return"continue";changes.push({token:token,value:{pre:balancePre,post:balancePost,diff:balancePost-balancePre}})};_iterator.s();case 35:if((_step=_iterator.n()).done){_context2.next=41;break}_ret=_loop();if(!(_ret==="continue")){_context2.next=39;break}return _context2.abrupt("continue",39);case 39:_context2.next=35;break;case 41:_context2.next=46;break;case 43:_context2.prev=43;_context2.t1=_context2["catch"](32);_iterator.e(_context2.t1);case 46:_context2.prev=46;_iterator.f();return _context2.finish(46);case 49:return _context2.abrupt("return",{assetChanges:changes,block:block,results:results});case 50:case"end":return _context2.stop()}}},_callee2,null,[[32,43,46,49]])}));return _simulateCalls.apply(this,arguments)}},{"../../accounts/utils/parseAccount.js":216,"../../constants/address.js":335,"../../constants/contracts.js":339,"../../errors/base.js":348,"../../utils/abi/encodeFunctionData.js":384,"../../utils/index.js":467,"./createAccessList.js":225,"./simulateBlocks.js":256,"ox/AbiConstructor":174,"ox/AbiFunction":175}],258:[function(require,module,exports){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}var _excluded=["abi","address","args","dataSuffix","functionName"];function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function _defineProperty(e,r,t){return(r=_toPropertyKey(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function _objectWithoutProperties(e,t){if(null==e)return{};var o,r,i=_objectWithoutPropertiesLoose(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(r=0;r<n.length;r++){o=n[r],-1===t.indexOf(o)&&{}.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}}return i}function _objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r){if({}.hasOwnProperty.call(r,n)){if(-1!==e.indexOf(n))continue;t[n]=r[n]}}return t}function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}Object.defineProperty(exports,"__esModule",{value:true});exports.simulateContract=simulateContract;var parseAccount_js_1=require("../../accounts/utils/parseAccount.js");var decodeFunctionResult_js_1=require("../../utils/abi/decodeFunctionResult.js");var encodeFunctionData_js_1=require("../../utils/abi/encodeFunctionData.js");var getContractError_js_1=require("../../utils/errors/getContractError.js");var getAction_js_1=require("../../utils/getAction.js");var call_js_1=require("./call.js");function simulateContract(_x,_x2){return _simulateContract.apply(this,arguments)}function _simulateContract(){_simulateContract=_asyncToGenerator(regeneratorRuntime.mark(function _callee(client,parameters){var abi,address,args,dataSuffix,functionName,callRequest,account,calldata,_yield,data,result,minimizedAbi;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:abi=parameters.abi,address=parameters.address,args=parameters.args,dataSuffix=parameters.dataSuffix,functionName=parameters.functionName,callRequest=_objectWithoutProperties(parameters,_excluded);account=callRequest.account?(0,parseAccount_js_1.parseAccount)(callRequest.account):client.account;calldata=(0,encodeFunctionData_js_1.encodeFunctionData)({abi:abi,args:args,functionName:functionName});_context.prev=3;_context.next=6;return(0,getAction_js_1.getAction)(client,call_js_1.call,"call")(_objectSpread(_objectSpread({batch:false,data:"".concat(calldata).concat(dataSuffix?dataSuffix.replace("0x",""):""),to:address},callRequest),{},{account:account}));case 6:_yield=_context.sent;data=_yield.data;result=(0,decodeFunctionResult_js_1.decodeFunctionResult)({abi:abi,args:args,functionName:functionName,data:data||"0x"});minimizedAbi=abi.filter(function(abiItem){return"name"in abiItem&&abiItem.name===parameters.functionName});return _context.abrupt("return",{result:result,request:_objectSpread(_objectSpread({abi:minimizedAbi,address:address,args:args,dataSuffix:dataSuffix,functionName:functionName},callRequest),{},{account:account})});case 13:_context.prev=13;_context.t0=_context["catch"](3);throw(0,getContractError_js_1.getContractError)(_context.t0,{abi:abi,address:address,args:args,docsPath:"/docs/contract/simulateContract",functionName:functionName,sender:account===null||account===void 0?void 0:account.address});case 16:case"end":return _context.stop()}}},_callee,null,[[3,13]])}));return _simulateContract.apply(this,arguments)}},{"../../accounts/utils/parseAccount.js":216,"../../utils/abi/decodeFunctionResult.js":379,"../../utils/abi/encodeFunctionData.js":384,"../../utils/errors/getContractError.js":438,"../../utils/getAction.js":452,"./call.js":224}],259:[function(require,module,exports){"use strict";function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}Object.defineProperty(exports,"__esModule",{value:true});exports.uninstallFilter=uninstallFilter;function uninstallFilter(_x,_x2){return _uninstallFilter.apply(this,arguments)}function _uninstallFilter(){_uninstallFilter=_asyncToGenerator(regeneratorRuntime.mark(function _callee(_client,_ref){var filter;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:filter=_ref.filter;return _context.abrupt("return",filter.request({method:"eth_uninstallFilter",params:[filter.id]}));case 2:case"end":return _context.stop()}}},_callee)}));return _uninstallFilter.apply(this,arguments)}},{}],260:[function(require,module,exports){"use strict";var _excluded=["address","factory","factoryData","hash","signature","universalSignatureVerifierAddress"];function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function _defineProperty(e,r,t){return(r=_toPropertyKey(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _objectWithoutProperties(e,t){if(null==e)return{};var o,r,i=_objectWithoutPropertiesLoose(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(r=0;r<n.length;r++){o=n[r],-1===t.indexOf(o)&&{}.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}}return i}function _objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r){if({}.hasOwnProperty.call(r,n)){if(-1!==e.indexOf(n))continue;t[n]=r[n]}}return t}function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}Object.defineProperty(exports,"__esModule",{value:true});exports.verifyHash=verifyHash;var abis_js_1=require("../../constants/abis.js");var contracts_js_1=require("../../constants/contracts.js");var contract_js_1=require("../../errors/contract.js");var encodeDeployData_js_1=require("../../utils/abi/encodeDeployData.js");var getAddress_js_1=require("../../utils/address/getAddress.js");var isAddressEqual_js_1=require("../../utils/address/isAddressEqual.js");var isHex_js_1=require("../../utils/data/isHex.js");var toHex_js_1=require("../../utils/encoding/toHex.js");var getAction_js_1=require("../../utils/getAction.js");var index_js_1=require("../../utils/index.js");var isErc6492Signature_js_1=require("../../utils/signature/isErc6492Signature.js");var recoverAddress_js_1=require("../../utils/signature/recoverAddress.js");var serializeErc6492Signature_js_1=require("../../utils/signature/serializeErc6492Signature.js");var serializeSignature_js_1=require("../../utils/signature/serializeSignature.js");var call_js_1=require("./call.js");function verifyHash(_x,_x2){return _verifyHash.apply(this,arguments)}function _verifyHash(){_verifyHash=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(client,parameters){var _client$chain,_client$chain$contrac,_client$chain$contrac2;var address,factory,factoryData,hash,signature,_parameters$universal,universalSignatureVerifierAddress,rest,signatureHex,wrappedSignature,args,_yield,data,verified;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:address=parameters.address,factory=parameters.factory,factoryData=parameters.factoryData,hash=parameters.hash,signature=parameters.signature,_parameters$universal=parameters.universalSignatureVerifierAddress,universalSignatureVerifierAddress=_parameters$universal===void 0?(_client$chain=client.chain)===null||_client$chain===void 0?void 0:(_client$chain$contrac=_client$chain.contracts)===null||_client$chain$contrac===void 0?void 0:(_client$chain$contrac2=_client$chain$contrac.universalSignatureVerifier)===null||_client$chain$contrac2===void 0?void 0:_client$chain$contrac2.address:_parameters$universal,rest=_objectWithoutProperties(parameters,_excluded);signatureHex=function(){if((0,isHex_js_1.isHex)(signature))return signature;if(_typeof(signature)==="object"&&"r"in signature&&"s"in signature)return(0,serializeSignature_js_1.serializeSignature)(signature);return(0,toHex_js_1.bytesToHex)(signature)}();_context2.next=4;return _asyncToGenerator(regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(!factory&&!factoryData)){_context.next=2;break}return _context.abrupt("return",signatureHex);case 2:if(!(0,isErc6492Signature_js_1.isErc6492Signature)(signatureHex)){_context.next=4;break}return _context.abrupt("return",signatureHex);case 4:return _context.abrupt("return",(0,serializeErc6492Signature_js_1.serializeErc6492Signature)({address:factory,data:factoryData,signature:signatureHex}));case 5:case"end":return _context.stop()}}},_callee)}))();case 4:wrappedSignature=_context2.sent;_context2.prev=5;args=universalSignatureVerifierAddress?_objectSpread({to:universalSignatureVerifierAddress,data:(0,index_js_1.encodeFunctionData)({abi:abis_js_1.universalSignatureValidatorAbi,functionName:"isValidSig",args:[address,hash,wrappedSignature]})},rest):_objectSpread({data:(0,encodeDeployData_js_1.encodeDeployData)({abi:abis_js_1.universalSignatureValidatorAbi,args:[address,hash,wrappedSignature],bytecode:contracts_js_1.universalSignatureValidatorByteCode})},rest);_context2.next=9;return(0,getAction_js_1.getAction)(client,call_js_1.call,"call")(args);case 9:_yield=_context2.sent;data=_yield.data;return _context2.abrupt("return",(0,index_js_1.hexToBool)(data!==null&&data!==void 0?data:"0x0"));case 14:_context2.prev=14;_context2.t0=_context2["catch"](5);_context2.prev=16;_context2.t1=(0,isAddressEqual_js_1.isAddressEqual);_context2.t2=(0,getAddress_js_1.getAddress)(address);_context2.next=21;return(0,recoverAddress_js_1.recoverAddress)({hash:hash,signature:signature});case 21:_context2.t3=_context2.sent;verified=(0,_context2.t1)(_context2.t2,_context2.t3);if(!verified){_context2.next=25;break}return _context2.abrupt("return",true);case 25:_context2.next=29;break;case 27:_context2.prev=27;_context2.t4=_context2["catch"](16);case 29:if(!(_context2.t0 instanceof contract_js_1.CallExecutionError)){_context2.next=31;break}return _context2.abrupt("return",false);case 31:throw _context2.t0;case 32:case"end":return _context2.stop()}}},_callee2,null,[[5,14],[16,27]])}));return _verifyHash.apply(this,arguments)}},{"../../constants/abis.js":334,"../../constants/contracts.js":339,"../../errors/contract.js":353,"../../utils/abi/encodeDeployData.js":381,"../../utils/address/getAddress.js":392,"../../utils/address/isAddressEqual.js":395,"../../utils/data/isHex.js":417,"../../utils/encoding/toHex.js":426,"../../utils/getAction.js":452,"../../utils/index.js":467,"../../utils/signature/isErc6492Signature.js":489,"../../utils/signature/recoverAddress.js":493,"../../utils/signature/serializeErc6492Signature.js":499,"../../utils/signature/serializeSignature.js":500,"./call.js":224}],261:[function(require,module,exports){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}var _excluded=["address","message","factory","factoryData","signature"];function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function _defineProperty(e,r,t){return(r=_toPropertyKey(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function _objectWithoutProperties(e,t){if(null==e)return{};var o,r,i=_objectWithoutPropertiesLoose(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(r=0;r<n.length;r++){o=n[r],-1===t.indexOf(o)&&{}.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}}return i}function _objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r){if({}.hasOwnProperty.call(r,n)){if(-1!==e.indexOf(n))continue;t[n]=r[n]}}return t}function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}Object.defineProperty(exports,"__esModule",{value:true});exports.verifyMessage=verifyMessage;var hashMessage_js_1=require("../../utils/signature/hashMessage.js");var verifyHash_js_1=require("./verifyHash.js");function verifyMessage(_x,_x2){return _verifyMessage.apply(this,arguments)}function _verifyMessage(){_verifyMessage=_asyncToGenerator(regeneratorRuntime.mark(function _callee(client,_ref){var address,message,factory,factoryData,signature,callRequest,hash;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:address=_ref.address,message=_ref.message,factory=_ref.factory,factoryData=_ref.factoryData,signature=_ref.signature,callRequest=_objectWithoutProperties(_ref,_excluded);hash=(0,hashMessage_js_1.hashMessage)(message);return _context.abrupt("return",(0,verifyHash_js_1.verifyHash)(client,_objectSpread({address:address,factory:factory,factoryData:factoryData,hash:hash,signature:signature},callRequest)));case 3:case"end":return _context.stop()}}},_callee)}));return _verifyMessage.apply(this,arguments)}},{"../../utils/signature/hashMessage.js":487,"./verifyHash.js":260}],262:[function(require,module,exports){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}var _excluded=["address","factory","factoryData","signature","message","primaryType","types","domain"];function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function _defineProperty(e,r,t){return(r=_toPropertyKey(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function _objectWithoutProperties(e,t){if(null==e)return{};var o,r,i=_objectWithoutPropertiesLoose(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(r=0;r<n.length;r++){o=n[r],-1===t.indexOf(o)&&{}.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}}return i}function _objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r){if({}.hasOwnProperty.call(r,n)){if(-1!==e.indexOf(n))continue;t[n]=r[n]}}return t}function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}Object.defineProperty(exports,"__esModule",{value:true});exports.verifyTypedData=verifyTypedData;var hashTypedData_js_1=require("../../utils/signature/hashTypedData.js");var verifyHash_js_1=require("./verifyHash.js");function verifyTypedData(_x,_x2){return _verifyTypedData.apply(this,arguments)}function _verifyTypedData(){_verifyTypedData=_asyncToGenerator(regeneratorRuntime.mark(function _callee(client,parameters){var address,factory,factoryData,signature,message,primaryType,types,domain,callRequest,hash;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:address=parameters.address,factory=parameters.factory,factoryData=parameters.factoryData,signature=parameters.signature,message=parameters.message,primaryType=parameters.primaryType,types=parameters.types,domain=parameters.domain,callRequest=_objectWithoutProperties(parameters,_excluded);hash=(0,hashTypedData_js_1.hashTypedData)({message:message,primaryType:primaryType,types:types,domain:domain});return _context.abrupt("return",(0,verifyHash_js_1.verifyHash)(client,_objectSpread({address:address,factory:factory,factoryData:factoryData,hash:hash,signature:signature},callRequest)));case 3:case"end":return _context.stop()}}},_callee)}));return _verifyTypedData.apply(this,arguments)}},{"../../utils/signature/hashTypedData.js":488,"./verifyHash.js":260}],263:[function(require,module,exports){"use strict";function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}Object.defineProperty(exports,"__esModule",{value:true});exports.waitForTransactionReceipt=waitForTransactionReceipt;var block_js_1=require("../../errors/block.js");var transaction_js_1=require("../../errors/transaction.js");var getAction_js_1=require("../../utils/getAction.js");var observe_js_1=require("../../utils/observe.js");var withResolvers_js_1=require("../../utils/promise/withResolvers.js");var withRetry_js_1=require("../../utils/promise/withRetry.js");var stringify_js_1=require("../../utils/stringify.js");var getBlock_js_1=require("./getBlock.js");var getTransaction_js_1=require("./getTransaction.js");var getTransactionReceipt_js_1=require("./getTransactionReceipt.js");var watchBlockNumber_js_1=require("./watchBlockNumber.js");function waitForTransactionReceipt(_x,_x2){return _waitForTransactionReceipt.apply(this,arguments)}function _waitForTransactionReceipt(){_waitForTransactionReceipt=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(client,_ref){var _ref$confirmations,confirmations,hash,onReplaced,_ref$pollingInterval,pollingInterval,_ref$retryCount,retryCount,_ref$retryDelay,retryDelay,_ref$timeout,timeout,observerId,transaction,replacedTransaction,receipt,retrying,_ref3,promise,resolve,reject,timer,_unobserve;return regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_ref$confirmations=_ref.confirmations,confirmations=_ref$confirmations===void 0?1:_ref$confirmations,hash=_ref.hash,onReplaced=_ref.onReplaced,_ref$pollingInterval=_ref.pollingInterval,pollingInterval=_ref$pollingInterval===void 0?client.pollingInterval:_ref$pollingInterval,_ref$retryCount=_ref.retryCount,retryCount=_ref$retryCount===void 0?6:_ref$retryCount,_ref$retryDelay=_ref.retryDelay,retryDelay=_ref$retryDelay===void 0?function(_ref2){var count=_ref2.count;return~~(1<<count)*200}:_ref$retryDelay,_ref$timeout=_ref.timeout,timeout=_ref$timeout===void 0?18e4:_ref$timeout;observerId=(0,stringify_js_1.stringify)(["waitForTransactionReceipt",client.uid,hash]);retrying=false;_ref3=(0,withResolvers_js_1.withResolvers)(),promise=_ref3.promise,resolve=_ref3.resolve,reject=_ref3.reject;timer=timeout?setTimeout(function(){return reject(new transaction_js_1.WaitForTransactionReceiptTimeoutError({hash:hash}))},timeout):undefined;_unobserve=(0,observe_js_1.observe)(observerId,{onReplaced:onReplaced,resolve:resolve,reject:reject},function(emit){var _unwatch=(0,getAction_js_1.getAction)(client,watchBlockNumber_js_1.watchBlockNumber,"watchBlockNumber")({emitMissed:true,emitOnBegin:true,poll:true,pollingInterval:pollingInterval,onBlockNumber:function onBlockNumber(blockNumber_){return _asyncToGenerator(regeneratorRuntime.mark(function _callee2(){var done,blockNumber,block,replacementTransaction,reason;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:done=function done(fn){clearTimeout(timer);_unwatch();fn();_unobserve()};blockNumber=blockNumber_;if(!retrying){_context2.next=4;break}return _context2.abrupt("return");case 4:_context2.prev=4;if(!receipt){_context2.next=10;break}if(!(confirmations>1&&(!receipt.blockNumber||blockNumber-receipt.blockNumber+1n<confirmations))){_context2.next=8;break}return _context2.abrupt("return");case 8:done(function(){return emit.resolve(receipt)});return _context2.abrupt("return");case 10:if(transaction){_context2.next=15;break}retrying=true;_context2.next=14;return(0,withRetry_js_1.withRetry)(_asyncToGenerator(regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return(0,getAction_js_1.getAction)(client,getTransaction_js_1.getTransaction,"getTransaction")({hash:hash});case 2:transaction=_context.sent;if(transaction.blockNumber)blockNumber=transaction.blockNumber;case 4:case"end":return _context.stop()}}},_callee)})),{delay:retryDelay,retryCount:retryCount});case 14:retrying=false;case 15:_context2.next=17;return(0,getAction_js_1.getAction)(client,getTransactionReceipt_js_1.getTransactionReceipt,"getTransactionReceipt")({hash:hash});case 17:receipt=_context2.sent;if(!(confirmations>1&&(!receipt.blockNumber||blockNumber-receipt.blockNumber+1n<confirmations))){_context2.next=20;break}return _context2.abrupt("return");case 20:done(function(){return emit.resolve(receipt)});_context2.next=55;break;case 23:_context2.prev=23;_context2.t0=_context2["catch"](4);if(!(_context2.t0 instanceof transaction_js_1.TransactionNotFoundError||_context2.t0 instanceof transaction_js_1.TransactionReceiptNotFoundError)){_context2.next=54;break}if(transaction){_context2.next=29;break}retrying=false;return _context2.abrupt("return");case 29:_context2.prev=29;replacedTransaction=transaction;retrying=true;_context2.next=34;return(0,withRetry_js_1.withRetry)(function(){return(0,getAction_js_1.getAction)(client,getBlock_js_1.getBlock,"getBlock")({blockNumber:blockNumber,includeTransactions:true})},{delay:retryDelay,retryCount:retryCount,shouldRetry:function shouldRetry(_ref5){var error=_ref5.error;return error instanceof block_js_1.BlockNotFoundError}});case 34:block=_context2.sent;retrying=false;replacementTransaction=block.transactions.find(function(_ref6){var from=_ref6.from,nonce=_ref6.nonce;return from===replacedTransaction.from&&nonce===replacedTransaction.nonce});if(replacementTransaction){_context2.next=39;break}return _context2.abrupt("return");case 39:_context2.next=41;return(0,getAction_js_1.getAction)(client,getTransactionReceipt_js_1.getTransactionReceipt,"getTransactionReceipt")({hash:replacementTransaction.hash});case 41:receipt=_context2.sent;if(!(confirmations>1&&(!receipt.blockNumber||blockNumber-receipt.blockNumber+1n<confirmations))){_context2.next=44;break}return _context2.abrupt("return");case 44:reason="replaced";if(replacementTransaction.to===replacedTransaction.to&&replacementTransaction.value===replacedTransaction.value&&replacementTransaction.input===replacedTransaction.input){reason="repriced"}else if(replacementTransaction.from===replacementTransaction.to&&replacementTransaction.value===0n){reason="cancelled"}done(function(){var _emit$onReplaced;(_emit$onReplaced=emit.onReplaced)===null||_emit$onReplaced===void 0?void 0:_emit$onReplaced.call(emit,{reason:reason,replacedTransaction:replacedTransaction,transaction:replacementTransaction,transactionReceipt:receipt});emit.resolve(receipt)});_context2.next=52;break;case 49:_context2.prev=49;_context2.t1=_context2["catch"](29);done(function(){return emit.reject(_context2.t1)});case 52:_context2.next=55;break;case 54:done(function(){return emit.reject(_context2.t0)});case 55:case"end":return _context2.stop()}}},_callee2,null,[[4,23],[29,49]])}))()}})});return _context3.abrupt("return",promise);case 7:case"end":return _context3.stop()}}},_callee3)}));return _waitForTransactionReceipt.apply(this,arguments)}},{"../../errors/block.js":350,"../../errors/transaction.js":366,"../../utils/getAction.js":452,"../../utils/observe.js":472,"../../utils/promise/withResolvers.js":477,"../../utils/promise/withRetry.js":478,"../../utils/stringify.js":509,"./getBlock.js":236,"./getTransaction.js":250,"./getTransactionReceipt.js":253,"./watchBlockNumber.js":264}],264:[function(require,module,exports){"use strict";function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}Object.defineProperty(exports,"__esModule",{value:true});exports.watchBlockNumber=watchBlockNumber;var fromHex_js_1=require("../../utils/encoding/fromHex.js");var getAction_js_1=require("../../utils/getAction.js");var observe_js_1=require("../../utils/observe.js");var poll_js_1=require("../../utils/poll.js");var stringify_js_1=require("../../utils/stringify.js");var getBlockNumber_js_1=require("./getBlockNumber.js");function watchBlockNumber(client,_ref){var _ref$emitOnBegin=_ref.emitOnBegin,emitOnBegin=_ref$emitOnBegin===void 0?false:_ref$emitOnBegin,_ref$emitMissed=_ref.emitMissed,emitMissed=_ref$emitMissed===void 0?false:_ref$emitMissed,onBlockNumber=_ref.onBlockNumber,onError=_ref.onError,poll_=_ref.poll,_ref$pollingInterval=_ref.pollingInterval,pollingInterval=_ref$pollingInterval===void 0?client.pollingInterval:_ref$pollingInterval;var enablePolling=function(){if(typeof poll_!=="undefined")return poll_;if(client.transport.type==="webSocket")return false;if(client.transport.type==="fallback"&&client.transport.transports[0].config.type==="webSocket")return false;return true}();var prevBlockNumber;var pollBlockNumber=function pollBlockNumber(){var observerId=(0,stringify_js_1.stringify)(["watchBlockNumber",client.uid,emitOnBegin,emitMissed,pollingInterval]);return(0,observe_js_1.observe)(observerId,{onBlockNumber:onBlockNumber,onError:onError},function(emit){return(0,poll_js_1.poll)(_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var blockNumber,i,_emit$onError;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return(0,getAction_js_1.getAction)(client,getBlockNumber_js_1.getBlockNumber,"getBlockNumber")({cacheTime:0});case 3:blockNumber=_context.sent;if(!prevBlockNumber){_context.next=8;break}if(!(blockNumber===prevBlockNumber)){_context.next=7;break}return _context.abrupt("return");case 7:if(blockNumber-prevBlockNumber>1&&emitMissed){for(i=prevBlockNumber+1n;i<blockNumber;i++){emit.onBlockNumber(i,prevBlockNumber);prevBlockNumber=i}}case 8:if(!prevBlockNumber||blockNumber>prevBlockNumber){emit.onBlockNumber(blockNumber,prevBlockNumber);prevBlockNumber=blockNumber}_context.next=14;break;case 11:_context.prev=11;_context.t0=_context["catch"](0);(_emit$onError=emit.onError)===null||_emit$onError===void 0?void 0:_emit$onError.call(emit,_context.t0);case 14:case"end":return _context.stop()}}},_callee,null,[[0,11]])})),{emitOnBegin:emitOnBegin,interval:pollingInterval})})};var subscribeBlockNumber=function subscribeBlockNumber(){var observerId=(0,stringify_js_1.stringify)(["watchBlockNumber",client.uid,emitOnBegin,emitMissed]);return(0,observe_js_1.observe)(observerId,{onBlockNumber:onBlockNumber,onError:onError},function(emit){var active=true;var unsubscribe=function unsubscribe(){return active=false};_asyncToGenerator(regeneratorRuntime.mark(function _callee2(){var transport,_yield$transport$subs,unsubscribe_;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;transport=function(){if(client.transport.type==="fallback"){var _transport=client.transport.transports.find(function(transport){return transport.config.type==="webSocket"});if(!_transport)return client.transport;return _transport.value}return client.transport}();_context2.next=4;return transport.subscribe({params:["newHeads"],onData:function onData(data){var _data$result;if(!active)return;var blockNumber=(0,fromHex_js_1.hexToBigInt)((_data$result=data.result)===null||_data$result===void 0?void 0:_data$result.number);emit.onBlockNumber(blockNumber,prevBlockNumber);prevBlockNumber=blockNumber},onError:function onError(error){var _emit$onError2;(_emit$onError2=emit.onError)===null||_emit$onError2===void 0?void 0:_emit$onError2.call(emit,error)}});case 4:_yield$transport$subs=_context2.sent;unsubscribe_=_yield$transport$subs.unsubscribe;unsubscribe=unsubscribe_;if(!active)unsubscribe();_context2.next=13;break;case 10:_context2.prev=10;_context2.t0=_context2["catch"](0);onError===null||onError===void 0?void 0:onError(_context2.t0);case 13:case"end":return _context2.stop()}}},_callee2,null,[[0,10]])}))();return function(){return unsubscribe()}})};return enablePolling?pollBlockNumber():subscribeBlockNumber()}},{"../../utils/encoding/fromHex.js":423,"../../utils/getAction.js":452,"../../utils/observe.js":472,"../../utils/poll.js":473,"../../utils/stringify.js":509,"./getBlockNumber.js":237}],265:[function(require,module,exports){"use strict";function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}Object.defineProperty(exports,"__esModule",{value:true});exports.watchBlocks=watchBlocks;var getAction_js_1=require("../../utils/getAction.js");var observe_js_1=require("../../utils/observe.js");var poll_js_1=require("../../utils/poll.js");var stringify_js_1=require("../../utils/stringify.js");var getBlock_js_1=require("./getBlock.js");function watchBlocks(client,_ref){var _ref$blockTag=_ref.blockTag,blockTag=_ref$blockTag===void 0?"latest":_ref$blockTag,_ref$emitMissed=_ref.emitMissed,emitMissed=_ref$emitMissed===void 0?false:_ref$emitMissed,_ref$emitOnBegin=_ref.emitOnBegin,emitOnBegin=_ref$emitOnBegin===void 0?false:_ref$emitOnBegin,onBlock=_ref.onBlock,_onError=_ref.onError,includeTransactions_=_ref.includeTransactions,poll_=_ref.poll,_ref$pollingInterval=_ref.pollingInterval,pollingInterval=_ref$pollingInterval===void 0?client.pollingInterval:_ref$pollingInterval;var enablePolling=function(){if(typeof poll_!=="undefined")return poll_;if(client.transport.type==="webSocket")return false;if(client.transport.type==="fallback"&&client.transport.transports[0].config.type==="webSocket")return false;return true}();var includeTransactions=includeTransactions_!==null&&includeTransactions_!==void 0?includeTransactions_:false;var prevBlock;var pollBlocks=function pollBlocks(){var observerId=(0,stringify_js_1.stringify)(["watchBlocks",client.uid,blockTag,emitMissed,emitOnBegin,includeTransactions,pollingInterval]);return(0,observe_js_1.observe)(observerId,{onBlock:onBlock,onError:_onError},function(emit){return(0,poll_js_1.poll)(_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var _prevBlock,_prevBlock3,block,i,_prevBlock2,_block,_emit$onError;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return(0,getAction_js_1.getAction)(client,getBlock_js_1.getBlock,"getBlock")({blockTag:blockTag,includeTransactions:includeTransactions});case 3:block=_context.sent;if(!(block.number!==null&&((_prevBlock=prevBlock)===null||_prevBlock===void 0?void 0:_prevBlock.number)!=null)){_context.next=18;break}if(!(block.number===prevBlock.number)){_context.next=7;break}return _context.abrupt("return");case 7:if(!(block.number-prevBlock.number>1&&emitMissed)){_context.next=18;break}i=((_prevBlock2=prevBlock)===null||_prevBlock2===void 0?void 0:_prevBlock2.number)+1n;case 9:if(!(i<block.number)){_context.next=18;break}_context.next=12;return(0,getAction_js_1.getAction)(client,getBlock_js_1.getBlock,"getBlock")({blockNumber:i,includeTransactions:includeTransactions});case 12:_block=_context.sent;emit.onBlock(_block,prevBlock);prevBlock=_block;case 15:i++;_context.next=9;break;case 18:if(((_prevBlock3=prevBlock)===null||_prevBlock3===void 0?void 0:_prevBlock3.number)==null||blockTag==="pending"&&(block===null||block===void 0?void 0:block.number)==null||block.number!==null&&block.number>prevBlock.number){emit.onBlock(block,prevBlock);prevBlock=block}_context.next=24;break;case 21:_context.prev=21;_context.t0=_context["catch"](0);(_emit$onError=emit.onError)===null||_emit$onError===void 0?void 0:_emit$onError.call(emit,_context.t0);case 24:case"end":return _context.stop()}}},_callee,null,[[0,21]])})),{emitOnBegin:emitOnBegin,interval:pollingInterval})})};var subscribeBlocks=function subscribeBlocks(){var active=true;var emitFetched=true;var unsubscribe=function unsubscribe(){return active=false};_asyncToGenerator(regeneratorRuntime.mark(function _callee3(){var transport,_yield$transport$subs,unsubscribe_;return regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;if(emitOnBegin){(0,getAction_js_1.getAction)(client,getBlock_js_1.getBlock,"getBlock")({blockTag:blockTag,includeTransactions:includeTransactions}).then(function(block){if(!active)return;if(!emitFetched)return;onBlock(block,undefined);emitFetched=false})}transport=function(){if(client.transport.type==="fallback"){var _transport=client.transport.transports.find(function(transport){return transport.config.type==="webSocket"});if(!_transport)return client.transport;return _transport.value}return client.transport}();_context3.next=5;return transport.subscribe({params:["newHeads"],onData:function onData(data){return _asyncToGenerator(regeneratorRuntime.mark(function _callee2(){var block;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(active){_context2.next=2;break}return _context2.abrupt("return");case 2:_context2.next=4;return(0,getAction_js_1.getAction)(client,getBlock_js_1.getBlock,"getBlock")({blockNumber:data.blockNumber,includeTransactions:includeTransactions})["catch"](function(){});case 4:block=_context2.sent;if(active){_context2.next=7;break}return _context2.abrupt("return");case 7:onBlock(block,prevBlock);emitFetched=false;prevBlock=block;case 10:case"end":return _context2.stop()}}},_callee2)}))()},onError:function onError(error){_onError===null||_onError===void 0?void 0:_onError(error)}});case 5:_yield$transport$subs=_context3.sent;unsubscribe_=_yield$transport$subs.unsubscribe;unsubscribe=unsubscribe_;if(!active)unsubscribe();_context3.next=14;break;case 11:_context3.prev=11;_context3.t0=_context3["catch"](0);_onError===null||_onError===void 0?void 0:_onError(_context3.t0);case 14:case"end":return _context3.stop()}}},_callee3,null,[[0,11]])}))();return function(){return unsubscribe()}};return enablePolling?pollBlocks():subscribeBlocks()}},{"../../utils/getAction.js":452,"../../utils/observe.js":472,"../../utils/poll.js":473,"../../utils/stringify.js":509,"./getBlock.js":236}],266:[function(require,module,exports){"use strict";function _createForOfIteratorHelper(r,e){var t="undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(!t){if(Array.isArray(r)||(t=_unsupportedIterableToArray(r))||e&&r&&"number"==typeof r.length){t&&(r=t);var _n=0,F=function F(){};return{s:F,n:function n(){return _n>=r.length?{done:!0}:{done:!1,value:r[_n++]}},e:function e(r){throw r},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function s(){t=t.call(r)},n:function n(){var r=t.next();return a=r.done,r},e:function e(r){u=!0,o=r},f:function f(){try{a||null==t["return"]||t["return"]()}finally{if(u)throw o}}}}function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++){n[e]=r[e]}return n}function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}Object.defineProperty(exports,"__esModule",{value:true});exports.watchContractEvent=watchContractEvent;var abi_js_1=require("../../errors/abi.js");var rpc_js_1=require("../../errors/rpc.js");var decodeEventLog_js_1=require("../../utils/abi/decodeEventLog.js");var encodeEventTopics_js_1=require("../../utils/abi/encodeEventTopics.js");var log_js_1=require("../../utils/formatters/log.js");var getAction_js_1=require("../../utils/getAction.js");var observe_js_1=require("../../utils/observe.js");var poll_js_1=require("../../utils/poll.js");var stringify_js_1=require("../../utils/stringify.js");var createContractEventFilter_js_1=require("./createContractEventFilter.js");var getBlockNumber_js_1=require("./getBlockNumber.js");var getContractEvents_js_1=require("./getContractEvents.js");var getFilterChanges_js_1=require("./getFilterChanges.js");var uninstallFilter_js_1=require("./uninstallFilter.js");function watchContractEvent(client,parameters){var abi=parameters.abi,address=parameters.address,args=parameters.args,_parameters$batch=parameters.batch,batch=_parameters$batch===void 0?true:_parameters$batch,eventName=parameters.eventName,fromBlock=parameters.fromBlock,onError=parameters.onError,onLogs=parameters.onLogs,poll_=parameters.poll,_parameters$pollingIn=parameters.pollingInterval,pollingInterval=_parameters$pollingIn===void 0?client.pollingInterval:_parameters$pollingIn,strict_=parameters.strict;var enablePolling=function(){if(typeof poll_!=="undefined")return poll_;if(typeof fromBlock==="bigint")return true;if(client.transport.type==="webSocket")return false;if(client.transport.type==="fallback"&&client.transport.transports[0].config.type==="webSocket")return false;return true}();var pollContractEvent=function pollContractEvent(){var strict=strict_!==null&&strict_!==void 0?strict_:false;var observerId=(0,stringify_js_1.stringify)(["watchContractEvent",address,args,batch,client.uid,eventName,pollingInterval,strict,fromBlock]);return(0,observe_js_1.observe)(observerId,{onLogs:onLogs,onError:onError},function(emit){var previousBlockNumber;if(fromBlock!==undefined)previousBlockNumber=fromBlock-1n;var filter;var initialized=false;var unwatch=(0,poll_js_1.poll)(_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var logs,blockNumber,_iterator,_step,log,_emit$onError;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(initialized){_context.next=11;break}_context.prev=1;_context.next=4;return(0,getAction_js_1.getAction)(client,createContractEventFilter_js_1.createContractEventFilter,"createContractEventFilter")({abi:abi,address:address,args:args,eventName:eventName,strict:strict,fromBlock:fromBlock});case 4:filter=_context.sent;_context.next=9;break;case 7:_context.prev=7;_context.t0=_context["catch"](1);case 9:initialized=true;return _context.abrupt("return");case 11:_context.prev=11;if(!filter){_context.next=18;break}_context.next=15;return(0,getAction_js_1.getAction)(client,getFilterChanges_js_1.getFilterChanges,"getFilterChanges")({filter:filter});case 15:logs=_context.sent;_context.next=29;break;case 18:_context.next=20;return(0,getAction_js_1.getAction)(client,getBlockNumber_js_1.getBlockNumber,"getBlockNumber")({});case 20:blockNumber=_context.sent;if(!(previousBlockNumber&&previousBlockNumber<blockNumber)){_context.next=27;break}_context.next=24;return(0,getAction_js_1.getAction)(client,getContractEvents_js_1.getContractEvents,"getContractEvents")({abi:abi,address:address,args:args,eventName:eventName,fromBlock:previousBlockNumber+1n,toBlock:blockNumber,strict:strict});case 24:logs=_context.sent;_context.next=28;break;case 27:logs=[];case 28:previousBlockNumber=blockNumber;case 29:if(!(logs.length===0)){_context.next=31;break}return _context.abrupt("return");case 31:if(batch)emit.onLogs(logs);else{_iterator=_createForOfIteratorHelper(logs);try{for(_iterator.s();!(_step=_iterator.n()).done;){log=_step.value;emit.onLogs([log])}}catch(err){_iterator.e(err)}finally{_iterator.f()}}_context.next=38;break;case 34:_context.prev=34;_context.t1=_context["catch"](11);if(filter&&_context.t1 instanceof rpc_js_1.InvalidInputRpcError)initialized=false;(_emit$onError=emit.onError)===null||_emit$onError===void 0?void 0:_emit$onError.call(emit,_context.t1);case 38:case"end":return _context.stop()}}},_callee,null,[[1,7],[11,34]])})),{emitOnBegin:true,interval:pollingInterval});return _asyncToGenerator(regeneratorRuntime.mark(function _callee2(){return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(!filter){_context2.next=3;break}_context2.next=3;return(0,getAction_js_1.getAction)(client,uninstallFilter_js_1.uninstallFilter,"uninstallFilter")({filter:filter});case 3:unwatch();case 4:case"end":return _context2.stop()}}},_callee2)}))})};var subscribeContractEvent=function subscribeContractEvent(){var strict=strict_!==null&&strict_!==void 0?strict_:false;var observerId=(0,stringify_js_1.stringify)(["watchContractEvent",address,args,batch,client.uid,eventName,pollingInterval,strict]);var active=true;var unsubscribe=function unsubscribe(){return active=false};return(0,observe_js_1.observe)(observerId,{onLogs:onLogs,onError:onError},function(emit){_asyncToGenerator(regeneratorRuntime.mark(function _callee3(){var transport,topics,_yield$transport$subs,unsubscribe_;return regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;transport=function(){if(client.transport.type==="fallback"){var _transport=client.transport.transports.find(function(transport){return transport.config.type==="webSocket"});if(!_transport)return client.transport;return _transport.value}return client.transport}();topics=eventName?(0,encodeEventTopics_js_1.encodeEventTopics)({abi:abi,eventName:eventName,args:args}):[];_context3.next=5;return transport.subscribe({params:["logs",{address:address,topics:topics}],onData:function onData(data){if(!active)return;var log=data.result;try{var _ref4=(0,decodeEventLog_js_1.decodeEventLog)({abi:abi,data:log.data,topics:log.topics,strict:strict_}),_eventName=_ref4.eventName,_args3=_ref4.args;var formatted=(0,log_js_1.formatLog)(log,{args:_args3,eventName:_eventName});emit.onLogs([formatted])}catch(err){var _eventName2;var isUnnamed;if(err instanceof abi_js_1.DecodeLogDataMismatch||err instanceof abi_js_1.DecodeLogTopicsMismatch){var _err$abiItem$inputs;if(strict_)return;_eventName2=err.abiItem.name;isUnnamed=(_err$abiItem$inputs=err.abiItem.inputs)===null||_err$abiItem$inputs===void 0?void 0:_err$abiItem$inputs.some(function(x){return!("name"in x&&x.name)})}var _formatted=(0,log_js_1.formatLog)(log,{args:isUnnamed?[]:{},eventName:_eventName2});emit.onLogs([_formatted])}},onError:function onError(error){var _emit$onError2;(_emit$onError2=emit.onError)===null||_emit$onError2===void 0?void 0:_emit$onError2.call(emit,error)}});case 5:_yield$transport$subs=_context3.sent;unsubscribe_=_yield$transport$subs.unsubscribe;unsubscribe=unsubscribe_;if(!active)unsubscribe();_context3.next=14;break;case 11:_context3.prev=11;_context3.t0=_context3["catch"](0);onError===null||onError===void 0?void 0:onError(_context3.t0);case 14:case"end":return _context3.stop()}}},_callee3,null,[[0,11]])}))();return function(){return unsubscribe()}})};return enablePolling?pollContractEvent():subscribeContractEvent()}},{"../../errors/abi.js":345,"../../errors/rpc.js":364,"../../utils/abi/decodeEventLog.js":377,"../../utils/abi/encodeEventTopics.js":383,"../../utils/formatters/log.js":447,"../../utils/getAction.js":452,"../../utils/observe.js":472,"../../utils/poll.js":473,"../../utils/stringify.js":509,"./createContractEventFilter.js":227,"./getBlockNumber.js":237,"./getContractEvents.js":241,"./getFilterChanges.js":244,"./uninstallFilter.js":259}],267:[function(require,module,exports){"use strict";function _createForOfIteratorHelper(r,e){var t="undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(!t){if(Array.isArray(r)||(t=_unsupportedIterableToArray(r))||e&&r&&"number"==typeof r.length){t&&(r=t);var _n=0,F=function F(){};return{s:F,n:function n(){return _n>=r.length?{done:!0}:{done:!1,value:r[_n++]}},e:function e(r){throw r},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function s(){t=t.call(r)},n:function n(){var r=t.next();return a=r.done,r},e:function e(r){u=!0,o=r},f:function f(){try{a||null==t["return"]||t["return"]()}finally{if(u)throw o}}}}function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++){n[e]=r[e]}return n}function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}Object.defineProperty(exports,"__esModule",{value:true});exports.watchEvent=watchEvent;var encodeEventTopics_js_1=require("../../utils/abi/encodeEventTopics.js");var observe_js_1=require("../../utils/observe.js");var poll_js_1=require("../../utils/poll.js");var stringify_js_1=require("../../utils/stringify.js");var abi_js_1=require("../../errors/abi.js");var rpc_js_1=require("../../errors/rpc.js");var decodeEventLog_js_1=require("../../utils/abi/decodeEventLog.js");var log_js_1=require("../../utils/formatters/log.js");var getAction_js_1=require("../../utils/getAction.js");var createEventFilter_js_1=require("./createEventFilter.js");var getBlockNumber_js_1=require("./getBlockNumber.js");var getFilterChanges_js_1=require("./getFilterChanges.js");var getLogs_js_1=require("./getLogs.js");var uninstallFilter_js_1=require("./uninstallFilter.js");function watchEvent(client,_ref){var address=_ref.address,args=_ref.args,_ref$batch=_ref.batch,batch=_ref$batch===void 0?true:_ref$batch,event=_ref.event,events=_ref.events,fromBlock=_ref.fromBlock,_onError=_ref.onError,onLogs=_ref.onLogs,poll_=_ref.poll,_ref$pollingInterval=_ref.pollingInterval,pollingInterval=_ref$pollingInterval===void 0?client.pollingInterval:_ref$pollingInterval,strict_=_ref.strict;var enablePolling=function(){if(typeof poll_!=="undefined")return poll_;if(typeof fromBlock==="bigint")return true;if(client.transport.type==="webSocket")return false;if(client.transport.type==="fallback"&&client.transport.transports[0].config.type==="webSocket")return false;return true}();var strict=strict_!==null&&strict_!==void 0?strict_:false;var pollEvent=function pollEvent(){var observerId=(0,stringify_js_1.stringify)(["watchEvent",address,args,batch,client.uid,event,pollingInterval,fromBlock]);return(0,observe_js_1.observe)(observerId,{onLogs:onLogs,onError:_onError},function(emit){var previousBlockNumber;if(fromBlock!==undefined)previousBlockNumber=fromBlock-1n;var filter;var initialized=false;var unwatch=(0,poll_js_1.poll)(_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var logs,blockNumber,_iterator,_step,log,_emit$onError;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(initialized){_context.next=11;break}_context.prev=1;_context.next=4;return(0,getAction_js_1.getAction)(client,createEventFilter_js_1.createEventFilter,"createEventFilter")({address:address,args:args,event:event,events:events,strict:strict,fromBlock:fromBlock});case 4:filter=_context.sent;_context.next=9;break;case 7:_context.prev=7;_context.t0=_context["catch"](1);case 9:initialized=true;return _context.abrupt("return");case 11:_context.prev=11;if(!filter){_context.next=18;break}_context.next=15;return(0,getAction_js_1.getAction)(client,getFilterChanges_js_1.getFilterChanges,"getFilterChanges")({filter:filter});case 15:logs=_context.sent;_context.next=29;break;case 18:_context.next=20;return(0,getAction_js_1.getAction)(client,getBlockNumber_js_1.getBlockNumber,"getBlockNumber")({});case 20:blockNumber=_context.sent;if(!(previousBlockNumber&&previousBlockNumber!==blockNumber)){_context.next=27;break}_context.next=24;return(0,getAction_js_1.getAction)(client,getLogs_js_1.getLogs,"getLogs")({address:address,args:args,event:event,events:events,fromBlock:previousBlockNumber+1n,toBlock:blockNumber});case 24:logs=_context.sent;_context.next=28;break;case 27:logs=[];case 28:previousBlockNumber=blockNumber;case 29:if(!(logs.length===0)){_context.next=31;break}return _context.abrupt("return");case 31:if(batch)emit.onLogs(logs);else{_iterator=_createForOfIteratorHelper(logs);try{for(_iterator.s();!(_step=_iterator.n()).done;){log=_step.value;emit.onLogs([log])}}catch(err){_iterator.e(err)}finally{_iterator.f()}}_context.next=38;break;case 34:_context.prev=34;_context.t1=_context["catch"](11);if(filter&&_context.t1 instanceof rpc_js_1.InvalidInputRpcError)initialized=false;(_emit$onError=emit.onError)===null||_emit$onError===void 0?void 0:_emit$onError.call(emit,_context.t1);case 38:case"end":return _context.stop()}}},_callee,null,[[1,7],[11,34]])})),{emitOnBegin:true,interval:pollingInterval});return _asyncToGenerator(regeneratorRuntime.mark(function _callee2(){return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(!filter){_context2.next=3;break}_context2.next=3;return(0,getAction_js_1.getAction)(client,uninstallFilter_js_1.uninstallFilter,"uninstallFilter")({filter:filter});case 3:unwatch();case 4:case"end":return _context2.stop()}}},_callee2)}))})};var subscribeEvent=function subscribeEvent(){var active=true;var unsubscribe=function unsubscribe(){return active=false};_asyncToGenerator(regeneratorRuntime.mark(function _callee3(){var transport,events_,topics,encoded,_yield$transport$subs,unsubscribe_;return regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;transport=function(){if(client.transport.type==="fallback"){var _transport=client.transport.transports.find(function(transport){return transport.config.type==="webSocket"});if(!_transport)return client.transport;return _transport.value}return client.transport}();events_=events!==null&&events!==void 0?events:event?[event]:undefined;topics=[];if(events_){encoded=events_.flatMap(function(event){return(0,encodeEventTopics_js_1.encodeEventTopics)({abi:[event],eventName:event.name,args:args})});topics=[encoded];if(event)topics=topics[0]}_context3.next=7;return transport.subscribe({params:["logs",{address:address,topics:topics}],onData:function onData(data){if(!active)return;var log=data.result;try{var _ref5=(0,decodeEventLog_js_1.decodeEventLog)({abi:events_!==null&&events_!==void 0?events_:[],data:log.data,topics:log.topics,strict:strict}),eventName=_ref5.eventName,_args3=_ref5.args;var formatted=(0,log_js_1.formatLog)(log,{args:_args3,eventName:eventName});onLogs([formatted])}catch(err){var _eventName;var isUnnamed;if(err instanceof abi_js_1.DecodeLogDataMismatch||err instanceof abi_js_1.DecodeLogTopicsMismatch){var _err$abiItem$inputs;if(strict_)return;_eventName=err.abiItem.name;isUnnamed=(_err$abiItem$inputs=err.abiItem.inputs)===null||_err$abiItem$inputs===void 0?void 0:_err$abiItem$inputs.some(function(x){return!("name"in x&&x.name)})}var _formatted=(0,log_js_1.formatLog)(log,{args:isUnnamed?[]:{},eventName:_eventName});onLogs([_formatted])}},onError:function onError(error){_onError===null||_onError===void 0?void 0:_onError(error)}});case 7:_yield$transport$subs=_context3.sent;unsubscribe_=_yield$transport$subs.unsubscribe;unsubscribe=unsubscribe_;if(!active)unsubscribe();_context3.next=16;break;case 13:_context3.prev=13;_context3.t0=_context3["catch"](0);_onError===null||_onError===void 0?void 0:_onError(_context3.t0);case 16:case"end":return _context3.stop()}}},_callee3,null,[[0,13]])}))();return function(){return unsubscribe()}};return enablePolling?pollEvent():subscribeEvent()}},{"../../errors/abi.js":345,"../../errors/rpc.js":364,"../../utils/abi/decodeEventLog.js":377,"../../utils/abi/encodeEventTopics.js":383,"../../utils/formatters/log.js":447,"../../utils/getAction.js":452,"../../utils/observe.js":472,"../../utils/poll.js":473,"../../utils/stringify.js":509,"./createEventFilter.js":228,"./getBlockNumber.js":237,"./getFilterChanges.js":244,"./getLogs.js":247,"./uninstallFilter.js":259}],268:[function(require,module,exports){"use strict";function _createForOfIteratorHelper(r,e){var t="undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(!t){if(Array.isArray(r)||(t=_unsupportedIterableToArray(r))||e&&r&&"number"==typeof r.length){t&&(r=t);var _n=0,F=function F(){};return{s:F,n:function n(){return _n>=r.length?{done:!0}:{done:!1,value:r[_n++]}},e:function e(r){throw r},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function s(){t=t.call(r)},n:function n(){var r=t.next();return a=r.done,r},e:function e(r){u=!0,o=r},f:function f(){try{a||null==t["return"]||t["return"]()}finally{if(u)throw o}}}}function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++){n[e]=r[e]}return n}function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}Object.defineProperty(exports,"__esModule",{value:true});exports.watchPendingTransactions=watchPendingTransactions;var getAction_js_1=require("../../utils/getAction.js");var observe_js_1=require("../../utils/observe.js");var poll_js_1=require("../../utils/poll.js");var stringify_js_1=require("../../utils/stringify.js");var createPendingTransactionFilter_js_1=require("./createPendingTransactionFilter.js");var getFilterChanges_js_1=require("./getFilterChanges.js");var uninstallFilter_js_1=require("./uninstallFilter.js");function watchPendingTransactions(client,_ref){var _ref$batch=_ref.batch,batch=_ref$batch===void 0?true:_ref$batch,_onError=_ref.onError,onTransactions=_ref.onTransactions,poll_=_ref.poll,_ref$pollingInterval=_ref.pollingInterval,pollingInterval=_ref$pollingInterval===void 0?client.pollingInterval:_ref$pollingInterval;var enablePolling=typeof poll_!=="undefined"?poll_:client.transport.type!=="webSocket";var pollPendingTransactions=function pollPendingTransactions(){var observerId=(0,stringify_js_1.stringify)(["watchPendingTransactions",client.uid,batch,pollingInterval]);return(0,observe_js_1.observe)(observerId,{onTransactions:onTransactions,onError:_onError},function(emit){var filter;var unwatch=(0,poll_js_1.poll)(_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var hashes,_iterator,_step,hash,_emit$onError;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;if(filter){_context.next=13;break}_context.prev=2;_context.next=5;return(0,getAction_js_1.getAction)(client,createPendingTransactionFilter_js_1.createPendingTransactionFilter,"createPendingTransactionFilter")({});case 5:filter=_context.sent;return _context.abrupt("return");case 9:_context.prev=9;_context.t0=_context["catch"](2);unwatch();throw _context.t0;case 13:_context.next=15;return(0,getAction_js_1.getAction)(client,getFilterChanges_js_1.getFilterChanges,"getFilterChanges")({filter:filter});case 15:hashes=_context.sent;if(!(hashes.length===0)){_context.next=18;break}return _context.abrupt("return");case 18:if(batch)emit.onTransactions(hashes);else{_iterator=_createForOfIteratorHelper(hashes);try{for(_iterator.s();!(_step=_iterator.n()).done;){hash=_step.value;emit.onTransactions([hash])}}catch(err){_iterator.e(err)}finally{_iterator.f()}}_context.next=24;break;case 21:_context.prev=21;_context.t1=_context["catch"](0);(_emit$onError=emit.onError)===null||_emit$onError===void 0?void 0:_emit$onError.call(emit,_context.t1);case 24:case"end":return _context.stop()}}},_callee,null,[[0,21],[2,9]])})),{emitOnBegin:true,interval:pollingInterval});return _asyncToGenerator(regeneratorRuntime.mark(function _callee2(){return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(!filter){_context2.next=3;break}_context2.next=3;return(0,getAction_js_1.getAction)(client,uninstallFilter_js_1.uninstallFilter,"uninstallFilter")({filter:filter});case 3:unwatch();case 4:case"end":return _context2.stop()}}},_callee2)}))})};var subscribePendingTransactions=function subscribePendingTransactions(){var active=true;var unsubscribe=function unsubscribe(){return active=false};_asyncToGenerator(regeneratorRuntime.mark(function _callee3(){var _yield$client$transpo,unsubscribe_;return regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return client.transport.subscribe({params:["newPendingTransactions"],onData:function onData(data){if(!active)return;var transaction=data.result;onTransactions([transaction])},onError:function onError(error){_onError===null||_onError===void 0?void 0:_onError(error)}});case 3:_yield$client$transpo=_context3.sent;unsubscribe_=_yield$client$transpo.unsubscribe;unsubscribe=unsubscribe_;if(!active)unsubscribe();_context3.next=12;break;case 9:_context3.prev=9;_context3.t0=_context3["catch"](0);_onError===null||_onError===void 0?void 0:_onError(_context3.t0);case 12:case"end":return _context3.stop()}}},_callee3,null,[[0,9]])}))();return function(){return unsubscribe()}};return enablePolling?pollPendingTransactions():subscribePendingTransactions()}},{"../../utils/getAction.js":452,"../../utils/observe.js":472,"../../utils/poll.js":473,"../../utils/stringify.js":509,"./createPendingTransactionFilter.js":229,"./getFilterChanges.js":244,"./uninstallFilter.js":259}],269:[function(require,module,exports){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}var _excluded=["address","domain","message","nonce","scheme","signature","time"];function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function _defineProperty(e,r,t){return(r=_toPropertyKey(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function _objectWithoutProperties(e,t){if(null==e)return{};var o,r,i=_objectWithoutPropertiesLoose(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(r=0;r<n.length;r++){o=n[r],-1===t.indexOf(o)&&{}.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}}return i}function _objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r){if({}.hasOwnProperty.call(r,n)){if(-1!==e.indexOf(n))continue;t[n]=r[n]}}return t}function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}Object.defineProperty(exports,"__esModule",{value:true});exports.verifySiweMessage=verifySiweMessage;var hashMessage_js_1=require("../../utils/signature/hashMessage.js");var parseSiweMessage_js_1=require("../../utils/siwe/parseSiweMessage.js");var validateSiweMessage_js_1=require("../../utils/siwe/validateSiweMessage.js");var verifyHash_js_1=require("../public/verifyHash.js");function verifySiweMessage(_x,_x2){return _verifySiweMessage.apply(this,arguments)}function _verifySiweMessage(){_verifySiweMessage=_asyncToGenerator(regeneratorRuntime.mark(function _callee(client,parameters){var address,domain,message,nonce,scheme,signature,_parameters$time,time,callRequest,parsed,isValid,hash;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:address=parameters.address,domain=parameters.domain,message=parameters.message,nonce=parameters.nonce,scheme=parameters.scheme,signature=parameters.signature,_parameters$time=parameters.time,time=_parameters$time===void 0?new Date:_parameters$time,callRequest=_objectWithoutProperties(parameters,_excluded);parsed=(0,parseSiweMessage_js_1.parseSiweMessage)(message);if(parsed.address){_context.next=4;break}return _context.abrupt("return",false);case 4:isValid=(0,validateSiweMessage_js_1.validateSiweMessage)({address:address,domain:domain,message:parsed,nonce:nonce,scheme:scheme,time:time});if(isValid){_context.next=7;break}return _context.abrupt("return",false);case 7:hash=(0,hashMessage_js_1.hashMessage)(message);return _context.abrupt("return",(0,verifyHash_js_1.verifyHash)(client,_objectSpread({address:parsed.address,hash:hash,signature:signature},callRequest)));case 9:case"end":return _context.stop()}}},_callee)}));return _verifySiweMessage.apply(this,arguments)}},{"../../utils/signature/hashMessage.js":487,"../../utils/siwe/parseSiweMessage.js":506,"../../utils/siwe/validateSiweMessage.js":507,"../public/verifyHash.js":260}],270:[function(require,module,exports){"use strict";function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}Object.defineProperty(exports,"__esModule",{value:true});exports.dropTransaction=dropTransaction;function dropTransaction(_x,_x2){return _dropTransaction.apply(this,arguments)}function _dropTransaction(){_dropTransaction=_asyncToGenerator(regeneratorRuntime.mark(function _callee(client,_ref){var hash;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:hash=_ref.hash;_context.next=3;return client.request({method:"".concat(client.mode,"_dropTransaction"),params:[hash]});case 3:case"end":return _context.stop()}}},_callee)}));return _dropTransaction.apply(this,arguments)}},{}],271:[function(require,module,exports){"use strict";function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}Object.defineProperty(exports,"__esModule",{value:true});exports.dumpState=dumpState;function dumpState(_x){return _dumpState.apply(this,arguments)}function _dumpState(){_dumpState=_asyncToGenerator(regeneratorRuntime.mark(function _callee(client){return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:return _context.abrupt("return",client.request({method:"".concat(client.mode,"_dumpState")}));case 1:case"end":return _context.stop()}}},_callee)}));return _dumpState.apply(this,arguments)}},{}],272:[function(require,module,exports){"use strict";function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}Object.defineProperty(exports,"__esModule",{value:true});exports.getAutomine=getAutomine;function getAutomine(_x){return _getAutomine.apply(this,arguments)}function _getAutomine(){_getAutomine=_asyncToGenerator(regeneratorRuntime.mark(function _callee(client){return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(client.mode==="ganache")){_context.next=4;break}_context.next=3;return client.request({method:"eth_mining"});case 3:return _context.abrupt("return",_context.sent);case 4:_context.next=6;return client.request({method:"".concat(client.mode,"_getAutomine")});case 6:return _context.abrupt("return",_context.sent);case 7:case"end":return _context.stop()}}},_callee)}));return _getAutomine.apply(this,arguments)}},{}],273:[function(require,module,exports){"use strict";function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}Object.defineProperty(exports,"__esModule",{value:true});exports.getTxpoolContent=getTxpoolContent;function getTxpoolContent(_x){return _getTxpoolContent.apply(this,arguments)}function _getTxpoolContent(){_getTxpoolContent=_asyncToGenerator(regeneratorRuntime.mark(function _callee(client){return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return client.request({method:"txpool_content"});case 2:return _context.abrupt("return",_context.sent);case 3:case"end":return _context.stop()}}},_callee)}));return _getTxpoolContent.apply(this,arguments)}},{}],274:[function(require,module,exports){"use strict";function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}Object.defineProperty(exports,"__esModule",{value:true});exports.getTxpoolStatus=getTxpoolStatus;var fromHex_js_1=require("../../utils/encoding/fromHex.js");function getTxpoolStatus(_x){return _getTxpoolStatus.apply(this,arguments)}function _getTxpoolStatus(){_getTxpoolStatus=_asyncToGenerator(regeneratorRuntime.mark(function _callee(client){var _yield$client$request,pending,queued;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return client.request({method:"txpool_status"});case 2:_yield$client$request=_context.sent;pending=_yield$client$request.pending;queued=_yield$client$request.queued;return _context.abrupt("return",{pending:(0,fromHex_js_1.hexToNumber)(pending),queued:(0,fromHex_js_1.hexToNumber)(queued)});case 6:case"end":return _context.stop()}}},_callee)}));return _getTxpoolStatus.apply(this,arguments)}},{"../../utils/encoding/fromHex.js":423}],275:[function(require,module,exports){"use strict";function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}Object.defineProperty(exports,"__esModule",{value:true});exports.impersonateAccount=impersonateAccount;function impersonateAccount(_x,_x2){return _impersonateAccount.apply(this,arguments)}function _impersonateAccount(){_impersonateAccount=_asyncToGenerator(regeneratorRuntime.mark(function _callee(client,_ref){var address;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:address=_ref.address;_context.next=3;return client.request({method:"".concat(client.mode,"_impersonateAccount"),params:[address]});case 3:case"end":return _context.stop()}}},_callee)}));return _impersonateAccount.apply(this,arguments)}},{}],276:[function(require,module,exports){"use strict";function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}Object.defineProperty(exports,"__esModule",{value:true});exports.increaseTime=increaseTime;var toHex_js_1=require("../../utils/encoding/toHex.js");function increaseTime(_x,_x2){return _increaseTime.apply(this,arguments)}function _increaseTime(){_increaseTime=_asyncToGenerator(regeneratorRuntime.mark(function _callee(client,_ref){var seconds;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:seconds=_ref.seconds;_context.next=3;return client.request({method:"evm_increaseTime",params:[(0,toHex_js_1.numberToHex)(seconds)]});case 3:return _context.abrupt("return",_context.sent);case 4:case"end":return _context.stop()}}},_callee)}));return _increaseTime.apply(this,arguments)}},{"../../utils/encoding/toHex.js":426}],277:[function(require,module,exports){"use strict";function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}Object.defineProperty(exports,"__esModule",{value:true});exports.inspectTxpool=inspectTxpool;function inspectTxpool(_x){return _inspectTxpool.apply(this,arguments)}function _inspectTxpool(){_inspectTxpool=_asyncToGenerator(regeneratorRuntime.mark(function _callee(client){return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return client.request({method:"txpool_inspect"});case 2:return _context.abrupt("return",_context.sent);case 3:case"end":return _context.stop()}}},_callee)}));return _inspectTxpool.apply(this,arguments)}},{}],278:[function(require,module,exports){"use strict";function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}Object.defineProperty(exports,"__esModule",{value:true});exports.loadState=loadState;function loadState(_x,_x2){return _loadState.apply(this,arguments)}function _loadState(){_loadState=_asyncToGenerator(regeneratorRuntime.mark(function _callee(client,_ref){var state;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:state=_ref.state;_context.next=3;return client.request({method:"".concat(client.mode,"_loadState"),params:[state]});case 3:case"end":return _context.stop()}}},_callee)}));return _loadState.apply(this,arguments)}},{}],279:[function(require,module,exports){"use strict";function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}Object.defineProperty(exports,"__esModule",{value:true});exports.mine=mine;var toHex_js_1=require("../../utils/encoding/toHex.js");function mine(_x,_x2){return _mine.apply(this,arguments)}function _mine(){_mine=_asyncToGenerator(regeneratorRuntime.mark(function _callee(client,_ref){var blocks,interval;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:blocks=_ref.blocks,interval=_ref.interval;if(!(client.mode==="ganache")){_context.next=6;break}_context.next=4;return client.request({method:"evm_mine",params:[{blocks:(0,toHex_js_1.numberToHex)(blocks)}]});case 4:_context.next=8;break;case 6:_context.next=8;return client.request({method:"".concat(client.mode,"_mine"),params:[(0,toHex_js_1.numberToHex)(blocks),(0,toHex_js_1.numberToHex)(interval||0)]});case 8:case"end":return _context.stop()}}},_callee)}));return _mine.apply(this,arguments)}},{"../../utils/encoding/toHex.js":426}],280:[function(require,module,exports){"use strict";function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}Object.defineProperty(exports,"__esModule",{value:true});exports.removeBlockTimestampInterval=removeBlockTimestampInterval;function removeBlockTimestampInterval(_x){return _removeBlockTimestampInterval.apply(this,arguments)}function _removeBlockTimestampInterval(){_removeBlockTimestampInterval=_asyncToGenerator(regeneratorRuntime.mark(function _callee(client){return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return client.request({method:"".concat(client.mode,"_removeBlockTimestampInterval")});case 2:case"end":return _context.stop()}}},_callee)}));return _removeBlockTimestampInterval.apply(this,arguments)}},{}],281:[function(require,module,exports){"use strict";function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}Object.defineProperty(exports,"__esModule",{value:true});exports.reset=reset;function reset(_x){return _reset.apply(this,arguments)}function _reset(){_reset=_asyncToGenerator(regeneratorRuntime.mark(function _callee(client){var _ref,blockNumber,jsonRpcUrl,_args=arguments;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_ref=_args.length>1&&_args[1]!==undefined?_args[1]:{},blockNumber=_ref.blockNumber,jsonRpcUrl=_ref.jsonRpcUrl;_context.next=3;return client.request({method:"".concat(client.mode,"_reset"),params:[{forking:{blockNumber:Number(blockNumber),jsonRpcUrl:jsonRpcUrl}}]});case 3:case"end":return _context.stop()}}},_callee)}));return _reset.apply(this,arguments)}},{}],282:[function(require,module,exports){"use strict";function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}Object.defineProperty(exports,"__esModule",{value:true});exports.revert=revert;function revert(_x,_x2){return _revert.apply(this,arguments)}function _revert(){_revert=_asyncToGenerator(regeneratorRuntime.mark(function _callee(client,_ref){var id;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:id=_ref.id;_context.next=3;return client.request({method:"evm_revert",params:[id]});case 3:case"end":return _context.stop()}}},_callee)}));return _revert.apply(this,arguments)}},{}],283:[function(require,module,exports){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}var _excluded=["accessList","data","from","gas","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","value"];function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function _defineProperty(e,r,t){return(r=_toPropertyKey(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function _objectWithoutProperties(e,t){if(null==e)return{};var o,r,i=_objectWithoutPropertiesLoose(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(r=0;r<n.length;r++){o=n[r],-1===t.indexOf(o)&&{}.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}}return i}function _objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r){if({}.hasOwnProperty.call(r,n)){if(-1!==e.indexOf(n))continue;t[n]=r[n]}}return t}function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}Object.defineProperty(exports,"__esModule",{value:true});exports.sendUnsignedTransaction=sendUnsignedTransaction;var extract_js_1=require("../../utils/formatters/extract.js");var transactionRequest_js_1=require("../../utils/formatters/transactionRequest.js");function sendUnsignedTransaction(_x,_x2){return _sendUnsignedTransaction.apply(this,arguments)}function _sendUnsignedTransaction(){_sendUnsignedTransaction=_asyncToGenerator(regeneratorRuntime.mark(function _callee(client,args){var _client$chain,_client$chain$formatt,_client$chain$formatt2;var accessList,data,from,gas,gasPrice,maxFeePerGas,maxPriorityFeePerGas,nonce,to,value,rest,chainFormat,format,request,hash;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:accessList=args.accessList,data=args.data,from=args.from,gas=args.gas,gasPrice=args.gasPrice,maxFeePerGas=args.maxFeePerGas,maxPriorityFeePerGas=args.maxPriorityFeePerGas,nonce=args.nonce,to=args.to,value=args.value,rest=_objectWithoutProperties(args,_excluded);chainFormat=(_client$chain=client.chain)===null||_client$chain===void 0?void 0:(_client$chain$formatt=_client$chain.formatters)===null||_client$chain$formatt===void 0?void 0:(_client$chain$formatt2=_client$chain$formatt.transactionRequest)===null||_client$chain$formatt2===void 0?void 0:_client$chain$formatt2.format;format=chainFormat||transactionRequest_js_1.formatTransactionRequest;request=format(_objectSpread(_objectSpread({},(0,extract_js_1.extract)(rest,{format:chainFormat})),{},{accessList:accessList,data:data,from:from,gas:gas,gasPrice:gasPrice,maxFeePerGas:maxFeePerGas,maxPriorityFeePerGas:maxPriorityFeePerGas,nonce:nonce,to:to,value:value}));_context.next=6;return client.request({method:"eth_sendUnsignedTransaction",params:[request]});case 6:hash=_context.sent;return _context.abrupt("return",hash);case 8:case"end":return _context.stop()}}},_callee)}));return _sendUnsignedTransaction.apply(this,arguments)}},{"../../utils/formatters/extract.js":444,"../../utils/formatters/transactionRequest.js":451}],284:[function(require,module,exports){"use strict";function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}Object.defineProperty(exports,"__esModule",{value:true});exports.setAutomine=setAutomine;function setAutomine(_x,_x2){return _setAutomine.apply(this,arguments)}function _setAutomine(){_setAutomine=_asyncToGenerator(regeneratorRuntime.mark(function _callee(client,enabled){return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(client.mode==="ganache")){_context.next=10;break}if(!enabled){_context.next=6;break}_context.next=4;return client.request({method:"miner_start"});case 4:_context.next=8;break;case 6:_context.next=8;return client.request({method:"miner_stop"});case 8:_context.next=12;break;case 10:_context.next=12;return client.request({method:"evm_setAutomine",params:[enabled]});case 12:case"end":return _context.stop()}}},_callee)}));return _setAutomine.apply(this,arguments)}},{}],285:[function(require,module,exports){"use strict";function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}Object.defineProperty(exports,"__esModule",{value:true});exports.setBalance=setBalance;var toHex_js_1=require("../../utils/encoding/toHex.js");function setBalance(_x,_x2){return _setBalance.apply(this,arguments)}function _setBalance(){_setBalance=_asyncToGenerator(regeneratorRuntime.mark(function _callee(client,_ref){var address,value;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:address=_ref.address,value=_ref.value;if(!(client.mode==="ganache")){_context.next=6;break}_context.next=4;return client.request({method:"evm_setAccountBalance",params:[address,(0,toHex_js_1.numberToHex)(value)]});case 4:_context.next=8;break;case 6:_context.next=8;return client.request({method:"".concat(client.mode,"_setBalance"),params:[address,(0,toHex_js_1.numberToHex)(value)]});case 8:case"end":return _context.stop()}}},_callee)}));return _setBalance.apply(this,arguments)}},{"../../utils/encoding/toHex.js":426}],286:[function(require,module,exports){"use strict";function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}Object.defineProperty(exports,"__esModule",{value:true});exports.setBlockGasLimit=setBlockGasLimit;var toHex_js_1=require("../../utils/encoding/toHex.js");function setBlockGasLimit(_x,_x2){return _setBlockGasLimit.apply(this,arguments)}function _setBlockGasLimit(){_setBlockGasLimit=_asyncToGenerator(regeneratorRuntime.mark(function _callee(client,_ref){var gasLimit;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:gasLimit=_ref.gasLimit;_context.next=3;return client.request({method:"evm_setBlockGasLimit",params:[(0,toHex_js_1.numberToHex)(gasLimit)]});case 3:case"end":return _context.stop()}}},_callee)}));return _setBlockGasLimit.apply(this,arguments)}},{"../../utils/encoding/toHex.js":426}],287:[function(require,module,exports){"use strict";function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}Object.defineProperty(exports,"__esModule",{value:true});exports.setBlockTimestampInterval=setBlockTimestampInterval;function setBlockTimestampInterval(_x,_x2){return _setBlockTimestampInterval.apply(this,arguments)}function _setBlockTimestampInterval(){_setBlockTimestampInterval=_asyncToGenerator(regeneratorRuntime.mark(function _callee(client,_ref){var interval,interval_;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:interval=_ref.interval;interval_=function(){if(client.mode==="hardhat")return interval*1e3;return interval}();_context.next=4;return client.request({method:"".concat(client.mode,"_setBlockTimestampInterval"),params:[interval_]});case 4:case"end":return _context.stop()}}},_callee)}));return _setBlockTimestampInterval.apply(this,arguments)}},{}],288:[function(require,module,exports){"use strict";function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}Object.defineProperty(exports,"__esModule",{value:true});exports.setCode=setCode;function setCode(_x,_x2){return _setCode.apply(this,arguments)}function _setCode(){_setCode=_asyncToGenerator(regeneratorRuntime.mark(function _callee(client,_ref){var address,bytecode;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:address=_ref.address,bytecode=_ref.bytecode;if(!(client.mode==="ganache")){_context.next=6;break}_context.next=4;return client.request({method:"evm_setAccountCode",params:[address,bytecode]});case 4:_context.next=8;break;case 6:_context.next=8;return client.request({method:"".concat(client.mode,"_setCode"),params:[address,bytecode]});case 8:case"end":return _context.stop()}}},_callee)}));return _setCode.apply(this,arguments)}},{}],289:[function(require,module,exports){"use strict";function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}Object.defineProperty(exports,"__esModule",{value:true});exports.setCoinbase=setCoinbase;function setCoinbase(_x,_x2){return _setCoinbase.apply(this,arguments)}function _setCoinbase(){_setCoinbase=_asyncToGenerator(regeneratorRuntime.mark(function _callee(client,_ref){var address;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:address=_ref.address;_context.next=3;return client.request({method:"".concat(client.mode,"_setCoinbase"),params:[address]});case 3:case"end":return _context.stop()}}},_callee)}));return _setCoinbase.apply(this,arguments)}},{}],290:[function(require,module,exports){"use strict";function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}Object.defineProperty(exports,"__esModule",{value:true});exports.setIntervalMining=setIntervalMining;function setIntervalMining(_x,_x2){return _setIntervalMining.apply(this,arguments)}function _setIntervalMining(){_setIntervalMining=_asyncToGenerator(regeneratorRuntime.mark(function _callee(client,_ref){var interval,interval_;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:interval=_ref.interval;interval_=function(){if(client.mode==="hardhat")return interval*1e3;return interval}();_context.next=4;return client.request({method:"evm_setIntervalMining",params:[interval_]});case 4:case"end":return _context.stop()}}},_callee)}));return _setIntervalMining.apply(this,arguments)}},{}],291:[function(require,module,exports){"use strict";function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}Object.defineProperty(exports,"__esModule",{value:true});exports.setLoggingEnabled=setLoggingEnabled;function setLoggingEnabled(_x,_x2){return _setLoggingEnabled.apply(this,arguments)}function _setLoggingEnabled(){_setLoggingEnabled=_asyncToGenerator(regeneratorRuntime.mark(function _callee(client,enabled){return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return client.request({method:"".concat(client.mode,"_setLoggingEnabled"),params:[enabled]});case 2:case"end":return _context.stop()}}},_callee)}));return _setLoggingEnabled.apply(this,arguments)}},{}],292:[function(require,module,exports){"use strict";function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}Object.defineProperty(exports,"__esModule",{value:true});exports.setMinGasPrice=setMinGasPrice;var toHex_js_1=require("../../utils/encoding/toHex.js");function setMinGasPrice(_x,_x2){return _setMinGasPrice.apply(this,arguments)}function _setMinGasPrice(){_setMinGasPrice=_asyncToGenerator(regeneratorRuntime.mark(function _callee(client,_ref){var gasPrice;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:gasPrice=_ref.gasPrice;_context.next=3;return client.request({method:"".concat(client.mode,"_setMinGasPrice"),params:[(0,toHex_js_1.numberToHex)(gasPrice)]});case 3:case"end":return _context.stop()}}},_callee)}));return _setMinGasPrice.apply(this,arguments)}},{"../../utils/encoding/toHex.js":426}],293:[function(require,module,exports){"use strict";function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}Object.defineProperty(exports,"__esModule",{value:true});exports.setNextBlockBaseFeePerGas=setNextBlockBaseFeePerGas;var toHex_js_1=require("../../utils/encoding/toHex.js");function setNextBlockBaseFeePerGas(_x,_x2){return _setNextBlockBaseFeePerGas.apply(this,arguments)}function _setNextBlockBaseFeePerGas(){_setNextBlockBaseFeePerGas=_asyncToGenerator(regeneratorRuntime.mark(function _callee(client,_ref){var baseFeePerGas;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:baseFeePerGas=_ref.baseFeePerGas;_context.next=3;return client.request({method:"".concat(client.mode,"_setNextBlockBaseFeePerGas"),params:[(0,toHex_js_1.numberToHex)(baseFeePerGas)]});case 3:case"end":return _context.stop()}}},_callee)}));return _setNextBlockBaseFeePerGas.apply(this,arguments)}},{"../../utils/encoding/toHex.js":426}],294:[function(require,module,exports){"use strict";function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}Object.defineProperty(exports,"__esModule",{value:true});exports.setNextBlockTimestamp=setNextBlockTimestamp;var toHex_js_1=require("../../utils/encoding/toHex.js");function setNextBlockTimestamp(_x,_x2){return _setNextBlockTimestamp.apply(this,arguments)}function _setNextBlockTimestamp(){_setNextBlockTimestamp=_asyncToGenerator(regeneratorRuntime.mark(function _callee(client,_ref){var timestamp;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:timestamp=_ref.timestamp;_context.next=3;return client.request({method:"evm_setNextBlockTimestamp",params:[(0,toHex_js_1.numberToHex)(timestamp)]});case 3:case"end":return _context.stop()}}},_callee)}));return _setNextBlockTimestamp.apply(this,arguments)}},{"../../utils/encoding/toHex.js":426}],295:[function(require,module,exports){"use strict";function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}Object.defineProperty(exports,"__esModule",{value:true});exports.setNonce=setNonce;var toHex_js_1=require("../../utils/encoding/toHex.js");function setNonce(_x,_x2){return _setNonce.apply(this,arguments)}function _setNonce(){_setNonce=_asyncToGenerator(regeneratorRuntime.mark(function _callee(client,_ref){var address,nonce;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:address=_ref.address,nonce=_ref.nonce;_context.next=3;return client.request({method:"".concat(client.mode,"_setNonce"),params:[address,(0,toHex_js_1.numberToHex)(nonce)]});case 3:case"end":return _context.stop()}}},_callee)}));return _setNonce.apply(this,arguments)}},{"../../utils/encoding/toHex.js":426}],296:[function(require,module,exports){"use strict";function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}Object.defineProperty(exports,"__esModule",{value:true});exports.setRpcUrl=setRpcUrl;function setRpcUrl(_x,_x2){return _setRpcUrl.apply(this,arguments)}function _setRpcUrl(){_setRpcUrl=_asyncToGenerator(regeneratorRuntime.mark(function _callee(client,jsonRpcUrl){return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return client.request({method:"".concat(client.mode,"_setRpcUrl"),params:[jsonRpcUrl]});case 2:case"end":return _context.stop()}}},_callee)}));return _setRpcUrl.apply(this,arguments)}},{}],297:[function(require,module,exports){"use strict";function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}Object.defineProperty(exports,"__esModule",{value:true});exports.setStorageAt=setStorageAt;var toHex_js_1=require("../../utils/encoding/toHex.js");function setStorageAt(_x,_x2){return _setStorageAt.apply(this,arguments)}function _setStorageAt(){_setStorageAt=_asyncToGenerator(regeneratorRuntime.mark(function _callee(client,_ref){var address,index,value;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:address=_ref.address,index=_ref.index,value=_ref.value;_context.next=3;return client.request({method:"".concat(client.mode,"_setStorageAt"),params:[address,typeof index==="number"?(0,toHex_js_1.numberToHex)(index):index,value]});case 3:case"end":return _context.stop()}}},_callee)}));return _setStorageAt.apply(this,arguments)}},{"../../utils/encoding/toHex.js":426}],298:[function(require,module,exports){"use strict";function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}Object.defineProperty(exports,"__esModule",{value:true});exports.snapshot=snapshot;function snapshot(_x){return _snapshot.apply(this,arguments)}function _snapshot(){_snapshot=_asyncToGenerator(regeneratorRuntime.mark(function _callee(client){return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return client.request({method:"evm_snapshot"});case 2:return _context.abrupt("return",_context.sent);case 3:case"end":return _context.stop()}}},_callee)}));return _snapshot.apply(this,arguments)}},{}],299:[function(require,module,exports){"use strict";function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}Object.defineProperty(exports,"__esModule",{value:true});exports.stopImpersonatingAccount=stopImpersonatingAccount;function stopImpersonatingAccount(_x,_x2){return _stopImpersonatingAccount.apply(this,arguments)}function _stopImpersonatingAccount(){_stopImpersonatingAccount=_asyncToGenerator(regeneratorRuntime.mark(function _callee(client,_ref){var address;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:address=_ref.address;_context.next=3;return client.request({method:"".concat(client.mode,"_stopImpersonatingAccount"),params:[address]});case 3:case"end":return _context.stop()}}},_callee)}));return _stopImpersonatingAccount.apply(this,arguments)}},{}],300:[function(require,module,exports){"use strict";function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}Object.defineProperty(exports,"__esModule",{value:true});exports.addChain=addChain;var toHex_js_1=require("../../utils/encoding/toHex.js");function addChain(_x,_x2){return _addChain.apply(this,arguments)}function _addChain(){_addChain=_asyncToGenerator(regeneratorRuntime.mark(function _callee(client,_ref){var chain,id,name,nativeCurrency,rpcUrls,blockExplorers;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:chain=_ref.chain;id=chain.id,name=chain.name,nativeCurrency=chain.nativeCurrency,rpcUrls=chain.rpcUrls,blockExplorers=chain.blockExplorers;_context.next=4;return client.request({method:"wallet_addEthereumChain",params:[{chainId:(0,toHex_js_1.numberToHex)(id),chainName:name,nativeCurrency:nativeCurrency,rpcUrls:rpcUrls["default"].http,blockExplorerUrls:blockExplorers?Object.values(blockExplorers).map(function(_ref2){var url=_ref2.url;return url}):undefined}]},{dedupe:true,retryCount:0});case 4:case"end":return _context.stop()}}},_callee)}));return _addChain.apply(this,arguments)}},{"../../utils/encoding/toHex.js":426}],301:[function(require,module,exports){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}var _excluded=["abi","args","bytecode"];function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function _defineProperty(e,r,t){return(r=_toPropertyKey(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function _objectWithoutProperties(e,t){if(null==e)return{};var o,r,i=_objectWithoutPropertiesLoose(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(r=0;r<n.length;r++){o=n[r],-1===t.indexOf(o)&&{}.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}}return i}function _objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r){if({}.hasOwnProperty.call(r,n)){if(-1!==e.indexOf(n))continue;t[n]=r[n]}}return t}Object.defineProperty(exports,"__esModule",{value:true});exports.deployContract=deployContract;var encodeDeployData_js_1=require("../../utils/abi/encodeDeployData.js");var sendTransaction_js_1=require("./sendTransaction.js");function deployContract(walletClient,parameters){var abi=parameters.abi,args=parameters.args,bytecode=parameters.bytecode,request=_objectWithoutProperties(parameters,_excluded);var calldata=(0,encodeDeployData_js_1.encodeDeployData)({abi:abi,args:args,bytecode:bytecode});return(0,sendTransaction_js_1.sendTransaction)(walletClient,_objectSpread(_objectSpread(_objectSpread({},request),request.authorizationList?{to:null}:{}),{},{data:calldata}))}},{"../../utils/abi/encodeDeployData.js":381,"./sendTransaction.js":312}],302:[function(require,module,exports){"use strict";function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}Object.defineProperty(exports,"__esModule",{value:true});exports.getAddresses=getAddresses;var getAddress_js_1=require("../../utils/address/getAddress.js");function getAddresses(_x){return _getAddresses.apply(this,arguments)}function _getAddresses(){_getAddresses=_asyncToGenerator(regeneratorRuntime.mark(function _callee(client){var _client$account;var addresses;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(((_client$account=client.account)===null||_client$account===void 0?void 0:_client$account.type)==="local")){_context.next=2;break}return _context.abrupt("return",[client.account.address]);case 2:_context.next=4;return client.request({method:"eth_accounts"},{dedupe:true});case 4:addresses=_context.sent;return _context.abrupt("return",addresses.map(function(address){return(0,getAddress_js_1.checksumAddress)(address)}));case 6:case"end":return _context.stop()}}},_callee)}));return _getAddresses.apply(this,arguments)}},{"../../utils/address/getAddress.js":392}],303:[function(require,module,exports){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}var _excluded=["atomic","chainId","receipts","version"];function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function _defineProperty(e,r,t){return(r=_toPropertyKey(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function _slicedToArray(r,e){return _arrayWithHoles(r)||_iterableToArrayLimit(r,e)||_unsupportedIterableToArray(r,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++){n[e]=r[e]}return n}function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0){}}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t["return"]&&(u=t["return"](),Object(u)!==u))return}finally{if(o)throw n}}return a}}function _arrayWithHoles(r){if(Array.isArray(r))return r}function _objectWithoutProperties(e,t){if(null==e)return{};var o,r,i=_objectWithoutPropertiesLoose(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(r=0;r<n.length;r++){o=n[r],-1===t.indexOf(o)&&{}.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}}return i}function _objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r){if({}.hasOwnProperty.call(r,n)){if(-1!==e.indexOf(n))continue;t[n]=r[n]}}return t}function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}Object.defineProperty(exports,"__esModule",{value:true});exports.getCallsStatus=getCallsStatus;var fromHex_js_1=require("../../utils/encoding/fromHex.js");var transactionReceipt_js_1=require("../../utils/formatters/transactionReceipt.js");function getCallsStatus(_x,_x2){return _getCallsStatus.apply(this,arguments)}function _getCallsStatus(){_getCallsStatus=_asyncToGenerator(regeneratorRuntime.mark(function _callee(client,parameters){var _receipts$map;var _yield$client$request,_yield$client$request2,atomic,chainId,receipts,_yield$client$request3,version,response,_ref,_ref2,status,statusCode;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return client.request({method:"wallet_getCallsStatus",params:[parameters.id]});case 2:_yield$client$request=_context.sent;_yield$client$request2=_yield$client$request.atomic;atomic=_yield$client$request2===void 0?false:_yield$client$request2;chainId=_yield$client$request.chainId;receipts=_yield$client$request.receipts;_yield$client$request3=_yield$client$request.version;version=_yield$client$request3===void 0?"2.0.0":_yield$client$request3;response=_objectWithoutProperties(_yield$client$request,_excluded);_ref=function(){var statusCode=response.status;if(statusCode>=100&&statusCode<200)return["pending",statusCode];if(statusCode>=200&&statusCode<300)return["success",statusCode];if(statusCode>=300&&statusCode<700)return["failure",statusCode];if(statusCode==="CONFIRMED")return["success",200];if(statusCode==="PENDING")return["pending",100];return[undefined,statusCode]}(),_ref2=_slicedToArray(_ref,2),status=_ref2[0],statusCode=_ref2[1];return _context.abrupt("return",_objectSpread(_objectSpread({},response),{},{atomic:atomic,chainId:chainId?(0,fromHex_js_1.hexToNumber)(chainId):undefined,receipts:(_receipts$map=receipts===null||receipts===void 0?void 0:receipts.map(function(receipt){return _objectSpread(_objectSpread({},receipt),{},{blockNumber:(0,fromHex_js_1.hexToBigInt)(receipt.blockNumber),gasUsed:(0,fromHex_js_1.hexToBigInt)(receipt.gasUsed),status:transactionReceipt_js_1.receiptStatuses[receipt.status]})}))!==null&&_receipts$map!==void 0?_receipts$map:[],statusCode:statusCode,status:status,version:version}));case 12:case"end":return _context.stop()}}},_callee)}));return _getCallsStatus.apply(this,arguments)}},{"../../utils/encoding/fromHex.js":423,"../../utils/formatters/transactionReceipt.js":450}],304:[function(require,module,exports){"use strict";function _slicedToArray(r,e){return _arrayWithHoles(r)||_iterableToArrayLimit(r,e)||_unsupportedIterableToArray(r,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++){n[e]=r[e]}return n}function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0){}}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t["return"]&&(u=t["return"](),Object(u)!==u))return}finally{if(o)throw n}}return a}}function _arrayWithHoles(r){if(Array.isArray(r))return r}function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}Object.defineProperty(exports,"__esModule",{value:true});exports.getCapabilities=getCapabilities;var parseAccount_js_1=require("../../accounts/utils/parseAccount.js");var toHex_js_1=require("../../utils/encoding/toHex.js");function getCapabilities(_x){return _getCapabilities.apply(this,arguments)}function _getCapabilities(){_getCapabilities=_asyncToGenerator(regeneratorRuntime.mark(function _callee(client){var parameters,_parameters$account,account,chainId,account_,params,capabilities_raw,capabilities,_i,_Object$entries,_Object$entries$_i,_chainId,capabilities_,_i2,_Object$entries2,_Object$entries2$_i,key,value,_args=arguments;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:parameters=_args.length>1&&_args[1]!==undefined?_args[1]:{};_parameters$account=parameters.account,account=_parameters$account===void 0?client.account:_parameters$account,chainId=parameters.chainId;account_=account?(0,parseAccount_js_1.parseAccount)(account):undefined;params=chainId?[account_===null||account_===void 0?void 0:account_.address,[(0,toHex_js_1.numberToHex)(chainId)]]:[account_===null||account_===void 0?void 0:account_.address];_context.next=6;return client.request({method:"wallet_getCapabilities",params:params});case 6:capabilities_raw=_context.sent;capabilities={};for(_i=0,_Object$entries=Object.entries(capabilities_raw);_i<_Object$entries.length;_i++){_Object$entries$_i=_slicedToArray(_Object$entries[_i],2),_chainId=_Object$entries$_i[0],capabilities_=_Object$entries$_i[1];capabilities[Number(_chainId)]={};for(_i2=0,_Object$entries2=Object.entries(capabilities_);_i2<_Object$entries2.length;_i2++){_Object$entries2$_i=_slicedToArray(_Object$entries2[_i2],2),key=_Object$entries2$_i[0],value=_Object$entries2$_i[1];if(key==="addSubAccount")key="unstable_addSubAccount";capabilities[Number(_chainId)][key]=value}}return _context.abrupt("return",typeof chainId==="number"?capabilities[chainId]:capabilities);case 10:case"end":return _context.stop()}}},_callee)}));return _getCapabilities.apply(this,arguments)}},{"../../accounts/utils/parseAccount.js":216,"../../utils/encoding/toHex.js":426}],305:[function(require,module,exports){"use strict";function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}Object.defineProperty(exports,"__esModule",{value:true});exports.getPermissions=getPermissions;function getPermissions(_x){return _getPermissions.apply(this,arguments)}function _getPermissions(){_getPermissions=_asyncToGenerator(regeneratorRuntime.mark(function _callee(client){var permissions;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return client.request({method:"wallet_getPermissions"},{dedupe:true});case 2:permissions=_context.sent;return _context.abrupt("return",permissions);case 4:case"end":return _context.stop()}}},_callee)}));return _getPermissions.apply(this,arguments)}},{}],306:[function(require,module,exports){"use strict";function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}Object.defineProperty(exports,"__esModule",{value:true});exports.prepareAuthorization=prepareAuthorization;var parseAccount_js_1=require("../../accounts/utils/parseAccount.js");var account_js_1=require("../../errors/account.js");var isAddressEqual_js_1=require("../../utils/address/isAddressEqual.js");var getAction_js_1=require("../../utils/getAction.js");var getChainId_js_1=require("../public/getChainId.js");var getTransactionCount_js_1=require("../public/getTransactionCount.js");function prepareAuthorization(_x,_x2){return _prepareAuthorization.apply(this,arguments)}function _prepareAuthorization(){_prepareAuthorization=_asyncToGenerator(regeneratorRuntime.mark(function _callee(client,parameters){var _parameters$contractA,_client$chain$id,_client$chain;var _parameters$account,account_,chainId,nonce,account,executor,authorization;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_parameters$account=parameters.account,account_=_parameters$account===void 0?client.account:_parameters$account,chainId=parameters.chainId,nonce=parameters.nonce;if(account_){_context.next=3;break}throw new account_js_1.AccountNotFoundError({docsPath:"/docs/eip7702/prepareAuthorization"});case 3:account=(0,parseAccount_js_1.parseAccount)(account_);executor=function(){if(!parameters.executor)return undefined;if(parameters.executor==="self")return parameters.executor;return(0,parseAccount_js_1.parseAccount)(parameters.executor)}();authorization={address:(_parameters$contractA=parameters.contractAddress)!==null&&_parameters$contractA!==void 0?_parameters$contractA:parameters.address,chainId:chainId,nonce:nonce};if(!(typeof authorization.chainId==="undefined")){_context.next=15;break}if(!((_client$chain$id=(_client$chain=client.chain)===null||_client$chain===void 0?void 0:_client$chain.id)!==null&&_client$chain$id!==void 0)){_context.next=11;break}_context.t0=_client$chain$id;_context.next=14;break;case 11:_context.next=13;return(0,getAction_js_1.getAction)(client,getChainId_js_1.getChainId,"getChainId")({});case 13:_context.t0=_context.sent;case 14:authorization.chainId=_context.t0;case 15:if(!(typeof authorization.nonce==="undefined")){_context.next=20;break}_context.next=18;return(0,getAction_js_1.getAction)(client,getTransactionCount_js_1.getTransactionCount,"getTransactionCount")({address:account.address,blockTag:"pending"});case 18:authorization.nonce=_context.sent;if(executor==="self"||executor!==null&&executor!==void 0&&executor.address&&(0,isAddressEqual_js_1.isAddressEqual)(executor.address,account.address))authorization.nonce+=1;case 20:return _context.abrupt("return",authorization);case 21:case"end":return _context.stop()}}},_callee)}));return _prepareAuthorization.apply(this,arguments)}},{"../../accounts/utils/parseAccount.js":216,"../../errors/account.js":346,"../../utils/address/isAddressEqual.js":395,"../../utils/getAction.js":452,"../public/getChainId.js":239,"../public/getTransactionCount.js":252}],307:[function(require,module,exports){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function _defineProperty(e,r,t){return(r=_toPropertyKey(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}Object.defineProperty(exports,"__esModule",{value:true});exports.eip1559NetworkCache=exports.defaultParameters=void 0;exports.prepareTransactionRequest=prepareTransactionRequest;var parseAccount_js_1=require("../../accounts/utils/parseAccount.js");var estimateFeesPerGas_js_1=require("../../actions/public/estimateFeesPerGas.js");var estimateGas_js_1=require("../../actions/public/estimateGas.js");var getBlock_js_1=require("../../actions/public/getBlock.js");var getTransactionCount_js_1=require("../../actions/public/getTransactionCount.js");var fee_js_1=require("../../errors/fee.js");var blobsToCommitments_js_1=require("../../utils/blob/blobsToCommitments.js");var blobsToProofs_js_1=require("../../utils/blob/blobsToProofs.js");var commitmentsToVersionedHashes_js_1=require("../../utils/blob/commitmentsToVersionedHashes.js");var toBlobSidecars_js_1=require("../../utils/blob/toBlobSidecars.js");var getAction_js_1=require("../../utils/getAction.js");var assertRequest_js_1=require("../../utils/transaction/assertRequest.js");var getTransactionType_js_1=require("../../utils/transaction/getTransactionType.js");var getChainId_js_1=require("../public/getChainId.js");exports.defaultParameters=["blobVersionedHashes","chainId","fees","gas","nonce","type"];exports.eip1559NetworkCache=new Map;function prepareTransactionRequest(_x,_x2){return _prepareTransactionRequest.apply(this,arguments)}function _prepareTransactionRequest(){_prepareTransactionRequest=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(client,args){var _args$account,account_,blobs,chain,gas,kzg,nonce,nonceManager,_args$parameters,parameters,type,account,request,block,getBlock,_getBlock,chainId,getChainId,_getChainId,_chainId,commitments,versionedHashes,proofs,sidecars,isEip1559Network,_block,_block2,_yield,maxFeePerGas,maxPriorityFeePerGas,_block3,_yield2,gasPrice_;return regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_getChainId=function _getChainId3(){_getChainId=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(){var chainId_;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(!chainId){_context2.next=2;break}return _context2.abrupt("return",chainId);case 2:if(!chain){_context2.next=4;break}return _context2.abrupt("return",chain.id);case 4:if(!(typeof args.chainId!=="undefined")){_context2.next=6;break}return _context2.abrupt("return",args.chainId);case 6:_context2.next=8;return(0,getAction_js_1.getAction)(client,getChainId_js_1.getChainId,"getChainId")({});case 8:chainId_=_context2.sent;chainId=chainId_;return _context2.abrupt("return",chainId);case 11:case"end":return _context2.stop()}}},_callee2)}));return _getChainId.apply(this,arguments)};getChainId=function _getChainId2(){return _getChainId.apply(this,arguments)};_getBlock=function _getBlock3(){_getBlock=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!block){_context.next=2;break}return _context.abrupt("return",block);case 2:_context.next=4;return(0,getAction_js_1.getAction)(client,getBlock_js_1.getBlock,"getBlock")({blockTag:"latest"});case 4:block=_context.sent;return _context.abrupt("return",block);case 6:case"end":return _context.stop()}}},_callee)}));return _getBlock.apply(this,arguments)};getBlock=function _getBlock2(){return _getBlock.apply(this,arguments)};_args$account=args.account,account_=_args$account===void 0?client.account:_args$account,blobs=args.blobs,chain=args.chain,gas=args.gas,kzg=args.kzg,nonce=args.nonce,nonceManager=args.nonceManager,_args$parameters=args.parameters,parameters=_args$parameters===void 0?exports.defaultParameters:_args$parameters,type=args.type;account=account_?(0,parseAccount_js_1.parseAccount)(account_):account_;request=_objectSpread(_objectSpread({},args),account?{from:account===null||account===void 0?void 0:account.address}:{});if(!(parameters.includes("nonce")&&typeof nonce==="undefined"&&account)){_context3.next=20;break}if(!nonceManager){_context3.next=17;break}_context3.next=11;return getChainId();case 11:_chainId=_context3.sent;_context3.next=14;return nonceManager.consume({address:account.address,chainId:_chainId,client:client});case 14:request.nonce=_context3.sent;_context3.next=20;break;case 17:_context3.next=19;return(0,getAction_js_1.getAction)(client,getTransactionCount_js_1.getTransactionCount,"getTransactionCount")({address:account.address,blockTag:"pending"});case 19:request.nonce=_context3.sent;case 20:if((parameters.includes("blobVersionedHashes")||parameters.includes("sidecars"))&&blobs&&kzg){commitments=(0,blobsToCommitments_js_1.blobsToCommitments)({blobs:blobs,kzg:kzg});if(parameters.includes("blobVersionedHashes")){versionedHashes=(0,commitmentsToVersionedHashes_js_1.commitmentsToVersionedHashes)({commitments:commitments,to:"hex"});request.blobVersionedHashes=versionedHashes}if(parameters.includes("sidecars")){proofs=(0,blobsToProofs_js_1.blobsToProofs)({blobs:blobs,commitments:commitments,kzg:kzg});sidecars=(0,toBlobSidecars_js_1.toBlobSidecars)({blobs:blobs,commitments:commitments,proofs:proofs,to:"hex"});request.sidecars=sidecars}}if(!parameters.includes("chainId")){_context3.next=25;break}_context3.next=24;return getChainId();case 24:request.chainId=_context3.sent;case 25:if(!((parameters.includes("fees")||parameters.includes("type"))&&typeof type==="undefined")){_context3.next=40;break}_context3.prev=26;request.type=(0,getTransactionType_js_1.getTransactionType)(request);_context3.next=40;break;case 30:_context3.prev=30;_context3.t0=_context3["catch"](26);isEip1559Network=exports.eip1559NetworkCache.get(client.uid);if(!(typeof isEip1559Network==="undefined")){_context3.next=39;break}_context3.next=36;return getBlock();case 36:_block=_context3.sent;isEip1559Network=typeof(_block===null||_block===void 0?void 0:_block.baseFeePerGas)==="bigint";exports.eip1559NetworkCache.set(client.uid,isEip1559Network);case 39:request.type=isEip1559Network?"eip1559":"legacy";case 40:if(!parameters.includes("fees")){_context3.next=68;break}if(!(request.type!=="legacy"&&request.type!=="eip2930")){_context3.next=57;break}if(!(typeof request.maxFeePerGas==="undefined"||typeof request.maxPriorityFeePerGas==="undefined")){_context3.next=55;break}_context3.next=45;return getBlock();case 45:_block2=_context3.sent;_context3.next=48;return(0,estimateFeesPerGas_js_1.internal_estimateFeesPerGas)(client,{block:_block2,chain:chain,request:request});case 48:_yield=_context3.sent;maxFeePerGas=_yield.maxFeePerGas;maxPriorityFeePerGas=_yield.maxPriorityFeePerGas;if(!(typeof args.maxPriorityFeePerGas==="undefined"&&args.maxFeePerGas&&args.maxFeePerGas<maxPriorityFeePerGas)){_context3.next=53;break}throw new fee_js_1.MaxFeePerGasTooLowError({maxPriorityFeePerGas:maxPriorityFeePerGas});case 53:request.maxPriorityFeePerGas=maxPriorityFeePerGas;request.maxFeePerGas=maxFeePerGas;case 55:_context3.next=68;break;case 57:if(!(typeof args.maxFeePerGas!=="undefined"||typeof args.maxPriorityFeePerGas!=="undefined")){_context3.next=59;break}throw new fee_js_1.Eip1559FeesNotSupportedError;case 59:if(!(typeof args.gasPrice==="undefined")){_context3.next=68;break}_context3.next=62;return getBlock();case 62:_block3=_context3.sent;_context3.next=65;return(0,estimateFeesPerGas_js_1.internal_estimateFeesPerGas)(client,{block:_block3,chain:chain,request:request,type:"legacy"});case 65:_yield2=_context3.sent;gasPrice_=_yield2.gasPrice;request.gasPrice=gasPrice_;case 68:if(!(parameters.includes("gas")&&typeof gas==="undefined")){_context3.next=72;break}_context3.next=71;return(0,getAction_js_1.getAction)(client,estimateGas_js_1.estimateGas,"estimateGas")(_objectSpread(_objectSpread({},request),{},{account:account?{address:account.address,type:"json-rpc"}:account}));case 71:request.gas=_context3.sent;case 72:(0,assertRequest_js_1.assertRequest)(request);delete request.parameters;return _context3.abrupt("return",request);case 75:case"end":return _context3.stop()}}},_callee3,null,[[26,30]])}));return _prepareTransactionRequest.apply(this,arguments)}},{"../../accounts/utils/parseAccount.js":216,"../../actions/public/estimateFeesPerGas.js":231,"../../actions/public/estimateGas.js":232,"../../actions/public/getBlock.js":236,"../../actions/public/getTransactionCount.js":252,"../../errors/fee.js":360,"../../utils/blob/blobsToCommitments.js":400,"../../utils/blob/blobsToProofs.js":401,"../../utils/blob/commitmentsToVersionedHashes.js":403,"../../utils/blob/toBlobSidecars.js":406,"../../utils/getAction.js":452,"../../utils/transaction/assertRequest.js":510,"../../utils/transaction/getTransactionType.js":513,"../public/getChainId.js":239}],308:[function(require,module,exports){"use strict";function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}Object.defineProperty(exports,"__esModule",{value:true});exports.requestAddresses=requestAddresses;var getAddress_js_1=require("../../utils/address/getAddress.js");function requestAddresses(_x){return _requestAddresses.apply(this,arguments)}function _requestAddresses(){_requestAddresses=_asyncToGenerator(regeneratorRuntime.mark(function _callee(client){var addresses;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return client.request({method:"eth_requestAccounts"},{dedupe:true,retryCount:0});case 2:addresses=_context.sent;return _context.abrupt("return",addresses.map(function(address){return(0,getAddress_js_1.getAddress)(address)}));case 4:case"end":return _context.stop()}}},_callee)}));return _requestAddresses.apply(this,arguments)}},{"../../utils/address/getAddress.js":392}],309:[function(require,module,exports){"use strict";function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}Object.defineProperty(exports,"__esModule",{value:true});exports.requestPermissions=requestPermissions;function requestPermissions(_x,_x2){return _requestPermissions.apply(this,arguments)}function _requestPermissions(){_requestPermissions=_asyncToGenerator(regeneratorRuntime.mark(function _callee(client,permissions){return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:return _context.abrupt("return",client.request({method:"wallet_requestPermissions",params:[permissions]},{retryCount:0}));case 1:case"end":return _context.stop()}}},_callee)}));return _requestPermissions.apply(this,arguments)}},{}],310:[function(require,module,exports){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function _defineProperty(e,r,t){return(r=_toPropertyKey(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function _slicedToArray(r,e){return _arrayWithHoles(r)||_iterableToArrayLimit(r,e)||_unsupportedIterableToArray(r,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++){n[e]=r[e]}return n}function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0){}}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t["return"]&&(u=t["return"](),Object(u)!==u))return}finally{if(o)throw n}}return a}}function _arrayWithHoles(r){if(Array.isArray(r))return r}function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}Object.defineProperty(exports,"__esModule",{value:true});exports.sendCalls=sendCalls;var parseAccount_js_1=require("../../accounts/utils/parseAccount.js");var account_js_1=require("../../errors/account.js");var encodeFunctionData_js_1=require("../../utils/abi/encodeFunctionData.js");var toHex_js_1=require("../../utils/encoding/toHex.js");var getTransactionError_js_1=require("../../utils/errors/getTransactionError.js");function sendCalls(_x,_x2){return _sendCalls.apply(this,arguments)}function _sendCalls(){_sendCalls=_asyncToGenerator(regeneratorRuntime.mark(function _callee(client,parameters){var _parameters$account,account_,_parameters$chain,chain,_parameters$forceAtom,forceAtomic,id,_parameters$version,version,account,calls,response;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_parameters$account=parameters.account,account_=_parameters$account===void 0?client.account:_parameters$account,_parameters$chain=parameters.chain,chain=_parameters$chain===void 0?client.chain:_parameters$chain,_parameters$forceAtom=parameters.forceAtomic,forceAtomic=_parameters$forceAtom===void 0?false:_parameters$forceAtom,id=parameters.id,_parameters$version=parameters.version,version=_parameters$version===void 0?"2.0.0":_parameters$version;if(!(typeof account_==="undefined")){_context.next=3;break}throw new account_js_1.AccountNotFoundError({docsPath:"/docs/actions/wallet/sendCalls"});case 3:account=account_?(0,parseAccount_js_1.parseAccount)(account_):null;calls=parameters.calls.map(function(call_){var call=call_;var data=call.abi?(0,encodeFunctionData_js_1.encodeFunctionData)({abi:call.abi,functionName:call.functionName,args:call.args}):call.data;return{data:data,to:call.to,value:call.value?(0,toHex_js_1.numberToHex)(call.value):undefined}});_context.prev=5;_context.next=8;return client.request({method:"wallet_sendCalls",params:[{atomicRequired:forceAtomic,calls:calls,capabilities:formatRequestCapabilities(parameters.capabilities),chainId:(0,toHex_js_1.numberToHex)(chain.id),from:account===null||account===void 0?void 0:account.address,id:id,version:version}]},{retryCount:0});case 8:response=_context.sent;if(!(typeof response==="string")){_context.next=11;break}return _context.abrupt("return",{id:response});case 11:return _context.abrupt("return",response);case 14:_context.prev=14;_context.t0=_context["catch"](5);throw(0,getTransactionError_js_1.getTransactionError)(_context.t0,_objectSpread(_objectSpread({},parameters),{},{account:account,chain:parameters.chain}));case 17:case"end":return _context.stop()}}},_callee,null,[[5,14]])}));return _sendCalls.apply(this,arguments)}function formatRequestCapabilities(capabilities){var paymasterService=capabilities!==null&&capabilities!==void 0&&capabilities.paymasterService?Object.entries(capabilities.paymasterService).reduce(function(paymasterService,_ref){var _ref2=_slicedToArray(_ref,2),chainId=_ref2[0],value=_ref2[1];return _objectSpread(_objectSpread({},paymasterService!==null&&paymasterService!==void 0?paymasterService:{}),{},_defineProperty({},(0,toHex_js_1.numberToHex)(Number(chainId)),value))},{}):undefined;return _objectSpread(_objectSpread({},capabilities),paymasterService?{paymasterService:paymasterService}:{})}},{"../../accounts/utils/parseAccount.js":216,"../../errors/account.js":346,"../../utils/abi/encodeFunctionData.js":384,"../../utils/encoding/toHex.js":426,"../../utils/errors/getTransactionError.js":441}],311:[function(require,module,exports){"use strict";function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}Object.defineProperty(exports,"__esModule",{value:true});exports.sendRawTransaction=sendRawTransaction;function sendRawTransaction(_x,_x2){return _sendRawTransaction.apply(this,arguments)}function _sendRawTransaction(){_sendRawTransaction=_asyncToGenerator(regeneratorRuntime.mark(function _callee(client,_ref){var serializedTransaction;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:serializedTransaction=_ref.serializedTransaction;return _context.abrupt("return",client.request({method:"eth_sendRawTransaction",params:[serializedTransaction]},{retryCount:0}));case 2:case"end":return _context.stop()}}},_callee)}));return _sendRawTransaction.apply(this,arguments)}},{}],312:[function(require,module,exports){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}var _excluded=["account","chain","accessList","authorizationList","blobs","data","gas","gasPrice","maxFeePerBlobGas","maxFeePerGas","maxPriorityFeePerGas","nonce","type","value"];function _toConsumableArray(r){return _arrayWithoutHoles(r)||_iterableToArray(r)||_unsupportedIterableToArray(r)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}function _iterableToArray(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}function _arrayWithoutHoles(r){if(Array.isArray(r))return _arrayLikeToArray(r)}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++){n[e]=r[e]}return n}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function _defineProperty(e,r,t){return(r=_toPropertyKey(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function _objectWithoutProperties(e,t){if(null==e)return{};var o,r,i=_objectWithoutPropertiesLoose(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(r=0;r<n.length;r++){o=n[r],-1===t.indexOf(o)&&{}.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}}return i}function _objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r){if({}.hasOwnProperty.call(r,n)){if(-1!==e.indexOf(n))continue;t[n]=r[n]}}return t}function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}Object.defineProperty(exports,"__esModule",{value:true});exports.sendTransaction=sendTransaction;var parseAccount_js_1=require("../../accounts/utils/parseAccount.js");var account_js_1=require("../../errors/account.js");var base_js_1=require("../../errors/base.js");var recoverAuthorizationAddress_js_1=require("../../utils/authorization/recoverAuthorizationAddress.js");var assertCurrentChain_js_1=require("../../utils/chain/assertCurrentChain.js");var getTransactionError_js_1=require("../../utils/errors/getTransactionError.js");var extract_js_1=require("../../utils/formatters/extract.js");var transactionRequest_js_1=require("../../utils/formatters/transactionRequest.js");var getAction_js_1=require("../../utils/getAction.js");var lru_js_1=require("../../utils/lru.js");var assertRequest_js_1=require("../../utils/transaction/assertRequest.js");var getChainId_js_1=require("../public/getChainId.js");var prepareTransactionRequest_js_1=require("./prepareTransactionRequest.js");var sendRawTransaction_js_1=require("./sendRawTransaction.js");var supportsWalletNamespace=new lru_js_1.LruMap(128);function sendTransaction(_x,_x2){return _sendTransaction.apply(this,arguments)}function _sendTransaction(){_sendTransaction=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(client,parameters){var _parameters$account,account_,_parameters$chain,chain,accessList,authorizationList,blobs,data,gas,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,nonce,type,value,rest,account,to,_client$chain,_client$chain$formatt,_client$chain$formatt2,chainId,chainFormat,format,request,isWalletNamespaceSupported,method,error,_chain$serializers,_request,serializer,serializedTransaction;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_parameters$account=parameters.account,account_=_parameters$account===void 0?client.account:_parameters$account,_parameters$chain=parameters.chain,chain=_parameters$chain===void 0?client.chain:_parameters$chain,accessList=parameters.accessList,authorizationList=parameters.authorizationList,blobs=parameters.blobs,data=parameters.data,gas=parameters.gas,gasPrice=parameters.gasPrice,maxFeePerBlobGas=parameters.maxFeePerBlobGas,maxFeePerGas=parameters.maxFeePerGas,maxPriorityFeePerGas=parameters.maxPriorityFeePerGas,nonce=parameters.nonce,type=parameters.type,value=parameters.value,rest=_objectWithoutProperties(parameters,_excluded);if(!(typeof account_==="undefined")){_context2.next=3;break}throw new account_js_1.AccountNotFoundError({docsPath:"/docs/actions/wallet/sendTransaction"});case 3:account=account_?(0,parseAccount_js_1.parseAccount)(account_):null;_context2.prev=4;(0,assertRequest_js_1.assertRequest)(parameters);_context2.next=8;return _asyncToGenerator(regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!parameters.to){_context.next=2;break}return _context.abrupt("return",parameters.to);case 2:if(!(parameters.to===null)){_context.next=4;break}return _context.abrupt("return",undefined);case 4:if(!(authorizationList&&authorizationList.length>0)){_context.next=8;break}_context.next=7;return(0,recoverAuthorizationAddress_js_1.recoverAuthorizationAddress)({authorization:authorizationList[0]})["catch"](function(){throw new base_js_1.BaseError("`to` is required. Could not infer from `authorizationList`.")});case 7:return _context.abrupt("return",_context.sent);case 8:return _context.abrupt("return",undefined);case 9:case"end":return _context.stop()}}},_callee)}))();case 8:to=_context2.sent;if(!((account===null||account===void 0?void 0:account.type)==="json-rpc"||account===null)){_context2.next=36;break}if(!(chain!==null)){_context2.next=15;break}_context2.next=13;return(0,getAction_js_1.getAction)(client,getChainId_js_1.getChainId,"getChainId")({});case 13:chainId=_context2.sent;(0,assertCurrentChain_js_1.assertCurrentChain)({currentChainId:chainId,chain:chain});case 15:chainFormat=(_client$chain=client.chain)===null||_client$chain===void 0?void 0:(_client$chain$formatt=_client$chain.formatters)===null||_client$chain$formatt===void 0?void 0:(_client$chain$formatt2=_client$chain$formatt.transactionRequest)===null||_client$chain$formatt2===void 0?void 0:_client$chain$formatt2.format;format=chainFormat||transactionRequest_js_1.formatTransactionRequest;request=format(_objectSpread(_objectSpread({},(0,extract_js_1.extract)(rest,{format:chainFormat})),{},{accessList:accessList,authorizationList:authorizationList,blobs:blobs,chainId:chainId,data:data,from:account===null||account===void 0?void 0:account.address,gas:gas,gasPrice:gasPrice,maxFeePerBlobGas:maxFeePerBlobGas,maxFeePerGas:maxFeePerGas,maxPriorityFeePerGas:maxPriorityFeePerGas,nonce:nonce,to:to,type:type,value:value}));isWalletNamespaceSupported=supportsWalletNamespace.get(client.uid);method=isWalletNamespaceSupported?"wallet_sendTransaction":"eth_sendTransaction";_context2.prev=20;_context2.next=23;return client.request({method:method,params:[request]},{retryCount:0});case 23:return _context2.abrupt("return",_context2.sent);case 26:_context2.prev=26;_context2.t0=_context2["catch"](20);if(!(isWalletNamespaceSupported===false)){_context2.next=30;break}throw _context2.t0;case 30:error=_context2.t0;if(!(error.name==="InvalidInputRpcError"||error.name==="InvalidParamsRpcError"||error.name==="MethodNotFoundRpcError"||error.name==="MethodNotSupportedRpcError")){_context2.next=35;break}_context2.next=34;return client.request({method:"wallet_sendTransaction",params:[request]},{retryCount:0}).then(function(hash){supportsWalletNamespace.set(client.uid,true);return hash})["catch"](function(e){var walletNamespaceError=e;if(walletNamespaceError.name==="MethodNotFoundRpcError"||walletNamespaceError.name==="MethodNotSupportedRpcError"){supportsWalletNamespace.set(client.uid,false);throw error}throw walletNamespaceError});case 34:return _context2.abrupt("return",_context2.sent);case 35:throw error;case 36:if(!((account===null||account===void 0?void 0:account.type)==="local")){_context2.next=47;break}_context2.next=39;return(0,getAction_js_1.getAction)(client,prepareTransactionRequest_js_1.prepareTransactionRequest,"prepareTransactionRequest")(_objectSpread(_objectSpread({account:account,accessList:accessList,authorizationList:authorizationList,blobs:blobs,chain:chain,data:data,gas:gas,gasPrice:gasPrice,maxFeePerBlobGas:maxFeePerBlobGas,maxFeePerGas:maxFeePerGas,maxPriorityFeePerGas:maxPriorityFeePerGas,nonce:nonce,nonceManager:account.nonceManager,parameters:[].concat(_toConsumableArray(prepareTransactionRequest_js_1.defaultParameters),["sidecars"]),type:type,value:value},rest),{},{to:to}));case 39:_request=_context2.sent;serializer=chain===null||chain===void 0?void 0:(_chain$serializers=chain.serializers)===null||_chain$serializers===void 0?void 0:_chain$serializers.transaction;_context2.next=43;return account.signTransaction(_request,{serializer:serializer});case 43:serializedTransaction=_context2.sent;_context2.next=46;return(0,getAction_js_1.getAction)(client,sendRawTransaction_js_1.sendRawTransaction,"sendRawTransaction")({serializedTransaction:serializedTransaction});case 46:return _context2.abrupt("return",_context2.sent);case 47:if(!((account===null||account===void 0?void 0:account.type)==="smart")){_context2.next=49;break}throw new account_js_1.AccountTypeNotSupportedError({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"});case 49:throw new account_js_1.AccountTypeNotSupportedError({docsPath:"/docs/actions/wallet/sendTransaction",type:account===null||account===void 0?void 0:account.type});case 52:_context2.prev=52;_context2.t1=_context2["catch"](4);if(!(_context2.t1 instanceof account_js_1.AccountTypeNotSupportedError)){_context2.next=56;break}throw _context2.t1;case 56:throw(0,getTransactionError_js_1.getTransactionError)(_context2.t1,_objectSpread(_objectSpread({},parameters),{},{account:account,chain:parameters.chain||undefined}));case 57:case"end":return _context2.stop()}}},_callee2,null,[[4,52],[20,26]])}));return _sendTransaction.apply(this,arguments)}},{"../../accounts/utils/parseAccount.js":216,"../../errors/account.js":346,"../../errors/base.js":348,"../../utils/authorization/recoverAuthorizationAddress.js":397,"../../utils/chain/assertCurrentChain.js":410,"../../utils/errors/getTransactionError.js":441,"../../utils/formatters/extract.js":444,"../../utils/formatters/transactionRequest.js":451,"../../utils/getAction.js":452,"../../utils/lru.js":470,"../../utils/transaction/assertRequest.js":510,"../public/getChainId.js":239,"./prepareTransactionRequest.js":307,"./sendRawTransaction.js":311}],313:[function(require,module,exports){"use strict";function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}Object.defineProperty(exports,"__esModule",{value:true});exports.showCallsStatus=showCallsStatus;function showCallsStatus(_x,_x2){return _showCallsStatus.apply(this,arguments)}function _showCallsStatus(){_showCallsStatus=_asyncToGenerator(regeneratorRuntime.mark(function _callee(client,parameters){var id;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:id=parameters.id;_context.next=3;return client.request({method:"wallet_showCallsStatus",params:[id]});case 3:return _context.abrupt("return");case 4:case"end":return _context.stop()}}},_callee)}));return _showCallsStatus.apply(this,arguments)}},{}],314:[function(require,module,exports){"use strict";function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}Object.defineProperty(exports,"__esModule",{value:true});exports.signAuthorization=signAuthorization;var parseAccount_js_1=require("../../accounts/utils/parseAccount.js");var account_js_1=require("../../errors/account.js");var prepareAuthorization_js_1=require("./prepareAuthorization.js");function signAuthorization(_x,_x2){return _signAuthorization.apply(this,arguments)}function _signAuthorization(){_signAuthorization=_asyncToGenerator(regeneratorRuntime.mark(function _callee(client,parameters){var _parameters$account,account_,account,authorization;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_parameters$account=parameters.account,account_=_parameters$account===void 0?client.account:_parameters$account;if(account_){_context.next=3;break}throw new account_js_1.AccountNotFoundError({docsPath:"/docs/eip7702/signAuthorization"});case 3:account=(0,parseAccount_js_1.parseAccount)(account_);if(account.signAuthorization){_context.next=6;break}throw new account_js_1.AccountTypeNotSupportedError({docsPath:"/docs/eip7702/signAuthorization",metaMessages:["The `signAuthorization` Action does not support JSON-RPC Accounts."],type:account.type});case 6:_context.next=8;return(0,prepareAuthorization_js_1.prepareAuthorization)(client,parameters);case 8:authorization=_context.sent;return _context.abrupt("return",account.signAuthorization(authorization));case 10:case"end":return _context.stop()}}},_callee)}));return _signAuthorization.apply(this,arguments)}},{"../../accounts/utils/parseAccount.js":216,"../../errors/account.js":346,"./prepareAuthorization.js":306}],315:[function(require,module,exports){"use strict";function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}Object.defineProperty(exports,"__esModule",{value:true});exports.signMessage=signMessage;var parseAccount_js_1=require("../../accounts/utils/parseAccount.js");var account_js_1=require("../../errors/account.js");var toHex_js_1=require("../../utils/encoding/toHex.js");function signMessage(_x,_x2){return _signMessage.apply(this,arguments)}function _signMessage(){_signMessage=_asyncToGenerator(regeneratorRuntime.mark(function _callee(client,_ref){var _ref$account,account_,message,account,message_;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_ref$account=_ref.account,account_=_ref$account===void 0?client.account:_ref$account,message=_ref.message;if(account_){_context.next=3;break}throw new account_js_1.AccountNotFoundError({docsPath:"/docs/actions/wallet/signMessage"});case 3:account=(0,parseAccount_js_1.parseAccount)(account_);if(!account.signMessage){_context.next=6;break}return _context.abrupt("return",account.signMessage({message:message}));case 6:message_=function(){if(typeof message==="string")return(0,toHex_js_1.stringToHex)(message);if(message.raw instanceof Uint8Array)return(0,toHex_js_1.toHex)(message.raw);return message.raw}();return _context.abrupt("return",client.request({method:"personal_sign",params:[message_,account.address]},{retryCount:0}));case 8:case"end":return _context.stop()}}},_callee)}));return _signMessage.apply(this,arguments)}},{"../../accounts/utils/parseAccount.js":216,"../../errors/account.js":346,"../../utils/encoding/toHex.js":426}],316:[function(require,module,exports){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}var _excluded=["account","chain"];function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function _defineProperty(e,r,t){return(r=_toPropertyKey(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function _objectWithoutProperties(e,t){if(null==e)return{};var o,r,i=_objectWithoutPropertiesLoose(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(r=0;r<n.length;r++){o=n[r],-1===t.indexOf(o)&&{}.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}}return i}function _objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r){if({}.hasOwnProperty.call(r,n)){if(-1!==e.indexOf(n))continue;t[n]=r[n]}}return t}function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}Object.defineProperty(exports,"__esModule",{value:true});exports.signTransaction=signTransaction;var parseAccount_js_1=require("../../accounts/utils/parseAccount.js");var account_js_1=require("../../errors/account.js");var assertCurrentChain_js_1=require("../../utils/chain/assertCurrentChain.js");var toHex_js_1=require("../../utils/encoding/toHex.js");var transactionRequest_js_1=require("../../utils/formatters/transactionRequest.js");var getAction_js_1=require("../../utils/getAction.js");var assertRequest_js_1=require("../../utils/transaction/assertRequest.js");var getChainId_js_1=require("../public/getChainId.js");function signTransaction(_x,_x2){return _signTransaction.apply(this,arguments)}function _signTransaction(){_signTransaction=_asyncToGenerator(regeneratorRuntime.mark(function _callee(client,parameters){var _client$chain,_formatters$transacti,_client$chain2,_client$chain2$serial;var _parameters$account,account_,_parameters$chain,chain,transaction,account,chainId,formatters,format;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_parameters$account=parameters.account,account_=_parameters$account===void 0?client.account:_parameters$account,_parameters$chain=parameters.chain,chain=_parameters$chain===void 0?client.chain:_parameters$chain,transaction=_objectWithoutProperties(parameters,_excluded);if(account_){_context.next=3;break}throw new account_js_1.AccountNotFoundError({docsPath:"/docs/actions/wallet/signTransaction"});case 3:account=(0,parseAccount_js_1.parseAccount)(account_);(0,assertRequest_js_1.assertRequest)(_objectSpread({account:account},parameters));_context.next=7;return(0,getAction_js_1.getAction)(client,getChainId_js_1.getChainId,"getChainId")({});case 7:chainId=_context.sent;if(chain!==null)(0,assertCurrentChain_js_1.assertCurrentChain)({currentChainId:chainId,chain:chain});formatters=(chain===null||chain===void 0?void 0:chain.formatters)||((_client$chain=client.chain)===null||_client$chain===void 0?void 0:_client$chain.formatters);format=(formatters===null||formatters===void 0?void 0:(_formatters$transacti=formatters.transactionRequest)===null||_formatters$transacti===void 0?void 0:_formatters$transacti.format)||transactionRequest_js_1.formatTransactionRequest;if(!account.signTransaction){_context.next=13;break}return _context.abrupt("return",account.signTransaction(_objectSpread(_objectSpread({},transaction),{},{chainId:chainId}),{serializer:(_client$chain2=client.chain)===null||_client$chain2===void 0?void 0:(_client$chain2$serial=_client$chain2.serializers)===null||_client$chain2$serial===void 0?void 0:_client$chain2$serial.transaction}));case 13:_context.next=15;return client.request({method:"eth_signTransaction",params:[_objectSpread(_objectSpread({},format(transaction)),{},{chainId:(0,toHex_js_1.numberToHex)(chainId),from:account.address})]},{retryCount:0});case 15:return _context.abrupt("return",_context.sent);case 16:case"end":return _context.stop()}}},_callee)}));return _signTransaction.apply(this,arguments)}},{"../../accounts/utils/parseAccount.js":216,"../../errors/account.js":346,"../../utils/chain/assertCurrentChain.js":410,"../../utils/encoding/toHex.js":426,"../../utils/formatters/transactionRequest.js":451,"../../utils/getAction.js":452,"../../utils/transaction/assertRequest.js":510,"../public/getChainId.js":239}],317:[function(require,module,exports){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function _defineProperty(e,r,t){return(r=_toPropertyKey(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}Object.defineProperty(exports,"__esModule",{value:true});exports.signTypedData=signTypedData;var parseAccount_js_1=require("../../accounts/utils/parseAccount.js");var account_js_1=require("../../errors/account.js");var typedData_js_1=require("../../utils/typedData.js");function signTypedData(_x,_x2){return _signTypedData.apply(this,arguments)}function _signTypedData(){_signTypedData=_asyncToGenerator(regeneratorRuntime.mark(function _callee(client,parameters){var _parameters$account,account_,domain,message,primaryType,account,types,typedData;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_parameters$account=parameters.account,account_=_parameters$account===void 0?client.account:_parameters$account,domain=parameters.domain,message=parameters.message,primaryType=parameters.primaryType;if(account_){_context.next=3;break}throw new account_js_1.AccountNotFoundError({docsPath:"/docs/actions/wallet/signTypedData"});case 3:account=(0,parseAccount_js_1.parseAccount)(account_);types=_objectSpread({EIP712Domain:(0,typedData_js_1.getTypesForEIP712Domain)({domain:domain})},parameters.types);(0,typedData_js_1.validateTypedData)({domain:domain,message:message,primaryType:primaryType,types:types});if(!account.signTypedData){_context.next=8;break}return _context.abrupt("return",account.signTypedData({domain:domain,message:message,primaryType:primaryType,types:types}));case 8:typedData=(0,typedData_js_1.serializeTypedData)({domain:domain,message:message,primaryType:primaryType,types:types});return _context.abrupt("return",client.request({method:"eth_signTypedData_v4",params:[account.address,typedData]},{retryCount:0}));case 10:case"end":return _context.stop()}}},_callee)}));return _signTypedData.apply(this,arguments)}},{"../../accounts/utils/parseAccount.js":216,"../../errors/account.js":346,"../../utils/typedData.js":517}],318:[function(require,module,exports){"use strict";function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}Object.defineProperty(exports,"__esModule",{value:true});exports.switchChain=switchChain;var toHex_js_1=require("../../utils/encoding/toHex.js");function switchChain(_x,_x2){return _switchChain.apply(this,arguments)}function _switchChain(){_switchChain=_asyncToGenerator(regeneratorRuntime.mark(function _callee(client,_ref){var id;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:id=_ref.id;_context.next=3;return client.request({method:"wallet_switchEthereumChain",params:[{chainId:(0,toHex_js_1.numberToHex)(id)}]},{retryCount:0});case 3:case"end":return _context.stop()}}},_callee)}));return _switchChain.apply(this,arguments)}},{"../../utils/encoding/toHex.js":426}],319:[function(require,module,exports){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),o)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function _classCallCheck(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_setPrototypeOf(t,e)}function _createSuper(t){var r=_isNativeReflectConstruct();return function(){var e,o=_getPrototypeOf(t);if(r){var s=_getPrototypeOf(this).constructor;e=Reflect.construct(o,arguments,s)}else e=o.apply(this,arguments);return _possibleConstructorReturn(this,e)}}function _possibleConstructorReturn(t,e){if(e&&("object"==_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(_isNativeReflectConstruct=function _isNativeReflectConstruct(){return!!t})()}function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(t)}function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}Object.defineProperty(exports,"__esModule",{value:true});exports.WaitForCallsStatusTimeoutError=void 0;exports.waitForCallsStatus=waitForCallsStatus;var base_js_1=require("../../errors/base.js");var observe_js_1=require("../../utils/observe.js");var poll_js_1=require("../../utils/poll.js");var withResolvers_js_1=require("../../utils/promise/withResolvers.js");var stringify_js_1=require("../../utils/stringify.js");var getCallsStatus_js_1=require("./getCallsStatus.js");function waitForCallsStatus(_x,_x2){return _waitForCallsStatus.apply(this,arguments)}function _waitForCallsStatus(){_waitForCallsStatus=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(client,parameters){var id,_parameters$pollingIn,pollingInterval,_parameters$status,status,_parameters$timeout,timeout,observerId,_ref3,promise,resolve,reject,timer,unobserve;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:id=parameters.id,_parameters$pollingIn=parameters.pollingInterval,pollingInterval=_parameters$pollingIn===void 0?client.pollingInterval:_parameters$pollingIn,_parameters$status=parameters.status,status=_parameters$status===void 0?function(_ref2){var statusCode=_ref2.statusCode;return statusCode>=200}:_parameters$status,_parameters$timeout=parameters.timeout,timeout=_parameters$timeout===void 0?6e4:_parameters$timeout;observerId=(0,stringify_js_1.stringify)(["waitForCallsStatus",client.uid,id]);_ref3=(0,withResolvers_js_1.withResolvers)(),promise=_ref3.promise,resolve=_ref3.resolve,reject=_ref3.reject;timer=undefined;unobserve=(0,observe_js_1.observe)(observerId,{resolve:resolve,reject:reject},function(emit){var unpoll=(0,poll_js_1.poll)(_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var done,result;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:done=function done(fn){clearTimeout(timer);unpoll();fn();unobserve()};_context.prev=1;_context.next=4;return(0,getCallsStatus_js_1.getCallsStatus)(client,{id:id});case 4:result=_context.sent;if(status(result)){_context.next=7;break}return _context.abrupt("return");case 7:done(function(){return emit.resolve(result)});_context.next=13;break;case 10:_context.prev=10;_context.t0=_context["catch"](1);done(function(){return emit.reject(_context.t0)});case 13:case"end":return _context.stop()}}},_callee,null,[[1,10]])})),{interval:pollingInterval,emitOnBegin:true});return unpoll});timer=timeout?setTimeout(function(){unobserve();clearTimeout(timer);reject(new WaitForCallsStatusTimeoutError({id:id}))},timeout):undefined;_context2.next=8;return promise;case 8:return _context2.abrupt("return",_context2.sent);case 9:case"end":return _context2.stop()}}},_callee2)}));return _waitForCallsStatus.apply(this,arguments)}var WaitForCallsStatusTimeoutError=function(_base_js_1$BaseError){_inherits(WaitForCallsStatusTimeoutError,_base_js_1$BaseError);var _super=_createSuper(WaitForCallsStatusTimeoutError);function WaitForCallsStatusTimeoutError(_ref){var id=_ref.id;_classCallCheck(this,WaitForCallsStatusTimeoutError);return _super.call(this,'Timed out while waiting for call bundle with id "'.concat(id,'" to be confirmed.'),{name:"WaitForCallsStatusTimeoutError"})}return _createClass(WaitForCallsStatusTimeoutError)}(base_js_1.BaseError);exports.WaitForCallsStatusTimeoutError=WaitForCallsStatusTimeoutError},{"../../errors/base.js":348,"../../utils/observe.js":472,"../../utils/poll.js":473,"../../utils/promise/withResolvers.js":477,"../../utils/stringify.js":509,"./getCallsStatus.js":303}],320:[function(require,module,exports){"use strict";function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}Object.defineProperty(exports,"__esModule",{value:true});exports.watchAsset=watchAsset;function watchAsset(_x,_x2){return _watchAsset.apply(this,arguments)}function _watchAsset(){_watchAsset=_asyncToGenerator(regeneratorRuntime.mark(function _callee(client,params){var added;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return client.request({method:"wallet_watchAsset",params:params},{retryCount:0});case 2:added=_context.sent;return _context.abrupt("return",added);case 4:case"end":return _context.stop()}}},_callee)}));return _watchAsset.apply(this,arguments)}},{}],321:[function(require,module,exports){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}var _excluded=["abi","account","address","args","dataSuffix","functionName"];function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function _defineProperty(e,r,t){return(r=_toPropertyKey(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function _objectWithoutProperties(e,t){if(null==e)return{};var o,r,i=_objectWithoutPropertiesLoose(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(r=0;r<n.length;r++){o=n[r],-1===t.indexOf(o)&&{}.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}}return i}function _objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r){if({}.hasOwnProperty.call(r,n)){if(-1!==e.indexOf(n))continue;t[n]=r[n]}}return t}function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}Object.defineProperty(exports,"__esModule",{value:true});exports.writeContract=writeContract;var parseAccount_js_1=require("../../accounts/utils/parseAccount.js");var account_js_1=require("../../errors/account.js");var encodeFunctionData_js_1=require("../../utils/abi/encodeFunctionData.js");var getContractError_js_1=require("../../utils/errors/getContractError.js");var getAction_js_1=require("../../utils/getAction.js");var sendTransaction_js_1=require("./sendTransaction.js");function writeContract(_x,_x2){return _writeContract.apply(this,arguments)}function _writeContract(){_writeContract=_asyncToGenerator(regeneratorRuntime.mark(function _callee(client,parameters){var abi,_parameters$account,account_,address,args,dataSuffix,functionName,request,account,data;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:abi=parameters.abi,_parameters$account=parameters.account,account_=_parameters$account===void 0?client.account:_parameters$account,address=parameters.address,args=parameters.args,dataSuffix=parameters.dataSuffix,functionName=parameters.functionName,request=_objectWithoutProperties(parameters,_excluded);if(!(typeof account_==="undefined")){_context.next=3;break}throw new account_js_1.AccountNotFoundError({docsPath:"/docs/contract/writeContract"});case 3:account=account_?(0,parseAccount_js_1.parseAccount)(account_):null;data=(0,encodeFunctionData_js_1.encodeFunctionData)({abi:abi,args:args,functionName:functionName});_context.prev=5;_context.next=8;return(0,getAction_js_1.getAction)(client,sendTransaction_js_1.sendTransaction,"sendTransaction")(_objectSpread({data:"".concat(data).concat(dataSuffix?dataSuffix.replace("0x",""):""),to:address,account:account},request));case 8:return _context.abrupt("return",_context.sent);case 11:_context.prev=11;_context.t0=_context["catch"](5);throw(0,getContractError_js_1.getContractError)(_context.t0,{abi:abi,address:address,args:args,docsPath:"/docs/contract/writeContract",functionName:functionName,sender:account===null||account===void 0?void 0:account.address});case 14:case"end":return _context.stop()}}},_callee,null,[[5,11]])}));return _writeContract.apply(this,arguments)}},{"../../accounts/utils/parseAccount.js":216,"../../errors/account.js":346,"../../utils/abi/encodeFunctionData.js":384,"../../utils/errors/getContractError.js":438,"../../utils/getAction.js":452,"./sendTransaction.js":312}],322:[function(require,module,exports){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function _defineProperty(e,r,t){return(r=_toPropertyKey(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}Object.defineProperty(exports,"__esModule",{value:true});exports.createClient=createClient;exports.rpcSchema=rpcSchema;var parseAccount_js_1=require("../accounts/utils/parseAccount.js");var uid_js_1=require("../utils/uid.js");function createClient(parameters){var _parameters$pollingIn2;var batch=parameters.batch,_parameters$cacheTime=parameters.cacheTime,cacheTime=_parameters$cacheTime===void 0?(_parameters$pollingIn2=parameters.pollingInterval)!==null&&_parameters$pollingIn2!==void 0?_parameters$pollingIn2:4e3:_parameters$cacheTime,ccipRead=parameters.ccipRead,_parameters$key=parameters.key,key=_parameters$key===void 0?"base":_parameters$key,_parameters$name=parameters.name,name=_parameters$name===void 0?"Base Client":_parameters$name,_parameters$pollingIn=parameters.pollingInterval,pollingInterval=_parameters$pollingIn===void 0?4e3:_parameters$pollingIn,_parameters$type=parameters.type,type=_parameters$type===void 0?"base":_parameters$type;var chain=parameters.chain;var account=parameters.account?(0,parseAccount_js_1.parseAccount)(parameters.account):undefined;var _parameters$transport=parameters.transport({chain:chain,pollingInterval:pollingInterval}),config=_parameters$transport.config,request=_parameters$transport.request,value=_parameters$transport.value;var transport=_objectSpread(_objectSpread({},config),value);var client={account:account,batch:batch,cacheTime:cacheTime,ccipRead:ccipRead,chain:chain,key:key,name:name,pollingInterval:pollingInterval,request:request,transport:transport,type:type,uid:(0,uid_js_1.uid)()};function extend(base){return function(extendFn){var extended=extendFn(base);for(var _key in client){delete extended[_key]}var combined=_objectSpread(_objectSpread({},base),extended);return Object.assign(combined,{extend:extend(combined)})}}return Object.assign(client,{extend:extend(client)})}function rpcSchema(){return null}},{"../accounts/utils/parseAccount.js":216,"../utils/uid.js":518}],323:[function(require,module,exports){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function _defineProperty(e,r,t){return(r=_toPropertyKey(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}Object.defineProperty(exports,"__esModule",{value:true});exports.createPublicClient=createPublicClient;var createClient_js_1=require("./createClient.js");var public_js_1=require("./decorators/public.js");function createPublicClient(parameters){var _parameters$key=parameters.key,key=_parameters$key===void 0?"public":_parameters$key,_parameters$name=parameters.name,name=_parameters$name===void 0?"Public Client":_parameters$name;var client=(0,createClient_js_1.createClient)(_objectSpread(_objectSpread({},parameters),{},{key:key,name:name,type:"publicClient"}));return client.extend(public_js_1.publicActions)}},{"./createClient.js":322,"./decorators/public.js":326}],324:[function(require,module,exports){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function _defineProperty(e,r,t){return(r=_toPropertyKey(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}Object.defineProperty(exports,"__esModule",{value:true});exports.createTestClient=createTestClient;var createClient_js_1=require("./createClient.js");var test_js_1=require("./decorators/test.js");function createTestClient(parameters){var _parameters$key=parameters.key,key=_parameters$key===void 0?"test":_parameters$key,_parameters$name=parameters.name,name=_parameters$name===void 0?"Test Client":_parameters$name,mode=parameters.mode;var client=(0,createClient_js_1.createClient)(_objectSpread(_objectSpread({},parameters),{},{key:key,name:name,type:"testClient"}));return client.extend(function(config){return _objectSpread({mode:mode},(0,test_js_1.testActions)({mode:mode})(config))})}},{"./createClient.js":322,"./decorators/test.js":327}],325:[function(require,module,exports){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function _defineProperty(e,r,t){return(r=_toPropertyKey(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}Object.defineProperty(exports,"__esModule",{value:true});exports.createWalletClient=createWalletClient;var createClient_js_1=require("./createClient.js");var wallet_js_1=require("./decorators/wallet.js");function createWalletClient(parameters){var _parameters$key=parameters.key,key=_parameters$key===void 0?"wallet":_parameters$key,_parameters$name=parameters.name,name=_parameters$name===void 0?"Wallet Client":_parameters$name,transport=parameters.transport;var client=(0,createClient_js_1.createClient)(_objectSpread(_objectSpread({},parameters),{},{key:key,name:name,transport:transport,type:"walletClient"}));return client.extend(wallet_js_1.walletActions)}},{"./createClient.js":322,"./decorators/wallet.js":328}],326:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.publicActions=publicActions;var getEnsAddress_js_1=require("../../actions/ens/getEnsAddress.js");var getEnsAvatar_js_1=require("../../actions/ens/getEnsAvatar.js");var getEnsName_js_1=require("../../actions/ens/getEnsName.js");var getEnsResolver_js_1=require("../../actions/ens/getEnsResolver.js");var getEnsText_js_1=require("../../actions/ens/getEnsText.js");var call_js_1=require("../../actions/public/call.js");var createAccessList_js_1=require("../../actions/public/createAccessList.js");var createBlockFilter_js_1=require("../../actions/public/createBlockFilter.js");var createContractEventFilter_js_1=require("../../actions/public/createContractEventFilter.js");var createEventFilter_js_1=require("../../actions/public/createEventFilter.js");var createPendingTransactionFilter_js_1=require("../../actions/public/createPendingTransactionFilter.js");var estimateContractGas_js_1=require("../../actions/public/estimateContractGas.js");var estimateFeesPerGas_js_1=require("../../actions/public/estimateFeesPerGas.js");var estimateGas_js_1=require("../../actions/public/estimateGas.js");var estimateMaxPriorityFeePerGas_js_1=require("../../actions/public/estimateMaxPriorityFeePerGas.js");var getBalance_js_1=require("../../actions/public/getBalance.js");var getBlobBaseFee_js_1=require("../../actions/public/getBlobBaseFee.js");var getBlock_js_1=require("../../actions/public/getBlock.js");var getBlockNumber_js_1=require("../../actions/public/getBlockNumber.js");var getBlockTransactionCount_js_1=require("../../actions/public/getBlockTransactionCount.js");var getChainId_js_1=require("../../actions/public/getChainId.js");var getCode_js_1=require("../../actions/public/getCode.js");var getContractEvents_js_1=require("../../actions/public/getContractEvents.js");var getEip712Domain_js_1=require("../../actions/public/getEip712Domain.js");var getFeeHistory_js_1=require("../../actions/public/getFeeHistory.js");var getFilterChanges_js_1=require("../../actions/public/getFilterChanges.js");var getFilterLogs_js_1=require("../../actions/public/getFilterLogs.js");var getGasPrice_js_1=require("../../actions/public/getGasPrice.js");var getLogs_js_1=require("../../actions/public/getLogs.js");var getProof_js_1=require("../../actions/public/getProof.js");var getStorageAt_js_1=require("../../actions/public/getStorageAt.js");var getTransaction_js_1=require("../../actions/public/getTransaction.js");var getTransactionConfirmations_js_1=require("../../actions/public/getTransactionConfirmations.js");var getTransactionCount_js_1=require("../../actions/public/getTransactionCount.js");var getTransactionReceipt_js_1=require("../../actions/public/getTransactionReceipt.js");var multicall_js_1=require("../../actions/public/multicall.js");var readContract_js_1=require("../../actions/public/readContract.js");var simulateBlocks_js_1=require("../../actions/public/simulateBlocks.js");var simulateCalls_js_1=require("../../actions/public/simulateCalls.js");var simulateContract_js_1=require("../../actions/public/simulateContract.js");var uninstallFilter_js_1=require("../../actions/public/uninstallFilter.js");var verifyMessage_js_1=require("../../actions/public/verifyMessage.js");var verifyTypedData_js_1=require("../../actions/public/verifyTypedData.js");var waitForTransactionReceipt_js_1=require("../../actions/public/waitForTransactionReceipt.js");var watchBlockNumber_js_1=require("../../actions/public/watchBlockNumber.js");var watchBlocks_js_1=require("../../actions/public/watchBlocks.js");var watchContractEvent_js_1=require("../../actions/public/watchContractEvent.js");var watchEvent_js_1=require("../../actions/public/watchEvent.js");var watchPendingTransactions_js_1=require("../../actions/public/watchPendingTransactions.js");var verifySiweMessage_js_1=require("../../actions/siwe/verifySiweMessage.js");var prepareTransactionRequest_js_1=require("../../actions/wallet/prepareTransactionRequest.js");var sendRawTransaction_js_1=require("../../actions/wallet/sendRawTransaction.js");function publicActions(client){return{call:function call(args){return(0,call_js_1.call)(client,args)},createAccessList:function createAccessList(args){return(0,createAccessList_js_1.createAccessList)(client,args)},createBlockFilter:function createBlockFilter(){return(0,createBlockFilter_js_1.createBlockFilter)(client)},createContractEventFilter:function createContractEventFilter(args){return(0,createContractEventFilter_js_1.createContractEventFilter)(client,args)},createEventFilter:function createEventFilter(args){return(0,createEventFilter_js_1.createEventFilter)(client,args)},createPendingTransactionFilter:function createPendingTransactionFilter(){return(0,createPendingTransactionFilter_js_1.createPendingTransactionFilter)(client)},estimateContractGas:function estimateContractGas(args){return(0,estimateContractGas_js_1.estimateContractGas)(client,args)},estimateGas:function estimateGas(args){return(0,estimateGas_js_1.estimateGas)(client,args)},getBalance:function getBalance(args){return(0,getBalance_js_1.getBalance)(client,args)},getBlobBaseFee:function getBlobBaseFee(){return(0,getBlobBaseFee_js_1.getBlobBaseFee)(client)},getBlock:function getBlock(args){return(0,getBlock_js_1.getBlock)(client,args)},getBlockNumber:function getBlockNumber(args){return(0,getBlockNumber_js_1.getBlockNumber)(client,args)},getBlockTransactionCount:function getBlockTransactionCount(args){return(0,getBlockTransactionCount_js_1.getBlockTransactionCount)(client,args)},getBytecode:function getBytecode(args){return(0,getCode_js_1.getCode)(client,args)},getChainId:function getChainId(){return(0,getChainId_js_1.getChainId)(client)},getCode:function getCode(args){return(0,getCode_js_1.getCode)(client,args)},getContractEvents:function getContractEvents(args){return(0,getContractEvents_js_1.getContractEvents)(client,args)},getEip712Domain:function getEip712Domain(args){return(0,getEip712Domain_js_1.getEip712Domain)(client,args)},getEnsAddress:function getEnsAddress(args){return(0,getEnsAddress_js_1.getEnsAddress)(client,args)},getEnsAvatar:function getEnsAvatar(args){return(0,getEnsAvatar_js_1.getEnsAvatar)(client,args)},getEnsName:function getEnsName(args){return(0,getEnsName_js_1.getEnsName)(client,args)},getEnsResolver:function getEnsResolver(args){return(0,getEnsResolver_js_1.getEnsResolver)(client,args)},getEnsText:function getEnsText(args){return(0,getEnsText_js_1.getEnsText)(client,args)},getFeeHistory:function getFeeHistory(args){return(0,getFeeHistory_js_1.getFeeHistory)(client,args)},estimateFeesPerGas:function estimateFeesPerGas(args){return(0,estimateFeesPerGas_js_1.estimateFeesPerGas)(client,args)},getFilterChanges:function getFilterChanges(args){return(0,getFilterChanges_js_1.getFilterChanges)(client,args)},getFilterLogs:function getFilterLogs(args){return(0,getFilterLogs_js_1.getFilterLogs)(client,args)},getGasPrice:function getGasPrice(){return(0,getGasPrice_js_1.getGasPrice)(client)},getLogs:function getLogs(args){return(0,getLogs_js_1.getLogs)(client,args)},getProof:function getProof(args){return(0,getProof_js_1.getProof)(client,args)},estimateMaxPriorityFeePerGas:function estimateMaxPriorityFeePerGas(args){return(0,estimateMaxPriorityFeePerGas_js_1.estimateMaxPriorityFeePerGas)(client,args)},getStorageAt:function getStorageAt(args){return(0,getStorageAt_js_1.getStorageAt)(client,args)},getTransaction:function getTransaction(args){return(0,getTransaction_js_1.getTransaction)(client,args)},getTransactionConfirmations:function getTransactionConfirmations(args){return(0,getTransactionConfirmations_js_1.getTransactionConfirmations)(client,args)},getTransactionCount:function getTransactionCount(args){return(0,getTransactionCount_js_1.getTransactionCount)(client,args)},getTransactionReceipt:function getTransactionReceipt(args){return(0,getTransactionReceipt_js_1.getTransactionReceipt)(client,args)},multicall:function multicall(args){return(0,multicall_js_1.multicall)(client,args)},prepareTransactionRequest:function prepareTransactionRequest(args){return(0,prepareTransactionRequest_js_1.prepareTransactionRequest)(client,args)},readContract:function readContract(args){return(0,readContract_js_1.readContract)(client,args)},sendRawTransaction:function sendRawTransaction(args){return(0,sendRawTransaction_js_1.sendRawTransaction)(client,args)},simulate:function simulate(args){return(0,simulateBlocks_js_1.simulateBlocks)(client,args)},simulateBlocks:function simulateBlocks(args){return(0,simulateBlocks_js_1.simulateBlocks)(client,args)},simulateCalls:function simulateCalls(args){return(0,simulateCalls_js_1.simulateCalls)(client,args)},simulateContract:function simulateContract(args){return(0,simulateContract_js_1.simulateContract)(client,args)},verifyMessage:function verifyMessage(args){return(0,verifyMessage_js_1.verifyMessage)(client,args)},verifySiweMessage:function verifySiweMessage(args){return(0,verifySiweMessage_js_1.verifySiweMessage)(client,args)},verifyTypedData:function verifyTypedData(args){return(0,verifyTypedData_js_1.verifyTypedData)(client,args)},uninstallFilter:function uninstallFilter(args){return(0,uninstallFilter_js_1.uninstallFilter)(client,args)},waitForTransactionReceipt:function waitForTransactionReceipt(args){return(0,waitForTransactionReceipt_js_1.waitForTransactionReceipt)(client,args)},watchBlocks:function watchBlocks(args){return(0,watchBlocks_js_1.watchBlocks)(client,args)},watchBlockNumber:function watchBlockNumber(args){return(0,watchBlockNumber_js_1.watchBlockNumber)(client,args)},watchContractEvent:function watchContractEvent(args){return(0,watchContractEvent_js_1.watchContractEvent)(client,args)},watchEvent:function watchEvent(args){return(0,watchEvent_js_1.watchEvent)(client,args)},watchPendingTransactions:function watchPendingTransactions(args){return(0,watchPendingTransactions_js_1.watchPendingTransactions)(client,args)}}}},{"../../actions/ens/getEnsAddress.js":218,"../../actions/ens/getEnsAvatar.js":219,"../../actions/ens/getEnsName.js":220,"../../actions/ens/getEnsResolver.js":221,"../../actions/ens/getEnsText.js":222,"../../actions/public/call.js":224,"../../actions/public/createAccessList.js":225,"../../actions/public/createBlockFilter.js":226,"../../actions/public/createContractEventFilter.js":227,"../../actions/public/createEventFilter.js":228,"../../actions/public/createPendingTransactionFilter.js":229,"../../actions/public/estimateContractGas.js":230,"../../actions/public/estimateFeesPerGas.js":231,"../../actions/public/estimateGas.js":232,"../../actions/public/estimateMaxPriorityFeePerGas.js":233,"../../actions/public/getBalance.js":234,"../../actions/public/getBlobBaseFee.js":235,"../../actions/public/getBlock.js":236,"../../actions/public/getBlockNumber.js":237,"../../actions/public/getBlockTransactionCount.js":238,"../../actions/public/getChainId.js":239,"../../actions/public/getCode.js":240,"../../actions/public/getContractEvents.js":241,"../../actions/public/getEip712Domain.js":242,"../../actions/public/getFeeHistory.js":243,"../../actions/public/getFilterChanges.js":244,"../../actions/public/getFilterLogs.js":245,"../../actions/public/getGasPrice.js":246,"../../actions/public/getLogs.js":247,"../../actions/public/getProof.js":248,"../../actions/public/getStorageAt.js":249,"../../actions/public/getTransaction.js":250,"../../actions/public/getTransactionConfirmations.js":251,"../../actions/public/getTransactionCount.js":252,"../../actions/public/getTransactionReceipt.js":253,"../../actions/public/multicall.js":254,"../../actions/public/readContract.js":255,"../../actions/public/simulateBlocks.js":256,"../../actions/public/simulateCalls.js":257,"../../actions/public/simulateContract.js":258,"../../actions/public/uninstallFilter.js":259,"../../actions/public/verifyMessage.js":261,"../../actions/public/verifyTypedData.js":262,"../../actions/public/waitForTransactionReceipt.js":263,"../../actions/public/watchBlockNumber.js":264,"../../actions/public/watchBlocks.js":265,"../../actions/public/watchContractEvent.js":266,"../../actions/public/watchEvent.js":267,"../../actions/public/watchPendingTransactions.js":268,"../../actions/siwe/verifySiweMessage.js":269,"../../actions/wallet/prepareTransactionRequest.js":307,"../../actions/wallet/sendRawTransaction.js":311}],327:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.testActions=testActions;var dropTransaction_js_1=require("../../actions/test/dropTransaction.js");var dumpState_js_1=require("../../actions/test/dumpState.js");var getAutomine_js_1=require("../../actions/test/getAutomine.js");var getTxpoolContent_js_1=require("../../actions/test/getTxpoolContent.js");var getTxpoolStatus_js_1=require("../../actions/test/getTxpoolStatus.js");var impersonateAccount_js_1=require("../../actions/test/impersonateAccount.js");var increaseTime_js_1=require("../../actions/test/increaseTime.js");var inspectTxpool_js_1=require("../../actions/test/inspectTxpool.js");var loadState_js_1=require("../../actions/test/loadState.js");var mine_js_1=require("../../actions/test/mine.js");var removeBlockTimestampInterval_js_1=require("../../actions/test/removeBlockTimestampInterval.js");var reset_js_1=require("../../actions/test/reset.js");var revert_js_1=require("../../actions/test/revert.js");var sendUnsignedTransaction_js_1=require("../../actions/test/sendUnsignedTransaction.js");var setAutomine_js_1=require("../../actions/test/setAutomine.js");var setBalance_js_1=require("../../actions/test/setBalance.js");var setBlockGasLimit_js_1=require("../../actions/test/setBlockGasLimit.js");var setBlockTimestampInterval_js_1=require("../../actions/test/setBlockTimestampInterval.js");var setCode_js_1=require("../../actions/test/setCode.js");var setCoinbase_js_1=require("../../actions/test/setCoinbase.js");var setIntervalMining_js_1=require("../../actions/test/setIntervalMining.js");var setLoggingEnabled_js_1=require("../../actions/test/setLoggingEnabled.js");var setMinGasPrice_js_1=require("../../actions/test/setMinGasPrice.js");var setNextBlockBaseFeePerGas_js_1=require("../../actions/test/setNextBlockBaseFeePerGas.js");var setNextBlockTimestamp_js_1=require("../../actions/test/setNextBlockTimestamp.js");var setNonce_js_1=require("../../actions/test/setNonce.js");var setRpcUrl_js_1=require("../../actions/test/setRpcUrl.js");var setStorageAt_js_1=require("../../actions/test/setStorageAt.js");var snapshot_js_1=require("../../actions/test/snapshot.js");var stopImpersonatingAccount_js_1=require("../../actions/test/stopImpersonatingAccount.js");function testActions(_ref){var mode=_ref.mode;return function(client_){var client=client_.extend(function(){return{mode:mode}});return{dropTransaction:function dropTransaction(args){return(0,dropTransaction_js_1.dropTransaction)(client,args)},dumpState:function dumpState(){return(0,dumpState_js_1.dumpState)(client)},getAutomine:function getAutomine(){return(0,getAutomine_js_1.getAutomine)(client)},getTxpoolContent:function getTxpoolContent(){return(0,getTxpoolContent_js_1.getTxpoolContent)(client)},getTxpoolStatus:function getTxpoolStatus(){return(0,getTxpoolStatus_js_1.getTxpoolStatus)(client)},impersonateAccount:function impersonateAccount(args){return(0,impersonateAccount_js_1.impersonateAccount)(client,args)},increaseTime:function increaseTime(args){return(0,increaseTime_js_1.increaseTime)(client,args)},inspectTxpool:function inspectTxpool(){return(0,inspectTxpool_js_1.inspectTxpool)(client)},loadState:function loadState(args){return(0,loadState_js_1.loadState)(client,args)},mine:function mine(args){return(0,mine_js_1.mine)(client,args)},removeBlockTimestampInterval:function removeBlockTimestampInterval(){return(0,removeBlockTimestampInterval_js_1.removeBlockTimestampInterval)(client)},reset:function reset(args){return(0,reset_js_1.reset)(client,args)},revert:function revert(args){return(0,revert_js_1.revert)(client,args)},sendUnsignedTransaction:function sendUnsignedTransaction(args){return(0,sendUnsignedTransaction_js_1.sendUnsignedTransaction)(client,args)},setAutomine:function setAutomine(args){return(0,setAutomine_js_1.setAutomine)(client,args)},setBalance:function setBalance(args){return(0,setBalance_js_1.setBalance)(client,args)},setBlockGasLimit:function setBlockGasLimit(args){return(0,setBlockGasLimit_js_1.setBlockGasLimit)(client,args)},setBlockTimestampInterval:function setBlockTimestampInterval(args){return(0,setBlockTimestampInterval_js_1.setBlockTimestampInterval)(client,args)},setCode:function setCode(args){return(0,setCode_js_1.setCode)(client,args)},setCoinbase:function setCoinbase(args){return(0,setCoinbase_js_1.setCoinbase)(client,args)},setIntervalMining:function setIntervalMining(args){return(0,setIntervalMining_js_1.setIntervalMining)(client,args)},setLoggingEnabled:function setLoggingEnabled(args){return(0,setLoggingEnabled_js_1.setLoggingEnabled)(client,args)},setMinGasPrice:function setMinGasPrice(args){return(0,setMinGasPrice_js_1.setMinGasPrice)(client,args)},setNextBlockBaseFeePerGas:function setNextBlockBaseFeePerGas(args){return(0,setNextBlockBaseFeePerGas_js_1.setNextBlockBaseFeePerGas)(client,args)},setNextBlockTimestamp:function setNextBlockTimestamp(args){return(0,setNextBlockTimestamp_js_1.setNextBlockTimestamp)(client,args)},setNonce:function setNonce(args){return(0,setNonce_js_1.setNonce)(client,args)},setRpcUrl:function setRpcUrl(args){return(0,setRpcUrl_js_1.setRpcUrl)(client,args)},setStorageAt:function setStorageAt(args){return(0,setStorageAt_js_1.setStorageAt)(client,args)},snapshot:function snapshot(){return(0,snapshot_js_1.snapshot)(client)},stopImpersonatingAccount:function stopImpersonatingAccount(args){return(0,stopImpersonatingAccount_js_1.stopImpersonatingAccount)(client,args)}}}}},{"../../actions/test/dropTransaction.js":270,"../../actions/test/dumpState.js":271,"../../actions/test/getAutomine.js":272,"../../actions/test/getTxpoolContent.js":273,"../../actions/test/getTxpoolStatus.js":274,"../../actions/test/impersonateAccount.js":275,"../../actions/test/increaseTime.js":276,"../../actions/test/inspectTxpool.js":277,"../../actions/test/loadState.js":278,"../../actions/test/mine.js":279,"../../actions/test/removeBlockTimestampInterval.js":280,"../../actions/test/reset.js":281,"../../actions/test/revert.js":282,"../../actions/test/sendUnsignedTransaction.js":283,"../../actions/test/setAutomine.js":284,"../../actions/test/setBalance.js":285,"../../actions/test/setBlockGasLimit.js":286,"../../actions/test/setBlockTimestampInterval.js":287,"../../actions/test/setCode.js":288,"../../actions/test/setCoinbase.js":289,"../../actions/test/setIntervalMining.js":290,"../../actions/test/setLoggingEnabled.js":291,"../../actions/test/setMinGasPrice.js":292,"../../actions/test/setNextBlockBaseFeePerGas.js":293,"../../actions/test/setNextBlockTimestamp.js":294,"../../actions/test/setNonce.js":295,"../../actions/test/setRpcUrl.js":296,"../../actions/test/setStorageAt.js":297,"../../actions/test/snapshot.js":298,"../../actions/test/stopImpersonatingAccount.js":299}],328:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.walletActions=walletActions;var getChainId_js_1=require("../../actions/public/getChainId.js");var addChain_js_1=require("../../actions/wallet/addChain.js");var deployContract_js_1=require("../../actions/wallet/deployContract.js");var getAddresses_js_1=require("../../actions/wallet/getAddresses.js");var getCallsStatus_js_1=require("../../actions/wallet/getCallsStatus.js");var getCapabilities_js_1=require("../../actions/wallet/getCapabilities.js");var getPermissions_js_1=require("../../actions/wallet/getPermissions.js");var prepareAuthorization_js_1=require("../../actions/wallet/prepareAuthorization.js");var prepareTransactionRequest_js_1=require("../../actions/wallet/prepareTransactionRequest.js");var requestAddresses_js_1=require("../../actions/wallet/requestAddresses.js");var requestPermissions_js_1=require("../../actions/wallet/requestPermissions.js");var sendCalls_js_1=require("../../actions/wallet/sendCalls.js");var sendRawTransaction_js_1=require("../../actions/wallet/sendRawTransaction.js");var sendTransaction_js_1=require("../../actions/wallet/sendTransaction.js");var showCallsStatus_js_1=require("../../actions/wallet/showCallsStatus.js");var signAuthorization_js_1=require("../../actions/wallet/signAuthorization.js");var signMessage_js_1=require("../../actions/wallet/signMessage.js");var signTransaction_js_1=require("../../actions/wallet/signTransaction.js");var signTypedData_js_1=require("../../actions/wallet/signTypedData.js");var switchChain_js_1=require("../../actions/wallet/switchChain.js");var waitForCallsStatus_js_1=require("../../actions/wallet/waitForCallsStatus.js");var watchAsset_js_1=require("../../actions/wallet/watchAsset.js");var writeContract_js_1=require("../../actions/wallet/writeContract.js");function walletActions(client){return{addChain:function addChain(args){return(0,addChain_js_1.addChain)(client,args)},deployContract:function deployContract(args){return(0,deployContract_js_1.deployContract)(client,args)},getAddresses:function getAddresses(){return(0,getAddresses_js_1.getAddresses)(client)},getCallsStatus:function getCallsStatus(args){return(0,getCallsStatus_js_1.getCallsStatus)(client,args)},getCapabilities:function getCapabilities(args){return(0,getCapabilities_js_1.getCapabilities)(client,args)},getChainId:function getChainId(){return(0,getChainId_js_1.getChainId)(client)},getPermissions:function getPermissions(){return(0,getPermissions_js_1.getPermissions)(client)},prepareAuthorization:function prepareAuthorization(args){return(0,prepareAuthorization_js_1.prepareAuthorization)(client,args)},prepareTransactionRequest:function prepareTransactionRequest(args){return(0,prepareTransactionRequest_js_1.prepareTransactionRequest)(client,args)},requestAddresses:function requestAddresses(){return(0,requestAddresses_js_1.requestAddresses)(client)},requestPermissions:function requestPermissions(args){return(0,requestPermissions_js_1.requestPermissions)(client,args)},sendCalls:function sendCalls(args){return(0,sendCalls_js_1.sendCalls)(client,args)},sendRawTransaction:function sendRawTransaction(args){return(0,sendRawTransaction_js_1.sendRawTransaction)(client,args)},sendTransaction:function sendTransaction(args){return(0,sendTransaction_js_1.sendTransaction)(client,args)},showCallsStatus:function showCallsStatus(args){return(0,showCallsStatus_js_1.showCallsStatus)(client,args)},signAuthorization:function signAuthorization(args){return(0,signAuthorization_js_1.signAuthorization)(client,args)},signMessage:function signMessage(args){return(0,signMessage_js_1.signMessage)(client,args)},signTransaction:function signTransaction(args){return(0,signTransaction_js_1.signTransaction)(client,args)},signTypedData:function signTypedData(args){return(0,signTypedData_js_1.signTypedData)(client,args)},switchChain:function switchChain(args){return(0,switchChain_js_1.switchChain)(client,args)},waitForCallsStatus:function waitForCallsStatus(args){return(0,waitForCallsStatus_js_1.waitForCallsStatus)(client,args)},watchAsset:function watchAsset(args){return(0,watchAsset_js_1.watchAsset)(client,args)},writeContract:function writeContract(args){return(0,writeContract_js_1.writeContract)(client,args)}}}},{"../../actions/public/getChainId.js":239,"../../actions/wallet/addChain.js":300,"../../actions/wallet/deployContract.js":301,"../../actions/wallet/getAddresses.js":302,"../../actions/wallet/getCallsStatus.js":303,"../../actions/wallet/getCapabilities.js":304,"../../actions/wallet/getPermissions.js":305,"../../actions/wallet/prepareAuthorization.js":306,"../../actions/wallet/prepareTransactionRequest.js":307,"../../actions/wallet/requestAddresses.js":308,"../../actions/wallet/requestPermissions.js":309,"../../actions/wallet/sendCalls.js":310,"../../actions/wallet/sendRawTransaction.js":311,"../../actions/wallet/sendTransaction.js":312,"../../actions/wallet/showCallsStatus.js":313,"../../actions/wallet/signAuthorization.js":314,"../../actions/wallet/signMessage.js":315,"../../actions/wallet/signTransaction.js":316,"../../actions/wallet/signTypedData.js":317,"../../actions/wallet/switchChain.js":318,"../../actions/wallet/waitForCallsStatus.js":319,"../../actions/wallet/watchAsset.js":320,"../../actions/wallet/writeContract.js":321}],329:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.createTransport=createTransport;var buildRequest_js_1=require("../../utils/buildRequest.js");var uid_js_1=require("../../utils/uid.js");function createTransport(_ref,value){var key=_ref.key,methods=_ref.methods,name=_ref.name,request=_ref.request,_ref$retryCount=_ref.retryCount,retryCount=_ref$retryCount===void 0?3:_ref$retryCount,_ref$retryDelay=_ref.retryDelay,retryDelay=_ref$retryDelay===void 0?150:_ref$retryDelay,timeout=_ref.timeout,type=_ref.type;var uid=(0,uid_js_1.uid)();return{config:{key:key,methods:methods,name:name,request:request,retryCount:retryCount,retryDelay:retryDelay,timeout:timeout,type:type},request:(0,buildRequest_js_1.buildRequest)(request,{methods:methods,retryCount:retryCount,retryDelay:retryDelay,uid:uid}),value:value}}},{"../../utils/buildRequest.js":408,"../../utils/uid.js":518}],330:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.custom=custom;var createTransport_js_1=require("./createTransport.js");function custom(provider){var config=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var _config$key=config.key,key=_config$key===void 0?"custom":_config$key,methods=config.methods,_config$name=config.name,name=_config$name===void 0?"Custom Provider":_config$name,retryDelay=config.retryDelay;return function(_ref){var _config$retryCount;var defaultRetryCount=_ref.retryCount;return(0,createTransport_js_1.createTransport)({key:key,methods:methods,name:name,request:provider.request.bind(provider),retryCount:(_config$retryCount=config.retryCount)!==null&&_config$retryCount!==void 0?_config$retryCount:defaultRetryCount,retryDelay:retryDelay,type:"custom"})}}},{"./createTransport.js":329}],331:[function(require,module,exports){"use strict";var _excluded=["chain","pollingInterval","timeout"];function _slicedToArray(r,e){return _arrayWithHoles(r)||_iterableToArrayLimit(r,e)||_unsupportedIterableToArray(r,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0){}}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t["return"]&&(u=t["return"](),Object(u)!==u))return}finally{if(o)throw n}}return a}}function _arrayWithHoles(r){if(Array.isArray(r))return r}function _toConsumableArray(r){return _arrayWithoutHoles(r)||_iterableToArray(r)||_unsupportedIterableToArray(r)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}function _iterableToArray(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}function _arrayWithoutHoles(r){if(Array.isArray(r))return _arrayLikeToArray(r)}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++){n[e]=r[e]}return n}function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function _defineProperty(e,r,t){return(r=_toPropertyKey(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}function _objectWithoutProperties(e,t){if(null==e)return{};var o,r,i=_objectWithoutPropertiesLoose(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(r=0;r<n.length;r++){o=n[r],-1===t.indexOf(o)&&{}.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}}return i}function _objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r){if({}.hasOwnProperty.call(r,n)){if(-1!==e.indexOf(n))continue;t[n]=r[n]}}return t}Object.defineProperty(exports,"__esModule",{value:true});exports.fallback=fallback;exports.shouldThrow=shouldThrow;exports.rankTransports=rankTransports;var node_js_1=require("../../errors/node.js");var rpc_js_1=require("../../errors/rpc.js");var wait_js_1=require("../../utils/wait.js");var createTransport_js_1=require("./createTransport.js");function fallback(transports_){var config=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var _config$key=config.key,key=_config$key===void 0?"fallback":_config$key,_config$name=config.name,name=_config$name===void 0?"Fallback":_config$name,_config$rank=config.rank,rank=_config$rank===void 0?false:_config$rank,_config$shouldThrow=config.shouldThrow,shouldThrow_=_config$shouldThrow===void 0?shouldThrow:_config$shouldThrow,retryCount=config.retryCount,retryDelay=config.retryDelay;return function(_ref){var chain=_ref.chain,_ref$pollingInterval=_ref.pollingInterval,pollingInterval=_ref$pollingInterval===void 0?4e3:_ref$pollingInterval,timeout=_ref.timeout,rest=_objectWithoutProperties(_ref,_excluded);var transports=transports_;var _onResponse=function onResponse(){};var transport=(0,createTransport_js_1.createTransport)({key:key,name:name,request:function request(_ref2){return _asyncToGenerator(regeneratorRuntime.mark(function _callee2(){var method,params,includes,fetch;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:method=_ref2.method,params=_ref2.params;fetch=function(){var _ref3=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var i,transport,response,_includes,_args=arguments;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:i=_args.length>0&&_args[0]!==undefined?_args[0]:0;transport=transports[i](_objectSpread(_objectSpread({},rest),{},{chain:chain,retryCount:0,timeout:timeout}));_context.prev=2;_context.next=5;return transport.request({method:method,params:params});case 5:response=_context.sent;_onResponse({method:method,params:params,response:response,transport:transport,status:"success"});return _context.abrupt("return",response);case 10:_context.prev=10;_context.t0=_context["catch"](2);_onResponse({error:_context.t0,method:method,params:params,transport:transport,status:"error"});if(!shouldThrow_(_context.t0)){_context.next=15;break}throw _context.t0;case 15:if(!(i===transports.length-1)){_context.next=17;break}throw _context.t0;case 17:(_includes=includes)!==null&&_includes!==void 0?_includes:includes=transports.slice(i+1).some(function(transport){var _ref4=transport({chain:chain}).config.methods||{},include=_ref4.include,exclude=_ref4.exclude;if(include)return include.includes(method);if(exclude)return!exclude.includes(method);return true});if(includes){_context.next=20;break}throw _context.t0;case 20:return _context.abrupt("return",fetch(i+1));case 21:case"end":return _context.stop()}}},_callee,null,[[2,10]])}));return function fetch(){return _ref3.apply(this,arguments)}}();return _context2.abrupt("return",fetch());case 3:case"end":return _context2.stop()}}},_callee2)}))()},retryCount:retryCount,retryDelay:retryDelay,type:"fallback"},{onResponse:function onResponse(fn){return _onResponse=fn},transports:transports.map(function(fn){return fn({chain:chain,retryCount:0})})});if(rank){var _rankOptions$interval;var rankOptions=_typeof(rank)==="object"?rank:{};rankTransports({chain:chain,interval:(_rankOptions$interval=rankOptions.interval)!==null&&_rankOptions$interval!==void 0?_rankOptions$interval:pollingInterval,onTransports:function onTransports(transports_){return transports=transports_},ping:rankOptions.ping,sampleCount:rankOptions.sampleCount,timeout:rankOptions.timeout,transports:transports,weights:rankOptions.weights})}return transport}}function shouldThrow(error){if("code"in error&&typeof error.code==="number"){if(error.code===rpc_js_1.TransactionRejectedRpcError.code||error.code===rpc_js_1.UserRejectedRequestError.code||node_js_1.ExecutionRevertedError.nodeMessage.test(error.message)||error.code===5e3)return true}return false}function rankTransports(_ref5){var chain=_ref5.chain,_ref5$interval=_ref5.interval,interval=_ref5$interval===void 0?4e3:_ref5$interval,onTransports=_ref5.onTransports,ping=_ref5.ping,_ref5$sampleCount=_ref5.sampleCount,sampleCount=_ref5$sampleCount===void 0?10:_ref5$sampleCount,_ref5$timeout=_ref5.timeout,timeout=_ref5$timeout===void 0?1e3:_ref5$timeout,transports=_ref5.transports,_ref5$weights=_ref5.weights,weights=_ref5$weights===void 0?{}:_ref5$weights;var _weights$stability=weights.stability,stabilityWeight=_weights$stability===void 0?.7:_weights$stability,_weights$latency=weights.latency,latencyWeight=_weights$latency===void 0?.3:_weights$latency;var samples=[];var rankTransports_=function(){var _ref6=_asyncToGenerator(regeneratorRuntime.mark(function _callee4(){var sample,maxLatency,scores;return regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return Promise.all(transports.map(function(){var _ref7=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(transport){var transport_,start,end,success,latency;return regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:transport_=transport({chain:chain,retryCount:0,timeout:timeout});start=Date.now();_context3.prev=2;_context3.next=5;return ping?ping({transport:transport_}):transport_.request({method:"net_listening"});case 5:success=1;_context3.next=11;break;case 8:_context3.prev=8;_context3.t0=_context3["catch"](2);success=0;case 11:_context3.prev=11;end=Date.now();return _context3.finish(11);case 14:latency=end-start;return _context3.abrupt("return",{latency:latency,success:success});case 16:case"end":return _context3.stop()}}},_callee3,null,[[2,8,11,14]])}));return function(_x){return _ref7.apply(this,arguments)}}()));case 2:sample=_context4.sent;samples.push(sample);if(samples.length>sampleCount)samples.shift();maxLatency=Math.max.apply(Math,_toConsumableArray(samples.map(function(sample){return Math.max.apply(Math,_toConsumableArray(sample.map(function(_ref8){var latency=_ref8.latency;return latency})))})));scores=transports.map(function(_,i){var latencies=samples.map(function(sample){return sample[i].latency});var meanLatency=latencies.reduce(function(acc,latency){return acc+latency},0)/latencies.length;var latencyScore=1-meanLatency/maxLatency;var successes=samples.map(function(sample){return sample[i].success});var stabilityScore=successes.reduce(function(acc,success){return acc+success},0)/successes.length;if(stabilityScore===0)return[0,i];return[latencyWeight*latencyScore+stabilityWeight*stabilityScore,i]}).sort(function(a,b){return b[0]-a[0]});onTransports(scores.map(function(_ref9){var _ref10=_slicedToArray(_ref9,2),i=_ref10[1];return transports[i]}));_context4.next=10;return(0,wait_js_1.wait)(interval);case 10:rankTransports_();case 11:case"end":return _context4.stop()}}},_callee4)}));return function rankTransports_(){return _ref6.apply(this,arguments)}}();rankTransports_()}},{"../../errors/node.js":362,"../../errors/rpc.js":364,"../../utils/wait.js":525,"./createTransport.js":329}],332:[function(require,module,exports){"use strict";function _slicedToArray(r,e){return _arrayWithHoles(r)||_iterableToArrayLimit(r,e)||_unsupportedIterableToArray(r,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++){n[e]=r[e]}return n}function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0){}}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t["return"]&&(u=t["return"](),Object(u)!==u))return}finally{if(o)throw n}}return a}}function _arrayWithHoles(r){if(Array.isArray(r))return r}function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}Object.defineProperty(exports,"__esModule",{value:true});exports.http=http;var request_js_1=require("../../errors/request.js");var transport_js_1=require("../../errors/transport.js");var createBatchScheduler_js_1=require("../../utils/promise/createBatchScheduler.js");var http_js_1=require("../../utils/rpc/http.js");var createTransport_js_1=require("./createTransport.js");function http(url){var config=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var batch=config.batch,fetchOptions=config.fetchOptions,_config$key=config.key,key=_config$key===void 0?"http":_config$key,methods=config.methods,_config$name=config.name,name=_config$name===void 0?"HTTP JSON-RPC":_config$name,onFetchRequest=config.onFetchRequest,onFetchResponse=config.onFetchResponse,retryDelay=config.retryDelay,raw=config.raw;return function(_ref){var _config$retryCount,_ref3;var chain=_ref.chain,retryCount_=_ref.retryCount,timeout_=_ref.timeout;var _ref2=_typeof(batch)==="object"?batch:{},_ref2$batchSize=_ref2.batchSize,batchSize=_ref2$batchSize===void 0?1e3:_ref2$batchSize,_ref2$wait=_ref2.wait,wait=_ref2$wait===void 0?0:_ref2$wait;var retryCount=(_config$retryCount=config.retryCount)!==null&&_config$retryCount!==void 0?_config$retryCount:retryCount_;var timeout=(_ref3=timeout_!==null&&timeout_!==void 0?timeout_:config.timeout)!==null&&_ref3!==void 0?_ref3:1e4;var url_=url||(chain===null||chain===void 0?void 0:chain.rpcUrls["default"].http[0]);if(!url_)throw new transport_js_1.UrlRequiredError;var rpcClient=(0,http_js_1.getHttpRpcClient)(url_,{fetchOptions:fetchOptions,onRequest:onFetchRequest,onResponse:onFetchResponse,timeout:timeout});return(0,createTransport_js_1.createTransport)({key:key,methods:methods,name:name,request:function request(_ref4){return _asyncToGenerator(regeneratorRuntime.mark(function _callee2(){var method,params,body,_ref5,schedule,fn,_yield$fn,_yield$fn2,_yield$fn2$,error,result;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:method=_ref4.method,params=_ref4.params;body={method:method,params:params};_ref5=(0,createBatchScheduler_js_1.createBatchScheduler)({id:url_,wait:wait,shouldSplitBatch:function shouldSplitBatch(requests){return requests.length>batchSize},fn:function fn(body){return rpcClient.request({body:body})},sort:function sort(a,b){return a.id-b.id}}),schedule=_ref5.schedule;fn=function(){var _ref6=_asyncToGenerator(regeneratorRuntime.mark(function _callee(body){return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!batch){_context.next=4;break}_context.t0=schedule(body);_context.next=8;break;case 4:_context.next=6;return rpcClient.request({body:body});case 6:_context.t1=_context.sent;_context.t0=[_context.t1];case 8:return _context.abrupt("return",_context.t0);case 9:case"end":return _context.stop()}}},_callee)}));return function fn(_x){return _ref6.apply(this,arguments)}}();_context2.next=6;return fn(body);case 6:_yield$fn=_context2.sent;_yield$fn2=_slicedToArray(_yield$fn,1);_yield$fn2$=_yield$fn2[0];error=_yield$fn2$.error;result=_yield$fn2$.result;if(!raw){_context2.next=13;break}return _context2.abrupt("return",{error:error,result:result});case 13:if(!error){_context2.next=15;break}throw new request_js_1.RpcRequestError({body:body,error:error,url:url_});case 15:return _context2.abrupt("return",result);case 16:case"end":return _context2.stop()}}},_callee2)}))()},retryCount:retryCount,retryDelay:retryDelay,timeout:timeout,type:"http"},{fetchOptions:fetchOptions,url:url_})}}},{"../../errors/request.js":363,"../../errors/transport.js":367,"../../utils/promise/createBatchScheduler.js":474,"../../utils/rpc/http.js":482,"./createTransport.js":329}],333:[function(require,module,exports){"use strict";function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}Object.defineProperty(exports,"__esModule",{value:true});exports.webSocket=webSocket;var request_js_1=require("../../errors/request.js");var transport_js_1=require("../../errors/transport.js");var compat_js_1=require("../../utils/rpc/compat.js");var webSocket_js_1=require("../../utils/rpc/webSocket.js");var createTransport_js_1=require("./createTransport.js");function webSocket(url){var config=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var keepAlive=config.keepAlive,_config$key=config.key,key=_config$key===void 0?"webSocket":_config$key,methods=config.methods,_config$name=config.name,name=_config$name===void 0?"WebSocket JSON-RPC":_config$name,reconnect=config.reconnect,retryDelay=config.retryDelay;return function(_ref){var _config$retryCount,_ref2,_chain$rpcUrls$defaul;var chain=_ref.chain,retryCount_=_ref.retryCount,timeout_=_ref.timeout;var retryCount=(_config$retryCount=config.retryCount)!==null&&_config$retryCount!==void 0?_config$retryCount:retryCount_;var timeout=(_ref2=timeout_!==null&&timeout_!==void 0?timeout_:config.timeout)!==null&&_ref2!==void 0?_ref2:1e4;var url_=url||(chain===null||chain===void 0?void 0:(_chain$rpcUrls$defaul=chain.rpcUrls["default"].webSocket)===null||_chain$rpcUrls$defaul===void 0?void 0:_chain$rpcUrls$defaul[0]);var wsRpcClientOpts={keepAlive:keepAlive,reconnect:reconnect};if(!url_)throw new transport_js_1.UrlRequiredError;return(0,createTransport_js_1.createTransport)({key:key,methods:methods,name:name,request:function request(_ref3){return _asyncToGenerator(regeneratorRuntime.mark(function _callee(){var method,params,body,rpcClient,_yield$rpcClient$requ,error,result;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:method=_ref3.method,params=_ref3.params;body={method:method,params:params};_context.next=4;return(0,webSocket_js_1.getWebSocketRpcClient)(url_,wsRpcClientOpts);case 4:rpcClient=_context.sent;_context.next=7;return rpcClient.requestAsync({body:body,timeout:timeout});case 7:_yield$rpcClient$requ=_context.sent;error=_yield$rpcClient$requ.error;result=_yield$rpcClient$requ.result;if(!error){_context.next=12;break}throw new request_js_1.RpcRequestError({body:body,error:error,url:url_});case 12:return _context.abrupt("return",result);case 13:case"end":return _context.stop()}}},_callee)}))()},retryCount:retryCount,retryDelay:retryDelay,timeout:timeout,type:"webSocket"},{getSocket:function getSocket(){return(0,compat_js_1.getSocket)(url_)},getRpcClient:function getRpcClient(){return(0,webSocket_js_1.getWebSocketRpcClient)(url_,wsRpcClientOpts)},subscribe:function subscribe(_ref4){return _asyncToGenerator(regeneratorRuntime.mark(function _callee3(){var params,onData,_onError,rpcClient,_yield$Promise,subscriptionId;return regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:params=_ref4.params,onData=_ref4.onData,_onError=_ref4.onError;_context3.next=3;return(0,webSocket_js_1.getWebSocketRpcClient)(url_,wsRpcClientOpts);case 3:rpcClient=_context3.sent;_context3.next=6;return new Promise(function(resolve,reject){return rpcClient.request({body:{method:"eth_subscribe",params:params},onError:function onError(error){reject(error);_onError===null||_onError===void 0?void 0:_onError(error);return},onResponse:function onResponse(response){if(response.error){reject(response.error);_onError===null||_onError===void 0?void 0:_onError(response.error);return}if(typeof response.id==="number"){resolve(response);return}if(response.method!=="eth_subscription")return;onData(response.params)}})});case 6:_yield$Promise=_context3.sent;subscriptionId=_yield$Promise.result;return _context3.abrupt("return",{subscriptionId:subscriptionId,unsubscribe:function unsubscribe(){return _asyncToGenerator(regeneratorRuntime.mark(function _callee2(){return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:return _context2.abrupt("return",new Promise(function(resolve){return rpcClient.request({body:{method:"eth_unsubscribe",params:[subscriptionId]},onResponse:resolve})}));case 1:case"end":return _context2.stop()}}},_callee2)}))()}});case 9:case"end":return _context3.stop()}}},_callee3)}))()}})}}},{"../../errors/request.js":363,"../../errors/transport.js":367,"../../utils/rpc/compat.js":481,"../../utils/rpc/webSocket.js":485,"./createTransport.js":329}],334:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.erc4626Abi=exports.erc721Abi=exports.erc1155Abi=exports.erc20Abi_bytes32=exports.erc20Abi=exports.universalSignatureValidatorAbi=exports.smartAccountAbi=exports.addressResolverAbi=exports.textResolverAbi=exports.universalResolverReverseAbi=exports.universalResolverResolveAbi=exports.batchGatewayAbi=exports.multicall3Abi=void 0;exports.multicall3Abi=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}];exports.batchGatewayAbi=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}];var universalResolverErrors=[{inputs:[],name:"ResolverNotFound",type:"error"},{inputs:[],name:"ResolverWildcardNotSupported",type:"error"},{inputs:[],name:"ResolverNotContract",type:"error"},{inputs:[{name:"returnData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{components:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"errors",type:"tuple[]"}],name:"HttpError",type:"error"}];exports.universalResolverResolveAbi=[].concat(universalResolverErrors,[{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]},{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}]);exports.universalResolverReverseAbi=[].concat(universalResolverErrors,[{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]},{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]}]);exports.textResolverAbi=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}];exports.addressResolverAbi=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}];exports.smartAccountAbi=[{name:"isValidSignature",type:"function",stateMutability:"view",inputs:[{name:"hash",type:"bytes32"},{name:"signature",type:"bytes"}],outputs:[{name:"",type:"bytes4"}]}];exports.universalSignatureValidatorAbi=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}];exports.erc20Abi=[{type:"event",name:"Approval",inputs:[{indexed:true,name:"owner",type:"address"},{indexed:true,name:"spender",type:"address"},{indexed:false,name:"value",type:"uint256"}]},{type:"event",name:"Transfer",inputs:[{indexed:true,name:"from",type:"address"},{indexed:true,name:"to",type:"address"},{indexed:false,name:"value",type:"uint256"}]},{type:"function",name:"allowance",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}];exports.erc20Abi_bytes32=[{type:"event",name:"Approval",inputs:[{indexed:true,name:"owner",type:"address"},{indexed:true,name:"spender",type:"address"},{indexed:false,name:"value",type:"uint256"}]},{type:"event",name:"Transfer",inputs:[{indexed:true,name:"from",type:"address"},{indexed:true,name:"to",type:"address"},{indexed:false,name:"value",type:"uint256"}]},{type:"function",name:"allowance",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{type:"bytes32"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:"bytes32"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}];exports.erc1155Abi=[{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"uint256",name:"balance",type:"uint256"},{internalType:"uint256",name:"needed",type:"uint256"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ERC1155InsufficientBalance",type:"error"},{inputs:[{internalType:"address",name:"approver",type:"address"}],name:"ERC1155InvalidApprover",type:"error"},{inputs:[{internalType:"uint256",name:"idsLength",type:"uint256"},{internalType:"uint256",name:"valuesLength",type:"uint256"}],name:"ERC1155InvalidArrayLength",type:"error"},{inputs:[{internalType:"address",name:"operator",type:"address"}],name:"ERC1155InvalidOperator",type:"error"},{inputs:[{internalType:"address",name:"receiver",type:"address"}],name:"ERC1155InvalidReceiver",type:"error"},{inputs:[{internalType:"address",name:"sender",type:"address"}],name:"ERC1155InvalidSender",type:"error"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"address",name:"owner",type:"address"}],name:"ERC1155MissingApprovalForAll",type:"error"},{anonymous:false,inputs:[{indexed:true,internalType:"address",name:"account",type:"address"},{indexed:true,internalType:"address",name:"operator",type:"address"},{indexed:false,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:false,inputs:[{indexed:true,internalType:"address",name:"operator",type:"address"},{indexed:true,internalType:"address",name:"from",type:"address"},{indexed:true,internalType:"address",name:"to",type:"address"},{indexed:false,internalType:"uint256[]",name:"ids",type:"uint256[]"},{indexed:false,internalType:"uint256[]",name:"values",type:"uint256[]"}],name:"TransferBatch",type:"event"},{anonymous:false,inputs:[{indexed:true,internalType:"address",name:"operator",type:"address"},{indexed:true,internalType:"address",name:"from",type:"address"},{indexed:true,internalType:"address",name:"to",type:"address"},{indexed:false,internalType:"uint256",name:"id",type:"uint256"},{indexed:false,internalType:"uint256",name:"value",type:"uint256"}],name:"TransferSingle",type:"event"},{anonymous:false,inputs:[{indexed:false,internalType:"string",name:"value",type:"string"},{indexed:true,internalType:"uint256",name:"id",type:"uint256"}],name:"URI",type:"event"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"id",type:"uint256"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"accounts",type:"address[]"},{internalType:"uint256[]",name:"ids",type:"uint256[]"}],name:"balanceOfBatch",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256[]",name:"ids",type:"uint256[]"},{internalType:"uint256[]",name:"values",type:"uint256[]"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeBatchTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"id",type:"uint256"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"uri",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}];exports.erc721Abi=[{type:"event",name:"Approval",inputs:[{indexed:true,name:"owner",type:"address"},{indexed:true,name:"spender",type:"address"},{indexed:true,name:"tokenId",type:"uint256"}]},{type:"event",name:"ApprovalForAll",inputs:[{indexed:true,name:"owner",type:"address"},{indexed:true,name:"operator",type:"address"},{indexed:false,name:"approved",type:"bool"}]},{type:"event",name:"Transfer",inputs:[{indexed:true,name:"from",type:"address"},{indexed:true,name:"to",type:"address"},{indexed:true,name:"tokenId",type:"uint256"}]},{type:"function",name:"approve",stateMutability:"payable",inputs:[{name:"spender",type:"address"},{name:"tokenId",type:"uint256"}],outputs:[]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"getApproved",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{type:"address"}]},{type:"function",name:"isApprovedForAll",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"operator",type:"address"}],outputs:[{type:"bool"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"ownerOf",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"owner",type:"address"}]},{type:"function",name:"safeTransferFrom",stateMutability:"payable",inputs:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"tokenId",type:"uint256"}],outputs:[]},{type:"function",name:"safeTransferFrom",stateMutability:"nonpayable",inputs:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"id",type:"uint256"},{name:"data",type:"bytes"}],outputs:[]},{type:"function",name:"setApprovalForAll",stateMutability:"nonpayable",inputs:[{name:"operator",type:"address"},{name:"approved",type:"bool"}],outputs:[]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"tokenByIndex",stateMutability:"view",inputs:[{name:"index",type:"uint256"}],outputs:[{type:"uint256"}]},{type:"function",name:"tokenByIndex",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"index",type:"uint256"}],outputs:[{name:"tokenId",type:"uint256"}]},{type:"function",name:"tokenURI",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{type:"string"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{type:"function",name:"transferFrom",stateMutability:"payable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"tokeId",type:"uint256"}],outputs:[]}];exports.erc4626Abi=[{anonymous:false,inputs:[{indexed:true,name:"owner",type:"address"},{indexed:true,name:"spender",type:"address"},{indexed:false,name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:false,inputs:[{indexed:true,name:"sender",type:"address"},{indexed:true,name:"receiver",type:"address"},{indexed:false,name:"assets",type:"uint256"},{indexed:false,name:"shares",type:"uint256"}],name:"Deposit",type:"event"},{anonymous:false,inputs:[{indexed:true,name:"from",type:"address"},{indexed:true,name:"to",type:"address"},{indexed:false,name:"value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:false,inputs:[{indexed:true,name:"sender",type:"address"},{indexed:true,name:"receiver",type:"address"},{indexed:true,name:"owner",type:"address"},{indexed:false,name:"assets",type:"uint256"},{indexed:false,name:"shares",type:"uint256"}],name:"Withdraw",type:"event"},{inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],name:"allowance",outputs:[{type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],name:"approve",outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"asset",outputs:[{name:"assetTokenAddress",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{name:"account",type:"address"}],name:"balanceOf",outputs:[{type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"shares",type:"uint256"}],name:"convertToAssets",outputs:[{name:"assets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"assets",type:"uint256"}],name:"convertToShares",outputs:[{name:"shares",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"assets",type:"uint256"},{name:"receiver",type:"address"}],name:"deposit",outputs:[{name:"shares",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"caller",type:"address"}],name:"maxDeposit",outputs:[{name:"maxAssets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"caller",type:"address"}],name:"maxMint",outputs:[{name:"maxShares",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"owner",type:"address"}],name:"maxRedeem",outputs:[{name:"maxShares",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"owner",type:"address"}],name:"maxWithdraw",outputs:[{name:"maxAssets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"shares",type:"uint256"},{name:"receiver",type:"address"}],name:"mint",outputs:[{name:"assets",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"assets",type:"uint256"}],name:"previewDeposit",outputs:[{name:"shares",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"shares",type:"uint256"}],name:"previewMint",outputs:[{name:"assets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"shares",type:"uint256"}],name:"previewRedeem",outputs:[{name:"assets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"assets",type:"uint256"}],name:"previewWithdraw",outputs:[{name:"shares",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"shares",type:"uint256"},{name:"receiver",type:"address"},{name:"owner",type:"address"}],name:"redeem",outputs:[{name:"assets",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"totalAssets",outputs:[{name:"totalManagedAssets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"to",type:"address"},{name:"amount",type:"uint256"}],name:"transfer",outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"assets",type:"uint256"},{name:"receiver",type:"address"},{name:"owner",type:"address"}],name:"withdraw",outputs:[{name:"shares",type:"uint256"}],stateMutability:"nonpayable",type:"function"}]},{}],335:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.zeroAddress=exports.ethAddress=exports.entryPoint08Address=exports.entryPoint07Address=exports.entryPoint06Address=void 0;exports.entryPoint06Address="0x5FF137D4b0FDCD49DcA30c7CF57E578a026d2789";exports.entryPoint07Address="0x0000000071727De22E5E9d8BAf0edAc6f37da032";exports.entryPoint08Address="0x4337084D9E255Ff0702461CF8895CE9E3b5Ff108";exports.ethAddress="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee";exports.zeroAddress="0x0000000000000000000000000000000000000000"},{}],336:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.maxBytesPerTransaction=exports.bytesPerBlob=exports.fieldElementsPerBlob=exports.bytesPerFieldElement=void 0;var blobsPerTransaction=6;exports.bytesPerFieldElement=32;exports.fieldElementsPerBlob=4096;exports.bytesPerBlob=exports.bytesPerFieldElement*exports.fieldElementsPerBlob;exports.maxBytesPerTransaction=exports.bytesPerBlob*blobsPerTransaction-1-1*exports.fieldElementsPerBlob*blobsPerTransaction},{}],337:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.zeroHash=exports.erc6492MagicBytes=void 0;exports.erc6492MagicBytes="0x6492649264926492649264926492649264926492649264926492649264926492";exports.zeroHash="0x0000000000000000000000000000000000000000000000000000000000000000"},{}],338:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.aggregate3Signature=void 0;exports.aggregate3Signature="0x82ad56cb"},{}],339:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.universalSignatureValidatorByteCode=exports.deploylessCallViaFactoryBytecode=exports.deploylessCallViaBytecodeBytecode=void 0;exports.deploylessCallViaBytecodeBytecode="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe";exports.deploylessCallViaFactoryBytecode="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe";exports.universalSignatureValidatorByteCode="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572"},{}],340:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.versionedHashVersionKzg=void 0;exports.versionedHashVersionKzg=1},{}],341:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.minInt144=exports.minInt136=exports.minInt128=exports.minInt120=exports.minInt112=exports.minInt104=exports.minInt96=exports.minInt88=exports.minInt80=exports.minInt72=exports.minInt64=exports.minInt56=exports.minInt48=exports.minInt40=exports.minInt32=exports.minInt24=exports.minInt16=exports.minInt8=exports.maxInt256=exports.maxInt248=exports.maxInt240=exports.maxInt232=exports.maxInt224=exports.maxInt216=exports.maxInt208=exports.maxInt200=exports.maxInt192=exports.maxInt184=exports.maxInt176=exports.maxInt168=exports.maxInt160=exports.maxInt152=exports.maxInt144=exports.maxInt136=exports.maxInt128=exports.maxInt120=exports.maxInt112=exports.maxInt104=exports.maxInt96=exports.maxInt88=exports.maxInt80=exports.maxInt72=exports.maxInt64=exports.maxInt56=exports.maxInt48=exports.maxInt40=exports.maxInt32=exports.maxInt24=exports.maxInt16=exports.maxInt8=void 0;exports.maxUint256=exports.maxUint248=exports.maxUint240=exports.maxUint232=exports.maxUint224=exports.maxUint216=exports.maxUint208=exports.maxUint200=exports.maxUint192=exports.maxUint184=exports.maxUint176=exports.maxUint168=exports.maxUint160=exports.maxUint152=exports.maxUint144=exports.maxUint136=exports.maxUint128=exports.maxUint120=exports.maxUint112=exports.maxUint104=exports.maxUint96=exports.maxUint88=exports.maxUint80=exports.maxUint72=exports.maxUint64=exports.maxUint56=exports.maxUint48=exports.maxUint40=exports.maxUint32=exports.maxUint24=exports.maxUint16=exports.maxUint8=exports.minInt256=exports.minInt248=exports.minInt240=exports.minInt232=exports.minInt224=exports.minInt216=exports.minInt208=exports.minInt200=exports.minInt192=exports.minInt184=exports.minInt176=exports.minInt168=exports.minInt160=exports.minInt152=void 0;exports.maxInt8=Math.pow(2n,8n-1n)-1n;exports.maxInt16=Math.pow(2n,16n-1n)-1n;exports.maxInt24=Math.pow(2n,24n-1n)-1n;exports.maxInt32=Math.pow(2n,32n-1n)-1n;exports.maxInt40=Math.pow(2n,40n-1n)-1n;exports.maxInt48=Math.pow(2n,48n-1n)-1n;exports.maxInt56=Math.pow(2n,56n-1n)-1n;exports.maxInt64=Math.pow(2n,64n-1n)-1n;exports.maxInt72=Math.pow(2n,72n-1n)-1n;exports.maxInt80=Math.pow(2n,80n-1n)-1n;exports.maxInt88=Math.pow(2n,88n-1n)-1n;exports.maxInt96=Math.pow(2n,96n-1n)-1n;exports.maxInt104=Math.pow(2n,104n-1n)-1n;exports.maxInt112=Math.pow(2n,112n-1n)-1n;exports.maxInt120=Math.pow(2n,120n-1n)-1n;exports.maxInt128=Math.pow(2n,128n-1n)-1n;exports.maxInt136=Math.pow(2n,136n-1n)-1n;exports.maxInt144=Math.pow(2n,144n-1n)-1n;exports.maxInt152=Math.pow(2n,152n-1n)-1n;exports.maxInt160=Math.pow(2n,160n-1n)-1n;exports.maxInt168=Math.pow(2n,168n-1n)-1n;exports.maxInt176=Math.pow(2n,176n-1n)-1n;exports.maxInt184=Math.pow(2n,184n-1n)-1n;exports.maxInt192=Math.pow(2n,192n-1n)-1n;exports.maxInt200=Math.pow(2n,200n-1n)-1n;exports.maxInt208=Math.pow(2n,208n-1n)-1n;exports.maxInt216=Math.pow(2n,216n-1n)-1n;exports.maxInt224=Math.pow(2n,224n-1n)-1n;exports.maxInt232=Math.pow(2n,232n-1n)-1n;exports.maxInt240=Math.pow(2n,240n-1n)-1n;exports.maxInt248=Math.pow(2n,248n-1n)-1n;exports.maxInt256=Math.pow(2n,256n-1n)-1n;exports.minInt8=-Math.pow(2n,8n-1n);exports.minInt16=-Math.pow(2n,16n-1n);exports.minInt24=-Math.pow(2n,24n-1n);exports.minInt32=-Math.pow(2n,32n-1n);exports.minInt40=-Math.pow(2n,40n-1n);exports.minInt48=-Math.pow(2n,48n-1n);exports.minInt56=-Math.pow(2n,56n-1n);exports.minInt64=-Math.pow(2n,64n-1n);exports.minInt72=-Math.pow(2n,72n-1n);exports.minInt80=-Math.pow(2n,80n-1n);exports.minInt88=-Math.pow(2n,88n-1n);exports.minInt96=-Math.pow(2n,96n-1n);exports.minInt104=-Math.pow(2n,104n-1n);exports.minInt112=-Math.pow(2n,112n-1n);exports.minInt120=-Math.pow(2n,120n-1n);exports.minInt128=-Math.pow(2n,128n-1n);exports.minInt136=-Math.pow(2n,136n-1n);exports.minInt144=-Math.pow(2n,144n-1n);exports.minInt152=-Math.pow(2n,152n-1n);exports.minInt160=-Math.pow(2n,160n-1n);exports.minInt168=-Math.pow(2n,168n-1n);exports.minInt176=-Math.pow(2n,176n-1n);exports.minInt184=-Math.pow(2n,184n-1n);exports.minInt192=-Math.pow(2n,192n-1n);exports.minInt200=-Math.pow(2n,200n-1n);exports.minInt208=-Math.pow(2n,208n-1n);exports.minInt216=-Math.pow(2n,216n-1n);exports.minInt224=-Math.pow(2n,224n-1n);exports.minInt232=-Math.pow(2n,232n-1n);exports.minInt240=-Math.pow(2n,240n-1n);exports.minInt248=-Math.pow(2n,248n-1n);exports.minInt256=-Math.pow(2n,256n-1n);exports.maxUint8=Math.pow(2n,8n)-1n;exports.maxUint16=Math.pow(2n,16n)-1n;exports.maxUint24=Math.pow(2n,24n)-1n;exports.maxUint32=Math.pow(2n,32n)-1n;exports.maxUint40=Math.pow(2n,40n)-1n;exports.maxUint48=Math.pow(2n,48n)-1n;exports.maxUint56=Math.pow(2n,56n)-1n;exports.maxUint64=Math.pow(2n,64n)-1n;exports.maxUint72=Math.pow(2n,72n)-1n;exports.maxUint80=Math.pow(2n,80n)-1n;exports.maxUint88=Math.pow(2n,88n)-1n;exports.maxUint96=Math.pow(2n,96n)-1n;exports.maxUint104=Math.pow(2n,104n)-1n;exports.maxUint112=Math.pow(2n,112n)-1n;exports.maxUint120=Math.pow(2n,120n)-1n;exports.maxUint128=Math.pow(2n,128n)-1n;exports.maxUint136=Math.pow(2n,136n)-1n;exports.maxUint144=Math.pow(2n,144n)-1n;exports.maxUint152=Math.pow(2n,152n)-1n;exports.maxUint160=Math.pow(2n,160n)-1n;exports.maxUint168=Math.pow(2n,168n)-1n;exports.maxUint176=Math.pow(2n,176n)-1n;exports.maxUint184=Math.pow(2n,184n)-1n;exports.maxUint192=Math.pow(2n,192n)-1n;exports.maxUint200=Math.pow(2n,200n)-1n;exports.maxUint208=Math.pow(2n,208n)-1n;exports.maxUint216=Math.pow(2n,216n)-1n;exports.maxUint224=Math.pow(2n,224n)-1n;exports.maxUint232=Math.pow(2n,232n)-1n;exports.maxUint240=Math.pow(2n,240n)-1n;exports.maxUint248=Math.pow(2n,248n)-1n;exports.maxUint256=Math.pow(2n,256n)-1n},{}],342:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.solidityPanic=exports.solidityError=exports.panicReasons=void 0;exports.panicReasons={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."};exports.solidityError={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"};exports.solidityPanic={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"}},{}],343:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.presignMessagePrefix=void 0;exports.presignMessagePrefix="Ethereum Signed Message:\n"},{}],344:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.weiUnits=exports.gweiUnits=exports.etherUnits=void 0;exports.etherUnits={gwei:9,wei:18};exports.gweiUnits={ether:-9,wei:9};exports.weiUnits={ether:-18,gwei:-9}},{}],345:[function(require,module,exports){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),o)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function _classCallCheck(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_setPrototypeOf(t,e)}function _createSuper(t){var r=_isNativeReflectConstruct();return function(){var e,o=_getPrototypeOf(t);if(r){var s=_getPrototypeOf(this).constructor;e=Reflect.construct(o,arguments,s)}else e=o.apply(this,arguments);return _possibleConstructorReturn(this,e)}}function _possibleConstructorReturn(t,e){if(e&&("object"==_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(_isNativeReflectConstruct=function _isNativeReflectConstruct(){return!!t})()}function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(t)}Object.defineProperty(exports,"__esModule",{value:true});exports.UnsupportedPackedAbiType=exports.InvalidDefinitionTypeError=exports.InvalidArrayError=exports.InvalidAbiDecodingTypeError=exports.InvalidAbiEncodingTypeError=exports.DecodeLogTopicsMismatch=exports.DecodeLogDataMismatch=exports.BytesSizeMismatchError=exports.AbiItemAmbiguityError=exports.AbiFunctionSignatureNotFoundError=exports.AbiFunctionOutputsNotFoundError=exports.AbiFunctionNotFoundError=exports.AbiEventNotFoundError=exports.AbiEventSignatureNotFoundError=exports.AbiEventSignatureEmptyTopicsError=exports.AbiErrorSignatureNotFoundError=exports.AbiErrorNotFoundError=exports.AbiErrorInputsNotFoundError=exports.AbiEncodingLengthMismatchError=exports.AbiEncodingBytesSizeMismatchError=exports.AbiEncodingArrayLengthMismatchError=exports.AbiDecodingZeroDataError=exports.AbiDecodingDataSizeTooSmallError=exports.AbiDecodingDataSizeInvalidError=exports.AbiConstructorParamsNotFoundError=exports.AbiConstructorNotFoundError=void 0;var formatAbiItem_js_1=require("../utils/abi/formatAbiItem.js");var size_js_1=require("../utils/data/size.js");var base_js_1=require("./base.js");var AbiConstructorNotFoundError=function(_base_js_1$BaseError){_inherits(AbiConstructorNotFoundError,_base_js_1$BaseError);var _super=_createSuper(AbiConstructorNotFoundError);function AbiConstructorNotFoundError(_ref){var docsPath=_ref.docsPath;_classCallCheck(this,AbiConstructorNotFoundError);return _super.call(this,["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join("\n"),{docsPath:docsPath,name:"AbiConstructorNotFoundError"})}return _createClass(AbiConstructorNotFoundError)}(base_js_1.BaseError);exports.AbiConstructorNotFoundError=AbiConstructorNotFoundError;var AbiConstructorParamsNotFoundError=function(_base_js_1$BaseError2){_inherits(AbiConstructorParamsNotFoundError,_base_js_1$BaseError2);var _super2=_createSuper(AbiConstructorParamsNotFoundError);function AbiConstructorParamsNotFoundError(_ref2){var docsPath=_ref2.docsPath;_classCallCheck(this,AbiConstructorParamsNotFoundError);return _super2.call(this,["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join("\n"),{docsPath:docsPath,name:"AbiConstructorParamsNotFoundError"})}return _createClass(AbiConstructorParamsNotFoundError)}(base_js_1.BaseError);exports.AbiConstructorParamsNotFoundError=AbiConstructorParamsNotFoundError;var AbiDecodingDataSizeInvalidError=function(_base_js_1$BaseError3){_inherits(AbiDecodingDataSizeInvalidError,_base_js_1$BaseError3);var _super3=_createSuper(AbiDecodingDataSizeInvalidError);function AbiDecodingDataSizeInvalidError(_ref3){var data=_ref3.data,size=_ref3.size;_classCallCheck(this,AbiDecodingDataSizeInvalidError);return _super3.call(this,["Data size of ".concat(size," bytes is invalid."),"Size must be in increments of 32 bytes (size % 32 === 0)."].join("\n"),{metaMessages:["Data: ".concat(data," (").concat(size," bytes)")],name:"AbiDecodingDataSizeInvalidError"})}return _createClass(AbiDecodingDataSizeInvalidError)}(base_js_1.BaseError);exports.AbiDecodingDataSizeInvalidError=AbiDecodingDataSizeInvalidError;var AbiDecodingDataSizeTooSmallError=function(_base_js_1$BaseError4){_inherits(AbiDecodingDataSizeTooSmallError,_base_js_1$BaseError4);var _super4=_createSuper(AbiDecodingDataSizeTooSmallError);function AbiDecodingDataSizeTooSmallError(_ref4){var _this;var data=_ref4.data,params=_ref4.params,size=_ref4.size;_classCallCheck(this,AbiDecodingDataSizeTooSmallError);_this=_super4.call(this,["Data size of ".concat(size," bytes is too small for given parameters.")].join("\n"),{metaMessages:["Params: (".concat((0,formatAbiItem_js_1.formatAbiParams)(params,{includeName:true}),")"),"Data:   ".concat(data," (").concat(size," bytes)")],name:"AbiDecodingDataSizeTooSmallError"});Object.defineProperty(_assertThisInitialized(_this),"data",{enumerable:true,configurable:true,writable:true,value:void 0});Object.defineProperty(_assertThisInitialized(_this),"params",{enumerable:true,configurable:true,writable:true,value:void 0});Object.defineProperty(_assertThisInitialized(_this),"size",{enumerable:true,configurable:true,writable:true,value:void 0});_this.data=data;_this.params=params;_this.size=size;return _this}return _createClass(AbiDecodingDataSizeTooSmallError)}(base_js_1.BaseError);exports.AbiDecodingDataSizeTooSmallError=AbiDecodingDataSizeTooSmallError;var AbiDecodingZeroDataError=function(_base_js_1$BaseError5){_inherits(AbiDecodingZeroDataError,_base_js_1$BaseError5);var _super5=_createSuper(AbiDecodingZeroDataError);function AbiDecodingZeroDataError(){_classCallCheck(this,AbiDecodingZeroDataError);return _super5.call(this,'Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}return _createClass(AbiDecodingZeroDataError)}(base_js_1.BaseError);exports.AbiDecodingZeroDataError=AbiDecodingZeroDataError;var AbiEncodingArrayLengthMismatchError=function(_base_js_1$BaseError6){_inherits(AbiEncodingArrayLengthMismatchError,_base_js_1$BaseError6);var _super6=_createSuper(AbiEncodingArrayLengthMismatchError);function AbiEncodingArrayLengthMismatchError(_ref5){var expectedLength=_ref5.expectedLength,givenLength=_ref5.givenLength,type=_ref5.type;_classCallCheck(this,AbiEncodingArrayLengthMismatchError);return _super6.call(this,["ABI encoding array length mismatch for type ".concat(type,"."),"Expected length: ".concat(expectedLength),"Given length: ".concat(givenLength)].join("\n"),{name:"AbiEncodingArrayLengthMismatchError"})}return _createClass(AbiEncodingArrayLengthMismatchError)}(base_js_1.BaseError);exports.AbiEncodingArrayLengthMismatchError=AbiEncodingArrayLengthMismatchError;var AbiEncodingBytesSizeMismatchError=function(_base_js_1$BaseError7){_inherits(AbiEncodingBytesSizeMismatchError,_base_js_1$BaseError7);var _super7=_createSuper(AbiEncodingBytesSizeMismatchError);function AbiEncodingBytesSizeMismatchError(_ref6){var expectedSize=_ref6.expectedSize,value=_ref6.value;_classCallCheck(this,AbiEncodingBytesSizeMismatchError);return _super7.call(this,'Size of bytes "'.concat(value,'" (bytes').concat((0,size_js_1.size)(value),") does not match expected size (bytes").concat(expectedSize,")."),{name:"AbiEncodingBytesSizeMismatchError"})}return _createClass(AbiEncodingBytesSizeMismatchError)}(base_js_1.BaseError);exports.AbiEncodingBytesSizeMismatchError=AbiEncodingBytesSizeMismatchError;var AbiEncodingLengthMismatchError=function(_base_js_1$BaseError8){_inherits(AbiEncodingLengthMismatchError,_base_js_1$BaseError8);var _super8=_createSuper(AbiEncodingLengthMismatchError);function AbiEncodingLengthMismatchError(_ref7){var expectedLength=_ref7.expectedLength,givenLength=_ref7.givenLength;_classCallCheck(this,AbiEncodingLengthMismatchError);return _super8.call(this,["ABI encoding params/values length mismatch.","Expected length (params): ".concat(expectedLength),"Given length (values): ".concat(givenLength)].join("\n"),{name:"AbiEncodingLengthMismatchError"})}return _createClass(AbiEncodingLengthMismatchError)}(base_js_1.BaseError);exports.AbiEncodingLengthMismatchError=AbiEncodingLengthMismatchError;var AbiErrorInputsNotFoundError=function(_base_js_1$BaseError9){_inherits(AbiErrorInputsNotFoundError,_base_js_1$BaseError9);var _super9=_createSuper(AbiErrorInputsNotFoundError);function AbiErrorInputsNotFoundError(errorName,_ref8){var docsPath=_ref8.docsPath;_classCallCheck(this,AbiErrorInputsNotFoundError);return _super9.call(this,['Arguments (`args`) were provided to "'.concat(errorName,'", but "').concat(errorName,'" on the ABI does not contain any parameters (`inputs`).'),"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join("\n"),{docsPath:docsPath,name:"AbiErrorInputsNotFoundError"})}return _createClass(AbiErrorInputsNotFoundError)}(base_js_1.BaseError);exports.AbiErrorInputsNotFoundError=AbiErrorInputsNotFoundError;var AbiErrorNotFoundError=function(_base_js_1$BaseError10){_inherits(AbiErrorNotFoundError,_base_js_1$BaseError10);var _super10=_createSuper(AbiErrorNotFoundError);function AbiErrorNotFoundError(errorName){var _ref9=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},docsPath=_ref9.docsPath;_classCallCheck(this,AbiErrorNotFoundError);return _super10.call(this,["Error ".concat(errorName?'"'.concat(errorName,'" '):"","not found on ABI."),"Make sure you are using the correct ABI and that the error exists on it."].join("\n"),{docsPath:docsPath,name:"AbiErrorNotFoundError"})}return _createClass(AbiErrorNotFoundError)}(base_js_1.BaseError);exports.AbiErrorNotFoundError=AbiErrorNotFoundError;var AbiErrorSignatureNotFoundError=function(_base_js_1$BaseError11){_inherits(AbiErrorSignatureNotFoundError,_base_js_1$BaseError11);var _super11=_createSuper(AbiErrorSignatureNotFoundError);function AbiErrorSignatureNotFoundError(signature,_ref10){var _this2;var docsPath=_ref10.docsPath;_classCallCheck(this,AbiErrorSignatureNotFoundError);_this2=_super11.call(this,['Encoded error signature "'.concat(signature,'" not found on ABI.'),"Make sure you are using the correct ABI and that the error exists on it.","You can look up the decoded signature here: https://openchain.xyz/signatures?query=".concat(signature,".")].join("\n"),{docsPath:docsPath,name:"AbiErrorSignatureNotFoundError"});Object.defineProperty(_assertThisInitialized(_this2),"signature",{enumerable:true,configurable:true,writable:true,value:void 0});_this2.signature=signature;return _this2}return _createClass(AbiErrorSignatureNotFoundError)}(base_js_1.BaseError);exports.AbiErrorSignatureNotFoundError=AbiErrorSignatureNotFoundError;var AbiEventSignatureEmptyTopicsError=function(_base_js_1$BaseError12){_inherits(AbiEventSignatureEmptyTopicsError,_base_js_1$BaseError12);var _super12=_createSuper(AbiEventSignatureEmptyTopicsError);function AbiEventSignatureEmptyTopicsError(_ref11){var docsPath=_ref11.docsPath;_classCallCheck(this,AbiEventSignatureEmptyTopicsError);return _super12.call(this,"Cannot extract event signature from empty topics.",{docsPath:docsPath,name:"AbiEventSignatureEmptyTopicsError"})}return _createClass(AbiEventSignatureEmptyTopicsError)}(base_js_1.BaseError);exports.AbiEventSignatureEmptyTopicsError=AbiEventSignatureEmptyTopicsError;var AbiEventSignatureNotFoundError=function(_base_js_1$BaseError13){_inherits(AbiEventSignatureNotFoundError,_base_js_1$BaseError13);var _super13=_createSuper(AbiEventSignatureNotFoundError);function AbiEventSignatureNotFoundError(signature,_ref12){var docsPath=_ref12.docsPath;_classCallCheck(this,AbiEventSignatureNotFoundError);return _super13.call(this,['Encoded event signature "'.concat(signature,'" not found on ABI.'),"Make sure you are using the correct ABI and that the event exists on it.","You can look up the signature here: https://openchain.xyz/signatures?query=".concat(signature,".")].join("\n"),{docsPath:docsPath,name:"AbiEventSignatureNotFoundError"})}return _createClass(AbiEventSignatureNotFoundError)}(base_js_1.BaseError);exports.AbiEventSignatureNotFoundError=AbiEventSignatureNotFoundError;var AbiEventNotFoundError=function(_base_js_1$BaseError14){_inherits(AbiEventNotFoundError,_base_js_1$BaseError14);var _super14=_createSuper(AbiEventNotFoundError);function AbiEventNotFoundError(eventName){var _ref13=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},docsPath=_ref13.docsPath;_classCallCheck(this,AbiEventNotFoundError);return _super14.call(this,["Event ".concat(eventName?'"'.concat(eventName,'" '):"","not found on ABI."),"Make sure you are using the correct ABI and that the event exists on it."].join("\n"),{docsPath:docsPath,name:"AbiEventNotFoundError"})}return _createClass(AbiEventNotFoundError)}(base_js_1.BaseError);exports.AbiEventNotFoundError=AbiEventNotFoundError;var AbiFunctionNotFoundError=function(_base_js_1$BaseError15){_inherits(AbiFunctionNotFoundError,_base_js_1$BaseError15);var _super15=_createSuper(AbiFunctionNotFoundError);function AbiFunctionNotFoundError(functionName){var _ref14=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},docsPath=_ref14.docsPath;_classCallCheck(this,AbiFunctionNotFoundError);return _super15.call(this,["Function ".concat(functionName?'"'.concat(functionName,'" '):"","not found on ABI."),"Make sure you are using the correct ABI and that the function exists on it."].join("\n"),{docsPath:docsPath,name:"AbiFunctionNotFoundError"})}return _createClass(AbiFunctionNotFoundError)}(base_js_1.BaseError);exports.AbiFunctionNotFoundError=AbiFunctionNotFoundError;var AbiFunctionOutputsNotFoundError=function(_base_js_1$BaseError16){_inherits(AbiFunctionOutputsNotFoundError,_base_js_1$BaseError16);var _super16=_createSuper(AbiFunctionOutputsNotFoundError);function AbiFunctionOutputsNotFoundError(functionName,_ref15){var docsPath=_ref15.docsPath;_classCallCheck(this,AbiFunctionOutputsNotFoundError);return _super16.call(this,['Function "'.concat(functionName,'" does not contain any `outputs` on ABI.'),"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join("\n"),{docsPath:docsPath,name:"AbiFunctionOutputsNotFoundError"})}return _createClass(AbiFunctionOutputsNotFoundError)}(base_js_1.BaseError);exports.AbiFunctionOutputsNotFoundError=AbiFunctionOutputsNotFoundError;var AbiFunctionSignatureNotFoundError=function(_base_js_1$BaseError17){_inherits(AbiFunctionSignatureNotFoundError,_base_js_1$BaseError17);var _super17=_createSuper(AbiFunctionSignatureNotFoundError);function AbiFunctionSignatureNotFoundError(signature,_ref16){var docsPath=_ref16.docsPath;_classCallCheck(this,AbiFunctionSignatureNotFoundError);return _super17.call(this,['Encoded function signature "'.concat(signature,'" not found on ABI.'),"Make sure you are using the correct ABI and that the function exists on it.","You can look up the signature here: https://openchain.xyz/signatures?query=".concat(signature,".")].join("\n"),{docsPath:docsPath,name:"AbiFunctionSignatureNotFoundError"})}return _createClass(AbiFunctionSignatureNotFoundError)}(base_js_1.BaseError);exports.AbiFunctionSignatureNotFoundError=AbiFunctionSignatureNotFoundError;var AbiItemAmbiguityError=function(_base_js_1$BaseError18){_inherits(AbiItemAmbiguityError,_base_js_1$BaseError18);var _super18=_createSuper(AbiItemAmbiguityError);function AbiItemAmbiguityError(x,y){_classCallCheck(this,AbiItemAmbiguityError);return _super18.call(this,"Found ambiguous types in overloaded ABI items.",{metaMessages:["`".concat(x.type,"` in `").concat((0,formatAbiItem_js_1.formatAbiItem)(x.abiItem),"`, and"),"`".concat(y.type,"` in `").concat((0,formatAbiItem_js_1.formatAbiItem)(y.abiItem),"`"),"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}return _createClass(AbiItemAmbiguityError)}(base_js_1.BaseError);exports.AbiItemAmbiguityError=AbiItemAmbiguityError;var BytesSizeMismatchError=function(_base_js_1$BaseError19){_inherits(BytesSizeMismatchError,_base_js_1$BaseError19);var _super19=_createSuper(BytesSizeMismatchError);function BytesSizeMismatchError(_ref17){var expectedSize=_ref17.expectedSize,givenSize=_ref17.givenSize;_classCallCheck(this,BytesSizeMismatchError);return _super19.call(this,"Expected bytes".concat(expectedSize,", got bytes").concat(givenSize,"."),{name:"BytesSizeMismatchError"})}return _createClass(BytesSizeMismatchError)}(base_js_1.BaseError);exports.BytesSizeMismatchError=BytesSizeMismatchError;var DecodeLogDataMismatch=function(_base_js_1$BaseError20){_inherits(DecodeLogDataMismatch,_base_js_1$BaseError20);var _super20=_createSuper(DecodeLogDataMismatch);function DecodeLogDataMismatch(_ref18){var _this3;var abiItem=_ref18.abiItem,data=_ref18.data,params=_ref18.params,size=_ref18.size;_classCallCheck(this,DecodeLogDataMismatch);_this3=_super20.call(this,["Data size of ".concat(size," bytes is too small for non-indexed event parameters.")].join("\n"),{metaMessages:["Params: (".concat((0,formatAbiItem_js_1.formatAbiParams)(params,{includeName:true}),")"),"Data:   ".concat(data," (").concat(size," bytes)")],name:"DecodeLogDataMismatch"});Object.defineProperty(_assertThisInitialized(_this3),"abiItem",{enumerable:true,configurable:true,writable:true,value:void 0});Object.defineProperty(_assertThisInitialized(_this3),"data",{enumerable:true,configurable:true,writable:true,value:void 0});Object.defineProperty(_assertThisInitialized(_this3),"params",{enumerable:true,configurable:true,writable:true,value:void 0});Object.defineProperty(_assertThisInitialized(_this3),"size",{enumerable:true,configurable:true,writable:true,value:void 0});_this3.abiItem=abiItem;_this3.data=data;_this3.params=params;_this3.size=size;return _this3}return _createClass(DecodeLogDataMismatch)}(base_js_1.BaseError);exports.DecodeLogDataMismatch=DecodeLogDataMismatch;var DecodeLogTopicsMismatch=function(_base_js_1$BaseError21){_inherits(DecodeLogTopicsMismatch,_base_js_1$BaseError21);var _super21=_createSuper(DecodeLogTopicsMismatch);function DecodeLogTopicsMismatch(_ref19){var _this4;var abiItem=_ref19.abiItem,param=_ref19.param;_classCallCheck(this,DecodeLogTopicsMismatch);_this4=_super21.call(this,["Expected a topic for indexed event parameter".concat(param.name?' "'.concat(param.name,'"'):"",' on event "').concat((0,formatAbiItem_js_1.formatAbiItem)(abiItem,{includeName:true}),'".')].join("\n"),{name:"DecodeLogTopicsMismatch"});Object.defineProperty(_assertThisInitialized(_this4),"abiItem",{enumerable:true,configurable:true,writable:true,value:void 0});_this4.abiItem=abiItem;return _this4}return _createClass(DecodeLogTopicsMismatch)}(base_js_1.BaseError);exports.DecodeLogTopicsMismatch=DecodeLogTopicsMismatch;var InvalidAbiEncodingTypeError=function(_base_js_1$BaseError22){_inherits(InvalidAbiEncodingTypeError,_base_js_1$BaseError22);var _super22=_createSuper(InvalidAbiEncodingTypeError);function InvalidAbiEncodingTypeError(type,_ref20){var docsPath=_ref20.docsPath;_classCallCheck(this,InvalidAbiEncodingTypeError);return _super22.call(this,['Type "'.concat(type,'" is not a valid encoding type.'),"Please provide a valid ABI type."].join("\n"),{docsPath:docsPath,name:"InvalidAbiEncodingType"})}return _createClass(InvalidAbiEncodingTypeError)}(base_js_1.BaseError);exports.InvalidAbiEncodingTypeError=InvalidAbiEncodingTypeError;var InvalidAbiDecodingTypeError=function(_base_js_1$BaseError23){_inherits(InvalidAbiDecodingTypeError,_base_js_1$BaseError23);var _super23=_createSuper(InvalidAbiDecodingTypeError);function InvalidAbiDecodingTypeError(type,_ref21){var docsPath=_ref21.docsPath;_classCallCheck(this,InvalidAbiDecodingTypeError);return _super23.call(this,['Type "'.concat(type,'" is not a valid decoding type.'),"Please provide a valid ABI type."].join("\n"),{docsPath:docsPath,name:"InvalidAbiDecodingType"})}return _createClass(InvalidAbiDecodingTypeError)}(base_js_1.BaseError);exports.InvalidAbiDecodingTypeError=InvalidAbiDecodingTypeError;var InvalidArrayError=function(_base_js_1$BaseError24){_inherits(InvalidArrayError,_base_js_1$BaseError24);var _super24=_createSuper(InvalidArrayError);function InvalidArrayError(value){_classCallCheck(this,InvalidArrayError);return _super24.call(this,['Value "'.concat(value,'" is not a valid array.')].join("\n"),{name:"InvalidArrayError"})}return _createClass(InvalidArrayError)}(base_js_1.BaseError);exports.InvalidArrayError=InvalidArrayError;var InvalidDefinitionTypeError=function(_base_js_1$BaseError25){_inherits(InvalidDefinitionTypeError,_base_js_1$BaseError25);var _super25=_createSuper(InvalidDefinitionTypeError);function InvalidDefinitionTypeError(type){_classCallCheck(this,InvalidDefinitionTypeError);return _super25.call(this,['"'.concat(type,'" is not a valid definition type.'),'Valid types: "function", "event", "error"'].join("\n"),{name:"InvalidDefinitionTypeError"})}return _createClass(InvalidDefinitionTypeError)}(base_js_1.BaseError);exports.InvalidDefinitionTypeError=InvalidDefinitionTypeError;var UnsupportedPackedAbiType=function(_base_js_1$BaseError26){_inherits(UnsupportedPackedAbiType,_base_js_1$BaseError26);var _super26=_createSuper(UnsupportedPackedAbiType);function UnsupportedPackedAbiType(type){_classCallCheck(this,UnsupportedPackedAbiType);return _super26.call(this,'Type "'.concat(type,'" is not supported for packed encoding.'),{name:"UnsupportedPackedAbiType"})}return _createClass(UnsupportedPackedAbiType)}(base_js_1.BaseError);exports.UnsupportedPackedAbiType=UnsupportedPackedAbiType},{"../utils/abi/formatAbiItem.js":387,"../utils/data/size.js":419,"./base.js":348}],346:[function(require,module,exports){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),o)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function _classCallCheck(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_setPrototypeOf(t,e)}function _createSuper(t){var r=_isNativeReflectConstruct();return function(){var e,o=_getPrototypeOf(t);if(r){var s=_getPrototypeOf(this).constructor;e=Reflect.construct(o,arguments,s)}else e=o.apply(this,arguments);return _possibleConstructorReturn(this,e)}}function _possibleConstructorReturn(t,e){if(e&&("object"==_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(_isNativeReflectConstruct=function _isNativeReflectConstruct(){return!!t})()}function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(t)}Object.defineProperty(exports,"__esModule",{value:true});exports.AccountTypeNotSupportedError=exports.AccountNotFoundError=void 0;var base_js_1=require("./base.js");var AccountNotFoundError=function(_base_js_1$BaseError){_inherits(AccountNotFoundError,_base_js_1$BaseError);var _super=_createSuper(AccountNotFoundError);function AccountNotFoundError(){var _ref=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},docsPath=_ref.docsPath;_classCallCheck(this,AccountNotFoundError);return _super.call(this,["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join("\n"),{docsPath:docsPath,docsSlug:"account",name:"AccountNotFoundError"})}return _createClass(AccountNotFoundError)}(base_js_1.BaseError);exports.AccountNotFoundError=AccountNotFoundError;var AccountTypeNotSupportedError=function(_base_js_1$BaseError2){_inherits(AccountTypeNotSupportedError,_base_js_1$BaseError2);var _super2=_createSuper(AccountTypeNotSupportedError);function AccountTypeNotSupportedError(_ref2){var docsPath=_ref2.docsPath,metaMessages=_ref2.metaMessages,type=_ref2.type;_classCallCheck(this,AccountTypeNotSupportedError);return _super2.call(this,'Account type "'.concat(type,'" is not supported.'),{docsPath:docsPath,metaMessages:metaMessages,name:"AccountTypeNotSupportedError"})}return _createClass(AccountTypeNotSupportedError)}(base_js_1.BaseError);exports.AccountTypeNotSupportedError=AccountTypeNotSupportedError},{"./base.js":348}],347:[function(require,module,exports){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),o)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function _classCallCheck(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_setPrototypeOf(t,e)}function _createSuper(t){var r=_isNativeReflectConstruct();return function(){var e,o=_getPrototypeOf(t);if(r){var s=_getPrototypeOf(this).constructor;e=Reflect.construct(o,arguments,s)}else e=o.apply(this,arguments);return _possibleConstructorReturn(this,e)}}function _possibleConstructorReturn(t,e){if(e&&("object"==_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(_isNativeReflectConstruct=function _isNativeReflectConstruct(){return!!t})()}function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(t)}Object.defineProperty(exports,"__esModule",{value:true});exports.InvalidAddressError=void 0;var base_js_1=require("./base.js");var InvalidAddressError=function(_base_js_1$BaseError){_inherits(InvalidAddressError,_base_js_1$BaseError);var _super=_createSuper(InvalidAddressError);function InvalidAddressError(_ref){var address=_ref.address;_classCallCheck(this,InvalidAddressError);return _super.call(this,'Address "'.concat(address,'" is invalid.'),{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}return _createClass(InvalidAddressError)}(base_js_1.BaseError);exports.InvalidAddressError=InvalidAddressError},{"./base.js":348}],348:[function(require,module,exports){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _toConsumableArray(r){return _arrayWithoutHoles(r)||_iterableToArray(r)||_unsupportedIterableToArray(r)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}function _iterableToArray(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}function _arrayWithoutHoles(r){if(Array.isArray(r))return _arrayLikeToArray(r)}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++){n[e]=r[e]}return n}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function _defineProperty(e,r,t){return(r=_toPropertyKey(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _classCallCheck(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),o)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf(t,e)}function _createSuper(t){var r=_isNativeReflectConstruct();return function(){var e,o=_getPrototypeOf(t);if(r){var s=_getPrototypeOf(this).constructor;e=Reflect.construct(o,arguments,s)}else e=o.apply(this,arguments);return _possibleConstructorReturn(this,e)}}function _possibleConstructorReturn(t,e){if(e&&("object"==_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _wrapNativeSuper(t){var r="function"==typeof Map?new Map:void 0;return _wrapNativeSuper=function _wrapNativeSuper(t){if(null===t||!_isNativeFunction(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==r){if(r.has(t))return r.get(t);r.set(t,Wrapper)}function Wrapper(){return _construct(t,arguments,_getPrototypeOf(this).constructor)}return Wrapper.prototype=Object.create(t.prototype,{constructor:{value:Wrapper,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(Wrapper,t)},_wrapNativeSuper(t)}function _construct(t,e,r){if(_isNativeReflectConstruct())return Reflect.construct.apply(null,arguments);var o=[null];o.push.apply(o,e);var p=new(t.bind.apply(t,o));return r&&_setPrototypeOf(p,r.prototype),p}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(_isNativeReflectConstruct=function _isNativeReflectConstruct(){return!!t})()}function _isNativeFunction(t){try{return-1!==Function.toString.call(t).indexOf("[native code]")}catch(n){return"function"==typeof t}}function _setPrototypeOf(t,e){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_setPrototypeOf(t,e)}function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(t)}Object.defineProperty(exports,"__esModule",{value:true});exports.BaseError=void 0;exports.setErrorConfig=setErrorConfig;var version_js_1=require("./version.js");var errorConfig={getDocsUrl:function getDocsUrl(_ref){var docsBaseUrl=_ref.docsBaseUrl,_ref$docsPath=_ref.docsPath,docsPath=_ref$docsPath===void 0?"":_ref$docsPath,docsSlug=_ref.docsSlug;return docsPath?"".concat(docsBaseUrl!==null&&docsBaseUrl!==void 0?docsBaseUrl:"https://viem.sh").concat(docsPath).concat(docsSlug?"#".concat(docsSlug):""):undefined},version:"viem@".concat(version_js_1.version)};function setErrorConfig(config){errorConfig=config}var BaseError=function(_Error){_inherits(BaseError,_Error);var _super=_createSuper(BaseError);function BaseError(shortMessage){var _errorConfig$getDocsU,_errorConfig,_args$name;var _this;var args=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};_classCallCheck(this,BaseError);var details=function(_args$cause){if(args.cause instanceof BaseError)return args.cause.details;if((_args$cause=args.cause)!==null&&_args$cause!==void 0&&_args$cause.message)return args.cause.message;return args.details}();var docsPath=function(){if(args.cause instanceof BaseError)return args.cause.docsPath||args.docsPath;return args.docsPath}();var docsUrl=(_errorConfig$getDocsU=(_errorConfig=errorConfig).getDocsUrl)===null||_errorConfig$getDocsU===void 0?void 0:_errorConfig$getDocsU.call(_errorConfig,_objectSpread(_objectSpread({},args),{},{docsPath:docsPath}));var message=[shortMessage||"An error occurred.",""].concat(_toConsumableArray(args.metaMessages?[].concat(_toConsumableArray(args.metaMessages),[""]):[]),_toConsumableArray(docsUrl?["Docs: ".concat(docsUrl)]:[]),_toConsumableArray(details?["Details: ".concat(details)]:[]),_toConsumableArray(errorConfig.version?["Version: ".concat(errorConfig.version)]:[])).join("\n");_this=_super.call(this,message,args.cause?{cause:args.cause}:undefined);Object.defineProperty(_assertThisInitialized(_this),"details",{enumerable:true,configurable:true,writable:true,value:void 0});Object.defineProperty(_assertThisInitialized(_this),"docsPath",{enumerable:true,configurable:true,writable:true,value:void 0});Object.defineProperty(_assertThisInitialized(_this),"metaMessages",{enumerable:true,configurable:true,writable:true,value:void 0});Object.defineProperty(_assertThisInitialized(_this),"shortMessage",{enumerable:true,configurable:true,writable:true,value:void 0});Object.defineProperty(_assertThisInitialized(_this),"version",{enumerable:true,configurable:true,writable:true,value:void 0});Object.defineProperty(_assertThisInitialized(_this),"name",{enumerable:true,configurable:true,writable:true,value:"BaseError"});_this.details=details;_this.docsPath=docsPath;_this.metaMessages=args.metaMessages;_this.name=(_args$name=args.name)!==null&&_args$name!==void 0?_args$name:_this.name;_this.shortMessage=shortMessage;_this.version=version_js_1.version;return _this}_createClass(BaseError,[{key:"walk",value:function walk(fn){return _walk(this,fn)}}]);return BaseError}(_wrapNativeSuper(Error));exports.BaseError=BaseError;function _walk(err,fn){if(fn!==null&&fn!==void 0&&fn(err))return err;if(err&&_typeof(err)==="object"&&"cause"in err&&err.cause!==undefined)return _walk(err.cause,fn);return fn?null:err}},{"./version.js":371}],349:[function(require,module,exports){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),o)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function _classCallCheck(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_setPrototypeOf(t,e)}function _createSuper(t){var r=_isNativeReflectConstruct();return function(){var e,o=_getPrototypeOf(t);if(r){var s=_getPrototypeOf(this).constructor;e=Reflect.construct(o,arguments,s)}else e=o.apply(this,arguments);return _possibleConstructorReturn(this,e)}}function _possibleConstructorReturn(t,e){if(e&&("object"==_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(_isNativeReflectConstruct=function _isNativeReflectConstruct(){return!!t})()}function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(t)}Object.defineProperty(exports,"__esModule",{value:true});exports.InvalidVersionedHashVersionError=exports.InvalidVersionedHashSizeError=exports.EmptyBlobError=exports.BlobSizeTooLargeError=void 0;var kzg_js_1=require("../constants/kzg.js");var base_js_1=require("./base.js");var BlobSizeTooLargeError=function(_base_js_1$BaseError){_inherits(BlobSizeTooLargeError,_base_js_1$BaseError);var _super=_createSuper(BlobSizeTooLargeError);function BlobSizeTooLargeError(_ref){var maxSize=_ref.maxSize,size=_ref.size;_classCallCheck(this,BlobSizeTooLargeError);return _super.call(this,"Blob size is too large.",{metaMessages:["Max: ".concat(maxSize," bytes"),"Given: ".concat(size," bytes")],name:"BlobSizeTooLargeError"})}return _createClass(BlobSizeTooLargeError)}(base_js_1.BaseError);exports.BlobSizeTooLargeError=BlobSizeTooLargeError;var EmptyBlobError=function(_base_js_1$BaseError2){_inherits(EmptyBlobError,_base_js_1$BaseError2);var _super2=_createSuper(EmptyBlobError);function EmptyBlobError(){_classCallCheck(this,EmptyBlobError);return _super2.call(this,"Blob data must not be empty.",{name:"EmptyBlobError"})}return _createClass(EmptyBlobError)}(base_js_1.BaseError);exports.EmptyBlobError=EmptyBlobError;var InvalidVersionedHashSizeError=function(_base_js_1$BaseError3){_inherits(InvalidVersionedHashSizeError,_base_js_1$BaseError3);var _super3=_createSuper(InvalidVersionedHashSizeError);function InvalidVersionedHashSizeError(_ref2){var hash=_ref2.hash,size=_ref2.size;_classCallCheck(this,InvalidVersionedHashSizeError);return _super3.call(this,'Versioned hash "'.concat(hash,'" size is invalid.'),{metaMessages:["Expected: 32","Received: ".concat(size)],name:"InvalidVersionedHashSizeError"})}return _createClass(InvalidVersionedHashSizeError)}(base_js_1.BaseError);exports.InvalidVersionedHashSizeError=InvalidVersionedHashSizeError;var InvalidVersionedHashVersionError=function(_base_js_1$BaseError4){_inherits(InvalidVersionedHashVersionError,_base_js_1$BaseError4);var _super4=_createSuper(InvalidVersionedHashVersionError);function InvalidVersionedHashVersionError(_ref3){var hash=_ref3.hash,version=_ref3.version;_classCallCheck(this,InvalidVersionedHashVersionError);return _super4.call(this,'Versioned hash "'.concat(hash,'" version is invalid.'),{metaMessages:["Expected: ".concat(kzg_js_1.versionedHashVersionKzg),"Received: ".concat(version)],name:"InvalidVersionedHashVersionError"})}return _createClass(InvalidVersionedHashVersionError)}(base_js_1.BaseError);exports.InvalidVersionedHashVersionError=InvalidVersionedHashVersionError},{"../constants/kzg.js":340,"./base.js":348}],350:[function(require,module,exports){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),o)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function _classCallCheck(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_setPrototypeOf(t,e)}function _createSuper(t){var r=_isNativeReflectConstruct();return function(){var e,o=_getPrototypeOf(t);if(r){var s=_getPrototypeOf(this).constructor;e=Reflect.construct(o,arguments,s)}else e=o.apply(this,arguments);return _possibleConstructorReturn(this,e)}}function _possibleConstructorReturn(t,e){if(e&&("object"==_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(_isNativeReflectConstruct=function _isNativeReflectConstruct(){return!!t})()}function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(t)}Object.defineProperty(exports,"__esModule",{value:true});exports.BlockNotFoundError=void 0;var base_js_1=require("./base.js");var BlockNotFoundError=function(_base_js_1$BaseError){_inherits(BlockNotFoundError,_base_js_1$BaseError);var _super=_createSuper(BlockNotFoundError);function BlockNotFoundError(_ref){var blockHash=_ref.blockHash,blockNumber=_ref.blockNumber;_classCallCheck(this,BlockNotFoundError);var identifier="Block";if(blockHash)identifier='Block at hash "'.concat(blockHash,'"');if(blockNumber)identifier='Block at number "'.concat(blockNumber,'"');return _super.call(this,"".concat(identifier," could not be found."),{name:"BlockNotFoundError"})}return _createClass(BlockNotFoundError)}(base_js_1.BaseError);exports.BlockNotFoundError=BlockNotFoundError},{"./base.js":348}],351:[function(require,module,exports){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _toConsumableArray(r){return _arrayWithoutHoles(r)||_iterableToArray(r)||_unsupportedIterableToArray(r)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}function _iterableToArray(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}function _arrayWithoutHoles(r){if(Array.isArray(r))return _arrayLikeToArray(r)}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++){n[e]=r[e]}return n}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),o)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function _classCallCheck(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_setPrototypeOf(t,e)}function _createSuper(t){var r=_isNativeReflectConstruct();return function(){var e,o=_getPrototypeOf(t);if(r){var s=_getPrototypeOf(this).constructor;e=Reflect.construct(o,arguments,s)}else e=o.apply(this,arguments);return _possibleConstructorReturn(this,e)}}function _possibleConstructorReturn(t,e){if(e&&("object"==_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(_isNativeReflectConstruct=function _isNativeReflectConstruct(){return!!t})()}function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(t)}Object.defineProperty(exports,"__esModule",{value:true});exports.OffchainLookupSenderMismatchError=exports.OffchainLookupResponseMalformedError=exports.OffchainLookupError=void 0;var stringify_js_1=require("../utils/stringify.js");var base_js_1=require("./base.js");var utils_js_1=require("./utils.js");var OffchainLookupError=function(_base_js_1$BaseError){_inherits(OffchainLookupError,_base_js_1$BaseError);var _super=_createSuper(OffchainLookupError);function OffchainLookupError(_ref){var _cause$metaMessages;var callbackSelector=_ref.callbackSelector,cause=_ref.cause,data=_ref.data,extraData=_ref.extraData,sender=_ref.sender,urls=_ref.urls;_classCallCheck(this,OffchainLookupError);return _super.call(this,cause.shortMessage||"An error occurred while fetching for an offchain result.",{cause:cause,metaMessages:[].concat(_toConsumableArray(cause.metaMessages||[]),[(_cause$metaMessages=cause.metaMessages)!==null&&_cause$metaMessages!==void 0&&_cause$metaMessages.length?"":[],"Offchain Gateway Call:",urls&&["  Gateway URL(s):"].concat(_toConsumableArray(urls.map(function(url){return"    ".concat((0,utils_js_1.getUrl)(url))}))),"  Sender: ".concat(sender),"  Data: ".concat(data),"  Callback selector: ".concat(callbackSelector),"  Extra data: ".concat(extraData)]).flat(),name:"OffchainLookupError"})}return _createClass(OffchainLookupError)}(base_js_1.BaseError);exports.OffchainLookupError=OffchainLookupError;var OffchainLookupResponseMalformedError=function(_base_js_1$BaseError2){_inherits(OffchainLookupResponseMalformedError,_base_js_1$BaseError2);var _super2=_createSuper(OffchainLookupResponseMalformedError);function OffchainLookupResponseMalformedError(_ref2){var result=_ref2.result,url=_ref2.url;_classCallCheck(this,OffchainLookupResponseMalformedError);return _super2.call(this,"Offchain gateway response is malformed. Response data must be a hex value.",{metaMessages:["Gateway URL: ".concat((0,utils_js_1.getUrl)(url)),"Response: ".concat((0,stringify_js_1.stringify)(result))],name:"OffchainLookupResponseMalformedError"})}return _createClass(OffchainLookupResponseMalformedError)}(base_js_1.BaseError);exports.OffchainLookupResponseMalformedError=OffchainLookupResponseMalformedError;var OffchainLookupSenderMismatchError=function(_base_js_1$BaseError3){_inherits(OffchainLookupSenderMismatchError,_base_js_1$BaseError3);var _super3=_createSuper(OffchainLookupSenderMismatchError);function OffchainLookupSenderMismatchError(_ref3){var sender=_ref3.sender,to=_ref3.to;_classCallCheck(this,OffchainLookupSenderMismatchError);return _super3.call(this,"Reverted sender address does not match target contract address (`to`).",{metaMessages:["Contract address: ".concat(to),"OffchainLookup sender address: ".concat(sender)],name:"OffchainLookupSenderMismatchError"})}return _createClass(OffchainLookupSenderMismatchError)}(base_js_1.BaseError);exports.OffchainLookupSenderMismatchError=OffchainLookupSenderMismatchError},{"../utils/stringify.js":509,"./base.js":348,"./utils.js":370}],352:[function(require,module,exports){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _toConsumableArray(r){return _arrayWithoutHoles(r)||_iterableToArray(r)||_unsupportedIterableToArray(r)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}function _iterableToArray(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}function _arrayWithoutHoles(r){if(Array.isArray(r))return _arrayLikeToArray(r)}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++){n[e]=r[e]}return n}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),o)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function _classCallCheck(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_setPrototypeOf(t,e)}function _createSuper(t){var r=_isNativeReflectConstruct();return function(){var e,o=_getPrototypeOf(t);if(r){var s=_getPrototypeOf(this).constructor;e=Reflect.construct(o,arguments,s)}else e=o.apply(this,arguments);return _possibleConstructorReturn(this,e)}}function _possibleConstructorReturn(t,e){if(e&&("object"==_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(_isNativeReflectConstruct=function _isNativeReflectConstruct(){return!!t})()}function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(t)}Object.defineProperty(exports,"__esModule",{value:true});exports.InvalidChainIdError=exports.ClientChainNotConfiguredError=exports.ChainNotFoundError=exports.ChainMismatchError=exports.ChainDoesNotSupportContract=void 0;var base_js_1=require("./base.js");var ChainDoesNotSupportContract=function(_base_js_1$BaseError){_inherits(ChainDoesNotSupportContract,_base_js_1$BaseError);var _super=_createSuper(ChainDoesNotSupportContract);function ChainDoesNotSupportContract(_ref){var blockNumber=_ref.blockNumber,chain=_ref.chain,contract=_ref.contract;_classCallCheck(this,ChainDoesNotSupportContract);return _super.call(this,'Chain "'.concat(chain.name,'" does not support contract "').concat(contract.name,'".'),{metaMessages:["This could be due to any of the following:"].concat(_toConsumableArray(blockNumber&&contract.blockCreated&&contract.blockCreated>blockNumber?['- The contract "'.concat(contract.name,'" was not deployed until block ').concat(contract.blockCreated," (current block ").concat(blockNumber,").")]:['- The chain does not have the contract "'.concat(contract.name,'" configured.')])),name:"ChainDoesNotSupportContract"})}return _createClass(ChainDoesNotSupportContract)}(base_js_1.BaseError);exports.ChainDoesNotSupportContract=ChainDoesNotSupportContract;var ChainMismatchError=function(_base_js_1$BaseError2){_inherits(ChainMismatchError,_base_js_1$BaseError2);var _super2=_createSuper(ChainMismatchError);function ChainMismatchError(_ref2){var chain=_ref2.chain,currentChainId=_ref2.currentChainId;_classCallCheck(this,ChainMismatchError);return _super2.call(this,"The current chain of the wallet (id: ".concat(currentChainId,") does not match the target chain for the transaction (id: ").concat(chain.id,"  ").concat(chain.name,")."),{metaMessages:["Current Chain ID:  ".concat(currentChainId),"Expected Chain ID: ".concat(chain.id,"  ").concat(chain.name)],name:"ChainMismatchError"})}return _createClass(ChainMismatchError)}(base_js_1.BaseError);exports.ChainMismatchError=ChainMismatchError;var ChainNotFoundError=function(_base_js_1$BaseError3){_inherits(ChainNotFoundError,_base_js_1$BaseError3);var _super3=_createSuper(ChainNotFoundError);function ChainNotFoundError(){_classCallCheck(this,ChainNotFoundError);return _super3.call(this,["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join("\n"),{name:"ChainNotFoundError"})}return _createClass(ChainNotFoundError)}(base_js_1.BaseError);exports.ChainNotFoundError=ChainNotFoundError;var ClientChainNotConfiguredError=function(_base_js_1$BaseError4){_inherits(ClientChainNotConfiguredError,_base_js_1$BaseError4);var _super4=_createSuper(ClientChainNotConfiguredError);function ClientChainNotConfiguredError(){_classCallCheck(this,ClientChainNotConfiguredError);return _super4.call(this,"No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}return _createClass(ClientChainNotConfiguredError)}(base_js_1.BaseError);exports.ClientChainNotConfiguredError=ClientChainNotConfiguredError;var InvalidChainIdError=function(_base_js_1$BaseError5){_inherits(InvalidChainIdError,_base_js_1$BaseError5);var _super5=_createSuper(InvalidChainIdError);function InvalidChainIdError(_ref3){var chainId=_ref3.chainId;_classCallCheck(this,InvalidChainIdError);return _super5.call(this,typeof chainId==="number"?'Chain ID "'.concat(chainId,'" is invalid.'):"Chain ID is invalid.",{name:"InvalidChainIdError"})}return _createClass(InvalidChainIdError)}(base_js_1.BaseError);exports.InvalidChainIdError=InvalidChainIdError},{"./base.js":348}],353:[function(require,module,exports){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _slicedToArray(r,e){return _arrayWithHoles(r)||_iterableToArrayLimit(r,e)||_unsupportedIterableToArray(r,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0){}}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t["return"]&&(u=t["return"](),Object(u)!==u))return}finally{if(o)throw n}}return a}}function _arrayWithHoles(r){if(Array.isArray(r))return r}function _toConsumableArray(r){return _arrayWithoutHoles(r)||_iterableToArray(r)||_unsupportedIterableToArray(r)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}function _iterableToArray(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}function _arrayWithoutHoles(r){if(Array.isArray(r))return _arrayLikeToArray(r)}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++){n[e]=r[e]}return n}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),o)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function _classCallCheck(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_setPrototypeOf(t,e)}function _createSuper(t){var r=_isNativeReflectConstruct();return function(){var e,o=_getPrototypeOf(t);if(r){var s=_getPrototypeOf(this).constructor;e=Reflect.construct(o,arguments,s)}else e=o.apply(this,arguments);return _possibleConstructorReturn(this,e)}}function _possibleConstructorReturn(t,e){if(e&&("object"==_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(_isNativeReflectConstruct=function _isNativeReflectConstruct(){return!!t})()}function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(t)}Object.defineProperty(exports,"__esModule",{value:true});exports.RawContractError=exports.CounterfactualDeploymentFailedError=exports.ContractFunctionZeroDataError=exports.ContractFunctionRevertedError=exports.ContractFunctionExecutionError=exports.CallExecutionError=void 0;var parseAccount_js_1=require("../accounts/utils/parseAccount.js");var solidity_js_1=require("../constants/solidity.js");var decodeErrorResult_js_1=require("../utils/abi/decodeErrorResult.js");var formatAbiItem_js_1=require("../utils/abi/formatAbiItem.js");var formatAbiItemWithArgs_js_1=require("../utils/abi/formatAbiItemWithArgs.js");var getAbiItem_js_1=require("../utils/abi/getAbiItem.js");var formatEther_js_1=require("../utils/unit/formatEther.js");var formatGwei_js_1=require("../utils/unit/formatGwei.js");var abi_js_1=require("./abi.js");var base_js_1=require("./base.js");var stateOverride_js_1=require("./stateOverride.js");var transaction_js_1=require("./transaction.js");var utils_js_1=require("./utils.js");var CallExecutionError=function(_base_js_1$BaseError){_inherits(CallExecutionError,_base_js_1$BaseError);var _super=_createSuper(CallExecutionError);function CallExecutionError(cause,_ref){var _chain$nativeCurrency;var _this;var account_=_ref.account,docsPath=_ref.docsPath,chain=_ref.chain,data=_ref.data,gas=_ref.gas,gasPrice=_ref.gasPrice,maxFeePerGas=_ref.maxFeePerGas,maxPriorityFeePerGas=_ref.maxPriorityFeePerGas,nonce=_ref.nonce,to=_ref.to,value=_ref.value,stateOverride=_ref.stateOverride;_classCallCheck(this,CallExecutionError);var account=account_?(0,parseAccount_js_1.parseAccount)(account_):undefined;var prettyArgs=(0,transaction_js_1.prettyPrint)({from:account===null||account===void 0?void 0:account.address,to:to,value:typeof value!=="undefined"&&"".concat((0,formatEther_js_1.formatEther)(value)," ").concat((chain===null||chain===void 0?void 0:(_chain$nativeCurrency=chain.nativeCurrency)===null||_chain$nativeCurrency===void 0?void 0:_chain$nativeCurrency.symbol)||"ETH"),data:data,gas:gas,gasPrice:typeof gasPrice!=="undefined"&&"".concat((0,formatGwei_js_1.formatGwei)(gasPrice)," gwei"),maxFeePerGas:typeof maxFeePerGas!=="undefined"&&"".concat((0,formatGwei_js_1.formatGwei)(maxFeePerGas)," gwei"),maxPriorityFeePerGas:typeof maxPriorityFeePerGas!=="undefined"&&"".concat((0,formatGwei_js_1.formatGwei)(maxPriorityFeePerGas)," gwei"),nonce:nonce});if(stateOverride){prettyArgs+="\n".concat((0,stateOverride_js_1.prettyStateOverride)(stateOverride))}_this=_super.call(this,cause.shortMessage,{cause:cause,docsPath:docsPath,metaMessages:[].concat(_toConsumableArray(cause.metaMessages?[].concat(_toConsumableArray(cause.metaMessages),[" "]):[]),["Raw Call Arguments:",prettyArgs]).filter(Boolean),name:"CallExecutionError"});Object.defineProperty(_assertThisInitialized(_this),"cause",{enumerable:true,configurable:true,writable:true,value:void 0});_this.cause=cause;return _this}return _createClass(CallExecutionError)}(base_js_1.BaseError);exports.CallExecutionError=CallExecutionError;var ContractFunctionExecutionError=function(_base_js_1$BaseError2){_inherits(ContractFunctionExecutionError,_base_js_1$BaseError2);var _super2=_createSuper(ContractFunctionExecutionError);function ContractFunctionExecutionError(cause,_ref2){var _functionName$length;var _this2;var abi=_ref2.abi,args=_ref2.args,contractAddress=_ref2.contractAddress,docsPath=_ref2.docsPath,functionName=_ref2.functionName,sender=_ref2.sender;_classCallCheck(this,ContractFunctionExecutionError);var abiItem=(0,getAbiItem_js_1.getAbiItem)({abi:abi,args:args,name:functionName});var formattedArgs=abiItem?(0,formatAbiItemWithArgs_js_1.formatAbiItemWithArgs)({abiItem:abiItem,args:args,includeFunctionName:false,includeName:false}):undefined;var functionWithParams=abiItem?(0,formatAbiItem_js_1.formatAbiItem)(abiItem,{includeName:true}):undefined;var prettyArgs=(0,transaction_js_1.prettyPrint)({address:contractAddress&&(0,utils_js_1.getContractAddress)(contractAddress),function:functionWithParams,args:formattedArgs&&formattedArgs!=="()"&&"".concat(_toConsumableArray(Array((_functionName$length=functionName===null||functionName===void 0?void 0:functionName.length)!==null&&_functionName$length!==void 0?_functionName$length:0).keys()).map(function(){return" "}).join("")).concat(formattedArgs),sender:sender});_this2=_super2.call(this,cause.shortMessage||'An unknown error occurred while executing the contract function "'.concat(functionName,'".'),{cause:cause,docsPath:docsPath,metaMessages:[].concat(_toConsumableArray(cause.metaMessages?[].concat(_toConsumableArray(cause.metaMessages),[" "]):[]),[prettyArgs&&"Contract Call:",prettyArgs]).filter(Boolean),name:"ContractFunctionExecutionError"});Object.defineProperty(_assertThisInitialized(_this2),"abi",{enumerable:true,configurable:true,writable:true,value:void 0});Object.defineProperty(_assertThisInitialized(_this2),"args",{enumerable:true,configurable:true,writable:true,value:void 0});Object.defineProperty(_assertThisInitialized(_this2),"cause",{enumerable:true,configurable:true,writable:true,value:void 0});Object.defineProperty(_assertThisInitialized(_this2),"contractAddress",{enumerable:true,configurable:true,writable:true,value:void 0});Object.defineProperty(_assertThisInitialized(_this2),"formattedArgs",{enumerable:true,configurable:true,writable:true,value:void 0});Object.defineProperty(_assertThisInitialized(_this2),"functionName",{enumerable:true,configurable:true,writable:true,value:void 0});Object.defineProperty(_assertThisInitialized(_this2),"sender",{enumerable:true,configurable:true,writable:true,value:void 0});_this2.abi=abi;_this2.args=args;_this2.cause=cause;_this2.contractAddress=contractAddress;_this2.functionName=functionName;_this2.sender=sender;return _this2}return _createClass(ContractFunctionExecutionError)}(base_js_1.BaseError);exports.ContractFunctionExecutionError=ContractFunctionExecutionError;var ContractFunctionRevertedError=function(_base_js_1$BaseError3){_inherits(ContractFunctionRevertedError,_base_js_1$BaseError3);var _super3=_createSuper(ContractFunctionRevertedError);function ContractFunctionRevertedError(_ref3){var _this3;var abi=_ref3.abi,data=_ref3.data,functionName=_ref3.functionName,message=_ref3.message;_classCallCheck(this,ContractFunctionRevertedError);var cause;var decodedData=undefined;var metaMessages;var reason;if(data&&data!=="0x"){try{decodedData=(0,decodeErrorResult_js_1.decodeErrorResult)({abi:abi,data:data});var _decodedData=decodedData,abiItem=_decodedData.abiItem,errorName=_decodedData.errorName,errorArgs=_decodedData.args;if(errorName==="Error"){reason=errorArgs[0]}else if(errorName==="Panic"){var _errorArgs=_slicedToArray(errorArgs,1),firstArg=_errorArgs[0];reason=solidity_js_1.panicReasons[firstArg]}else{var _errorName$length;var errorWithParams=abiItem?(0,formatAbiItem_js_1.formatAbiItem)(abiItem,{includeName:true}):undefined;var formattedArgs=abiItem&&errorArgs?(0,formatAbiItemWithArgs_js_1.formatAbiItemWithArgs)({abiItem:abiItem,args:errorArgs,includeFunctionName:false,includeName:false}):undefined;metaMessages=[errorWithParams?"Error: ".concat(errorWithParams):"",formattedArgs&&formattedArgs!=="()"?"       ".concat(_toConsumableArray(Array((_errorName$length=errorName===null||errorName===void 0?void 0:errorName.length)!==null&&_errorName$length!==void 0?_errorName$length:0).keys()).map(function(){return" "}).join("")).concat(formattedArgs):""]}}catch(err){cause=err}}else if(message)reason=message;var signature;if(cause instanceof abi_js_1.AbiErrorSignatureNotFoundError){signature=cause.signature;metaMessages=['Unable to decode signature "'.concat(signature,'" as it was not found on the provided ABI.'),"Make sure you are using the correct ABI and that the error exists on it.","You can look up the decoded signature here: https://openchain.xyz/signatures?query=".concat(signature,".")]}_this3=_super3.call(this,reason&&reason!=="execution reverted"||signature?['The contract function "'.concat(functionName,'" reverted with the following ').concat(signature?"signature":"reason",":"),reason||signature].join("\n"):'The contract function "'.concat(functionName,'" reverted.'),{cause:cause,metaMessages:metaMessages,name:"ContractFunctionRevertedError"});Object.defineProperty(_assertThisInitialized(_this3),"data",{enumerable:true,configurable:true,writable:true,value:void 0});Object.defineProperty(_assertThisInitialized(_this3),"raw",{enumerable:true,configurable:true,writable:true,value:void 0});Object.defineProperty(_assertThisInitialized(_this3),"reason",{enumerable:true,configurable:true,writable:true,value:void 0});Object.defineProperty(_assertThisInitialized(_this3),"signature",{enumerable:true,configurable:true,writable:true,value:void 0});_this3.data=decodedData;_this3.raw=data;_this3.reason=reason;_this3.signature=signature;return _this3}return _createClass(ContractFunctionRevertedError)}(base_js_1.BaseError);exports.ContractFunctionRevertedError=ContractFunctionRevertedError;var ContractFunctionZeroDataError=function(_base_js_1$BaseError4){_inherits(ContractFunctionZeroDataError,_base_js_1$BaseError4);var _super4=_createSuper(ContractFunctionZeroDataError);function ContractFunctionZeroDataError(_ref4){var functionName=_ref4.functionName;_classCallCheck(this,ContractFunctionZeroDataError);return _super4.call(this,'The contract function "'.concat(functionName,'" returned no data ("0x").'),{metaMessages:["This could be due to any of the following:",'  - The contract does not have the function "'.concat(functionName,'",'),"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}return _createClass(ContractFunctionZeroDataError)}(base_js_1.BaseError);exports.ContractFunctionZeroDataError=ContractFunctionZeroDataError;var CounterfactualDeploymentFailedError=function(_base_js_1$BaseError5){_inherits(CounterfactualDeploymentFailedError,_base_js_1$BaseError5);var _super5=_createSuper(CounterfactualDeploymentFailedError);function CounterfactualDeploymentFailedError(_ref5){var factory=_ref5.factory;_classCallCheck(this,CounterfactualDeploymentFailedError);return _super5.call(this,"Deployment for counterfactual contract call failed".concat(factory?' for factory "'.concat(factory,'".'):""),{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}return _createClass(CounterfactualDeploymentFailedError)}(base_js_1.BaseError);exports.CounterfactualDeploymentFailedError=CounterfactualDeploymentFailedError;var RawContractError=function(_base_js_1$BaseError6){_inherits(RawContractError,_base_js_1$BaseError6);var _super6=_createSuper(RawContractError);function RawContractError(_ref6){var _this4;var data=_ref6.data,message=_ref6.message;_classCallCheck(this,RawContractError);_this4=_super6.call(this,message||"",{name:"RawContractError"});Object.defineProperty(_assertThisInitialized(_this4),"code",{enumerable:true,configurable:true,writable:true,value:3});Object.defineProperty(_assertThisInitialized(_this4),"data",{enumerable:true,configurable:true,writable:true,value:void 0});_this4.data=data;return _this4}return _createClass(RawContractError)}(base_js_1.BaseError);exports.RawContractError=RawContractError},{"../accounts/utils/parseAccount.js":216,"../constants/solidity.js":342,"../utils/abi/decodeErrorResult.js":376,"../utils/abi/formatAbiItem.js":387,"../utils/abi/formatAbiItemWithArgs.js":388,"../utils/abi/getAbiItem.js":389,"../utils/unit/formatEther.js":519,"../utils/unit/formatGwei.js":520,"./abi.js":345,"./base.js":348,"./stateOverride.js":365,"./transaction.js":366,"./utils.js":370}],354:[function(require,module,exports){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),o)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function _classCallCheck(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_setPrototypeOf(t,e)}function _createSuper(t){var r=_isNativeReflectConstruct();return function(){var e,o=_getPrototypeOf(t);if(r){var s=_getPrototypeOf(this).constructor;e=Reflect.construct(o,arguments,s)}else e=o.apply(this,arguments);return _possibleConstructorReturn(this,e)}}function _possibleConstructorReturn(t,e){if(e&&("object"==_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(_isNativeReflectConstruct=function _isNativeReflectConstruct(){return!!t})()}function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(t)}Object.defineProperty(exports,"__esModule",{value:true});exports.RecursiveReadLimitExceededError=exports.PositionOutOfBoundsError=exports.NegativeOffsetError=void 0;var base_js_1=require("./base.js");var NegativeOffsetError=function(_base_js_1$BaseError){_inherits(NegativeOffsetError,_base_js_1$BaseError);var _super=_createSuper(NegativeOffsetError);function NegativeOffsetError(_ref){var offset=_ref.offset;_classCallCheck(this,NegativeOffsetError);return _super.call(this,"Offset `".concat(offset,"` cannot be negative."),{name:"NegativeOffsetError"})}return _createClass(NegativeOffsetError)}(base_js_1.BaseError);exports.NegativeOffsetError=NegativeOffsetError;var PositionOutOfBoundsError=function(_base_js_1$BaseError2){_inherits(PositionOutOfBoundsError,_base_js_1$BaseError2);var _super2=_createSuper(PositionOutOfBoundsError);function PositionOutOfBoundsError(_ref2){var length=_ref2.length,position=_ref2.position;_classCallCheck(this,PositionOutOfBoundsError);return _super2.call(this,"Position `".concat(position,"` is out of bounds (`0 < position < ").concat(length,"`)."),{name:"PositionOutOfBoundsError"})}return _createClass(PositionOutOfBoundsError)}(base_js_1.BaseError);exports.PositionOutOfBoundsError=PositionOutOfBoundsError;var RecursiveReadLimitExceededError=function(_base_js_1$BaseError3){_inherits(RecursiveReadLimitExceededError,_base_js_1$BaseError3);var _super3=_createSuper(RecursiveReadLimitExceededError);function RecursiveReadLimitExceededError(_ref3){var count=_ref3.count,limit=_ref3.limit;_classCallCheck(this,RecursiveReadLimitExceededError);return _super3.call(this,"Recursive read limit of `".concat(limit,"` exceeded (recursive read count: `").concat(count,"`)."),{name:"RecursiveReadLimitExceededError"})}return _createClass(RecursiveReadLimitExceededError)}(base_js_1.BaseError);exports.RecursiveReadLimitExceededError=RecursiveReadLimitExceededError},{"./base.js":348}],355:[function(require,module,exports){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),o)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function _classCallCheck(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_setPrototypeOf(t,e)}function _createSuper(t){var r=_isNativeReflectConstruct();return function(){var e,o=_getPrototypeOf(t);if(r){var s=_getPrototypeOf(this).constructor;e=Reflect.construct(o,arguments,s)}else e=o.apply(this,arguments);return _possibleConstructorReturn(this,e)}}function _possibleConstructorReturn(t,e){if(e&&("object"==_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(_isNativeReflectConstruct=function _isNativeReflectConstruct(){return!!t})()}function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(t)}Object.defineProperty(exports,"__esModule",{value:true});exports.InvalidBytesLengthError=exports.SizeExceedsPaddingSizeError=exports.SliceOffsetOutOfBoundsError=void 0;var base_js_1=require("./base.js");var SliceOffsetOutOfBoundsError=function(_base_js_1$BaseError){_inherits(SliceOffsetOutOfBoundsError,_base_js_1$BaseError);var _super=_createSuper(SliceOffsetOutOfBoundsError);function SliceOffsetOutOfBoundsError(_ref){var offset=_ref.offset,position=_ref.position,size=_ref.size;_classCallCheck(this,SliceOffsetOutOfBoundsError);return _super.call(this,"Slice ".concat(position==="start"?"starting":"ending",' at offset "').concat(offset,'" is out-of-bounds (size: ').concat(size,")."),{name:"SliceOffsetOutOfBoundsError"})}return _createClass(SliceOffsetOutOfBoundsError)}(base_js_1.BaseError);exports.SliceOffsetOutOfBoundsError=SliceOffsetOutOfBoundsError;var SizeExceedsPaddingSizeError=function(_base_js_1$BaseError2){_inherits(SizeExceedsPaddingSizeError,_base_js_1$BaseError2);var _super2=_createSuper(SizeExceedsPaddingSizeError);function SizeExceedsPaddingSizeError(_ref2){var size=_ref2.size,targetSize=_ref2.targetSize,type=_ref2.type;_classCallCheck(this,SizeExceedsPaddingSizeError);return _super2.call(this,"".concat(type.charAt(0).toUpperCase()).concat(type.slice(1).toLowerCase()," size (").concat(size,") exceeds padding size (").concat(targetSize,")."),{name:"SizeExceedsPaddingSizeError"})}return _createClass(SizeExceedsPaddingSizeError)}(base_js_1.BaseError);exports.SizeExceedsPaddingSizeError=SizeExceedsPaddingSizeError;var InvalidBytesLengthError=function(_base_js_1$BaseError3){_inherits(InvalidBytesLengthError,_base_js_1$BaseError3);var _super3=_createSuper(InvalidBytesLengthError);function InvalidBytesLengthError(_ref3){var size=_ref3.size,targetSize=_ref3.targetSize,type=_ref3.type;_classCallCheck(this,InvalidBytesLengthError);return _super3.call(this,"".concat(type.charAt(0).toUpperCase()).concat(type.slice(1).toLowerCase()," is expected to be ").concat(targetSize," ").concat(type," long, but is ").concat(size," ").concat(type," long."),{name:"InvalidBytesLengthError"})}return _createClass(InvalidBytesLengthError)}(base_js_1.BaseError);exports.InvalidBytesLengthError=InvalidBytesLengthError},{"./base.js":348}],356:[function(require,module,exports){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),o)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function _classCallCheck(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_setPrototypeOf(t,e)}function _createSuper(t){var r=_isNativeReflectConstruct();return function(){var e,o=_getPrototypeOf(t);if(r){var s=_getPrototypeOf(this).constructor;e=Reflect.construct(o,arguments,s)}else e=o.apply(this,arguments);return _possibleConstructorReturn(this,e)}}function _possibleConstructorReturn(t,e){if(e&&("object"==_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(_isNativeReflectConstruct=function _isNativeReflectConstruct(){return!!t})()}function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(t)}Object.defineProperty(exports,"__esModule",{value:true});exports.Eip712DomainNotFoundError=void 0;var base_js_1=require("./base.js");var Eip712DomainNotFoundError=function(_base_js_1$BaseError){_inherits(Eip712DomainNotFoundError,_base_js_1$BaseError);var _super=_createSuper(Eip712DomainNotFoundError);function Eip712DomainNotFoundError(_ref){var address=_ref.address;_classCallCheck(this,Eip712DomainNotFoundError);return _super.call(this,'No EIP-712 domain found on contract "'.concat(address,'".'),{metaMessages:["Ensure that:",'- The contract is deployed at the address "'.concat(address,'".'),"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}return _createClass(Eip712DomainNotFoundError)}(base_js_1.BaseError);exports.Eip712DomainNotFoundError=Eip712DomainNotFoundError},{"./base.js":348}],357:[function(require,module,exports){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),o)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function _classCallCheck(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_setPrototypeOf(t,e)}function _createSuper(t){var r=_isNativeReflectConstruct();return function(){var e,o=_getPrototypeOf(t);if(r){var s=_getPrototypeOf(this).constructor;e=Reflect.construct(o,arguments,s)}else e=o.apply(this,arguments);return _possibleConstructorReturn(this,e)}}function _possibleConstructorReturn(t,e){if(e&&("object"==_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(_isNativeReflectConstruct=function _isNativeReflectConstruct(){return!!t})()}function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(t)}Object.defineProperty(exports,"__esModule",{value:true});exports.SizeOverflowError=exports.InvalidHexValueError=exports.InvalidHexBooleanError=exports.InvalidBytesBooleanError=exports.IntegerOutOfRangeError=void 0;var base_js_1=require("./base.js");var IntegerOutOfRangeError=function(_base_js_1$BaseError){_inherits(IntegerOutOfRangeError,_base_js_1$BaseError);var _super=_createSuper(IntegerOutOfRangeError);function IntegerOutOfRangeError(_ref){var max=_ref.max,min=_ref.min,signed=_ref.signed,size=_ref.size,value=_ref.value;_classCallCheck(this,IntegerOutOfRangeError);return _super.call(this,'Number "'.concat(value,'" is not in safe ').concat(size?"".concat(size*8,"-bit ").concat(signed?"signed":"unsigned"," "):"","integer range ").concat(max?"(".concat(min," to ").concat(max,")"):"(above ".concat(min,")")),{name:"IntegerOutOfRangeError"})}return _createClass(IntegerOutOfRangeError)}(base_js_1.BaseError);exports.IntegerOutOfRangeError=IntegerOutOfRangeError;var InvalidBytesBooleanError=function(_base_js_1$BaseError2){_inherits(InvalidBytesBooleanError,_base_js_1$BaseError2);var _super2=_createSuper(InvalidBytesBooleanError);function InvalidBytesBooleanError(bytes){_classCallCheck(this,InvalidBytesBooleanError);return _super2.call(this,'Bytes value "'.concat(bytes,'" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.'),{name:"InvalidBytesBooleanError"})}return _createClass(InvalidBytesBooleanError)}(base_js_1.BaseError);exports.InvalidBytesBooleanError=InvalidBytesBooleanError;var InvalidHexBooleanError=function(_base_js_1$BaseError3){_inherits(InvalidHexBooleanError,_base_js_1$BaseError3);var _super3=_createSuper(InvalidHexBooleanError);function InvalidHexBooleanError(hex){_classCallCheck(this,InvalidHexBooleanError);return _super3.call(this,'Hex value "'.concat(hex,'" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).'),{name:"InvalidHexBooleanError"})}return _createClass(InvalidHexBooleanError)}(base_js_1.BaseError);exports.InvalidHexBooleanError=InvalidHexBooleanError;var InvalidHexValueError=function(_base_js_1$BaseError4){_inherits(InvalidHexValueError,_base_js_1$BaseError4);var _super4=_createSuper(InvalidHexValueError);function InvalidHexValueError(value){_classCallCheck(this,InvalidHexValueError);return _super4.call(this,'Hex value "'.concat(value,'" is an odd length (').concat(value.length,"). It must be an even length."),{name:"InvalidHexValueError"})}return _createClass(InvalidHexValueError)}(base_js_1.BaseError);exports.InvalidHexValueError=InvalidHexValueError;var SizeOverflowError=function(_base_js_1$BaseError5){_inherits(SizeOverflowError,_base_js_1$BaseError5);var _super5=_createSuper(SizeOverflowError);function SizeOverflowError(_ref2){var givenSize=_ref2.givenSize,maxSize=_ref2.maxSize;_classCallCheck(this,SizeOverflowError);return _super5.call(this,"Size cannot exceed ".concat(maxSize," bytes. Given size: ").concat(givenSize," bytes."),{name:"SizeOverflowError"})}return _createClass(SizeOverflowError)}(base_js_1.BaseError);exports.SizeOverflowError=SizeOverflowError},{"./base.js":348}],358:[function(require,module,exports){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),o)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function _classCallCheck(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_setPrototypeOf(t,e)}function _createSuper(t){var r=_isNativeReflectConstruct();return function(){var e,o=_getPrototypeOf(t);if(r){var s=_getPrototypeOf(this).constructor;e=Reflect.construct(o,arguments,s)}else e=o.apply(this,arguments);return _possibleConstructorReturn(this,e)}}function _possibleConstructorReturn(t,e){if(e&&("object"==_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(_isNativeReflectConstruct=function _isNativeReflectConstruct(){return!!t})()}function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(t)}Object.defineProperty(exports,"__esModule",{value:true});exports.EnsAvatarUnsupportedNamespaceError=exports.EnsAvatarUriResolutionError=exports.EnsAvatarInvalidNftUriError=exports.EnsAvatarInvalidMetadataError=void 0;var base_js_1=require("./base.js");var EnsAvatarInvalidMetadataError=function(_base_js_1$BaseError){_inherits(EnsAvatarInvalidMetadataError,_base_js_1$BaseError);var _super=_createSuper(EnsAvatarInvalidMetadataError);function EnsAvatarInvalidMetadataError(_ref){var data=_ref.data;_classCallCheck(this,EnsAvatarInvalidMetadataError);return _super.call(this,"Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","","Provided data: ".concat(JSON.stringify(data))],name:"EnsAvatarInvalidMetadataError"})}return _createClass(EnsAvatarInvalidMetadataError)}(base_js_1.BaseError);exports.EnsAvatarInvalidMetadataError=EnsAvatarInvalidMetadataError;var EnsAvatarInvalidNftUriError=function(_base_js_1$BaseError2){_inherits(EnsAvatarInvalidNftUriError,_base_js_1$BaseError2);var _super2=_createSuper(EnsAvatarInvalidNftUriError);function EnsAvatarInvalidNftUriError(_ref2){var reason=_ref2.reason;_classCallCheck(this,EnsAvatarInvalidNftUriError);return _super2.call(this,"ENS NFT avatar URI is invalid. ".concat(reason),{name:"EnsAvatarInvalidNftUriError"})}return _createClass(EnsAvatarInvalidNftUriError)}(base_js_1.BaseError);exports.EnsAvatarInvalidNftUriError=EnsAvatarInvalidNftUriError;var EnsAvatarUriResolutionError=function(_base_js_1$BaseError3){_inherits(EnsAvatarUriResolutionError,_base_js_1$BaseError3);var _super3=_createSuper(EnsAvatarUriResolutionError);function EnsAvatarUriResolutionError(_ref3){var uri=_ref3.uri;_classCallCheck(this,EnsAvatarUriResolutionError);return _super3.call(this,'Unable to resolve ENS avatar URI "'.concat(uri,'". The URI may be malformed, invalid, or does not respond with a valid image.'),{name:"EnsAvatarUriResolutionError"})}return _createClass(EnsAvatarUriResolutionError)}(base_js_1.BaseError);exports.EnsAvatarUriResolutionError=EnsAvatarUriResolutionError;var EnsAvatarUnsupportedNamespaceError=function(_base_js_1$BaseError4){_inherits(EnsAvatarUnsupportedNamespaceError,_base_js_1$BaseError4);var _super4=_createSuper(EnsAvatarUnsupportedNamespaceError);function EnsAvatarUnsupportedNamespaceError(_ref4){var namespace=_ref4.namespace;_classCallCheck(this,EnsAvatarUnsupportedNamespaceError);return _super4.call(this,'ENS NFT avatar namespace "'.concat(namespace,'" is not supported. Must be "erc721" or "erc1155".'),{name:"EnsAvatarUnsupportedNamespaceError"})}return _createClass(EnsAvatarUnsupportedNamespaceError)}(base_js_1.BaseError);exports.EnsAvatarUnsupportedNamespaceError=EnsAvatarUnsupportedNamespaceError},{"./base.js":348}],359:[function(require,module,exports){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _toConsumableArray(r){return _arrayWithoutHoles(r)||_iterableToArray(r)||_unsupportedIterableToArray(r)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}function _iterableToArray(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}function _arrayWithoutHoles(r){if(Array.isArray(r))return _arrayLikeToArray(r)}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++){n[e]=r[e]}return n}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),o)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function _classCallCheck(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_setPrototypeOf(t,e)}function _createSuper(t){var r=_isNativeReflectConstruct();return function(){var e,o=_getPrototypeOf(t);if(r){var s=_getPrototypeOf(this).constructor;e=Reflect.construct(o,arguments,s)}else e=o.apply(this,arguments);return _possibleConstructorReturn(this,e)}}function _possibleConstructorReturn(t,e){if(e&&("object"==_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(_isNativeReflectConstruct=function _isNativeReflectConstruct(){return!!t})()}function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(t)}Object.defineProperty(exports,"__esModule",{value:true});exports.EstimateGasExecutionError=void 0;var formatEther_js_1=require("../utils/unit/formatEther.js");var formatGwei_js_1=require("../utils/unit/formatGwei.js");var base_js_1=require("./base.js");var transaction_js_1=require("./transaction.js");var EstimateGasExecutionError=function(_base_js_1$BaseError){_inherits(EstimateGasExecutionError,_base_js_1$BaseError);var _super=_createSuper(EstimateGasExecutionError);function EstimateGasExecutionError(cause,_ref){var _chain$nativeCurrency;var _this;var account=_ref.account,docsPath=_ref.docsPath,chain=_ref.chain,data=_ref.data,gas=_ref.gas,gasPrice=_ref.gasPrice,maxFeePerGas=_ref.maxFeePerGas,maxPriorityFeePerGas=_ref.maxPriorityFeePerGas,nonce=_ref.nonce,to=_ref.to,value=_ref.value;_classCallCheck(this,EstimateGasExecutionError);var prettyArgs=(0,transaction_js_1.prettyPrint)({from:account===null||account===void 0?void 0:account.address,to:to,value:typeof value!=="undefined"&&"".concat((0,formatEther_js_1.formatEther)(value)," ").concat((chain===null||chain===void 0?void 0:(_chain$nativeCurrency=chain.nativeCurrency)===null||_chain$nativeCurrency===void 0?void 0:_chain$nativeCurrency.symbol)||"ETH"),data:data,gas:gas,gasPrice:typeof gasPrice!=="undefined"&&"".concat((0,formatGwei_js_1.formatGwei)(gasPrice)," gwei"),maxFeePerGas:typeof maxFeePerGas!=="undefined"&&"".concat((0,formatGwei_js_1.formatGwei)(maxFeePerGas)," gwei"),maxPriorityFeePerGas:typeof maxPriorityFeePerGas!=="undefined"&&"".concat((0,formatGwei_js_1.formatGwei)(maxPriorityFeePerGas)," gwei"),nonce:nonce});_this=_super.call(this,cause.shortMessage,{cause:cause,docsPath:docsPath,metaMessages:[].concat(_toConsumableArray(cause.metaMessages?[].concat(_toConsumableArray(cause.metaMessages),[" "]):[]),["Estimate Gas Arguments:",prettyArgs]).filter(Boolean),name:"EstimateGasExecutionError"});Object.defineProperty(_assertThisInitialized(_this),"cause",{enumerable:true,configurable:true,writable:true,value:void 0});_this.cause=cause;return _this}return _createClass(EstimateGasExecutionError)}(base_js_1.BaseError);exports.EstimateGasExecutionError=EstimateGasExecutionError},{"../utils/unit/formatEther.js":519,"../utils/unit/formatGwei.js":520,"./base.js":348,"./transaction.js":366}],360:[function(require,module,exports){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),o)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function _classCallCheck(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_setPrototypeOf(t,e)}function _createSuper(t){var r=_isNativeReflectConstruct();return function(){var e,o=_getPrototypeOf(t);if(r){var s=_getPrototypeOf(this).constructor;e=Reflect.construct(o,arguments,s)}else e=o.apply(this,arguments);return _possibleConstructorReturn(this,e)}}function _possibleConstructorReturn(t,e){if(e&&("object"==_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(_isNativeReflectConstruct=function _isNativeReflectConstruct(){return!!t})()}function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(t)}Object.defineProperty(exports,"__esModule",{value:true});exports.MaxFeePerGasTooLowError=exports.Eip1559FeesNotSupportedError=exports.BaseFeeScalarError=void 0;var formatGwei_js_1=require("../utils/unit/formatGwei.js");var base_js_1=require("./base.js");var BaseFeeScalarError=function(_base_js_1$BaseError){_inherits(BaseFeeScalarError,_base_js_1$BaseError);var _super=_createSuper(BaseFeeScalarError);function BaseFeeScalarError(){_classCallCheck(this,BaseFeeScalarError);return _super.call(this,"`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}return _createClass(BaseFeeScalarError)}(base_js_1.BaseError);exports.BaseFeeScalarError=BaseFeeScalarError;var Eip1559FeesNotSupportedError=function(_base_js_1$BaseError2){_inherits(Eip1559FeesNotSupportedError,_base_js_1$BaseError2);var _super2=_createSuper(Eip1559FeesNotSupportedError);function Eip1559FeesNotSupportedError(){_classCallCheck(this,Eip1559FeesNotSupportedError);return _super2.call(this,"Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}return _createClass(Eip1559FeesNotSupportedError)}(base_js_1.BaseError);exports.Eip1559FeesNotSupportedError=Eip1559FeesNotSupportedError;var MaxFeePerGasTooLowError=function(_base_js_1$BaseError3){_inherits(MaxFeePerGasTooLowError,_base_js_1$BaseError3);var _super3=_createSuper(MaxFeePerGasTooLowError);function MaxFeePerGasTooLowError(_ref){var maxPriorityFeePerGas=_ref.maxPriorityFeePerGas;_classCallCheck(this,MaxFeePerGasTooLowError);return _super3.call(this,"`maxFeePerGas` cannot be less than the `maxPriorityFeePerGas` (".concat((0,formatGwei_js_1.formatGwei)(maxPriorityFeePerGas)," gwei)."),{name:"MaxFeePerGasTooLowError"})}return _createClass(MaxFeePerGasTooLowError)}(base_js_1.BaseError);exports.MaxFeePerGasTooLowError=MaxFeePerGasTooLowError},{"../utils/unit/formatGwei.js":520,"./base.js":348}],361:[function(require,module,exports){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),o)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function _classCallCheck(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_setPrototypeOf(t,e)}function _createSuper(t){var r=_isNativeReflectConstruct();return function(){var e,o=_getPrototypeOf(t);if(r){var s=_getPrototypeOf(this).constructor;e=Reflect.construct(o,arguments,s)}else e=o.apply(this,arguments);return _possibleConstructorReturn(this,e)}}function _possibleConstructorReturn(t,e){if(e&&("object"==_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(_isNativeReflectConstruct=function _isNativeReflectConstruct(){return!!t})()}function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(t)}Object.defineProperty(exports,"__esModule",{value:true});exports.FilterTypeNotSupportedError=void 0;var base_js_1=require("./base.js");var FilterTypeNotSupportedError=function(_base_js_1$BaseError){_inherits(FilterTypeNotSupportedError,_base_js_1$BaseError);var _super=_createSuper(FilterTypeNotSupportedError);function FilterTypeNotSupportedError(type){_classCallCheck(this,FilterTypeNotSupportedError);return _super.call(this,'Filter type "'.concat(type,'" is not supported.'),{name:"FilterTypeNotSupportedError"})}return _createClass(FilterTypeNotSupportedError)}(base_js_1.BaseError);exports.FilterTypeNotSupportedError=FilterTypeNotSupportedError},{"./base.js":348}],362:[function(require,module,exports){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),o)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function _classCallCheck(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_setPrototypeOf(t,e)}function _createSuper(t){var r=_isNativeReflectConstruct();return function(){var e,o=_getPrototypeOf(t);if(r){var s=_getPrototypeOf(this).constructor;e=Reflect.construct(o,arguments,s)}else e=o.apply(this,arguments);return _possibleConstructorReturn(this,e)}}function _possibleConstructorReturn(t,e){if(e&&("object"==_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(_isNativeReflectConstruct=function _isNativeReflectConstruct(){return!!t})()}function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(t)}Object.defineProperty(exports,"__esModule",{value:true});exports.UnknownNodeError=exports.TipAboveFeeCapError=exports.TransactionTypeNotSupportedError=exports.IntrinsicGasTooLowError=exports.IntrinsicGasTooHighError=exports.InsufficientFundsError=exports.NonceMaxValueError=exports.NonceTooLowError=exports.NonceTooHighError=exports.FeeCapTooLowError=exports.FeeCapTooHighError=exports.ExecutionRevertedError=void 0;var formatGwei_js_1=require("../utils/unit/formatGwei.js");var base_js_1=require("./base.js");var ExecutionRevertedError=function(_base_js_1$BaseError){_inherits(ExecutionRevertedError,_base_js_1$BaseError);var _super=_createSuper(ExecutionRevertedError);function ExecutionRevertedError(){var _message$replace;var _ref=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},cause=_ref.cause,message=_ref.message;_classCallCheck(this,ExecutionRevertedError);var reason=message===null||message===void 0?void 0:(_message$replace=message.replace("execution reverted: ",""))===null||_message$replace===void 0?void 0:_message$replace.replace("execution reverted","");return _super.call(this,"Execution reverted ".concat(reason?"with reason: ".concat(reason):"for an unknown reason","."),{cause:cause,name:"ExecutionRevertedError"})}return _createClass(ExecutionRevertedError)}(base_js_1.BaseError);exports.ExecutionRevertedError=ExecutionRevertedError;Object.defineProperty(ExecutionRevertedError,"code",{enumerable:true,configurable:true,writable:true,value:3});Object.defineProperty(ExecutionRevertedError,"nodeMessage",{enumerable:true,configurable:true,writable:true,value:/execution reverted/});var FeeCapTooHighError=function(_base_js_1$BaseError2){_inherits(FeeCapTooHighError,_base_js_1$BaseError2);var _super2=_createSuper(FeeCapTooHighError);function FeeCapTooHighError(){var _ref2=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},cause=_ref2.cause,maxFeePerGas=_ref2.maxFeePerGas;_classCallCheck(this,FeeCapTooHighError);return _super2.call(this,"The fee cap (`maxFeePerGas`".concat(maxFeePerGas?" = ".concat((0,formatGwei_js_1.formatGwei)(maxFeePerGas)," gwei"):"",") cannot be higher than the maximum allowed value (2^256-1)."),{cause:cause,name:"FeeCapTooHighError"})}return _createClass(FeeCapTooHighError)}(base_js_1.BaseError);exports.FeeCapTooHighError=FeeCapTooHighError;Object.defineProperty(FeeCapTooHighError,"nodeMessage",{enumerable:true,configurable:true,writable:true,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});var FeeCapTooLowError=function(_base_js_1$BaseError3){_inherits(FeeCapTooLowError,_base_js_1$BaseError3);var _super3=_createSuper(FeeCapTooLowError);function FeeCapTooLowError(){var _ref3=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},cause=_ref3.cause,maxFeePerGas=_ref3.maxFeePerGas;_classCallCheck(this,FeeCapTooLowError);return _super3.call(this,"The fee cap (`maxFeePerGas`".concat(maxFeePerGas?" = ".concat((0,formatGwei_js_1.formatGwei)(maxFeePerGas)):""," gwei) cannot be lower than the block base fee."),{cause:cause,name:"FeeCapTooLowError"})}return _createClass(FeeCapTooLowError)}(base_js_1.BaseError);exports.FeeCapTooLowError=FeeCapTooLowError;Object.defineProperty(FeeCapTooLowError,"nodeMessage",{enumerable:true,configurable:true,writable:true,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});var NonceTooHighError=function(_base_js_1$BaseError4){_inherits(NonceTooHighError,_base_js_1$BaseError4);var _super4=_createSuper(NonceTooHighError);function NonceTooHighError(){var _ref4=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},cause=_ref4.cause,nonce=_ref4.nonce;_classCallCheck(this,NonceTooHighError);return _super4.call(this,"Nonce provided for the transaction ".concat(nonce?"(".concat(nonce,") "):"","is higher than the next one expected."),{cause:cause,name:"NonceTooHighError"})}return _createClass(NonceTooHighError)}(base_js_1.BaseError);exports.NonceTooHighError=NonceTooHighError;Object.defineProperty(NonceTooHighError,"nodeMessage",{enumerable:true,configurable:true,writable:true,value:/nonce too high/});var NonceTooLowError=function(_base_js_1$BaseError5){_inherits(NonceTooLowError,_base_js_1$BaseError5);var _super5=_createSuper(NonceTooLowError);function NonceTooLowError(){var _ref5=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},cause=_ref5.cause,nonce=_ref5.nonce;_classCallCheck(this,NonceTooLowError);return _super5.call(this,["Nonce provided for the transaction ".concat(nonce?"(".concat(nonce,") "):"","is lower than the current nonce of the account."),"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join("\n"),{cause:cause,name:"NonceTooLowError"})}return _createClass(NonceTooLowError)}(base_js_1.BaseError);exports.NonceTooLowError=NonceTooLowError;Object.defineProperty(NonceTooLowError,"nodeMessage",{enumerable:true,configurable:true,writable:true,value:/nonce too low|transaction already imported|already known/});var NonceMaxValueError=function(_base_js_1$BaseError6){_inherits(NonceMaxValueError,_base_js_1$BaseError6);var _super6=_createSuper(NonceMaxValueError);function NonceMaxValueError(){var _ref6=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},cause=_ref6.cause,nonce=_ref6.nonce;_classCallCheck(this,NonceMaxValueError);return _super6.call(this,"Nonce provided for the transaction ".concat(nonce?"(".concat(nonce,") "):"","exceeds the maximum allowed nonce."),{cause:cause,name:"NonceMaxValueError"})}return _createClass(NonceMaxValueError)}(base_js_1.BaseError);exports.NonceMaxValueError=NonceMaxValueError;Object.defineProperty(NonceMaxValueError,"nodeMessage",{enumerable:true,configurable:true,writable:true,value:/nonce has max value/});var InsufficientFundsError=function(_base_js_1$BaseError7){_inherits(InsufficientFundsError,_base_js_1$BaseError7);var _super7=_createSuper(InsufficientFundsError);function InsufficientFundsError(){var _ref7=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},cause=_ref7.cause;_classCallCheck(this,InsufficientFundsError);return _super7.call(this,["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join("\n"),{cause:cause,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}return _createClass(InsufficientFundsError)}(base_js_1.BaseError);exports.InsufficientFundsError=InsufficientFundsError;Object.defineProperty(InsufficientFundsError,"nodeMessage",{enumerable:true,configurable:true,writable:true,value:/insufficient funds|exceeds transaction sender account balance/});var IntrinsicGasTooHighError=function(_base_js_1$BaseError8){_inherits(IntrinsicGasTooHighError,_base_js_1$BaseError8);var _super8=_createSuper(IntrinsicGasTooHighError);function IntrinsicGasTooHighError(){var _ref8=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},cause=_ref8.cause,gas=_ref8.gas;_classCallCheck(this,IntrinsicGasTooHighError);return _super8.call(this,"The amount of gas ".concat(gas?"(".concat(gas,") "):"","provided for the transaction exceeds the limit allowed for the block."),{cause:cause,name:"IntrinsicGasTooHighError"})}return _createClass(IntrinsicGasTooHighError)}(base_js_1.BaseError);exports.IntrinsicGasTooHighError=IntrinsicGasTooHighError;Object.defineProperty(IntrinsicGasTooHighError,"nodeMessage",{enumerable:true,configurable:true,writable:true,value:/intrinsic gas too high|gas limit reached/});var IntrinsicGasTooLowError=function(_base_js_1$BaseError9){_inherits(IntrinsicGasTooLowError,_base_js_1$BaseError9);var _super9=_createSuper(IntrinsicGasTooLowError);function IntrinsicGasTooLowError(){var _ref9=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},cause=_ref9.cause,gas=_ref9.gas;_classCallCheck(this,IntrinsicGasTooLowError);return _super9.call(this,"The amount of gas ".concat(gas?"(".concat(gas,") "):"","provided for the transaction is too low."),{cause:cause,name:"IntrinsicGasTooLowError"})}return _createClass(IntrinsicGasTooLowError)}(base_js_1.BaseError);exports.IntrinsicGasTooLowError=IntrinsicGasTooLowError;Object.defineProperty(IntrinsicGasTooLowError,"nodeMessage",{enumerable:true,configurable:true,writable:true,value:/intrinsic gas too low/});var TransactionTypeNotSupportedError=function(_base_js_1$BaseError10){_inherits(TransactionTypeNotSupportedError,_base_js_1$BaseError10);var _super10=_createSuper(TransactionTypeNotSupportedError);function TransactionTypeNotSupportedError(_ref10){var cause=_ref10.cause;_classCallCheck(this,TransactionTypeNotSupportedError);return _super10.call(this,"The transaction type is not supported for this chain.",{cause:cause,name:"TransactionTypeNotSupportedError"})}return _createClass(TransactionTypeNotSupportedError)}(base_js_1.BaseError);exports.TransactionTypeNotSupportedError=TransactionTypeNotSupportedError;Object.defineProperty(TransactionTypeNotSupportedError,"nodeMessage",{enumerable:true,configurable:true,writable:true,value:/transaction type not valid/});var TipAboveFeeCapError=function(_base_js_1$BaseError11){_inherits(TipAboveFeeCapError,_base_js_1$BaseError11);var _super11=_createSuper(TipAboveFeeCapError);function TipAboveFeeCapError(){var _ref11=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},cause=_ref11.cause,maxPriorityFeePerGas=_ref11.maxPriorityFeePerGas,maxFeePerGas=_ref11.maxFeePerGas;_classCallCheck(this,TipAboveFeeCapError);return _super11.call(this,["The provided tip (`maxPriorityFeePerGas`".concat(maxPriorityFeePerGas?" = ".concat((0,formatGwei_js_1.formatGwei)(maxPriorityFeePerGas)," gwei"):"",") cannot be higher than the fee cap (`maxFeePerGas`").concat(maxFeePerGas?" = ".concat((0,formatGwei_js_1.formatGwei)(maxFeePerGas)," gwei"):"",").")].join("\n"),{cause:cause,name:"TipAboveFeeCapError"})}return _createClass(TipAboveFeeCapError)}(base_js_1.BaseError);exports.TipAboveFeeCapError=TipAboveFeeCapError;Object.defineProperty(TipAboveFeeCapError,"nodeMessage",{enumerable:true,configurable:true,writable:true,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});var UnknownNodeError=function(_base_js_1$BaseError12){_inherits(UnknownNodeError,_base_js_1$BaseError12);var _super12=_createSuper(UnknownNodeError);function UnknownNodeError(_ref12){var cause=_ref12.cause;_classCallCheck(this,UnknownNodeError);return _super12.call(this,"An error occurred while executing: ".concat(cause===null||cause===void 0?void 0:cause.shortMessage),{cause:cause,name:"UnknownNodeError"})}return _createClass(UnknownNodeError)}(base_js_1.BaseError);exports.UnknownNodeError=UnknownNodeError},{"../utils/unit/formatGwei.js":520,"./base.js":348}],363:[function(require,module,exports){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),o)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function _classCallCheck(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_setPrototypeOf(t,e)}function _createSuper(t){var r=_isNativeReflectConstruct();return function(){var e,o=_getPrototypeOf(t);if(r){var s=_getPrototypeOf(this).constructor;e=Reflect.construct(o,arguments,s)}else e=o.apply(this,arguments);return _possibleConstructorReturn(this,e)}}function _possibleConstructorReturn(t,e){if(e&&("object"==_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(_isNativeReflectConstruct=function _isNativeReflectConstruct(){return!!t})()}function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(t)}Object.defineProperty(exports,"__esModule",{value:true});exports.TimeoutError=exports.SocketClosedError=exports.RpcRequestError=exports.WebSocketRequestError=exports.HttpRequestError=void 0;var stringify_js_1=require("../utils/stringify.js");var base_js_1=require("./base.js");var utils_js_1=require("./utils.js");var HttpRequestError=function(_base_js_1$BaseError){_inherits(HttpRequestError,_base_js_1$BaseError);var _super=_createSuper(HttpRequestError);function HttpRequestError(_ref){var _this;var body=_ref.body,cause=_ref.cause,details=_ref.details,headers=_ref.headers,status=_ref.status,url=_ref.url;_classCallCheck(this,HttpRequestError);_this=_super.call(this,"HTTP request failed.",{cause:cause,details:details,metaMessages:[status&&"Status: ".concat(status),"URL: ".concat((0,utils_js_1.getUrl)(url)),body&&"Request body: ".concat((0,stringify_js_1.stringify)(body))].filter(Boolean),name:"HttpRequestError"});Object.defineProperty(_assertThisInitialized(_this),"body",{enumerable:true,configurable:true,writable:true,value:void 0});Object.defineProperty(_assertThisInitialized(_this),"headers",{enumerable:true,configurable:true,writable:true,value:void 0});Object.defineProperty(_assertThisInitialized(_this),"status",{enumerable:true,configurable:true,writable:true,value:void 0});Object.defineProperty(_assertThisInitialized(_this),"url",{enumerable:true,configurable:true,writable:true,value:void 0});_this.body=body;_this.headers=headers;_this.status=status;_this.url=url;return _this}return _createClass(HttpRequestError)}(base_js_1.BaseError);exports.HttpRequestError=HttpRequestError;var WebSocketRequestError=function(_base_js_1$BaseError2){_inherits(WebSocketRequestError,_base_js_1$BaseError2);var _super2=_createSuper(WebSocketRequestError);function WebSocketRequestError(_ref2){var body=_ref2.body,cause=_ref2.cause,details=_ref2.details,url=_ref2.url;_classCallCheck(this,WebSocketRequestError);return _super2.call(this,"WebSocket request failed.",{cause:cause,details:details,metaMessages:["URL: ".concat((0,utils_js_1.getUrl)(url)),body&&"Request body: ".concat((0,stringify_js_1.stringify)(body))].filter(Boolean),name:"WebSocketRequestError"})}return _createClass(WebSocketRequestError)}(base_js_1.BaseError);exports.WebSocketRequestError=WebSocketRequestError;var RpcRequestError=function(_base_js_1$BaseError3){_inherits(RpcRequestError,_base_js_1$BaseError3);var _super3=_createSuper(RpcRequestError);function RpcRequestError(_ref3){var _this2;var body=_ref3.body,error=_ref3.error,url=_ref3.url;_classCallCheck(this,RpcRequestError);_this2=_super3.call(this,"RPC Request failed.",{cause:error,details:error.message,metaMessages:["URL: ".concat((0,utils_js_1.getUrl)(url)),"Request body: ".concat((0,stringify_js_1.stringify)(body))],name:"RpcRequestError"});Object.defineProperty(_assertThisInitialized(_this2),"code",{enumerable:true,configurable:true,writable:true,value:void 0});Object.defineProperty(_assertThisInitialized(_this2),"data",{enumerable:true,configurable:true,writable:true,value:void 0});_this2.code=error.code;_this2.data=error.data;return _this2}return _createClass(RpcRequestError)}(base_js_1.BaseError);exports.RpcRequestError=RpcRequestError;var SocketClosedError=function(_base_js_1$BaseError4){_inherits(SocketClosedError,_base_js_1$BaseError4);var _super4=_createSuper(SocketClosedError);function SocketClosedError(){var _ref4=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},url=_ref4.url;_classCallCheck(this,SocketClosedError);return _super4.call(this,"The socket has been closed.",{metaMessages:[url&&"URL: ".concat((0,utils_js_1.getUrl)(url))].filter(Boolean),name:"SocketClosedError"})}return _createClass(SocketClosedError)}(base_js_1.BaseError);exports.SocketClosedError=SocketClosedError;var TimeoutError=function(_base_js_1$BaseError5){_inherits(TimeoutError,_base_js_1$BaseError5);var _super5=_createSuper(TimeoutError);function TimeoutError(_ref5){var body=_ref5.body,url=_ref5.url;_classCallCheck(this,TimeoutError);return _super5.call(this,"The request took too long to respond.",{details:"The request timed out.",metaMessages:["URL: ".concat((0,utils_js_1.getUrl)(url)),"Request body: ".concat((0,stringify_js_1.stringify)(body))],name:"TimeoutError"})}return _createClass(TimeoutError)}(base_js_1.BaseError);exports.TimeoutError=TimeoutError},{"../utils/stringify.js":509,"./base.js":348,"./utils.js":370}],364:[function(require,module,exports){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),o)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function _classCallCheck(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_setPrototypeOf(t,e)}function _createSuper(t){var r=_isNativeReflectConstruct();return function(){var e,o=_getPrototypeOf(t);if(r){var s=_getPrototypeOf(this).constructor;e=Reflect.construct(o,arguments,s)}else e=o.apply(this,arguments);return _possibleConstructorReturn(this,e)}}function _possibleConstructorReturn(t,e){if(e&&("object"==_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(_isNativeReflectConstruct=function _isNativeReflectConstruct(){return!!t})()}function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(t)}Object.defineProperty(exports,"__esModule",{value:true});exports.UnknownRpcError=exports.AtomicityNotSupportedError=exports.AtomicReadyWalletRejectedUpgradeError=exports.BundleTooLargeError=exports.UnknownBundleIdError=exports.DuplicateIdError=exports.UnsupportedChainIdError=exports.UnsupportedNonOptionalCapabilityError=exports.SwitchChainError=exports.ChainDisconnectedError=exports.ProviderDisconnectedError=exports.UnsupportedProviderMethodError=exports.UnauthorizedProviderError=exports.UserRejectedRequestError=exports.JsonRpcVersionUnsupportedError=exports.LimitExceededRpcError=exports.MethodNotSupportedRpcError=exports.TransactionRejectedRpcError=exports.ResourceUnavailableRpcError=exports.ResourceNotFoundRpcError=exports.InvalidInputRpcError=exports.InternalRpcError=exports.InvalidParamsRpcError=exports.MethodNotFoundRpcError=exports.InvalidRequestRpcError=exports.ParseRpcError=exports.ProviderRpcError=exports.RpcError=void 0;var base_js_1=require("./base.js");var request_js_1=require("./request.js");var unknownErrorCode=-1;var RpcError=function(_base_js_1$BaseError){_inherits(RpcError,_base_js_1$BaseError);var _super=_createSuper(RpcError);function RpcError(cause,_ref){var _this;var code=_ref.code,docsPath=_ref.docsPath,metaMessages=_ref.metaMessages,name=_ref.name,shortMessage=_ref.shortMessage;_classCallCheck(this,RpcError);_this=_super.call(this,shortMessage,{cause:cause,docsPath:docsPath,metaMessages:metaMessages||(cause===null||cause===void 0?void 0:cause.metaMessages),name:name||"RpcError"});Object.defineProperty(_assertThisInitialized(_this),"code",{enumerable:true,configurable:true,writable:true,value:void 0});_this.name=name||cause.name;_this.code=cause instanceof request_js_1.RpcRequestError?cause.code:code!==null&&code!==void 0?code:unknownErrorCode;return _this}return _createClass(RpcError)}(base_js_1.BaseError);exports.RpcError=RpcError;var ProviderRpcError=function(_RpcError){_inherits(ProviderRpcError,_RpcError);var _super2=_createSuper(ProviderRpcError);function ProviderRpcError(cause,options){var _this2;_classCallCheck(this,ProviderRpcError);_this2=_super2.call(this,cause,options);Object.defineProperty(_assertThisInitialized(_this2),"data",{enumerable:true,configurable:true,writable:true,value:void 0});_this2.data=options.data;return _this2}return _createClass(ProviderRpcError)}(RpcError);exports.ProviderRpcError=ProviderRpcError;var ParseRpcError=function(_RpcError2){_inherits(ParseRpcError,_RpcError2);var _super3=_createSuper(ParseRpcError);function ParseRpcError(cause){_classCallCheck(this,ParseRpcError);return _super3.call(this,cause,{code:ParseRpcError.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}return _createClass(ParseRpcError)}(RpcError);exports.ParseRpcError=ParseRpcError;Object.defineProperty(ParseRpcError,"code",{enumerable:true,configurable:true,writable:true,value:-32700});var InvalidRequestRpcError=function(_RpcError3){_inherits(InvalidRequestRpcError,_RpcError3);var _super4=_createSuper(InvalidRequestRpcError);function InvalidRequestRpcError(cause){_classCallCheck(this,InvalidRequestRpcError);return _super4.call(this,cause,{code:InvalidRequestRpcError.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}return _createClass(InvalidRequestRpcError)}(RpcError);exports.InvalidRequestRpcError=InvalidRequestRpcError;Object.defineProperty(InvalidRequestRpcError,"code",{enumerable:true,configurable:true,writable:true,value:-32600});var MethodNotFoundRpcError=function(_RpcError4){_inherits(MethodNotFoundRpcError,_RpcError4);var _super5=_createSuper(MethodNotFoundRpcError);function MethodNotFoundRpcError(cause){var _ref2=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},method=_ref2.method;_classCallCheck(this,MethodNotFoundRpcError);return _super5.call(this,cause,{code:MethodNotFoundRpcError.code,name:"MethodNotFoundRpcError",shortMessage:"The method".concat(method?' "'.concat(method,'"'):""," does not exist / is not available.")})}return _createClass(MethodNotFoundRpcError)}(RpcError);exports.MethodNotFoundRpcError=MethodNotFoundRpcError;Object.defineProperty(MethodNotFoundRpcError,"code",{enumerable:true,configurable:true,writable:true,value:-32601});var InvalidParamsRpcError=function(_RpcError5){_inherits(InvalidParamsRpcError,_RpcError5);var _super6=_createSuper(InvalidParamsRpcError);function InvalidParamsRpcError(cause){_classCallCheck(this,InvalidParamsRpcError);return _super6.call(this,cause,{code:InvalidParamsRpcError.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join("\n")})}return _createClass(InvalidParamsRpcError)}(RpcError);exports.InvalidParamsRpcError=InvalidParamsRpcError;Object.defineProperty(InvalidParamsRpcError,"code",{enumerable:true,configurable:true,writable:true,value:-32602});var InternalRpcError=function(_RpcError6){_inherits(InternalRpcError,_RpcError6);var _super7=_createSuper(InternalRpcError);function InternalRpcError(cause){_classCallCheck(this,InternalRpcError);return _super7.call(this,cause,{code:InternalRpcError.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}return _createClass(InternalRpcError)}(RpcError);exports.InternalRpcError=InternalRpcError;Object.defineProperty(InternalRpcError,"code",{enumerable:true,configurable:true,writable:true,value:-32603});var InvalidInputRpcError=function(_RpcError7){_inherits(InvalidInputRpcError,_RpcError7);var _super8=_createSuper(InvalidInputRpcError);function InvalidInputRpcError(cause){_classCallCheck(this,InvalidInputRpcError);return _super8.call(this,cause,{code:InvalidInputRpcError.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join("\n")})}return _createClass(InvalidInputRpcError)}(RpcError);exports.InvalidInputRpcError=InvalidInputRpcError;Object.defineProperty(InvalidInputRpcError,"code",{enumerable:true,configurable:true,writable:true,value:-32e3});var ResourceNotFoundRpcError=function(_RpcError8){_inherits(ResourceNotFoundRpcError,_RpcError8);var _super9=_createSuper(ResourceNotFoundRpcError);function ResourceNotFoundRpcError(cause){var _this3;_classCallCheck(this,ResourceNotFoundRpcError);_this3=_super9.call(this,cause,{code:ResourceNotFoundRpcError.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."});Object.defineProperty(_assertThisInitialized(_this3),"name",{enumerable:true,configurable:true,writable:true,value:"ResourceNotFoundRpcError"});return _this3}return _createClass(ResourceNotFoundRpcError)}(RpcError);exports.ResourceNotFoundRpcError=ResourceNotFoundRpcError;Object.defineProperty(ResourceNotFoundRpcError,"code",{enumerable:true,configurable:true,writable:true,value:-32001});var ResourceUnavailableRpcError=function(_RpcError9){_inherits(ResourceUnavailableRpcError,_RpcError9);var _super10=_createSuper(ResourceUnavailableRpcError);function ResourceUnavailableRpcError(cause){_classCallCheck(this,ResourceUnavailableRpcError);return _super10.call(this,cause,{code:ResourceUnavailableRpcError.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}return _createClass(ResourceUnavailableRpcError)}(RpcError);exports.ResourceUnavailableRpcError=ResourceUnavailableRpcError;Object.defineProperty(ResourceUnavailableRpcError,"code",{enumerable:true,configurable:true,writable:true,value:-32002});var TransactionRejectedRpcError=function(_RpcError10){_inherits(TransactionRejectedRpcError,_RpcError10);var _super11=_createSuper(TransactionRejectedRpcError);function TransactionRejectedRpcError(cause){_classCallCheck(this,TransactionRejectedRpcError);return _super11.call(this,cause,{code:TransactionRejectedRpcError.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}return _createClass(TransactionRejectedRpcError)}(RpcError);exports.TransactionRejectedRpcError=TransactionRejectedRpcError;Object.defineProperty(TransactionRejectedRpcError,"code",{enumerable:true,configurable:true,writable:true,value:-32003});var MethodNotSupportedRpcError=function(_RpcError11){_inherits(MethodNotSupportedRpcError,_RpcError11);var _super12=_createSuper(MethodNotSupportedRpcError);function MethodNotSupportedRpcError(cause){var _ref3=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},method=_ref3.method;_classCallCheck(this,MethodNotSupportedRpcError);return _super12.call(this,cause,{code:MethodNotSupportedRpcError.code,name:"MethodNotSupportedRpcError",shortMessage:"Method".concat(method?' "'.concat(method,'"'):""," is not supported.")})}return _createClass(MethodNotSupportedRpcError)}(RpcError);exports.MethodNotSupportedRpcError=MethodNotSupportedRpcError;Object.defineProperty(MethodNotSupportedRpcError,"code",{enumerable:true,configurable:true,writable:true,value:-32004});var LimitExceededRpcError=function(_RpcError12){_inherits(LimitExceededRpcError,_RpcError12);var _super13=_createSuper(LimitExceededRpcError);function LimitExceededRpcError(cause){_classCallCheck(this,LimitExceededRpcError);return _super13.call(this,cause,{code:LimitExceededRpcError.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}return _createClass(LimitExceededRpcError)}(RpcError);exports.LimitExceededRpcError=LimitExceededRpcError;Object.defineProperty(LimitExceededRpcError,"code",{enumerable:true,configurable:true,writable:true,value:-32005});var JsonRpcVersionUnsupportedError=function(_RpcError13){_inherits(JsonRpcVersionUnsupportedError,_RpcError13);var _super14=_createSuper(JsonRpcVersionUnsupportedError);function JsonRpcVersionUnsupportedError(cause){_classCallCheck(this,JsonRpcVersionUnsupportedError);return _super14.call(this,cause,{code:JsonRpcVersionUnsupportedError.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}return _createClass(JsonRpcVersionUnsupportedError)}(RpcError);exports.JsonRpcVersionUnsupportedError=JsonRpcVersionUnsupportedError;Object.defineProperty(JsonRpcVersionUnsupportedError,"code",{enumerable:true,configurable:true,writable:true,value:-32006});var UserRejectedRequestError=function(_ProviderRpcError){_inherits(UserRejectedRequestError,_ProviderRpcError);var _super15=_createSuper(UserRejectedRequestError);function UserRejectedRequestError(cause){_classCallCheck(this,UserRejectedRequestError);return _super15.call(this,cause,{code:UserRejectedRequestError.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}return _createClass(UserRejectedRequestError)}(ProviderRpcError);exports.UserRejectedRequestError=UserRejectedRequestError;Object.defineProperty(UserRejectedRequestError,"code",{enumerable:true,configurable:true,writable:true,value:4001});var UnauthorizedProviderError=function(_ProviderRpcError2){_inherits(UnauthorizedProviderError,_ProviderRpcError2);var _super16=_createSuper(UnauthorizedProviderError);function UnauthorizedProviderError(cause){_classCallCheck(this,UnauthorizedProviderError);return _super16.call(this,cause,{code:UnauthorizedProviderError.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}return _createClass(UnauthorizedProviderError)}(ProviderRpcError);exports.UnauthorizedProviderError=UnauthorizedProviderError;Object.defineProperty(UnauthorizedProviderError,"code",{enumerable:true,configurable:true,writable:true,value:4100});var UnsupportedProviderMethodError=function(_ProviderRpcError3){_inherits(UnsupportedProviderMethodError,_ProviderRpcError3);var _super17=_createSuper(UnsupportedProviderMethodError);function UnsupportedProviderMethodError(cause){var _ref4=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},method=_ref4.method;_classCallCheck(this,UnsupportedProviderMethodError);return _super17.call(this,cause,{code:UnsupportedProviderMethodError.code,name:"UnsupportedProviderMethodError",shortMessage:"The Provider does not support the requested method".concat(method?' " '.concat(method,'"'):"",".")})}return _createClass(UnsupportedProviderMethodError)}(ProviderRpcError);exports.UnsupportedProviderMethodError=UnsupportedProviderMethodError;Object.defineProperty(UnsupportedProviderMethodError,"code",{enumerable:true,configurable:true,writable:true,value:4200});var ProviderDisconnectedError=function(_ProviderRpcError4){_inherits(ProviderDisconnectedError,_ProviderRpcError4);var _super18=_createSuper(ProviderDisconnectedError);function ProviderDisconnectedError(cause){_classCallCheck(this,ProviderDisconnectedError);return _super18.call(this,cause,{code:ProviderDisconnectedError.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}return _createClass(ProviderDisconnectedError)}(ProviderRpcError);exports.ProviderDisconnectedError=ProviderDisconnectedError;Object.defineProperty(ProviderDisconnectedError,"code",{enumerable:true,configurable:true,writable:true,value:4900});var ChainDisconnectedError=function(_ProviderRpcError5){_inherits(ChainDisconnectedError,_ProviderRpcError5);var _super19=_createSuper(ChainDisconnectedError);function ChainDisconnectedError(cause){_classCallCheck(this,ChainDisconnectedError);return _super19.call(this,cause,{code:ChainDisconnectedError.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}return _createClass(ChainDisconnectedError)}(ProviderRpcError);exports.ChainDisconnectedError=ChainDisconnectedError;Object.defineProperty(ChainDisconnectedError,"code",{enumerable:true,configurable:true,writable:true,value:4901});var SwitchChainError=function(_ProviderRpcError6){_inherits(SwitchChainError,_ProviderRpcError6);var _super20=_createSuper(SwitchChainError);function SwitchChainError(cause){_classCallCheck(this,SwitchChainError);return _super20.call(this,cause,{code:SwitchChainError.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}return _createClass(SwitchChainError)}(ProviderRpcError);exports.SwitchChainError=SwitchChainError;Object.defineProperty(SwitchChainError,"code",{enumerable:true,configurable:true,writable:true,value:4902});var UnsupportedNonOptionalCapabilityError=function(_ProviderRpcError7){_inherits(UnsupportedNonOptionalCapabilityError,_ProviderRpcError7);var _super21=_createSuper(UnsupportedNonOptionalCapabilityError);function UnsupportedNonOptionalCapabilityError(cause){_classCallCheck(this,UnsupportedNonOptionalCapabilityError);return _super21.call(this,cause,{code:UnsupportedNonOptionalCapabilityError.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}return _createClass(UnsupportedNonOptionalCapabilityError)}(ProviderRpcError);exports.UnsupportedNonOptionalCapabilityError=UnsupportedNonOptionalCapabilityError;Object.defineProperty(UnsupportedNonOptionalCapabilityError,"code",{enumerable:true,configurable:true,writable:true,value:5700});var UnsupportedChainIdError=function(_ProviderRpcError8){_inherits(UnsupportedChainIdError,_ProviderRpcError8);var _super22=_createSuper(UnsupportedChainIdError);function UnsupportedChainIdError(cause){_classCallCheck(this,UnsupportedChainIdError);return _super22.call(this,cause,{code:UnsupportedChainIdError.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}return _createClass(UnsupportedChainIdError)}(ProviderRpcError);exports.UnsupportedChainIdError=UnsupportedChainIdError;Object.defineProperty(UnsupportedChainIdError,"code",{enumerable:true,configurable:true,writable:true,value:5710});var DuplicateIdError=function(_ProviderRpcError9){_inherits(DuplicateIdError,_ProviderRpcError9);var _super23=_createSuper(DuplicateIdError);function DuplicateIdError(cause){_classCallCheck(this,DuplicateIdError);return _super23.call(this,cause,{code:DuplicateIdError.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}return _createClass(DuplicateIdError)}(ProviderRpcError);exports.DuplicateIdError=DuplicateIdError;Object.defineProperty(DuplicateIdError,"code",{enumerable:true,configurable:true,writable:true,value:5720});var UnknownBundleIdError=function(_ProviderRpcError10){_inherits(UnknownBundleIdError,_ProviderRpcError10);var _super24=_createSuper(UnknownBundleIdError);function UnknownBundleIdError(cause){_classCallCheck(this,UnknownBundleIdError);return _super24.call(this,cause,{code:UnknownBundleIdError.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}return _createClass(UnknownBundleIdError)}(ProviderRpcError);exports.UnknownBundleIdError=UnknownBundleIdError;Object.defineProperty(UnknownBundleIdError,"code",{enumerable:true,configurable:true,writable:true,value:5730});var BundleTooLargeError=function(_ProviderRpcError11){_inherits(BundleTooLargeError,_ProviderRpcError11);var _super25=_createSuper(BundleTooLargeError);function BundleTooLargeError(cause){_classCallCheck(this,BundleTooLargeError);return _super25.call(this,cause,{code:BundleTooLargeError.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}return _createClass(BundleTooLargeError)}(ProviderRpcError);exports.BundleTooLargeError=BundleTooLargeError;Object.defineProperty(BundleTooLargeError,"code",{enumerable:true,configurable:true,writable:true,value:5740});var AtomicReadyWalletRejectedUpgradeError=function(_ProviderRpcError12){_inherits(AtomicReadyWalletRejectedUpgradeError,_ProviderRpcError12);var _super26=_createSuper(AtomicReadyWalletRejectedUpgradeError);function AtomicReadyWalletRejectedUpgradeError(cause){_classCallCheck(this,AtomicReadyWalletRejectedUpgradeError);return _super26.call(this,cause,{code:AtomicReadyWalletRejectedUpgradeError.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}return _createClass(AtomicReadyWalletRejectedUpgradeError)}(ProviderRpcError);exports.AtomicReadyWalletRejectedUpgradeError=AtomicReadyWalletRejectedUpgradeError;Object.defineProperty(AtomicReadyWalletRejectedUpgradeError,"code",{enumerable:true,configurable:true,writable:true,value:5750});var AtomicityNotSupportedError=function(_ProviderRpcError13){_inherits(AtomicityNotSupportedError,_ProviderRpcError13);var _super27=_createSuper(AtomicityNotSupportedError);function AtomicityNotSupportedError(cause){_classCallCheck(this,AtomicityNotSupportedError);return _super27.call(this,cause,{code:AtomicityNotSupportedError.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}return _createClass(AtomicityNotSupportedError)}(ProviderRpcError);exports.AtomicityNotSupportedError=AtomicityNotSupportedError;Object.defineProperty(AtomicityNotSupportedError,"code",{enumerable:true,configurable:true,writable:true,value:5760});var UnknownRpcError=function(_RpcError14){_inherits(UnknownRpcError,_RpcError14);var _super28=_createSuper(UnknownRpcError);function UnknownRpcError(cause){_classCallCheck(this,UnknownRpcError);return _super28.call(this,cause,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}return _createClass(UnknownRpcError)}(RpcError);exports.UnknownRpcError=UnknownRpcError},{"./base.js":348,"./request.js":363}],365:[function(require,module,exports){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}var _excluded=["address"];function _objectWithoutProperties(e,t){if(null==e)return{};var o,r,i=_objectWithoutPropertiesLoose(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(r=0;r<n.length;r++){o=n[r],-1===t.indexOf(o)&&{}.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}}return i}function _objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r){if({}.hasOwnProperty.call(r,n)){if(-1!==e.indexOf(n))continue;t[n]=r[n]}}return t}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),o)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function _classCallCheck(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_setPrototypeOf(t,e)}function _createSuper(t){var r=_isNativeReflectConstruct();return function(){var e,o=_getPrototypeOf(t);if(r){var s=_getPrototypeOf(this).constructor;e=Reflect.construct(o,arguments,s)}else e=o.apply(this,arguments);return _possibleConstructorReturn(this,e)}}function _possibleConstructorReturn(t,e){if(e&&("object"==_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(_isNativeReflectConstruct=function _isNativeReflectConstruct(){return!!t})()}function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(t)}Object.defineProperty(exports,"__esModule",{value:true});exports.StateAssignmentConflictError=exports.AccountStateConflictError=void 0;exports.prettyStateMapping=prettyStateMapping;exports.prettyStateOverride=prettyStateOverride;var base_js_1=require("./base.js");var AccountStateConflictError=function(_base_js_1$BaseError){_inherits(AccountStateConflictError,_base_js_1$BaseError);var _super=_createSuper(AccountStateConflictError);function AccountStateConflictError(_ref){var address=_ref.address;_classCallCheck(this,AccountStateConflictError);return _super.call(this,'State for account "'.concat(address,'" is set multiple times.'),{name:"AccountStateConflictError"})}return _createClass(AccountStateConflictError)}(base_js_1.BaseError);exports.AccountStateConflictError=AccountStateConflictError;var StateAssignmentConflictError=function(_base_js_1$BaseError2){_inherits(StateAssignmentConflictError,_base_js_1$BaseError2);var _super2=_createSuper(StateAssignmentConflictError);function StateAssignmentConflictError(){_classCallCheck(this,StateAssignmentConflictError);return _super2.call(this,"state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}return _createClass(StateAssignmentConflictError)}(base_js_1.BaseError);exports.StateAssignmentConflictError=StateAssignmentConflictError;function prettyStateMapping(stateMapping){return stateMapping.reduce(function(pretty,_ref2){var slot=_ref2.slot,value=_ref2.value;return"".concat(pretty,"        ").concat(slot,": ").concat(value,"\n")},"")}function prettyStateOverride(stateOverride){return stateOverride.reduce(function(pretty,_ref3){var address=_ref3.address,state=_objectWithoutProperties(_ref3,_excluded);var val="".concat(pretty,"    ").concat(address,":\n");if(state.nonce)val+="      nonce: ".concat(state.nonce,"\n");if(state.balance)val+="      balance: ".concat(state.balance,"\n");if(state.code)val+="      code: ".concat(state.code,"\n");if(state.state){val+="      state:\n";val+=prettyStateMapping(state.state)}if(state.stateDiff){val+="      stateDiff:\n";val+=prettyStateMapping(state.stateDiff)}return val},"  State Override:\n").slice(0,-1)}},{"./base.js":348}],366:[function(require,module,exports){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _toConsumableArray(r){return _arrayWithoutHoles(r)||_iterableToArray(r)||_unsupportedIterableToArray(r)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}function _arrayWithoutHoles(r){if(Array.isArray(r))return _arrayLikeToArray(r)}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),o)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function _classCallCheck(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_setPrototypeOf(t,e)}function _createSuper(t){var r=_isNativeReflectConstruct();return function(){var e,o=_getPrototypeOf(t);if(r){var s=_getPrototypeOf(this).constructor;e=Reflect.construct(o,arguments,s)}else e=o.apply(this,arguments);return _possibleConstructorReturn(this,e)}}function _possibleConstructorReturn(t,e){if(e&&("object"==_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(_isNativeReflectConstruct=function _isNativeReflectConstruct(){return!!t})()}function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(t)}function _slicedToArray(r,e){return _arrayWithHoles(r)||_iterableToArrayLimit(r,e)||_unsupportedIterableToArray(r,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++){n[e]=r[e]}return n}function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0){}}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t["return"]&&(u=t["return"](),Object(u)!==u))return}finally{if(o)throw n}}return a}}function _arrayWithHoles(r){if(Array.isArray(r))return r}Object.defineProperty(exports,"__esModule",{value:true});exports.WaitForTransactionReceiptTimeoutError=exports.TransactionReceiptNotFoundError=exports.TransactionNotFoundError=exports.TransactionExecutionError=exports.InvalidStorageKeySizeError=exports.InvalidSerializedTransactionError=exports.InvalidSerializedTransactionTypeError=exports.InvalidSerializableTransactionError=exports.InvalidLegacyVError=exports.FeeConflictError=void 0;exports.prettyPrint=prettyPrint;var formatEther_js_1=require("../utils/unit/formatEther.js");var formatGwei_js_1=require("../utils/unit/formatGwei.js");var base_js_1=require("./base.js");function prettyPrint(args){var entries=Object.entries(args).map(function(_ref){var _ref2=_slicedToArray(_ref,2),key=_ref2[0],value=_ref2[1];if(value===undefined||value===false)return null;return[key,value]}).filter(Boolean);var maxLength=entries.reduce(function(acc,_ref3){var _ref4=_slicedToArray(_ref3,1),key=_ref4[0];return Math.max(acc,key.length)},0);return entries.map(function(_ref5){var _ref6=_slicedToArray(_ref5,2),key=_ref6[0],value=_ref6[1];return"  ".concat("".concat(key,":").padEnd(maxLength+1),"  ").concat(value)}).join("\n")}var FeeConflictError=function(_base_js_1$BaseError){_inherits(FeeConflictError,_base_js_1$BaseError);var _super=_createSuper(FeeConflictError);function FeeConflictError(){_classCallCheck(this,FeeConflictError);return _super.call(this,["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join("\n"),{name:"FeeConflictError"})}return _createClass(FeeConflictError)}(base_js_1.BaseError);exports.FeeConflictError=FeeConflictError;var InvalidLegacyVError=function(_base_js_1$BaseError2){_inherits(InvalidLegacyVError,_base_js_1$BaseError2);var _super2=_createSuper(InvalidLegacyVError);function InvalidLegacyVError(_ref7){var v=_ref7.v;_classCallCheck(this,InvalidLegacyVError);return _super2.call(this,'Invalid `v` value "'.concat(v,'". Expected 27 or 28.'),{name:"InvalidLegacyVError"})}return _createClass(InvalidLegacyVError)}(base_js_1.BaseError);exports.InvalidLegacyVError=InvalidLegacyVError;var InvalidSerializableTransactionError=function(_base_js_1$BaseError3){_inherits(InvalidSerializableTransactionError,_base_js_1$BaseError3);var _super3=_createSuper(InvalidSerializableTransactionError);function InvalidSerializableTransactionError(_ref8){var transaction=_ref8.transaction;_classCallCheck(this,InvalidSerializableTransactionError);return _super3.call(this,"Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",prettyPrint(transaction),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}return _createClass(InvalidSerializableTransactionError)}(base_js_1.BaseError);exports.InvalidSerializableTransactionError=InvalidSerializableTransactionError;var InvalidSerializedTransactionTypeError=function(_base_js_1$BaseError4){_inherits(InvalidSerializedTransactionTypeError,_base_js_1$BaseError4);var _super4=_createSuper(InvalidSerializedTransactionTypeError);function InvalidSerializedTransactionTypeError(_ref9){var _this;var serializedType=_ref9.serializedType;_classCallCheck(this,InvalidSerializedTransactionTypeError);_this=_super4.call(this,'Serialized transaction type "'.concat(serializedType,'" is invalid.'),{name:"InvalidSerializedTransactionType"});Object.defineProperty(_assertThisInitialized(_this),"serializedType",{enumerable:true,configurable:true,writable:true,value:void 0});_this.serializedType=serializedType;return _this}return _createClass(InvalidSerializedTransactionTypeError)}(base_js_1.BaseError);exports.InvalidSerializedTransactionTypeError=InvalidSerializedTransactionTypeError;var InvalidSerializedTransactionError=function(_base_js_1$BaseError5){_inherits(InvalidSerializedTransactionError,_base_js_1$BaseError5);var _super5=_createSuper(InvalidSerializedTransactionError);function InvalidSerializedTransactionError(_ref10){var _this2;var attributes=_ref10.attributes,serializedTransaction=_ref10.serializedTransaction,type=_ref10.type;_classCallCheck(this,InvalidSerializedTransactionError);var missing=Object.entries(attributes).map(function(_ref11){var _ref12=_slicedToArray(_ref11,2),key=_ref12[0],value=_ref12[1];return typeof value==="undefined"?key:undefined}).filter(Boolean);_this2=_super5.call(this,'Invalid serialized transaction of type "'.concat(type,'" was provided.'),{metaMessages:['Serialized Transaction: "'.concat(serializedTransaction,'"'),missing.length>0?"Missing Attributes: ".concat(missing.join(", ")):""].filter(Boolean),name:"InvalidSerializedTransactionError"});Object.defineProperty(_assertThisInitialized(_this2),"serializedTransaction",{enumerable:true,configurable:true,writable:true,value:void 0});Object.defineProperty(_assertThisInitialized(_this2),"type",{enumerable:true,configurable:true,writable:true,value:void 0});_this2.serializedTransaction=serializedTransaction;_this2.type=type;return _this2}return _createClass(InvalidSerializedTransactionError)}(base_js_1.BaseError);exports.InvalidSerializedTransactionError=InvalidSerializedTransactionError;var InvalidStorageKeySizeError=function(_base_js_1$BaseError6){_inherits(InvalidStorageKeySizeError,_base_js_1$BaseError6);var _super6=_createSuper(InvalidStorageKeySizeError);function InvalidStorageKeySizeError(_ref13){var storageKey=_ref13.storageKey;_classCallCheck(this,InvalidStorageKeySizeError);return _super6.call(this,'Size for storage key "'.concat(storageKey,'" is invalid. Expected 32 bytes. Got ').concat(Math.floor((storageKey.length-2)/2)," bytes."),{name:"InvalidStorageKeySizeError"})}return _createClass(InvalidStorageKeySizeError)}(base_js_1.BaseError);exports.InvalidStorageKeySizeError=InvalidStorageKeySizeError;var TransactionExecutionError=function(_base_js_1$BaseError7){_inherits(TransactionExecutionError,_base_js_1$BaseError7);var _super7=_createSuper(TransactionExecutionError);function TransactionExecutionError(cause,_ref14){var _chain$nativeCurrency;var _this3;var account=_ref14.account,docsPath=_ref14.docsPath,chain=_ref14.chain,data=_ref14.data,gas=_ref14.gas,gasPrice=_ref14.gasPrice,maxFeePerGas=_ref14.maxFeePerGas,maxPriorityFeePerGas=_ref14.maxPriorityFeePerGas,nonce=_ref14.nonce,to=_ref14.to,value=_ref14.value;_classCallCheck(this,TransactionExecutionError);var prettyArgs=prettyPrint({chain:chain&&"".concat(chain===null||chain===void 0?void 0:chain.name," (id: ").concat(chain===null||chain===void 0?void 0:chain.id,")"),from:account===null||account===void 0?void 0:account.address,to:to,value:typeof value!=="undefined"&&"".concat((0,formatEther_js_1.formatEther)(value)," ").concat((chain===null||chain===void 0?void 0:(_chain$nativeCurrency=chain.nativeCurrency)===null||_chain$nativeCurrency===void 0?void 0:_chain$nativeCurrency.symbol)||"ETH"),data:data,gas:gas,gasPrice:typeof gasPrice!=="undefined"&&"".concat((0,formatGwei_js_1.formatGwei)(gasPrice)," gwei"),maxFeePerGas:typeof maxFeePerGas!=="undefined"&&"".concat((0,formatGwei_js_1.formatGwei)(maxFeePerGas)," gwei"),maxPriorityFeePerGas:typeof maxPriorityFeePerGas!=="undefined"&&"".concat((0,formatGwei_js_1.formatGwei)(maxPriorityFeePerGas)," gwei"),nonce:nonce});_this3=_super7.call(this,cause.shortMessage,{cause:cause,docsPath:docsPath,metaMessages:[].concat(_toConsumableArray(cause.metaMessages?[].concat(_toConsumableArray(cause.metaMessages),[" "]):[]),["Request Arguments:",prettyArgs]).filter(Boolean),name:"TransactionExecutionError"});Object.defineProperty(_assertThisInitialized(_this3),"cause",{enumerable:true,configurable:true,writable:true,value:void 0});_this3.cause=cause;return _this3}return _createClass(TransactionExecutionError)}(base_js_1.BaseError);exports.TransactionExecutionError=TransactionExecutionError;var TransactionNotFoundError=function(_base_js_1$BaseError8){_inherits(TransactionNotFoundError,_base_js_1$BaseError8);var _super8=_createSuper(TransactionNotFoundError);function TransactionNotFoundError(_ref15){var blockHash=_ref15.blockHash,blockNumber=_ref15.blockNumber,blockTag=_ref15.blockTag,hash=_ref15.hash,index=_ref15.index;_classCallCheck(this,TransactionNotFoundError);var identifier="Transaction";if(blockTag&&index!==undefined)identifier='Transaction at block time "'.concat(blockTag,'" at index "').concat(index,'"');if(blockHash&&index!==undefined)identifier='Transaction at block hash "'.concat(blockHash,'" at index "').concat(index,'"');if(blockNumber&&index!==undefined)identifier='Transaction at block number "'.concat(blockNumber,'" at index "').concat(index,'"');if(hash)identifier='Transaction with hash "'.concat(hash,'"');return _super8.call(this,"".concat(identifier," could not be found."),{name:"TransactionNotFoundError"})}return _createClass(TransactionNotFoundError)}(base_js_1.BaseError);exports.TransactionNotFoundError=TransactionNotFoundError;var TransactionReceiptNotFoundError=function(_base_js_1$BaseError9){_inherits(TransactionReceiptNotFoundError,_base_js_1$BaseError9);var _super9=_createSuper(TransactionReceiptNotFoundError);function TransactionReceiptNotFoundError(_ref16){var hash=_ref16.hash;_classCallCheck(this,TransactionReceiptNotFoundError);return _super9.call(this,'Transaction receipt with hash "'.concat(hash,'" could not be found. The Transaction may not be processed on a block yet.'),{name:"TransactionReceiptNotFoundError"})}return _createClass(TransactionReceiptNotFoundError)}(base_js_1.BaseError);exports.TransactionReceiptNotFoundError=TransactionReceiptNotFoundError;var WaitForTransactionReceiptTimeoutError=function(_base_js_1$BaseError10){_inherits(WaitForTransactionReceiptTimeoutError,_base_js_1$BaseError10);var _super10=_createSuper(WaitForTransactionReceiptTimeoutError);function WaitForTransactionReceiptTimeoutError(_ref17){var hash=_ref17.hash;_classCallCheck(this,WaitForTransactionReceiptTimeoutError);return _super10.call(this,'Timed out while waiting for transaction with hash "'.concat(hash,'" to be confirmed.'),{name:"WaitForTransactionReceiptTimeoutError"})}return _createClass(WaitForTransactionReceiptTimeoutError)}(base_js_1.BaseError);exports.WaitForTransactionReceiptTimeoutError=WaitForTransactionReceiptTimeoutError},{"../utils/unit/formatEther.js":519,"../utils/unit/formatGwei.js":520,"./base.js":348}],367:[function(require,module,exports){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),o)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function _classCallCheck(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_setPrototypeOf(t,e)}function _createSuper(t){var r=_isNativeReflectConstruct();return function(){var e,o=_getPrototypeOf(t);if(r){var s=_getPrototypeOf(this).constructor;e=Reflect.construct(o,arguments,s)}else e=o.apply(this,arguments);return _possibleConstructorReturn(this,e)}}function _possibleConstructorReturn(t,e){if(e&&("object"==_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(_isNativeReflectConstruct=function _isNativeReflectConstruct(){return!!t})()}function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(t)}Object.defineProperty(exports,"__esModule",{value:true});exports.UrlRequiredError=void 0;var base_js_1=require("./base.js");var UrlRequiredError=function(_base_js_1$BaseError){_inherits(UrlRequiredError,_base_js_1$BaseError);var _super=_createSuper(UrlRequiredError);function UrlRequiredError(){_classCallCheck(this,UrlRequiredError);return _super.call(this,"No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}return _createClass(UrlRequiredError)}(base_js_1.BaseError);exports.UrlRequiredError=UrlRequiredError},{"./base.js":348}],368:[function(require,module,exports){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),o)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function _classCallCheck(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_setPrototypeOf(t,e)}function _createSuper(t){var r=_isNativeReflectConstruct();return function(){var e,o=_getPrototypeOf(t);if(r){var s=_getPrototypeOf(this).constructor;e=Reflect.construct(o,arguments,s)}else e=o.apply(this,arguments);return _possibleConstructorReturn(this,e)}}function _possibleConstructorReturn(t,e){if(e&&("object"==_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(_isNativeReflectConstruct=function _isNativeReflectConstruct(){return!!t})()}function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(t)}Object.defineProperty(exports,"__esModule",{value:true});exports.InvalidStructTypeError=exports.InvalidPrimaryTypeError=exports.InvalidDomainError=void 0;var stringify_js_1=require("../utils/stringify.js");var base_js_1=require("./base.js");var InvalidDomainError=function(_base_js_1$BaseError){_inherits(InvalidDomainError,_base_js_1$BaseError);var _super=_createSuper(InvalidDomainError);function InvalidDomainError(_ref){var domain=_ref.domain;_classCallCheck(this,InvalidDomainError);return _super.call(this,'Invalid domain "'.concat((0,stringify_js_1.stringify)(domain),'".'),{metaMessages:["Must be a valid EIP-712 domain."]})}return _createClass(InvalidDomainError)}(base_js_1.BaseError);exports.InvalidDomainError=InvalidDomainError;var InvalidPrimaryTypeError=function(_base_js_1$BaseError2){_inherits(InvalidPrimaryTypeError,_base_js_1$BaseError2);var _super2=_createSuper(InvalidPrimaryTypeError);function InvalidPrimaryTypeError(_ref2){var primaryType=_ref2.primaryType,types=_ref2.types;_classCallCheck(this,InvalidPrimaryTypeError);return _super2.call(this,"Invalid primary type `".concat(primaryType,"` must be one of `").concat(JSON.stringify(Object.keys(types)),"`."),{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}return _createClass(InvalidPrimaryTypeError)}(base_js_1.BaseError);exports.InvalidPrimaryTypeError=InvalidPrimaryTypeError;var InvalidStructTypeError=function(_base_js_1$BaseError3){_inherits(InvalidStructTypeError,_base_js_1$BaseError3);var _super3=_createSuper(InvalidStructTypeError);function InvalidStructTypeError(_ref3){var type=_ref3.type;_classCallCheck(this,InvalidStructTypeError);return _super3.call(this,'Struct type "'.concat(type,'" is invalid.'),{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}return _createClass(InvalidStructTypeError)}(base_js_1.BaseError);exports.InvalidStructTypeError=InvalidStructTypeError},{"../utils/stringify.js":509,"./base.js":348}],369:[function(require,module,exports){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),o)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function _classCallCheck(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_setPrototypeOf(t,e)}function _createSuper(t){var r=_isNativeReflectConstruct();return function(){var e,o=_getPrototypeOf(t);if(r){var s=_getPrototypeOf(this).constructor;e=Reflect.construct(o,arguments,s)}else e=o.apply(this,arguments);return _possibleConstructorReturn(this,e)}}function _possibleConstructorReturn(t,e){if(e&&("object"==_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(_isNativeReflectConstruct=function _isNativeReflectConstruct(){return!!t})()}function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(t)}Object.defineProperty(exports,"__esModule",{value:true});exports.InvalidDecimalNumberError=void 0;var base_js_1=require("./base.js");var InvalidDecimalNumberError=function(_base_js_1$BaseError){_inherits(InvalidDecimalNumberError,_base_js_1$BaseError);var _super=_createSuper(InvalidDecimalNumberError);function InvalidDecimalNumberError(_ref){var value=_ref.value;_classCallCheck(this,InvalidDecimalNumberError);return _super.call(this,"Number `".concat(value,"` is not a valid decimal number."),{name:"InvalidDecimalNumberError"})}return _createClass(InvalidDecimalNumberError)}(base_js_1.BaseError);exports.InvalidDecimalNumberError=InvalidDecimalNumberError},{"./base.js":348}],370:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getUrl=exports.getContractAddress=void 0;var getContractAddress=function getContractAddress(address){return address};exports.getContractAddress=getContractAddress;var getUrl=function getUrl(url){return url};exports.getUrl=getUrl},{}],371:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.version=void 0;exports.version="2.29.0"},{}],372:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.maxInt8=exports.weiUnits=exports.gweiUnits=exports.etherUnits=exports.universalSignatureValidatorByteCode=exports.deploylessCallViaFactoryBytecode=exports.deploylessCallViaBytecodeBytecode=exports.zeroAddress=exports.ethAddress=exports.universalSignatureValidatorAbi=exports.erc4626Abi=exports.erc1155Abi=exports.erc721Abi=exports.erc20Abi_bytes32=exports.erc20Abi=exports.multicall3Abi=exports.webSocket=exports.createWalletClient=exports.createTransport=exports.walletActions=exports.testActions=exports.publicActions=exports.createTestClient=exports.createPublicClient=exports.http=exports.shouldThrow=exports.fallback=exports.custom=exports.rpcSchema=exports.createClient=exports.WaitForCallsStatusTimeoutError=exports.getContract=exports.parseAbiParameters=exports.parseAbiParameter=exports.parseAbiItem=exports.parseAbi=exports.UnknownSignatureError=exports.UnknownTypeError=exports.SolidityProtectedKeywordError=exports.InvalidStructSignatureError=exports.InvalidSignatureError=exports.InvalidParenthesisError=exports.InvalidParameterError=exports.InvalidModifierError=exports.InvalidFunctionModifierError=exports.InvalidAbiTypeParameterError=exports.InvalidAbiItemError=exports.InvalidAbiParametersError=exports.InvalidAbiParameterError=exports.CircularReferenceError=void 0;exports.maxUint152=exports.maxUint144=exports.maxUint136=exports.maxUint128=exports.maxUint120=exports.maxUint112=exports.maxUint104=exports.maxUint96=exports.maxUint88=exports.maxUint80=exports.maxUint72=exports.maxUint64=exports.maxUint56=exports.maxUint48=exports.maxUint40=exports.maxUint32=exports.maxUint24=exports.maxUint16=exports.maxUint8=exports.maxInt256=exports.maxInt248=exports.maxInt240=exports.maxInt232=exports.maxInt224=exports.maxInt216=exports.maxInt208=exports.maxInt200=exports.maxInt192=exports.maxInt184=exports.maxInt176=exports.maxInt168=exports.maxInt160=exports.maxInt152=exports.maxInt144=exports.maxInt136=exports.maxInt128=exports.maxInt120=exports.maxInt112=exports.maxInt104=exports.maxInt96=exports.maxInt88=exports.maxInt80=exports.maxInt72=exports.maxInt64=exports.maxInt56=exports.maxInt48=exports.maxInt40=exports.maxInt32=exports.maxInt24=exports.maxInt16=void 0;exports.AbiDecodingDataSizeInvalidError=exports.AbiConstructorParamsNotFoundError=exports.AbiConstructorNotFoundError=exports.presignMessagePrefix=exports.zeroHash=exports.minInt256=exports.minInt248=exports.minInt240=exports.minInt232=exports.minInt224=exports.minInt216=exports.minInt208=exports.minInt200=exports.minInt192=exports.minInt184=exports.minInt176=exports.minInt168=exports.minInt160=exports.minInt152=exports.minInt144=exports.minInt136=exports.minInt128=exports.minInt120=exports.minInt112=exports.minInt104=exports.minInt96=exports.minInt88=exports.minInt80=exports.minInt72=exports.minInt64=exports.minInt56=exports.minInt48=exports.minInt40=exports.minInt32=exports.minInt24=exports.minInt16=exports.minInt8=exports.maxUint256=exports.maxUint248=exports.maxUint240=exports.maxUint232=exports.maxUint224=exports.maxUint216=exports.maxUint208=exports.maxUint200=exports.maxUint192=exports.maxUint184=exports.maxUint176=exports.maxUint168=exports.maxUint160=void 0;exports.ProviderRpcError=exports.ProviderDisconnectedError=exports.ParseRpcError=exports.MethodNotSupportedRpcError=exports.MethodNotFoundRpcError=exports.LimitExceededRpcError=exports.JsonRpcVersionUnsupportedError=exports.InvalidRequestRpcError=exports.InvalidParamsRpcError=exports.InvalidInputRpcError=exports.InternalRpcError=exports.DuplicateIdError=exports.ChainDisconnectedError=exports.BundleTooLargeError=exports.AtomicityNotSupportedError=exports.AtomicReadyWalletRejectedUpgradeError=exports.MaxFeePerGasTooLowError=exports.Eip1559FeesNotSupportedError=exports.BaseFeeScalarError=exports.CounterfactualDeploymentFailedError=exports.RawContractError=exports.ContractFunctionZeroDataError=exports.ContractFunctionRevertedError=exports.ContractFunctionExecutionError=exports.CallExecutionError=exports.BlockNotFoundError=exports.setErrorConfig=exports.BaseError=exports.UnsupportedPackedAbiType=exports.InvalidDefinitionTypeError=exports.InvalidArrayError=exports.InvalidAbiEncodingTypeError=exports.InvalidAbiDecodingTypeError=exports.DecodeLogTopicsMismatch=exports.DecodeLogDataMismatch=exports.BytesSizeMismatchError=exports.AbiFunctionSignatureNotFoundError=exports.AbiFunctionOutputsNotFoundError=exports.AbiFunctionNotFoundError=exports.AbiEventSignatureNotFoundError=exports.AbiEventSignatureEmptyTopicsError=exports.AbiEventNotFoundError=exports.AbiErrorSignatureNotFoundError=exports.AbiErrorNotFoundError=exports.AbiErrorInputsNotFoundError=exports.AbiEncodingBytesSizeMismatchError=exports.AbiEncodingLengthMismatchError=exports.AbiEncodingArrayLengthMismatchError=exports.AbiDecodingZeroDataError=exports.AbiDecodingDataSizeTooSmallError=void 0;exports.InvalidSerializedTransactionError=exports.InvalidSerializableTransactionError=exports.InvalidLegacyVError=exports.FeeConflictError=exports.InvalidAddressError=exports.WebSocketRequestError=exports.SocketClosedError=exports.TimeoutError=exports.RpcRequestError=exports.HttpRequestError=exports.FilterTypeNotSupportedError=exports.UnknownNodeError=exports.TransactionTypeNotSupportedError=exports.TipAboveFeeCapError=exports.NonceTooLowError=exports.NonceTooHighError=exports.NonceMaxValueError=exports.IntrinsicGasTooLowError=exports.IntrinsicGasTooHighError=exports.InsufficientFundsError=exports.FeeCapTooLowError=exports.FeeCapTooHighError=exports.ExecutionRevertedError=exports.EstimateGasExecutionError=exports.InvalidDecimalNumberError=exports.EnsAvatarUnsupportedNamespaceError=exports.EnsAvatarInvalidNftUriError=exports.EnsAvatarUriResolutionError=exports.SizeOverflowError=exports.InvalidHexValueError=exports.InvalidHexBooleanError=exports.IntegerOutOfRangeError=exports.InvalidBytesBooleanError=exports.InvalidChainIdError=exports.ClientChainNotConfiguredError=exports.ChainNotFoundError=exports.ChainMismatchError=exports.ChainDoesNotSupportContract=exports.UserRejectedRequestError=exports.UnsupportedProviderMethodError=exports.UnsupportedNonOptionalCapabilityError=exports.UnsupportedChainIdError=exports.UnknownRpcError=exports.UnknownBundleIdError=exports.UnauthorizedProviderError=exports.TransactionRejectedRpcError=exports.SwitchChainError=exports.RpcError=exports.ResourceUnavailableRpcError=exports.ResourceNotFoundRpcError=void 0;exports.hashStruct=exports.hashDomain=exports.getTransactionType=exports.getSerializedTransactionType=exports.getCreateAddress=exports.getCreate2Address=exports.getContractAddress=exports.getAbiItem=exports.rpcTransactionType=exports.formatTransactionRequest=exports.defineTransactionRequest=exports.formatTransactionReceipt=exports.defineTransactionReceipt=exports.transactionType=exports.formatTransaction=exports.defineTransaction=exports.parseEventLogs=exports.encodeFunctionResult=exports.prepareEncodeFunctionData=exports.encodeFunctionData=exports.encodeEventTopics=exports.encodeErrorResult=exports.encodeDeployData=exports.encodeAbiParameters=exports.decodeFunctionResult=exports.decodeFunctionData=exports.decodeEventLog=exports.decodeErrorResult=exports.decodeDeployData=exports.decodeAbiParameters=exports.formatLog=exports.formatBlock=exports.defineBlock=exports.namehash=exports.labelhash=exports.EIP1193ProviderRpcError=exports.InvalidStructTypeError=exports.InvalidPrimaryTypeError=exports.InvalidDomainError=exports.StateAssignmentConflictError=exports.AccountStateConflictError=exports.UrlRequiredError=exports.SliceOffsetOutOfBoundsError=exports.SizeExceedsPaddingSizeError=exports.WaitForTransactionReceiptTimeoutError=exports.TransactionReceiptNotFoundError=exports.TransactionNotFoundError=exports.TransactionExecutionError=exports.InvalidStorageKeySizeError=exports.InvalidSerializedTransactionTypeError=void 0;exports.blobsToCommitments=exports.offchainLookupSignature=exports.offchainLookupAbiItem=exports.offchainLookup=exports.ccipFetch=exports.ccipRequest=exports.fromBytes=exports.bytesToString=exports.bytesToNumber=exports.bytesToBool=exports.bytesToBigInt=exports.toHex=exports.stringToHex=exports.numberToHex=exports.bytesToHex=exports.boolToHex=exports.toBytes=exports.stringToBytes=exports.numberToBytes=exports.hexToBytes=exports.boolToBytes=exports.assertTransactionLegacy=exports.assertTransactionEIP2930=exports.assertTransactionEIP1559=exports.assertRequest=exports.serializeErc6492Signature=exports.isErc6492Signature=exports.parseErc6492Signature=exports.verifyTypedData=exports.verifyMessage=exports.verifyHash=exports.toRlp=exports.hexToRlp=exports.bytesToRlp=exports.serializeSignature=exports.signatureToHex=exports.serializeCompactSignature=exports.compactSignatureToHex=exports.signatureToCompactSignature=exports.recoverTypedDataAddress=exports.recoverTransactionAddress=exports.recoverPublicKey=exports.recoverMessageAddress=exports.recoverAddress=exports.parseSignature=exports.hexToSignature=exports.parseCompactSignature=exports.hexToCompactSignature=exports.compactSignatureToSignature=exports.hashTypedData=void 0;exports.keccak256=exports.isHex=exports.isHash=exports.isBytes=exports.isAddressEqual=exports.isAddress=exports.toPrefixedMessage=exports.hashMessage=exports.toFunctionHash=exports.toEventHash=exports.getFunctionSignature=exports.toFunctionSignature=exports.getEventSignature=exports.toEventSignature=exports.getFunctionSelector=exports.toFunctionSelector=exports.getEventSelector=exports.toEventSelector=exports.getContractError=exports.getAddress=exports.checksumAddress=exports.fromRlp=exports.hexToString=exports.hexToNumber=exports.hexToBool=exports.hexToBigInt=exports.fromHex=exports.formatUnits=exports.formatGwei=exports.formatEther=exports.withTimeout=exports.withRetry=exports.withCache=exports.encodePacked=exports.getChainContractAddress=exports.extractChain=exports.defineChain=exports.assertCurrentChain=exports.concatHex=exports.concatBytes=exports.concat=exports.setupKzg=exports.defineKzg=exports.toBlobs=exports.toBlobSidecars=exports.fromBlobs=exports.blobsToProofs=exports.sidecarsToVersionedHashes=exports.commitmentsToVersionedHashes=exports.commitmentToVersionedHash=void 0;exports.nonceManager=exports.createNonceManager=exports.getTypesForEIP712Domain=exports.domainSeparator=exports.validateTypedData=exports.serializeTypedData=exports.trim=exports.stringify=exports.sliceHex=exports.sliceBytes=exports.slice=exports.size=exports.serializeTransaction=exports.serializeAccessList=exports.parseUnits=exports.parseTransaction=exports.parseGwei=exports.parseEther=exports.padHex=exports.padBytes=exports.pad=exports.ripemd160=exports.sha256=void 0;var abitype_1=require("abitype");Object.defineProperty(exports,"CircularReferenceError",{enumerable:true,get:function get(){return abitype_1.CircularReferenceError}});Object.defineProperty(exports,"InvalidAbiParameterError",{enumerable:true,get:function get(){return abitype_1.InvalidAbiParameterError}});Object.defineProperty(exports,"InvalidAbiParametersError",{enumerable:true,get:function get(){return abitype_1.InvalidAbiParametersError}});Object.defineProperty(exports,"InvalidAbiItemError",{enumerable:true,get:function get(){return abitype_1.InvalidAbiItemError}});Object.defineProperty(exports,"InvalidAbiTypeParameterError",{enumerable:true,get:function get(){return abitype_1.InvalidAbiTypeParameterError}});Object.defineProperty(exports,"InvalidFunctionModifierError",{enumerable:true,get:function get(){return abitype_1.InvalidFunctionModifierError}});Object.defineProperty(exports,"InvalidModifierError",{enumerable:true,get:function get(){return abitype_1.InvalidModifierError}});Object.defineProperty(exports,"InvalidParameterError",{enumerable:true,get:function get(){return abitype_1.InvalidParameterError}});Object.defineProperty(exports,"InvalidParenthesisError",{enumerable:true,get:function get(){return abitype_1.InvalidParenthesisError}});Object.defineProperty(exports,"InvalidSignatureError",{enumerable:true,get:function get(){return abitype_1.InvalidSignatureError}});Object.defineProperty(exports,"InvalidStructSignatureError",{enumerable:true,get:function get(){return abitype_1.InvalidStructSignatureError}});Object.defineProperty(exports,"SolidityProtectedKeywordError",{enumerable:true,get:function get(){return abitype_1.SolidityProtectedKeywordError}});Object.defineProperty(exports,"UnknownTypeError",{enumerable:true,get:function get(){return abitype_1.UnknownTypeError}});Object.defineProperty(exports,"UnknownSignatureError",{enumerable:true,get:function get(){return abitype_1.UnknownSignatureError}});Object.defineProperty(exports,"parseAbi",{enumerable:true,get:function get(){return abitype_1.parseAbi}});Object.defineProperty(exports,"parseAbiItem",{enumerable:true,get:function get(){return abitype_1.parseAbiItem}});Object.defineProperty(exports,"parseAbiParameter",{enumerable:true,get:function get(){return abitype_1.parseAbiParameter}});Object.defineProperty(exports,"parseAbiParameters",{enumerable:true,get:function get(){return abitype_1.parseAbiParameters}});var getContract_js_1=require("./actions/getContract.js");Object.defineProperty(exports,"getContract",{enumerable:true,get:function get(){return getContract_js_1.getContract}});var waitForCallsStatus_js_1=require("./actions/wallet/waitForCallsStatus.js");Object.defineProperty(exports,"WaitForCallsStatusTimeoutError",{enumerable:true,get:function get(){return waitForCallsStatus_js_1.WaitForCallsStatusTimeoutError}});var createClient_js_1=require("./clients/createClient.js");Object.defineProperty(exports,"createClient",{enumerable:true,get:function get(){return createClient_js_1.createClient}});Object.defineProperty(exports,"rpcSchema",{enumerable:true,get:function get(){return createClient_js_1.rpcSchema}});var custom_js_1=require("./clients/transports/custom.js");Object.defineProperty(exports,"custom",{enumerable:true,get:function get(){return custom_js_1.custom}});var fallback_js_1=require("./clients/transports/fallback.js");Object.defineProperty(exports,"fallback",{enumerable:true,get:function get(){return fallback_js_1.fallback}});Object.defineProperty(exports,"shouldThrow",{enumerable:true,get:function get(){return fallback_js_1.shouldThrow}});var http_js_1=require("./clients/transports/http.js");Object.defineProperty(exports,"http",{enumerable:true,get:function get(){return http_js_1.http}});var createPublicClient_js_1=require("./clients/createPublicClient.js");Object.defineProperty(exports,"createPublicClient",{enumerable:true,get:function get(){return createPublicClient_js_1.createPublicClient}});var createTestClient_js_1=require("./clients/createTestClient.js");Object.defineProperty(exports,"createTestClient",{enumerable:true,get:function get(){return createTestClient_js_1.createTestClient}});var public_js_1=require("./clients/decorators/public.js");Object.defineProperty(exports,"publicActions",{enumerable:true,get:function get(){return public_js_1.publicActions}});var test_js_1=require("./clients/decorators/test.js");Object.defineProperty(exports,"testActions",{enumerable:true,get:function get(){return test_js_1.testActions}});var wallet_js_1=require("./clients/decorators/wallet.js");Object.defineProperty(exports,"walletActions",{enumerable:true,get:function get(){return wallet_js_1.walletActions}});var createTransport_js_1=require("./clients/transports/createTransport.js");Object.defineProperty(exports,"createTransport",{enumerable:true,get:function get(){return createTransport_js_1.createTransport}});var createWalletClient_js_1=require("./clients/createWalletClient.js");Object.defineProperty(exports,"createWalletClient",{enumerable:true,get:function get(){return createWalletClient_js_1.createWalletClient}});var webSocket_js_1=require("./clients/transports/webSocket.js");Object.defineProperty(exports,"webSocket",{enumerable:true,get:function get(){return webSocket_js_1.webSocket}});var abis_js_1=require("./constants/abis.js");Object.defineProperty(exports,"multicall3Abi",{enumerable:true,get:function get(){return abis_js_1.multicall3Abi}});Object.defineProperty(exports,"erc20Abi",{enumerable:true,get:function get(){return abis_js_1.erc20Abi}});Object.defineProperty(exports,"erc20Abi_bytes32",{enumerable:true,get:function get(){return abis_js_1.erc20Abi_bytes32}});Object.defineProperty(exports,"erc721Abi",{enumerable:true,get:function get(){return abis_js_1.erc721Abi}});Object.defineProperty(exports,"erc1155Abi",{enumerable:true,get:function get(){return abis_js_1.erc1155Abi}});Object.defineProperty(exports,"erc4626Abi",{enumerable:true,get:function get(){return abis_js_1.erc4626Abi}});Object.defineProperty(exports,"universalSignatureValidatorAbi",{enumerable:true,get:function get(){return abis_js_1.universalSignatureValidatorAbi}});var address_js_1=require("./constants/address.js");Object.defineProperty(exports,"ethAddress",{enumerable:true,get:function get(){return address_js_1.ethAddress}});Object.defineProperty(exports,"zeroAddress",{enumerable:true,get:function get(){return address_js_1.zeroAddress}});var contracts_js_1=require("./constants/contracts.js");Object.defineProperty(exports,"deploylessCallViaBytecodeBytecode",{enumerable:true,get:function get(){return contracts_js_1.deploylessCallViaBytecodeBytecode}});Object.defineProperty(exports,"deploylessCallViaFactoryBytecode",{enumerable:true,get:function get(){return contracts_js_1.deploylessCallViaFactoryBytecode}});Object.defineProperty(exports,"universalSignatureValidatorByteCode",{enumerable:true,get:function get(){return contracts_js_1.universalSignatureValidatorByteCode}});var unit_js_1=require("./constants/unit.js");Object.defineProperty(exports,"etherUnits",{enumerable:true,get:function get(){return unit_js_1.etherUnits}});Object.defineProperty(exports,"gweiUnits",{enumerable:true,get:function get(){return unit_js_1.gweiUnits}});Object.defineProperty(exports,"weiUnits",{enumerable:true,get:function get(){return unit_js_1.weiUnits}});var number_js_1=require("./constants/number.js");Object.defineProperty(exports,"maxInt8",{enumerable:true,get:function get(){return number_js_1.maxInt8}});Object.defineProperty(exports,"maxInt16",{enumerable:true,get:function get(){return number_js_1.maxInt16}});Object.defineProperty(exports,"maxInt24",{enumerable:true,get:function get(){return number_js_1.maxInt24}});Object.defineProperty(exports,"maxInt32",{enumerable:true,get:function get(){return number_js_1.maxInt32}});Object.defineProperty(exports,"maxInt40",{enumerable:true,get:function get(){return number_js_1.maxInt40}});Object.defineProperty(exports,"maxInt48",{enumerable:true,get:function get(){return number_js_1.maxInt48}});Object.defineProperty(exports,"maxInt56",{enumerable:true,get:function get(){return number_js_1.maxInt56}});Object.defineProperty(exports,"maxInt64",{enumerable:true,get:function get(){return number_js_1.maxInt64}});Object.defineProperty(exports,"maxInt72",{enumerable:true,get:function get(){return number_js_1.maxInt72}});Object.defineProperty(exports,"maxInt80",{enumerable:true,get:function get(){return number_js_1.maxInt80}});Object.defineProperty(exports,"maxInt88",{enumerable:true,get:function get(){return number_js_1.maxInt88}});Object.defineProperty(exports,"maxInt96",{enumerable:true,get:function get(){return number_js_1.maxInt96}});Object.defineProperty(exports,"maxInt104",{enumerable:true,get:function get(){return number_js_1.maxInt104}});Object.defineProperty(exports,"maxInt112",{enumerable:true,get:function get(){return number_js_1.maxInt112}});Object.defineProperty(exports,"maxInt120",{enumerable:true,get:function get(){return number_js_1.maxInt120}});Object.defineProperty(exports,"maxInt128",{enumerable:true,get:function get(){return number_js_1.maxInt128}});Object.defineProperty(exports,"maxInt136",{enumerable:true,get:function get(){return number_js_1.maxInt136}});Object.defineProperty(exports,"maxInt144",{enumerable:true,get:function get(){return number_js_1.maxInt144}});Object.defineProperty(exports,"maxInt152",{enumerable:true,get:function get(){return number_js_1.maxInt152}});Object.defineProperty(exports,"maxInt160",{enumerable:true,get:function get(){return number_js_1.maxInt160}});Object.defineProperty(exports,"maxInt168",{enumerable:true,get:function get(){return number_js_1.maxInt168}});Object.defineProperty(exports,"maxInt176",{enumerable:true,get:function get(){return number_js_1.maxInt176}});Object.defineProperty(exports,"maxInt184",{enumerable:true,get:function get(){return number_js_1.maxInt184}});Object.defineProperty(exports,"maxInt192",{enumerable:true,get:function get(){return number_js_1.maxInt192}});Object.defineProperty(exports,"maxInt200",{enumerable:true,get:function get(){return number_js_1.maxInt200}});Object.defineProperty(exports,"maxInt208",{enumerable:true,get:function get(){return number_js_1.maxInt208}});Object.defineProperty(exports,"maxInt216",{enumerable:true,get:function get(){return number_js_1.maxInt216}});Object.defineProperty(exports,"maxInt224",{enumerable:true,get:function get(){return number_js_1.maxInt224}});Object.defineProperty(exports,"maxInt232",{enumerable:true,get:function get(){return number_js_1.maxInt232}});Object.defineProperty(exports,"maxInt240",{enumerable:true,get:function get(){return number_js_1.maxInt240}});Object.defineProperty(exports,"maxInt248",{enumerable:true,get:function get(){return number_js_1.maxInt248}});Object.defineProperty(exports,"maxInt256",{enumerable:true,get:function get(){return number_js_1.maxInt256}});Object.defineProperty(exports,"maxUint8",{enumerable:true,get:function get(){return number_js_1.maxUint8}});Object.defineProperty(exports,"maxUint16",{enumerable:true,get:function get(){return number_js_1.maxUint16}});Object.defineProperty(exports,"maxUint24",{enumerable:true,get:function get(){return number_js_1.maxUint24}});Object.defineProperty(exports,"maxUint32",{enumerable:true,get:function get(){return number_js_1.maxUint32}});Object.defineProperty(exports,"maxUint40",{enumerable:true,get:function get(){return number_js_1.maxUint40}});Object.defineProperty(exports,"maxUint48",{enumerable:true,get:function get(){return number_js_1.maxUint48}});Object.defineProperty(exports,"maxUint56",{enumerable:true,get:function get(){return number_js_1.maxUint56}});Object.defineProperty(exports,"maxUint64",{enumerable:true,get:function get(){return number_js_1.maxUint64}});Object.defineProperty(exports,"maxUint72",{enumerable:true,get:function get(){return number_js_1.maxUint72}});Object.defineProperty(exports,"maxUint80",{enumerable:true,get:function get(){return number_js_1.maxUint80}});Object.defineProperty(exports,"maxUint88",{enumerable:true,get:function get(){return number_js_1.maxUint88}});Object.defineProperty(exports,"maxUint96",{enumerable:true,get:function get(){return number_js_1.maxUint96}});Object.defineProperty(exports,"maxUint104",{enumerable:true,get:function get(){return number_js_1.maxUint104}});Object.defineProperty(exports,"maxUint112",{enumerable:true,get:function get(){return number_js_1.maxUint112}});Object.defineProperty(exports,"maxUint120",{enumerable:true,get:function get(){return number_js_1.maxUint120}});Object.defineProperty(exports,"maxUint128",{enumerable:true,get:function get(){return number_js_1.maxUint128}});Object.defineProperty(exports,"maxUint136",{enumerable:true,get:function get(){return number_js_1.maxUint136}});Object.defineProperty(exports,"maxUint144",{enumerable:true,get:function get(){return number_js_1.maxUint144}});Object.defineProperty(exports,"maxUint152",{enumerable:true,get:function get(){return number_js_1.maxUint152}});Object.defineProperty(exports,"maxUint160",{enumerable:true,get:function get(){return number_js_1.maxUint160}});Object.defineProperty(exports,"maxUint168",{enumerable:true,get:function get(){return number_js_1.maxUint168}});Object.defineProperty(exports,"maxUint176",{enumerable:true,get:function get(){return number_js_1.maxUint176}});Object.defineProperty(exports,"maxUint184",{enumerable:true,get:function get(){return number_js_1.maxUint184}});Object.defineProperty(exports,"maxUint192",{enumerable:true,get:function get(){return number_js_1.maxUint192}});Object.defineProperty(exports,"maxUint200",{enumerable:true,get:function get(){return number_js_1.maxUint200}});Object.defineProperty(exports,"maxUint208",{enumerable:true,get:function get(){return number_js_1.maxUint208}});Object.defineProperty(exports,"maxUint216",{enumerable:true,get:function get(){return number_js_1.maxUint216}});Object.defineProperty(exports,"maxUint224",{enumerable:true,get:function get(){return number_js_1.maxUint224}});Object.defineProperty(exports,"maxUint232",{enumerable:true,get:function get(){return number_js_1.maxUint232}});Object.defineProperty(exports,"maxUint240",{enumerable:true,get:function get(){return number_js_1.maxUint240}});Object.defineProperty(exports,"maxUint248",{enumerable:true,get:function get(){return number_js_1.maxUint248}});Object.defineProperty(exports,"maxUint256",{enumerable:true,get:function get(){return number_js_1.maxUint256}});Object.defineProperty(exports,"minInt8",{enumerable:true,get:function get(){return number_js_1.minInt8}});Object.defineProperty(exports,"minInt16",{enumerable:true,get:function get(){return number_js_1.minInt16}});Object.defineProperty(exports,"minInt24",{enumerable:true,get:function get(){return number_js_1.minInt24}});Object.defineProperty(exports,"minInt32",{enumerable:true,get:function get(){return number_js_1.minInt32}});Object.defineProperty(exports,"minInt40",{enumerable:true,get:function get(){return number_js_1.minInt40}});Object.defineProperty(exports,"minInt48",{enumerable:true,get:function get(){return number_js_1.minInt48}});Object.defineProperty(exports,"minInt56",{enumerable:true,get:function get(){return number_js_1.minInt56}});Object.defineProperty(exports,"minInt64",{enumerable:true,get:function get(){return number_js_1.minInt64}});Object.defineProperty(exports,"minInt72",{enumerable:true,get:function get(){return number_js_1.minInt72}});Object.defineProperty(exports,"minInt80",{enumerable:true,get:function get(){return number_js_1.minInt80}});Object.defineProperty(exports,"minInt88",{enumerable:true,get:function get(){return number_js_1.minInt88}});Object.defineProperty(exports,"minInt96",{enumerable:true,get:function get(){return number_js_1.minInt96}});Object.defineProperty(exports,"minInt104",{enumerable:true,get:function get(){return number_js_1.minInt104}});Object.defineProperty(exports,"minInt112",{enumerable:true,get:function get(){return number_js_1.minInt112}});Object.defineProperty(exports,"minInt120",{enumerable:true,get:function get(){return number_js_1.minInt120}});Object.defineProperty(exports,"minInt128",{enumerable:true,get:function get(){return number_js_1.minInt128}});Object.defineProperty(exports,"minInt136",{enumerable:true,get:function get(){return number_js_1.minInt136}});Object.defineProperty(exports,"minInt144",{enumerable:true,get:function get(){return number_js_1.minInt144}});Object.defineProperty(exports,"minInt152",{enumerable:true,get:function get(){return number_js_1.minInt152}});Object.defineProperty(exports,"minInt160",{enumerable:true,get:function get(){return number_js_1.minInt160}});Object.defineProperty(exports,"minInt168",{enumerable:true,get:function get(){return number_js_1.minInt168}});Object.defineProperty(exports,"minInt176",{enumerable:true,get:function get(){return number_js_1.minInt176}});Object.defineProperty(exports,"minInt184",{enumerable:true,get:function get(){return number_js_1.minInt184}});Object.defineProperty(exports,"minInt192",{enumerable:true,get:function get(){return number_js_1.minInt192}});Object.defineProperty(exports,"minInt200",{enumerable:true,get:function get(){return number_js_1.minInt200}});Object.defineProperty(exports,"minInt208",{enumerable:true,get:function get(){return number_js_1.minInt208}});Object.defineProperty(exports,"minInt216",{enumerable:true,get:function get(){return number_js_1.minInt216}});Object.defineProperty(exports,"minInt224",{enumerable:true,get:function get(){return number_js_1.minInt224}});Object.defineProperty(exports,"minInt232",{enumerable:true,get:function get(){return number_js_1.minInt232}});Object.defineProperty(exports,"minInt240",{enumerable:true,get:function get(){return number_js_1.minInt240}});Object.defineProperty(exports,"minInt248",{enumerable:true,get:function get(){return number_js_1.minInt248}});Object.defineProperty(exports,"minInt256",{enumerable:true,get:function get(){return number_js_1.minInt256}});var bytes_js_1=require("./constants/bytes.js");Object.defineProperty(exports,"zeroHash",{enumerable:true,get:function get(){return bytes_js_1.zeroHash}});var strings_js_1=require("./constants/strings.js");Object.defineProperty(exports,"presignMessagePrefix",{enumerable:true,get:function get(){return strings_js_1.presignMessagePrefix}});var abi_js_1=require("./errors/abi.js");Object.defineProperty(exports,"AbiConstructorNotFoundError",{enumerable:true,get:function get(){return abi_js_1.AbiConstructorNotFoundError}});Object.defineProperty(exports,"AbiConstructorParamsNotFoundError",{enumerable:true,get:function get(){return abi_js_1.AbiConstructorParamsNotFoundError}});Object.defineProperty(exports,"AbiDecodingDataSizeInvalidError",{enumerable:true,get:function get(){return abi_js_1.AbiDecodingDataSizeInvalidError}});Object.defineProperty(exports,"AbiDecodingDataSizeTooSmallError",{enumerable:true,get:function get(){return abi_js_1.AbiDecodingDataSizeTooSmallError}});Object.defineProperty(exports,"AbiDecodingZeroDataError",{enumerable:true,get:function get(){return abi_js_1.AbiDecodingZeroDataError}});Object.defineProperty(exports,"AbiEncodingArrayLengthMismatchError",{enumerable:true,get:function get(){return abi_js_1.AbiEncodingArrayLengthMismatchError}});Object.defineProperty(exports,"AbiEncodingLengthMismatchError",{enumerable:true,get:function get(){return abi_js_1.AbiEncodingLengthMismatchError}});Object.defineProperty(exports,"AbiEncodingBytesSizeMismatchError",{enumerable:true,get:function get(){return abi_js_1.AbiEncodingBytesSizeMismatchError}});Object.defineProperty(exports,"AbiErrorInputsNotFoundError",{enumerable:true,get:function get(){return abi_js_1.AbiErrorInputsNotFoundError}});Object.defineProperty(exports,"AbiErrorNotFoundError",{enumerable:true,get:function get(){return abi_js_1.AbiErrorNotFoundError}});Object.defineProperty(exports,"AbiErrorSignatureNotFoundError",{enumerable:true,get:function get(){return abi_js_1.AbiErrorSignatureNotFoundError}});Object.defineProperty(exports,"AbiEventNotFoundError",{enumerable:true,get:function get(){return abi_js_1.AbiEventNotFoundError}});Object.defineProperty(exports,"AbiEventSignatureEmptyTopicsError",{enumerable:true,get:function get(){return abi_js_1.AbiEventSignatureEmptyTopicsError}});Object.defineProperty(exports,"AbiEventSignatureNotFoundError",{enumerable:true,get:function get(){return abi_js_1.AbiEventSignatureNotFoundError}});Object.defineProperty(exports,"AbiFunctionNotFoundError",{enumerable:true,get:function get(){return abi_js_1.AbiFunctionNotFoundError}});Object.defineProperty(exports,"AbiFunctionOutputsNotFoundError",{enumerable:true,get:function get(){return abi_js_1.AbiFunctionOutputsNotFoundError}});Object.defineProperty(exports,"AbiFunctionSignatureNotFoundError",{enumerable:true,get:function get(){return abi_js_1.AbiFunctionSignatureNotFoundError}});Object.defineProperty(exports,"BytesSizeMismatchError",{enumerable:true,get:function get(){return abi_js_1.BytesSizeMismatchError}});Object.defineProperty(exports,"DecodeLogDataMismatch",{enumerable:true,get:function get(){return abi_js_1.DecodeLogDataMismatch}});Object.defineProperty(exports,"DecodeLogTopicsMismatch",{enumerable:true,get:function get(){return abi_js_1.DecodeLogTopicsMismatch}});Object.defineProperty(exports,"InvalidAbiDecodingTypeError",{enumerable:true,get:function get(){return abi_js_1.InvalidAbiDecodingTypeError}});Object.defineProperty(exports,"InvalidAbiEncodingTypeError",{enumerable:true,get:function get(){return abi_js_1.InvalidAbiEncodingTypeError}});Object.defineProperty(exports,"InvalidArrayError",{enumerable:true,get:function get(){return abi_js_1.InvalidArrayError}});Object.defineProperty(exports,"InvalidDefinitionTypeError",{enumerable:true,get:function get(){return abi_js_1.InvalidDefinitionTypeError}});Object.defineProperty(exports,"UnsupportedPackedAbiType",{enumerable:true,get:function get(){return abi_js_1.UnsupportedPackedAbiType}});var base_js_1=require("./errors/base.js");Object.defineProperty(exports,"BaseError",{enumerable:true,get:function get(){return base_js_1.BaseError}});Object.defineProperty(exports,"setErrorConfig",{enumerable:true,get:function get(){return base_js_1.setErrorConfig}});var block_js_1=require("./errors/block.js");Object.defineProperty(exports,"BlockNotFoundError",{enumerable:true,get:function get(){return block_js_1.BlockNotFoundError}});var contract_js_1=require("./errors/contract.js");Object.defineProperty(exports,"CallExecutionError",{enumerable:true,get:function get(){return contract_js_1.CallExecutionError}});Object.defineProperty(exports,"ContractFunctionExecutionError",{enumerable:true,get:function get(){return contract_js_1.ContractFunctionExecutionError}});Object.defineProperty(exports,"ContractFunctionRevertedError",{enumerable:true,get:function get(){return contract_js_1.ContractFunctionRevertedError}});Object.defineProperty(exports,"ContractFunctionZeroDataError",{enumerable:true,get:function get(){return contract_js_1.ContractFunctionZeroDataError}});Object.defineProperty(exports,"RawContractError",{enumerable:true,get:function get(){return contract_js_1.RawContractError}});Object.defineProperty(exports,"CounterfactualDeploymentFailedError",{enumerable:true,get:function get(){return contract_js_1.CounterfactualDeploymentFailedError}});var fee_js_1=require("./errors/fee.js");Object.defineProperty(exports,"BaseFeeScalarError",{enumerable:true,get:function get(){return fee_js_1.BaseFeeScalarError}});Object.defineProperty(exports,"Eip1559FeesNotSupportedError",{enumerable:true,get:function get(){return fee_js_1.Eip1559FeesNotSupportedError}});Object.defineProperty(exports,"MaxFeePerGasTooLowError",{enumerable:true,get:function get(){return fee_js_1.MaxFeePerGasTooLowError}});var rpc_js_1=require("./errors/rpc.js");Object.defineProperty(exports,"AtomicReadyWalletRejectedUpgradeError",{enumerable:true,get:function get(){return rpc_js_1.AtomicReadyWalletRejectedUpgradeError}});Object.defineProperty(exports,"AtomicityNotSupportedError",{enumerable:true,get:function get(){return rpc_js_1.AtomicityNotSupportedError}});Object.defineProperty(exports,"BundleTooLargeError",{enumerable:true,get:function get(){return rpc_js_1.BundleTooLargeError}});Object.defineProperty(exports,"ChainDisconnectedError",{enumerable:true,get:function get(){return rpc_js_1.ChainDisconnectedError}});Object.defineProperty(exports,"DuplicateIdError",{enumerable:true,get:function get(){return rpc_js_1.DuplicateIdError}});Object.defineProperty(exports,"InternalRpcError",{enumerable:true,get:function get(){return rpc_js_1.InternalRpcError}});Object.defineProperty(exports,"InvalidInputRpcError",{enumerable:true,get:function get(){return rpc_js_1.InvalidInputRpcError}});Object.defineProperty(exports,"InvalidParamsRpcError",{enumerable:true,get:function get(){return rpc_js_1.InvalidParamsRpcError}});Object.defineProperty(exports,"InvalidRequestRpcError",{enumerable:true,get:function get(){return rpc_js_1.InvalidRequestRpcError}});Object.defineProperty(exports,"JsonRpcVersionUnsupportedError",{enumerable:true,get:function get(){return rpc_js_1.JsonRpcVersionUnsupportedError}});Object.defineProperty(exports,"LimitExceededRpcError",{enumerable:true,get:function get(){return rpc_js_1.LimitExceededRpcError}});Object.defineProperty(exports,"MethodNotFoundRpcError",{enumerable:true,get:function get(){return rpc_js_1.MethodNotFoundRpcError}});Object.defineProperty(exports,"MethodNotSupportedRpcError",{enumerable:true,get:function get(){return rpc_js_1.MethodNotSupportedRpcError}});Object.defineProperty(exports,"ParseRpcError",{enumerable:true,get:function get(){return rpc_js_1.ParseRpcError}});Object.defineProperty(exports,"ProviderDisconnectedError",{enumerable:true,get:function get(){return rpc_js_1.ProviderDisconnectedError}});Object.defineProperty(exports,"ProviderRpcError",{enumerable:true,get:function get(){return rpc_js_1.ProviderRpcError}});Object.defineProperty(exports,"ResourceNotFoundRpcError",{enumerable:true,get:function get(){return rpc_js_1.ResourceNotFoundRpcError}});Object.defineProperty(exports,"ResourceUnavailableRpcError",{enumerable:true,get:function get(){return rpc_js_1.ResourceUnavailableRpcError}});Object.defineProperty(exports,"RpcError",{enumerable:true,get:function get(){return rpc_js_1.RpcError}});Object.defineProperty(exports,"SwitchChainError",{enumerable:true,get:function get(){return rpc_js_1.SwitchChainError}});Object.defineProperty(exports,"TransactionRejectedRpcError",{enumerable:true,get:function get(){return rpc_js_1.TransactionRejectedRpcError}});Object.defineProperty(exports,"UnauthorizedProviderError",{enumerable:true,get:function get(){return rpc_js_1.UnauthorizedProviderError}});Object.defineProperty(exports,"UnknownBundleIdError",{enumerable:true,get:function get(){return rpc_js_1.UnknownBundleIdError}});Object.defineProperty(exports,"UnknownRpcError",{enumerable:true,get:function get(){return rpc_js_1.UnknownRpcError}});Object.defineProperty(exports,"UnsupportedChainIdError",{enumerable:true,get:function get(){return rpc_js_1.UnsupportedChainIdError}});Object.defineProperty(exports,"UnsupportedNonOptionalCapabilityError",{enumerable:true,get:function get(){return rpc_js_1.UnsupportedNonOptionalCapabilityError}});Object.defineProperty(exports,"UnsupportedProviderMethodError",{enumerable:true,get:function get(){return rpc_js_1.UnsupportedProviderMethodError}});Object.defineProperty(exports,"UserRejectedRequestError",{enumerable:true,get:function get(){return rpc_js_1.UserRejectedRequestError}});var chain_js_1=require("./errors/chain.js");Object.defineProperty(exports,"ChainDoesNotSupportContract",{enumerable:true,get:function get(){return chain_js_1.ChainDoesNotSupportContract}});Object.defineProperty(exports,"ChainMismatchError",{enumerable:true,get:function get(){return chain_js_1.ChainMismatchError}});Object.defineProperty(exports,"ChainNotFoundError",{enumerable:true,get:function get(){return chain_js_1.ChainNotFoundError}});Object.defineProperty(exports,"ClientChainNotConfiguredError",{enumerable:true,get:function get(){return chain_js_1.ClientChainNotConfiguredError}});Object.defineProperty(exports,"InvalidChainIdError",{enumerable:true,get:function get(){return chain_js_1.InvalidChainIdError}});var encoding_js_1=require("./errors/encoding.js");Object.defineProperty(exports,"InvalidBytesBooleanError",{enumerable:true,get:function get(){return encoding_js_1.InvalidBytesBooleanError}});Object.defineProperty(exports,"IntegerOutOfRangeError",{enumerable:true,get:function get(){return encoding_js_1.IntegerOutOfRangeError}});Object.defineProperty(exports,"InvalidHexBooleanError",{enumerable:true,get:function get(){return encoding_js_1.InvalidHexBooleanError}});Object.defineProperty(exports,"InvalidHexValueError",{enumerable:true,get:function get(){return encoding_js_1.InvalidHexValueError}});Object.defineProperty(exports,"SizeOverflowError",{enumerable:true,get:function get(){return encoding_js_1.SizeOverflowError}});var ens_js_1=require("./errors/ens.js");Object.defineProperty(exports,"EnsAvatarUriResolutionError",{enumerable:true,get:function get(){return ens_js_1.EnsAvatarUriResolutionError}});Object.defineProperty(exports,"EnsAvatarInvalidNftUriError",{enumerable:true,get:function get(){return ens_js_1.EnsAvatarInvalidNftUriError}});Object.defineProperty(exports,"EnsAvatarUnsupportedNamespaceError",{enumerable:true,get:function get(){return ens_js_1.EnsAvatarUnsupportedNamespaceError}});var unit_js_2=require("./errors/unit.js");Object.defineProperty(exports,"InvalidDecimalNumberError",{enumerable:true,get:function get(){return unit_js_2.InvalidDecimalNumberError}});var estimateGas_js_1=require("./errors/estimateGas.js");Object.defineProperty(exports,"EstimateGasExecutionError",{enumerable:true,get:function get(){return estimateGas_js_1.EstimateGasExecutionError}});var node_js_1=require("./errors/node.js");Object.defineProperty(exports,"ExecutionRevertedError",{enumerable:true,get:function get(){return node_js_1.ExecutionRevertedError}});Object.defineProperty(exports,"FeeCapTooHighError",{enumerable:true,get:function get(){return node_js_1.FeeCapTooHighError}});Object.defineProperty(exports,"FeeCapTooLowError",{enumerable:true,get:function get(){return node_js_1.FeeCapTooLowError}});Object.defineProperty(exports,"InsufficientFundsError",{enumerable:true,get:function get(){return node_js_1.InsufficientFundsError}});Object.defineProperty(exports,"IntrinsicGasTooHighError",{enumerable:true,get:function get(){return node_js_1.IntrinsicGasTooHighError}});Object.defineProperty(exports,"IntrinsicGasTooLowError",{enumerable:true,get:function get(){return node_js_1.IntrinsicGasTooLowError}});Object.defineProperty(exports,"NonceMaxValueError",{enumerable:true,get:function get(){return node_js_1.NonceMaxValueError}});Object.defineProperty(exports,"NonceTooHighError",{enumerable:true,get:function get(){return node_js_1.NonceTooHighError}});Object.defineProperty(exports,"NonceTooLowError",{enumerable:true,get:function get(){return node_js_1.NonceTooLowError}});Object.defineProperty(exports,"TipAboveFeeCapError",{enumerable:true,get:function get(){return node_js_1.TipAboveFeeCapError}});Object.defineProperty(exports,"TransactionTypeNotSupportedError",{enumerable:true,get:function get(){return node_js_1.TransactionTypeNotSupportedError}});Object.defineProperty(exports,"UnknownNodeError",{enumerable:true,get:function get(){return node_js_1.UnknownNodeError}});var log_js_1=require("./errors/log.js");Object.defineProperty(exports,"FilterTypeNotSupportedError",{enumerable:true,get:function get(){return log_js_1.FilterTypeNotSupportedError}});var request_js_1=require("./errors/request.js");Object.defineProperty(exports,"HttpRequestError",{enumerable:true,get:function get(){return request_js_1.HttpRequestError}});Object.defineProperty(exports,"RpcRequestError",{enumerable:true,get:function get(){return request_js_1.RpcRequestError}});Object.defineProperty(exports,"TimeoutError",{enumerable:true,get:function get(){return request_js_1.TimeoutError}});Object.defineProperty(exports,"SocketClosedError",{enumerable:true,get:function get(){return request_js_1.SocketClosedError}});Object.defineProperty(exports,"WebSocketRequestError",{enumerable:true,get:function get(){return request_js_1.WebSocketRequestError}});var address_js_2=require("./errors/address.js");Object.defineProperty(exports,"InvalidAddressError",{enumerable:true,get:function get(){return address_js_2.InvalidAddressError}});var transaction_js_1=require("./errors/transaction.js");Object.defineProperty(exports,"FeeConflictError",{enumerable:true,get:function get(){return transaction_js_1.FeeConflictError}});Object.defineProperty(exports,"InvalidLegacyVError",{enumerable:true,get:function get(){return transaction_js_1.InvalidLegacyVError}});Object.defineProperty(exports,"InvalidSerializableTransactionError",{enumerable:true,get:function get(){return transaction_js_1.InvalidSerializableTransactionError}});Object.defineProperty(exports,"InvalidSerializedTransactionError",{enumerable:true,get:function get(){return transaction_js_1.InvalidSerializedTransactionError}});Object.defineProperty(exports,"InvalidSerializedTransactionTypeError",{enumerable:true,get:function get(){return transaction_js_1.InvalidSerializedTransactionTypeError}});Object.defineProperty(exports,"InvalidStorageKeySizeError",{enumerable:true,get:function get(){return transaction_js_1.InvalidStorageKeySizeError}});Object.defineProperty(exports,"TransactionExecutionError",{enumerable:true,get:function get(){return transaction_js_1.TransactionExecutionError}});Object.defineProperty(exports,"TransactionNotFoundError",{enumerable:true,get:function get(){return transaction_js_1.TransactionNotFoundError}});Object.defineProperty(exports,"TransactionReceiptNotFoundError",{enumerable:true,get:function get(){return transaction_js_1.TransactionReceiptNotFoundError}});Object.defineProperty(exports,"WaitForTransactionReceiptTimeoutError",{enumerable:true,get:function get(){return transaction_js_1.WaitForTransactionReceiptTimeoutError}});var data_js_1=require("./errors/data.js");Object.defineProperty(exports,"SizeExceedsPaddingSizeError",{enumerable:true,get:function get(){return data_js_1.SizeExceedsPaddingSizeError}});Object.defineProperty(exports,"SliceOffsetOutOfBoundsError",{enumerable:true,get:function get(){return data_js_1.SliceOffsetOutOfBoundsError}});var transport_js_1=require("./errors/transport.js");Object.defineProperty(exports,"UrlRequiredError",{enumerable:true,get:function get(){return transport_js_1.UrlRequiredError}});var stateOverride_js_1=require("./errors/stateOverride.js");Object.defineProperty(exports,"AccountStateConflictError",{enumerable:true,get:function get(){return stateOverride_js_1.AccountStateConflictError}});Object.defineProperty(exports,"StateAssignmentConflictError",{enumerable:true,get:function get(){return stateOverride_js_1.StateAssignmentConflictError}});var typedData_js_1=require("./errors/typedData.js");Object.defineProperty(exports,"InvalidDomainError",{enumerable:true,get:function get(){return typedData_js_1.InvalidDomainError}});Object.defineProperty(exports,"InvalidPrimaryTypeError",{enumerable:true,get:function get(){return typedData_js_1.InvalidPrimaryTypeError}});Object.defineProperty(exports,"InvalidStructTypeError",{enumerable:true,get:function get(){return typedData_js_1.InvalidStructTypeError}});var eip1193_js_1=require("./types/eip1193.js");Object.defineProperty(exports,"EIP1193ProviderRpcError",{enumerable:true,get:function get(){return eip1193_js_1.ProviderRpcError}});var labelhash_js_1=require("./utils/ens/labelhash.js");Object.defineProperty(exports,"labelhash",{enumerable:true,get:function get(){return labelhash_js_1.labelhash}});var namehash_js_1=require("./utils/ens/namehash.js");Object.defineProperty(exports,"namehash",{enumerable:true,get:function get(){return namehash_js_1.namehash}});var block_js_2=require("./utils/formatters/block.js");Object.defineProperty(exports,"defineBlock",{enumerable:true,get:function get(){return block_js_2.defineBlock}});Object.defineProperty(exports,"formatBlock",{enumerable:true,get:function get(){return block_js_2.formatBlock}});var log_js_2=require("./utils/formatters/log.js");Object.defineProperty(exports,"formatLog",{enumerable:true,get:function get(){return log_js_2.formatLog}});var decodeAbiParameters_js_1=require("./utils/abi/decodeAbiParameters.js");Object.defineProperty(exports,"decodeAbiParameters",{enumerable:true,get:function get(){return decodeAbiParameters_js_1.decodeAbiParameters}});var decodeDeployData_js_1=require("./utils/abi/decodeDeployData.js");Object.defineProperty(exports,"decodeDeployData",{enumerable:true,get:function get(){return decodeDeployData_js_1.decodeDeployData}});var decodeErrorResult_js_1=require("./utils/abi/decodeErrorResult.js");Object.defineProperty(exports,"decodeErrorResult",{enumerable:true,get:function get(){return decodeErrorResult_js_1.decodeErrorResult}});var decodeEventLog_js_1=require("./utils/abi/decodeEventLog.js");Object.defineProperty(exports,"decodeEventLog",{enumerable:true,get:function get(){return decodeEventLog_js_1.decodeEventLog}});var decodeFunctionData_js_1=require("./utils/abi/decodeFunctionData.js");Object.defineProperty(exports,"decodeFunctionData",{enumerable:true,get:function get(){return decodeFunctionData_js_1.decodeFunctionData}});var decodeFunctionResult_js_1=require("./utils/abi/decodeFunctionResult.js");Object.defineProperty(exports,"decodeFunctionResult",{enumerable:true,get:function get(){return decodeFunctionResult_js_1.decodeFunctionResult}});var encodeAbiParameters_js_1=require("./utils/abi/encodeAbiParameters.js");Object.defineProperty(exports,"encodeAbiParameters",{enumerable:true,get:function get(){return encodeAbiParameters_js_1.encodeAbiParameters}});var encodeDeployData_js_1=require("./utils/abi/encodeDeployData.js");Object.defineProperty(exports,"encodeDeployData",{enumerable:true,get:function get(){return encodeDeployData_js_1.encodeDeployData}});var encodeErrorResult_js_1=require("./utils/abi/encodeErrorResult.js");Object.defineProperty(exports,"encodeErrorResult",{enumerable:true,get:function get(){return encodeErrorResult_js_1.encodeErrorResult}});var encodeEventTopics_js_1=require("./utils/abi/encodeEventTopics.js");Object.defineProperty(exports,"encodeEventTopics",{enumerable:true,get:function get(){return encodeEventTopics_js_1.encodeEventTopics}});var encodeFunctionData_js_1=require("./utils/abi/encodeFunctionData.js");Object.defineProperty(exports,"encodeFunctionData",{enumerable:true,get:function get(){return encodeFunctionData_js_1.encodeFunctionData}});var prepareEncodeFunctionData_js_1=require("./utils/abi/prepareEncodeFunctionData.js");Object.defineProperty(exports,"prepareEncodeFunctionData",{enumerable:true,get:function get(){return prepareEncodeFunctionData_js_1.prepareEncodeFunctionData}});var encodeFunctionResult_js_1=require("./utils/abi/encodeFunctionResult.js");Object.defineProperty(exports,"encodeFunctionResult",{enumerable:true,get:function get(){return encodeFunctionResult_js_1.encodeFunctionResult}});var parseEventLogs_js_1=require("./utils/abi/parseEventLogs.js");Object.defineProperty(exports,"parseEventLogs",{enumerable:true,get:function get(){return parseEventLogs_js_1.parseEventLogs}});var transaction_js_2=require("./utils/formatters/transaction.js");Object.defineProperty(exports,"defineTransaction",{enumerable:true,get:function get(){return transaction_js_2.defineTransaction}});Object.defineProperty(exports,"formatTransaction",{enumerable:true,get:function get(){return transaction_js_2.formatTransaction}});Object.defineProperty(exports,"transactionType",{enumerable:true,get:function get(){return transaction_js_2.transactionType}});var transactionReceipt_js_1=require("./utils/formatters/transactionReceipt.js");Object.defineProperty(exports,"defineTransactionReceipt",{enumerable:true,get:function get(){return transactionReceipt_js_1.defineTransactionReceipt}});Object.defineProperty(exports,"formatTransactionReceipt",{enumerable:true,get:function get(){return transactionReceipt_js_1.formatTransactionReceipt}});var transactionRequest_js_1=require("./utils/formatters/transactionRequest.js");Object.defineProperty(exports,"defineTransactionRequest",{enumerable:true,get:function get(){return transactionRequest_js_1.defineTransactionRequest}});Object.defineProperty(exports,"formatTransactionRequest",{enumerable:true,get:function get(){return transactionRequest_js_1.formatTransactionRequest}});Object.defineProperty(exports,"rpcTransactionType",{enumerable:true,get:function get(){return transactionRequest_js_1.rpcTransactionType}});var getAbiItem_js_1=require("./utils/abi/getAbiItem.js");Object.defineProperty(exports,"getAbiItem",{enumerable:true,get:function get(){return getAbiItem_js_1.getAbiItem}});var getContractAddress_js_1=require("./utils/address/getContractAddress.js");Object.defineProperty(exports,"getContractAddress",{enumerable:true,get:function get(){return getContractAddress_js_1.getContractAddress}});Object.defineProperty(exports,"getCreate2Address",{enumerable:true,get:function get(){return getContractAddress_js_1.getCreate2Address}});Object.defineProperty(exports,"getCreateAddress",{enumerable:true,get:function get(){return getContractAddress_js_1.getCreateAddress}});var getSerializedTransactionType_js_1=require("./utils/transaction/getSerializedTransactionType.js");Object.defineProperty(exports,"getSerializedTransactionType",{enumerable:true,get:function get(){return getSerializedTransactionType_js_1.getSerializedTransactionType}});var getTransactionType_js_1=require("./utils/transaction/getTransactionType.js");Object.defineProperty(exports,"getTransactionType",{enumerable:true,get:function get(){return getTransactionType_js_1.getTransactionType}});var hashTypedData_js_1=require("./utils/signature/hashTypedData.js");Object.defineProperty(exports,"hashDomain",{enumerable:true,get:function get(){return hashTypedData_js_1.hashDomain}});Object.defineProperty(exports,"hashStruct",{enumerable:true,get:function get(){return hashTypedData_js_1.hashStruct}});Object.defineProperty(exports,"hashTypedData",{enumerable:true,get:function get(){return hashTypedData_js_1.hashTypedData}});var compactSignatureToSignature_js_1=require("./utils/signature/compactSignatureToSignature.js");Object.defineProperty(exports,"compactSignatureToSignature",{enumerable:true,get:function get(){return compactSignatureToSignature_js_1.compactSignatureToSignature}});var parseCompactSignature_js_1=require("./utils/signature/parseCompactSignature.js");Object.defineProperty(exports,"hexToCompactSignature",{enumerable:true,get:function get(){return parseCompactSignature_js_1.parseCompactSignature}});Object.defineProperty(exports,"parseCompactSignature",{enumerable:true,get:function get(){return parseCompactSignature_js_1.parseCompactSignature}});var parseSignature_js_1=require("./utils/signature/parseSignature.js");Object.defineProperty(exports,"hexToSignature",{enumerable:true,get:function get(){return parseSignature_js_1.parseSignature}});Object.defineProperty(exports,"parseSignature",{enumerable:true,get:function get(){return parseSignature_js_1.parseSignature}});var recoverAddress_js_1=require("./utils/signature/recoverAddress.js");Object.defineProperty(exports,"recoverAddress",{enumerable:true,get:function get(){return recoverAddress_js_1.recoverAddress}});var recoverMessageAddress_js_1=require("./utils/signature/recoverMessageAddress.js");Object.defineProperty(exports,"recoverMessageAddress",{enumerable:true,get:function get(){return recoverMessageAddress_js_1.recoverMessageAddress}});var recoverPublicKey_js_1=require("./utils/signature/recoverPublicKey.js");Object.defineProperty(exports,"recoverPublicKey",{enumerable:true,get:function get(){return recoverPublicKey_js_1.recoverPublicKey}});var recoverTransactionAddress_js_1=require("./utils/signature/recoverTransactionAddress.js");Object.defineProperty(exports,"recoverTransactionAddress",{enumerable:true,get:function get(){return recoverTransactionAddress_js_1.recoverTransactionAddress}});var recoverTypedDataAddress_js_1=require("./utils/signature/recoverTypedDataAddress.js");Object.defineProperty(exports,"recoverTypedDataAddress",{enumerable:true,get:function get(){return recoverTypedDataAddress_js_1.recoverTypedDataAddress}});var signatureToCompactSignature_js_1=require("./utils/signature/signatureToCompactSignature.js");Object.defineProperty(exports,"signatureToCompactSignature",{enumerable:true,get:function get(){return signatureToCompactSignature_js_1.signatureToCompactSignature}});var serializeCompactSignature_js_1=require("./utils/signature/serializeCompactSignature.js");Object.defineProperty(exports,"compactSignatureToHex",{enumerable:true,get:function get(){return serializeCompactSignature_js_1.serializeCompactSignature}});Object.defineProperty(exports,"serializeCompactSignature",{enumerable:true,get:function get(){return serializeCompactSignature_js_1.serializeCompactSignature}});var serializeSignature_js_1=require("./utils/signature/serializeSignature.js");Object.defineProperty(exports,"signatureToHex",{enumerable:true,get:function get(){return serializeSignature_js_1.serializeSignature}});Object.defineProperty(exports,"serializeSignature",{enumerable:true,get:function get(){return serializeSignature_js_1.serializeSignature}});var toRlp_js_1=require("./utils/encoding/toRlp.js");Object.defineProperty(exports,"bytesToRlp",{enumerable:true,get:function get(){return toRlp_js_1.bytesToRlp}});Object.defineProperty(exports,"hexToRlp",{enumerable:true,get:function get(){return toRlp_js_1.hexToRlp}});Object.defineProperty(exports,"toRlp",{enumerable:true,get:function get(){return toRlp_js_1.toRlp}});var verifyHash_js_1=require("./utils/signature/verifyHash.js");Object.defineProperty(exports,"verifyHash",{enumerable:true,get:function get(){return verifyHash_js_1.verifyHash}});var verifyMessage_js_1=require("./utils/signature/verifyMessage.js");Object.defineProperty(exports,"verifyMessage",{enumerable:true,get:function get(){return verifyMessage_js_1.verifyMessage}});var verifyTypedData_js_1=require("./utils/signature/verifyTypedData.js");Object.defineProperty(exports,"verifyTypedData",{enumerable:true,get:function get(){return verifyTypedData_js_1.verifyTypedData}});var parseErc6492Signature_js_1=require("./utils/signature/parseErc6492Signature.js");Object.defineProperty(exports,"parseErc6492Signature",{enumerable:true,get:function get(){return parseErc6492Signature_js_1.parseErc6492Signature}});var isErc6492Signature_js_1=require("./utils/signature/isErc6492Signature.js");Object.defineProperty(exports,"isErc6492Signature",{enumerable:true,get:function get(){return isErc6492Signature_js_1.isErc6492Signature}});var serializeErc6492Signature_js_1=require("./utils/signature/serializeErc6492Signature.js");Object.defineProperty(exports,"serializeErc6492Signature",{enumerable:true,get:function get(){return serializeErc6492Signature_js_1.serializeErc6492Signature}});var assertRequest_js_1=require("./utils/transaction/assertRequest.js");Object.defineProperty(exports,"assertRequest",{enumerable:true,get:function get(){return assertRequest_js_1.assertRequest}});var assertTransaction_js_1=require("./utils/transaction/assertTransaction.js");Object.defineProperty(exports,"assertTransactionEIP1559",{enumerable:true,get:function get(){return assertTransaction_js_1.assertTransactionEIP1559}});Object.defineProperty(exports,"assertTransactionEIP2930",{enumerable:true,get:function get(){return assertTransaction_js_1.assertTransactionEIP2930}});Object.defineProperty(exports,"assertTransactionLegacy",{enumerable:true,get:function get(){return assertTransaction_js_1.assertTransactionLegacy}});var toBytes_js_1=require("./utils/encoding/toBytes.js");Object.defineProperty(exports,"boolToBytes",{enumerable:true,get:function get(){return toBytes_js_1.boolToBytes}});Object.defineProperty(exports,"hexToBytes",{enumerable:true,get:function get(){return toBytes_js_1.hexToBytes}});Object.defineProperty(exports,"numberToBytes",{enumerable:true,get:function get(){return toBytes_js_1.numberToBytes}});Object.defineProperty(exports,"stringToBytes",{enumerable:true,get:function get(){return toBytes_js_1.stringToBytes}});Object.defineProperty(exports,"toBytes",{enumerable:true,get:function get(){return toBytes_js_1.toBytes}});var toHex_js_1=require("./utils/encoding/toHex.js");Object.defineProperty(exports,"boolToHex",{enumerable:true,get:function get(){return toHex_js_1.boolToHex}});Object.defineProperty(exports,"bytesToHex",{enumerable:true,get:function get(){return toHex_js_1.bytesToHex}});Object.defineProperty(exports,"numberToHex",{enumerable:true,get:function get(){return toHex_js_1.numberToHex}});Object.defineProperty(exports,"stringToHex",{enumerable:true,get:function get(){return toHex_js_1.stringToHex}});Object.defineProperty(exports,"toHex",{enumerable:true,get:function get(){return toHex_js_1.toHex}});var fromBytes_js_1=require("./utils/encoding/fromBytes.js");Object.defineProperty(exports,"bytesToBigInt",{enumerable:true,get:function get(){return fromBytes_js_1.bytesToBigInt}});Object.defineProperty(exports,"bytesToBool",{enumerable:true,get:function get(){return fromBytes_js_1.bytesToBool}});Object.defineProperty(exports,"bytesToNumber",{enumerable:true,get:function get(){return fromBytes_js_1.bytesToNumber}});Object.defineProperty(exports,"bytesToString",{enumerable:true,get:function get(){return fromBytes_js_1.bytesToString}});Object.defineProperty(exports,"fromBytes",{enumerable:true,get:function get(){return fromBytes_js_1.fromBytes}});var ccip_js_1=require("./utils/ccip.js");Object.defineProperty(exports,"ccipRequest",{enumerable:true,get:function get(){return ccip_js_1.ccipRequest}});Object.defineProperty(exports,"ccipFetch",{enumerable:true,get:function get(){return ccip_js_1.ccipRequest}});Object.defineProperty(exports,"offchainLookup",{enumerable:true,get:function get(){return ccip_js_1.offchainLookup}});Object.defineProperty(exports,"offchainLookupAbiItem",{enumerable:true,get:function get(){return ccip_js_1.offchainLookupAbiItem}});Object.defineProperty(exports,"offchainLookupSignature",{enumerable:true,get:function get(){return ccip_js_1.offchainLookupSignature}});var blobsToCommitments_js_1=require("./utils/blob/blobsToCommitments.js");Object.defineProperty(exports,"blobsToCommitments",{enumerable:true,get:function get(){return blobsToCommitments_js_1.blobsToCommitments}});var commitmentToVersionedHash_js_1=require("./utils/blob/commitmentToVersionedHash.js");Object.defineProperty(exports,"commitmentToVersionedHash",{enumerable:true,get:function get(){return commitmentToVersionedHash_js_1.commitmentToVersionedHash}});var commitmentsToVersionedHashes_js_1=require("./utils/blob/commitmentsToVersionedHashes.js");Object.defineProperty(exports,"commitmentsToVersionedHashes",{enumerable:true,get:function get(){return commitmentsToVersionedHashes_js_1.commitmentsToVersionedHashes}});var sidecarsToVersionedHashes_js_1=require("./utils/blob/sidecarsToVersionedHashes.js");Object.defineProperty(exports,"sidecarsToVersionedHashes",{enumerable:true,get:function get(){return sidecarsToVersionedHashes_js_1.sidecarsToVersionedHashes}});var blobsToProofs_js_1=require("./utils/blob/blobsToProofs.js");Object.defineProperty(exports,"blobsToProofs",{enumerable:true,get:function get(){return blobsToProofs_js_1.blobsToProofs}});var fromBlobs_js_1=require("./utils/blob/fromBlobs.js");Object.defineProperty(exports,"fromBlobs",{enumerable:true,get:function get(){return fromBlobs_js_1.fromBlobs}});var toBlobSidecars_js_1=require("./utils/blob/toBlobSidecars.js");Object.defineProperty(exports,"toBlobSidecars",{enumerable:true,get:function get(){return toBlobSidecars_js_1.toBlobSidecars}});var toBlobs_js_1=require("./utils/blob/toBlobs.js");Object.defineProperty(exports,"toBlobs",{enumerable:true,get:function get(){return toBlobs_js_1.toBlobs}});var defineKzg_js_1=require("./utils/kzg/defineKzg.js");Object.defineProperty(exports,"defineKzg",{enumerable:true,get:function get(){return defineKzg_js_1.defineKzg}});var setupKzg_js_1=require("./utils/kzg/setupKzg.js");Object.defineProperty(exports,"setupKzg",{enumerable:true,get:function get(){return setupKzg_js_1.setupKzg}});var concat_js_1=require("./utils/data/concat.js");Object.defineProperty(exports,"concat",{enumerable:true,get:function get(){return concat_js_1.concat}});Object.defineProperty(exports,"concatBytes",{enumerable:true,get:function get(){return concat_js_1.concatBytes}});Object.defineProperty(exports,"concatHex",{enumerable:true,get:function get(){return concat_js_1.concatHex}});var assertCurrentChain_js_1=require("./utils/chain/assertCurrentChain.js");Object.defineProperty(exports,"assertCurrentChain",{enumerable:true,get:function get(){return assertCurrentChain_js_1.assertCurrentChain}});var defineChain_js_1=require("./utils/chain/defineChain.js");Object.defineProperty(exports,"defineChain",{enumerable:true,get:function get(){return defineChain_js_1.defineChain}});var extractChain_js_1=require("./utils/chain/extractChain.js");Object.defineProperty(exports,"extractChain",{enumerable:true,get:function get(){return extractChain_js_1.extractChain}});var getChainContractAddress_js_1=require("./utils/chain/getChainContractAddress.js");Object.defineProperty(exports,"getChainContractAddress",{enumerable:true,get:function get(){return getChainContractAddress_js_1.getChainContractAddress}});var encodePacked_js_1=require("./utils/abi/encodePacked.js");Object.defineProperty(exports,"encodePacked",{enumerable:true,get:function get(){return encodePacked_js_1.encodePacked}});var withCache_js_1=require("./utils/promise/withCache.js");Object.defineProperty(exports,"withCache",{enumerable:true,get:function get(){return withCache_js_1.withCache}});var withRetry_js_1=require("./utils/promise/withRetry.js");Object.defineProperty(exports,"withRetry",{enumerable:true,get:function get(){return withRetry_js_1.withRetry}});var withTimeout_js_1=require("./utils/promise/withTimeout.js");Object.defineProperty(exports,"withTimeout",{enumerable:true,get:function get(){return withTimeout_js_1.withTimeout}});var formatEther_js_1=require("./utils/unit/formatEther.js");Object.defineProperty(exports,"formatEther",{enumerable:true,get:function get(){return formatEther_js_1.formatEther}});var formatGwei_js_1=require("./utils/unit/formatGwei.js");Object.defineProperty(exports,"formatGwei",{enumerable:true,get:function get(){return formatGwei_js_1.formatGwei}});var formatUnits_js_1=require("./utils/unit/formatUnits.js");Object.defineProperty(exports,"formatUnits",{enumerable:true,get:function get(){return formatUnits_js_1.formatUnits}});var fromHex_js_1=require("./utils/encoding/fromHex.js");Object.defineProperty(exports,"fromHex",{enumerable:true,get:function get(){return fromHex_js_1.fromHex}});Object.defineProperty(exports,"hexToBigInt",{enumerable:true,get:function get(){return fromHex_js_1.hexToBigInt}});Object.defineProperty(exports,"hexToBool",{enumerable:true,get:function get(){return fromHex_js_1.hexToBool}});Object.defineProperty(exports,"hexToNumber",{enumerable:true,get:function get(){return fromHex_js_1.hexToNumber}});Object.defineProperty(exports,"hexToString",{enumerable:true,get:function get(){return fromHex_js_1.hexToString}});var fromRlp_js_1=require("./utils/encoding/fromRlp.js");Object.defineProperty(exports,"fromRlp",{enumerable:true,get:function get(){return fromRlp_js_1.fromRlp}});var getAddress_js_1=require("./utils/address/getAddress.js");Object.defineProperty(exports,"checksumAddress",{enumerable:true,get:function get(){return getAddress_js_1.checksumAddress}});Object.defineProperty(exports,"getAddress",{enumerable:true,get:function get(){return getAddress_js_1.getAddress}});var getContractError_js_1=require("./utils/errors/getContractError.js");Object.defineProperty(exports,"getContractError",{enumerable:true,get:function get(){return getContractError_js_1.getContractError}});var toEventSelector_js_1=require("./utils/hash/toEventSelector.js");Object.defineProperty(exports,"toEventSelector",{enumerable:true,get:function get(){return toEventSelector_js_1.toEventSelector}});Object.defineProperty(exports,"getEventSelector",{enumerable:true,get:function get(){return toEventSelector_js_1.toEventSelector}});var toFunctionSelector_js_1=require("./utils/hash/toFunctionSelector.js");Object.defineProperty(exports,"toFunctionSelector",{enumerable:true,get:function get(){return toFunctionSelector_js_1.toFunctionSelector}});Object.defineProperty(exports,"getFunctionSelector",{enumerable:true,get:function get(){return toFunctionSelector_js_1.toFunctionSelector}});var toEventSignature_js_1=require("./utils/hash/toEventSignature.js");Object.defineProperty(exports,"toEventSignature",{enumerable:true,get:function get(){return toEventSignature_js_1.toEventSignature}});Object.defineProperty(exports,"getEventSignature",{enumerable:true,get:function get(){return toEventSignature_js_1.toEventSignature}});var toFunctionSignature_js_1=require("./utils/hash/toFunctionSignature.js");Object.defineProperty(exports,"toFunctionSignature",{enumerable:true,get:function get(){return toFunctionSignature_js_1.toFunctionSignature}});Object.defineProperty(exports,"getFunctionSignature",{enumerable:true,get:function get(){return toFunctionSignature_js_1.toFunctionSignature}});var toEventHash_js_1=require("./utils/hash/toEventHash.js");Object.defineProperty(exports,"toEventHash",{enumerable:true,get:function get(){return toEventHash_js_1.toEventHash}});var toFunctionHash_js_1=require("./utils/hash/toFunctionHash.js");Object.defineProperty(exports,"toFunctionHash",{enumerable:true,get:function get(){return toFunctionHash_js_1.toFunctionHash}});var hashMessage_js_1=require("./utils/signature/hashMessage.js");Object.defineProperty(exports,"hashMessage",{enumerable:true,get:function get(){return hashMessage_js_1.hashMessage}});var toPrefixedMessage_js_1=require("./utils/signature/toPrefixedMessage.js");Object.defineProperty(exports,"toPrefixedMessage",{enumerable:true,get:function get(){return toPrefixedMessage_js_1.toPrefixedMessage}});var isAddress_js_1=require("./utils/address/isAddress.js");Object.defineProperty(exports,"isAddress",{enumerable:true,get:function get(){return isAddress_js_1.isAddress}});var isAddressEqual_js_1=require("./utils/address/isAddressEqual.js");Object.defineProperty(exports,"isAddressEqual",{enumerable:true,get:function get(){return isAddressEqual_js_1.isAddressEqual}});var isBytes_js_1=require("./utils/data/isBytes.js");Object.defineProperty(exports,"isBytes",{enumerable:true,get:function get(){return isBytes_js_1.isBytes}});var isHash_js_1=require("./utils/hash/isHash.js");Object.defineProperty(exports,"isHash",{enumerable:true,get:function get(){return isHash_js_1.isHash}});var isHex_js_1=require("./utils/data/isHex.js");Object.defineProperty(exports,"isHex",{enumerable:true,get:function get(){return isHex_js_1.isHex}});var keccak256_js_1=require("./utils/hash/keccak256.js");Object.defineProperty(exports,"keccak256",{enumerable:true,get:function get(){return keccak256_js_1.keccak256}});var sha256_js_1=require("./utils/hash/sha256.js");Object.defineProperty(exports,"sha256",{enumerable:true,get:function get(){return sha256_js_1.sha256}});var ripemd160_js_1=require("./utils/hash/ripemd160.js");Object.defineProperty(exports,"ripemd160",{enumerable:true,get:function get(){return ripemd160_js_1.ripemd160}});var pad_js_1=require("./utils/data/pad.js");Object.defineProperty(exports,"pad",{enumerable:true,get:function get(){return pad_js_1.pad}});Object.defineProperty(exports,"padBytes",{enumerable:true,get:function get(){return pad_js_1.padBytes}});Object.defineProperty(exports,"padHex",{enumerable:true,get:function get(){return pad_js_1.padHex}});var parseEther_js_1=require("./utils/unit/parseEther.js");Object.defineProperty(exports,"parseEther",{enumerable:true,get:function get(){return parseEther_js_1.parseEther}});var parseGwei_js_1=require("./utils/unit/parseGwei.js");Object.defineProperty(exports,"parseGwei",{enumerable:true,get:function get(){return parseGwei_js_1.parseGwei}});var parseTransaction_js_1=require("./utils/transaction/parseTransaction.js");Object.defineProperty(exports,"parseTransaction",{enumerable:true,get:function get(){return parseTransaction_js_1.parseTransaction}});var parseUnits_js_1=require("./utils/unit/parseUnits.js");Object.defineProperty(exports,"parseUnits",{enumerable:true,get:function get(){return parseUnits_js_1.parseUnits}});var serializeAccessList_js_1=require("./utils/transaction/serializeAccessList.js");Object.defineProperty(exports,"serializeAccessList",{enumerable:true,get:function get(){return serializeAccessList_js_1.serializeAccessList}});var serializeTransaction_js_1=require("./utils/transaction/serializeTransaction.js");Object.defineProperty(exports,"serializeTransaction",{enumerable:true,get:function get(){return serializeTransaction_js_1.serializeTransaction}});var size_js_1=require("./utils/data/size.js");Object.defineProperty(exports,"size",{enumerable:true,get:function get(){return size_js_1.size}});var slice_js_1=require("./utils/data/slice.js");Object.defineProperty(exports,"slice",{enumerable:true,get:function get(){return slice_js_1.slice}});Object.defineProperty(exports,"sliceBytes",{enumerable:true,get:function get(){return slice_js_1.sliceBytes}});Object.defineProperty(exports,"sliceHex",{enumerable:true,get:function get(){return slice_js_1.sliceHex}});var stringify_js_1=require("./utils/stringify.js");Object.defineProperty(exports,"stringify",{enumerable:true,get:function get(){return stringify_js_1.stringify}});var trim_js_1=require("./utils/data/trim.js");Object.defineProperty(exports,"trim",{enumerable:true,get:function get(){return trim_js_1.trim}});var typedData_js_2=require("./utils/typedData.js");Object.defineProperty(exports,"serializeTypedData",{enumerable:true,get:function get(){return typedData_js_2.serializeTypedData}});Object.defineProperty(exports,"validateTypedData",{enumerable:true,get:function get(){return typedData_js_2.validateTypedData}});Object.defineProperty(exports,"domainSeparator",{enumerable:true,get:function get(){return typedData_js_2.domainSeparator}});Object.defineProperty(exports,"getTypesForEIP712Domain",{enumerable:true,get:function get(){return typedData_js_2.getTypesForEIP712Domain}});var nonceManager_js_1=require("./utils/nonceManager.js");Object.defineProperty(exports,"createNonceManager",{enumerable:true,get:function get(){return nonceManager_js_1.createNonceManager}});Object.defineProperty(exports,"nonceManager",{enumerable:true,get:function get(){return nonceManager_js_1.nonceManager}})},{"./actions/getContract.js":223,"./actions/wallet/waitForCallsStatus.js":319,"./clients/createClient.js":322,"./clients/createPublicClient.js":323,"./clients/createTestClient.js":324,"./clients/createWalletClient.js":325,"./clients/decorators/public.js":326,"./clients/decorators/test.js":327,"./clients/decorators/wallet.js":328,"./clients/transports/createTransport.js":329,"./clients/transports/custom.js":330,"./clients/transports/fallback.js":331,"./clients/transports/http.js":332,"./clients/transports/webSocket.js":333,"./constants/abis.js":334,"./constants/address.js":335,"./constants/bytes.js":337,"./constants/contracts.js":339,"./constants/number.js":341,"./constants/strings.js":343,"./constants/unit.js":344,"./errors/abi.js":345,"./errors/address.js":347,"./errors/base.js":348,"./errors/block.js":350,"./errors/chain.js":352,"./errors/contract.js":353,"./errors/data.js":355,"./errors/encoding.js":357,"./errors/ens.js":358,"./errors/estimateGas.js":359,"./errors/fee.js":360,"./errors/log.js":361,"./errors/node.js":362,"./errors/request.js":363,"./errors/rpc.js":364,"./errors/stateOverride.js":365,"./errors/transaction.js":366,"./errors/transport.js":367,"./errors/typedData.js":368,"./errors/unit.js":369,"./types/eip1193.js":373,"./utils/abi/decodeAbiParameters.js":374,"./utils/abi/decodeDeployData.js":375,"./utils/abi/decodeErrorResult.js":376,"./utils/abi/decodeEventLog.js":377,"./utils/abi/decodeFunctionData.js":378,"./utils/abi/decodeFunctionResult.js":379,"./utils/abi/encodeAbiParameters.js":380,"./utils/abi/encodeDeployData.js":381,"./utils/abi/encodeErrorResult.js":382,"./utils/abi/encodeEventTopics.js":383,"./utils/abi/encodeFunctionData.js":384,"./utils/abi/encodeFunctionResult.js":385,"./utils/abi/encodePacked.js":386,"./utils/abi/getAbiItem.js":389,"./utils/abi/parseEventLogs.js":390,"./utils/abi/prepareEncodeFunctionData.js":391,"./utils/address/getAddress.js":392,"./utils/address/getContractAddress.js":393,"./utils/address/isAddress.js":394,"./utils/address/isAddressEqual.js":395,"./utils/blob/blobsToCommitments.js":400,"./utils/blob/blobsToProofs.js":401,"./utils/blob/commitmentToVersionedHash.js":402,"./utils/blob/commitmentsToVersionedHashes.js":403,"./utils/blob/fromBlobs.js":404,"./utils/blob/sidecarsToVersionedHashes.js":405,"./utils/blob/toBlobSidecars.js":406,"./utils/blob/toBlobs.js":407,"./utils/ccip.js":409,"./utils/chain/assertCurrentChain.js":410,"./utils/chain/defineChain.js":411,"./utils/chain/extractChain.js":412,"./utils/chain/getChainContractAddress.js":413,"./utils/data/concat.js":415,"./utils/data/isBytes.js":416,"./utils/data/isHex.js":417,"./utils/data/pad.js":418,"./utils/data/size.js":419,"./utils/data/slice.js":420,"./utils/data/trim.js":421,"./utils/encoding/fromBytes.js":422,"./utils/encoding/fromHex.js":423,"./utils/encoding/fromRlp.js":424,"./utils/encoding/toBytes.js":425,"./utils/encoding/toHex.js":426,"./utils/encoding/toRlp.js":427,"./utils/ens/labelhash.js":433,"./utils/ens/namehash.js":435,"./utils/errors/getContractError.js":438,"./utils/formatters/block.js":443,"./utils/formatters/log.js":447,"./utils/formatters/transaction.js":449,"./utils/formatters/transactionReceipt.js":450,"./utils/formatters/transactionRequest.js":451,"./utils/hash/isHash.js":454,"./utils/hash/keccak256.js":455,"./utils/hash/ripemd160.js":457,"./utils/hash/sha256.js":458,"./utils/hash/toEventHash.js":459,"./utils/hash/toEventSelector.js":460,"./utils/hash/toEventSignature.js":461,"./utils/hash/toFunctionHash.js":462,"./utils/hash/toFunctionSelector.js":463,"./utils/hash/toFunctionSignature.js":464,"./utils/kzg/defineKzg.js":468,"./utils/kzg/setupKzg.js":469,"./utils/nonceManager.js":471,"./utils/promise/withCache.js":475,"./utils/promise/withRetry.js":478,"./utils/promise/withTimeout.js":479,"./utils/signature/compactSignatureToSignature.js":486,"./utils/signature/hashMessage.js":487,"./utils/signature/hashTypedData.js":488,"./utils/signature/isErc6492Signature.js":489,"./utils/signature/parseCompactSignature.js":490,"./utils/signature/parseErc6492Signature.js":491,"./utils/signature/parseSignature.js":492,"./utils/signature/recoverAddress.js":493,"./utils/signature/recoverMessageAddress.js":494,"./utils/signature/recoverPublicKey.js":495,"./utils/signature/recoverTransactionAddress.js":496,"./utils/signature/recoverTypedDataAddress.js":497,"./utils/signature/serializeCompactSignature.js":498,"./utils/signature/serializeErc6492Signature.js":499,"./utils/signature/serializeSignature.js":500,"./utils/signature/signatureToCompactSignature.js":501,"./utils/signature/toPrefixedMessage.js":502,"./utils/signature/verifyHash.js":503,"./utils/signature/verifyMessage.js":504,"./utils/signature/verifyTypedData.js":505,"./utils/stringify.js":509,"./utils/transaction/assertRequest.js":510,"./utils/transaction/assertTransaction.js":511,"./utils/transaction/getSerializedTransactionType.js":512,"./utils/transaction/getTransactionType.js":513,"./utils/transaction/parseTransaction.js":514,"./utils/transaction/serializeAccessList.js":515,"./utils/transaction/serializeTransaction.js":516,"./utils/typedData.js":517,"./utils/unit/formatEther.js":519,"./utils/unit/formatGwei.js":520,"./utils/unit/formatUnits.js":521,"./utils/unit/parseEther.js":522,"./utils/unit/parseGwei.js":523,"./utils/unit/parseUnits.js":524,abitype:141}],373:[function(require,module,exports){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),o)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function _classCallCheck(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf(t,e)}function _createSuper(t){var r=_isNativeReflectConstruct();return function(){var e,o=_getPrototypeOf(t);if(r){var s=_getPrototypeOf(this).constructor;e=Reflect.construct(o,arguments,s)}else e=o.apply(this,arguments);return _possibleConstructorReturn(this,e)}}function _possibleConstructorReturn(t,e){if(e&&("object"==_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _wrapNativeSuper(t){var r="function"==typeof Map?new Map:void 0;return _wrapNativeSuper=function _wrapNativeSuper(t){if(null===t||!_isNativeFunction(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==r){if(r.has(t))return r.get(t);r.set(t,Wrapper)}function Wrapper(){return _construct(t,arguments,_getPrototypeOf(this).constructor)}return Wrapper.prototype=Object.create(t.prototype,{constructor:{value:Wrapper,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(Wrapper,t)},_wrapNativeSuper(t)}function _construct(t,e,r){if(_isNativeReflectConstruct())return Reflect.construct.apply(null,arguments);var o=[null];o.push.apply(o,e);var p=new(t.bind.apply(t,o));return r&&_setPrototypeOf(p,r.prototype),p}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(_isNativeReflectConstruct=function _isNativeReflectConstruct(){return!!t})()}function _isNativeFunction(t){try{return-1!==Function.toString.call(t).indexOf("[native code]")}catch(n){return"function"==typeof t}}function _setPrototypeOf(t,e){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_setPrototypeOf(t,e)}function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(t)}Object.defineProperty(exports,"__esModule",{value:true});exports.ProviderRpcError=void 0;var ProviderRpcError=function(_Error){_inherits(ProviderRpcError,_Error);var _super=_createSuper(ProviderRpcError);function ProviderRpcError(code,message){var _this;_classCallCheck(this,ProviderRpcError);_this=_super.call(this,message);Object.defineProperty(_assertThisInitialized(_this),"code",{enumerable:true,configurable:true,writable:true,value:void 0});Object.defineProperty(_assertThisInitialized(_this),"details",{enumerable:true,configurable:true,writable:true,value:void 0});_this.code=code;_this.details=message;return _this}return _createClass(ProviderRpcError)}(_wrapNativeSuper(Error));exports.ProviderRpcError=ProviderRpcError},{}],374:[function(require,module,exports){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function _defineProperty(e,r,t){return(r=_toPropertyKey(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function _slicedToArray(r,e){return _arrayWithHoles(r)||_iterableToArrayLimit(r,e)||_unsupportedIterableToArray(r,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++){n[e]=r[e]}return n}function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0){}}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t["return"]&&(u=t["return"](),Object(u)!==u))return}finally{if(o)throw n}}return a}}function _arrayWithHoles(r){if(Array.isArray(r))return r}Object.defineProperty(exports,"__esModule",{value:true});exports.decodeAbiParameters=decodeAbiParameters;var abi_js_1=require("../../errors/abi.js");var getAddress_js_1=require("../address/getAddress.js");var cursor_js_1=require("../cursor.js");var size_js_1=require("../data/size.js");var slice_js_1=require("../data/slice.js");var trim_js_1=require("../data/trim.js");var fromBytes_js_1=require("../encoding/fromBytes.js");var toBytes_js_1=require("../encoding/toBytes.js");var toHex_js_1=require("../encoding/toHex.js");var encodeAbiParameters_js_1=require("./encodeAbiParameters.js");function decodeAbiParameters(params,data){var bytes=typeof data==="string"?(0,toBytes_js_1.hexToBytes)(data):data;var cursor=(0,cursor_js_1.createCursor)(bytes);if((0,size_js_1.size)(bytes)===0&&params.length>0)throw new abi_js_1.AbiDecodingZeroDataError;if((0,size_js_1.size)(data)&&(0,size_js_1.size)(data)<32)throw new abi_js_1.AbiDecodingDataSizeTooSmallError({data:typeof data==="string"?data:(0,toHex_js_1.bytesToHex)(data),params:params,size:(0,size_js_1.size)(data)});var consumed=0;var values=[];for(var i=0;i<params.length;++i){var param=params[i];cursor.setPosition(consumed);var _decodeParameter=decodeParameter(cursor,param,{staticPosition:0}),_decodeParameter2=_slicedToArray(_decodeParameter,2),_data=_decodeParameter2[0],consumed_=_decodeParameter2[1];consumed+=consumed_;values.push(_data)}return values}function decodeParameter(cursor,param,_ref){var staticPosition=_ref.staticPosition;var arrayComponents=(0,encodeAbiParameters_js_1.getArrayComponents)(param.type);if(arrayComponents){var _arrayComponents=_slicedToArray(arrayComponents,2),length=_arrayComponents[0],type=_arrayComponents[1];return decodeArray(cursor,_objectSpread(_objectSpread({},param),{},{type:type}),{length:length,staticPosition:staticPosition})}if(param.type==="tuple")return decodeTuple(cursor,param,{staticPosition:staticPosition});if(param.type==="address")return decodeAddress(cursor);if(param.type==="bool")return decodeBool(cursor);if(param.type.startsWith("bytes"))return decodeBytes(cursor,param,{staticPosition:staticPosition});if(param.type.startsWith("uint")||param.type.startsWith("int"))return decodeNumber(cursor,param);if(param.type==="string")return decodeString(cursor,{staticPosition:staticPosition});throw new abi_js_1.InvalidAbiDecodingTypeError(param.type,{docsPath:"/docs/contract/decodeAbiParameters"})}var sizeOfLength=32;var sizeOfOffset=32;function decodeAddress(cursor){var value=cursor.readBytes(32);return[(0,getAddress_js_1.checksumAddress)((0,toHex_js_1.bytesToHex)((0,slice_js_1.sliceBytes)(value,-20))),32]}function decodeArray(cursor,param,_ref2){var length=_ref2.length,staticPosition=_ref2.staticPosition;if(!length){var offset=(0,fromBytes_js_1.bytesToNumber)(cursor.readBytes(sizeOfOffset));var start=staticPosition+offset;var startOfData=start+sizeOfLength;cursor.setPosition(start);var _length=(0,fromBytes_js_1.bytesToNumber)(cursor.readBytes(sizeOfLength));var dynamicChild=hasDynamicChild(param);var _consumed=0;var _value=[];for(var i=0;i<_length;++i){cursor.setPosition(startOfData+(dynamicChild?i*32:_consumed));var _decodeParameter3=decodeParameter(cursor,param,{staticPosition:startOfData}),_decodeParameter4=_slicedToArray(_decodeParameter3,2),data=_decodeParameter4[0],consumed_=_decodeParameter4[1];_consumed+=consumed_;_value.push(data)}cursor.setPosition(staticPosition+32);return[_value,32]}if(hasDynamicChild(param)){var _offset=(0,fromBytes_js_1.bytesToNumber)(cursor.readBytes(sizeOfOffset));var _start=staticPosition+_offset;var _value2=[];for(var _i=0;_i<length;++_i){cursor.setPosition(_start+_i*32);var _decodeParameter5=decodeParameter(cursor,param,{staticPosition:_start}),_decodeParameter6=_slicedToArray(_decodeParameter5,1),_data2=_decodeParameter6[0];_value2.push(_data2)}cursor.setPosition(staticPosition+32);return[_value2,32]}var consumed=0;var value=[];for(var _i2=0;_i2<length;++_i2){var _decodeParameter7=decodeParameter(cursor,param,{staticPosition:staticPosition+consumed}),_decodeParameter8=_slicedToArray(_decodeParameter7,2),_data3=_decodeParameter8[0],_consumed_=_decodeParameter8[1];consumed+=_consumed_;value.push(_data3)}return[value,consumed]}function decodeBool(cursor){return[(0,fromBytes_js_1.bytesToBool)(cursor.readBytes(32),{size:32}),32]}function decodeBytes(cursor,param,_ref3){var staticPosition=_ref3.staticPosition;var _param$type$split=param.type.split("bytes"),_param$type$split2=_slicedToArray(_param$type$split,2),_=_param$type$split2[0],size=_param$type$split2[1];if(!size){var offset=(0,fromBytes_js_1.bytesToNumber)(cursor.readBytes(32));cursor.setPosition(staticPosition+offset);var length=(0,fromBytes_js_1.bytesToNumber)(cursor.readBytes(32));if(length===0){cursor.setPosition(staticPosition+32);return["0x",32]}var data=cursor.readBytes(length);cursor.setPosition(staticPosition+32);return[(0,toHex_js_1.bytesToHex)(data),32]}var value=(0,toHex_js_1.bytesToHex)(cursor.readBytes(Number.parseInt(size),32));return[value,32]}function decodeNumber(cursor,param){var signed=param.type.startsWith("int");var size=Number.parseInt(param.type.split("int")[1]||"256");var value=cursor.readBytes(32);return[size>48?(0,fromBytes_js_1.bytesToBigInt)(value,{signed:signed}):(0,fromBytes_js_1.bytesToNumber)(value,{signed:signed}),32]}function decodeTuple(cursor,param,_ref4){var staticPosition=_ref4.staticPosition;var hasUnnamedChild=param.components.length===0||param.components.some(function(_ref5){var name=_ref5.name;return!name});var value=hasUnnamedChild?[]:{};var consumed=0;if(hasDynamicChild(param)){var offset=(0,fromBytes_js_1.bytesToNumber)(cursor.readBytes(sizeOfOffset));var start=staticPosition+offset;for(var i=0;i<param.components.length;++i){var component=param.components[i];cursor.setPosition(start+consumed);var _decodeParameter9=decodeParameter(cursor,component,{staticPosition:start}),_decodeParameter10=_slicedToArray(_decodeParameter9,2),data=_decodeParameter10[0],consumed_=_decodeParameter10[1];consumed+=consumed_;value[hasUnnamedChild?i:component===null||component===void 0?void 0:component.name]=data}cursor.setPosition(staticPosition+32);return[value,32]}for(var _i3=0;_i3<param.components.length;++_i3){var _component=param.components[_i3];var _decodeParameter11=decodeParameter(cursor,_component,{staticPosition:staticPosition}),_decodeParameter12=_slicedToArray(_decodeParameter11,2),_data4=_decodeParameter12[0],_consumed_2=_decodeParameter12[1];value[hasUnnamedChild?_i3:_component===null||_component===void 0?void 0:_component.name]=_data4;consumed+=_consumed_2}return[value,consumed]}function decodeString(cursor,_ref6){var staticPosition=_ref6.staticPosition;var offset=(0,fromBytes_js_1.bytesToNumber)(cursor.readBytes(32));var start=staticPosition+offset;cursor.setPosition(start);var length=(0,fromBytes_js_1.bytesToNumber)(cursor.readBytes(32));if(length===0){cursor.setPosition(staticPosition+32);return["",32]}var data=cursor.readBytes(length,32);var value=(0,fromBytes_js_1.bytesToString)((0,trim_js_1.trim)(data));cursor.setPosition(staticPosition+32);return[value,32]}function hasDynamicChild(param){var _param$components;var type=param.type;if(type==="string")return true;if(type==="bytes")return true;if(type.endsWith("[]"))return true;if(type==="tuple")return(_param$components=param.components)===null||_param$components===void 0?void 0:_param$components.some(hasDynamicChild);var arrayComponents=(0,encodeAbiParameters_js_1.getArrayComponents)(param.type);if(arrayComponents&&hasDynamicChild(_objectSpread(_objectSpread({},param),{},{type:arrayComponents[1]})))return true;return false}},{"../../errors/abi.js":345,"../address/getAddress.js":392,"../cursor.js":414,"../data/size.js":419,"../data/slice.js":420,"../data/trim.js":421,"../encoding/fromBytes.js":422,"../encoding/toBytes.js":425,"../encoding/toHex.js":426,"./encodeAbiParameters.js":380}],375:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.decodeDeployData=decodeDeployData;var abi_js_1=require("../../errors/abi.js");var decodeAbiParameters_js_1=require("./decodeAbiParameters.js");var docsPath="/docs/contract/decodeDeployData";function decodeDeployData(parameters){var abi=parameters.abi,bytecode=parameters.bytecode,data=parameters.data;if(data===bytecode)return{bytecode:bytecode};var description=abi.find(function(x){return"type"in x&&x.type==="constructor"});if(!description)throw new abi_js_1.AbiConstructorNotFoundError({docsPath:docsPath});if(!("inputs"in description))throw new abi_js_1.AbiConstructorParamsNotFoundError({docsPath:docsPath});if(!description.inputs||description.inputs.length===0)throw new abi_js_1.AbiConstructorParamsNotFoundError({docsPath:docsPath});var args=(0,decodeAbiParameters_js_1.decodeAbiParameters)(description.inputs,"0x".concat(data.replace(bytecode,"")));return{args:args,bytecode:bytecode}}},{"../../errors/abi.js":345,"./decodeAbiParameters.js":374}],376:[function(require,module,exports){"use strict";function _toConsumableArray(r){return _arrayWithoutHoles(r)||_iterableToArray(r)||_unsupportedIterableToArray(r)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}function _iterableToArray(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}function _arrayWithoutHoles(r){if(Array.isArray(r))return _arrayLikeToArray(r)}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++){n[e]=r[e]}return n}Object.defineProperty(exports,"__esModule",{value:true});exports.decodeErrorResult=decodeErrorResult;var solidity_js_1=require("../../constants/solidity.js");var abi_js_1=require("../../errors/abi.js");var slice_js_1=require("../data/slice.js");var toFunctionSelector_js_1=require("../hash/toFunctionSelector.js");var decodeAbiParameters_js_1=require("./decodeAbiParameters.js");var formatAbiItem_js_1=require("./formatAbiItem.js");function decodeErrorResult(parameters){var abi=parameters.abi,data=parameters.data;var signature=(0,slice_js_1.slice)(data,0,4);if(signature==="0x")throw new abi_js_1.AbiDecodingZeroDataError;var abi_=[].concat(_toConsumableArray(abi||[]),[solidity_js_1.solidityError,solidity_js_1.solidityPanic]);var abiItem=abi_.find(function(x){return x.type==="error"&&signature===(0,toFunctionSelector_js_1.toFunctionSelector)((0,formatAbiItem_js_1.formatAbiItem)(x))});if(!abiItem)throw new abi_js_1.AbiErrorSignatureNotFoundError(signature,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:abiItem,args:"inputs"in abiItem&&abiItem.inputs&&abiItem.inputs.length>0?(0,decodeAbiParameters_js_1.decodeAbiParameters)(abiItem.inputs,(0,slice_js_1.slice)(data,4)):undefined,errorName:abiItem.name}}},{"../../constants/solidity.js":342,"../../errors/abi.js":345,"../data/slice.js":420,"../hash/toFunctionSelector.js":463,"./decodeAbiParameters.js":374,"./formatAbiItem.js":387}],377:[function(require,module,exports){"use strict";function _toConsumableArray(r){return _arrayWithoutHoles(r)||_iterableToArray(r)||_unsupportedIterableToArray(r)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _arrayWithoutHoles(r){if(Array.isArray(r))return _arrayLikeToArray(r)}function _toArray(r){return _arrayWithHoles(r)||_iterableToArray(r)||_unsupportedIterableToArray(r)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++){n[e]=r[e]}return n}function _iterableToArray(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}function _arrayWithHoles(r){if(Array.isArray(r))return r}Object.defineProperty(exports,"__esModule",{value:true});exports.decodeEventLog=decodeEventLog;var abi_js_1=require("../../errors/abi.js");var size_js_1=require("../data/size.js");var toEventSelector_js_1=require("../hash/toEventSelector.js");var cursor_js_1=require("../../errors/cursor.js");var decodeAbiParameters_js_1=require("./decodeAbiParameters.js");var formatAbiItem_js_1=require("./formatAbiItem.js");var docsPath="/docs/contract/decodeEventLog";function decodeEventLog(parameters){var abi=parameters.abi,data=parameters.data,strict_=parameters.strict,topics=parameters.topics;var strict=strict_!==null&&strict_!==void 0?strict_:true;var _topics=_toArray(topics),signature=_topics[0],argTopics=_topics.slice(1);if(!signature)throw new abi_js_1.AbiEventSignatureEmptyTopicsError({docsPath:docsPath});var abiItem=function(){if(abi.length===1)return abi[0];return abi.find(function(x){return x.type==="event"&&signature===(0,toEventSelector_js_1.toEventSelector)((0,formatAbiItem_js_1.formatAbiItem)(x))})}();if(!(abiItem&&"name"in abiItem)||abiItem.type!=="event")throw new abi_js_1.AbiEventSignatureNotFoundError(signature,{docsPath:docsPath});var name=abiItem.name,inputs=abiItem.inputs;var isUnnamed=inputs===null||inputs===void 0?void 0:inputs.some(function(x){return!("name"in x&&x.name)});var args=isUnnamed?[]:{};var indexedInputs=inputs.filter(function(x){return"indexed"in x&&x.indexed});for(var i=0;i<indexedInputs.length;i++){var param=indexedInputs[i];var topic=argTopics[i];if(!topic)throw new abi_js_1.DecodeLogTopicsMismatch({abiItem:abiItem,param:param});args[isUnnamed?i:param.name||i]=decodeTopic({param:param,value:topic})}var nonIndexedInputs=inputs.filter(function(x){return!("indexed"in x&&x.indexed)});if(nonIndexedInputs.length>0){if(data&&data!=="0x"){try{var decodedData=(0,decodeAbiParameters_js_1.decodeAbiParameters)(nonIndexedInputs,data);if(decodedData){if(isUnnamed)args=[].concat(_toConsumableArray(args),_toConsumableArray(decodedData));else{for(var _i=0;_i<nonIndexedInputs.length;_i++){args[nonIndexedInputs[_i].name]=decodedData[_i]}}}}catch(err){if(strict){if(err instanceof abi_js_1.AbiDecodingDataSizeTooSmallError||err instanceof cursor_js_1.PositionOutOfBoundsError)throw new abi_js_1.DecodeLogDataMismatch({abiItem:abiItem,data:data,params:nonIndexedInputs,size:(0,size_js_1.size)(data)});throw err}}}else if(strict){throw new abi_js_1.DecodeLogDataMismatch({abiItem:abiItem,data:"0x",params:nonIndexedInputs,size:0})}}return{eventName:name,args:Object.values(args).length>0?args:undefined}}function decodeTopic(_ref){var param=_ref.param,value=_ref.value;if(param.type==="string"||param.type==="bytes"||param.type==="tuple"||param.type.match(/^(.*)\[(\d+)?\]$/))return value;var decodedArg=(0,decodeAbiParameters_js_1.decodeAbiParameters)([param],value)||[];return decodedArg[0]}},{"../../errors/abi.js":345,"../../errors/cursor.js":354,"../data/size.js":419,"../hash/toEventSelector.js":460,"./decodeAbiParameters.js":374,"./formatAbiItem.js":387}],378:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.decodeFunctionData=decodeFunctionData;var abi_js_1=require("../../errors/abi.js");var slice_js_1=require("../data/slice.js");var toFunctionSelector_js_1=require("../hash/toFunctionSelector.js");var decodeAbiParameters_js_1=require("./decodeAbiParameters.js");var formatAbiItem_js_1=require("./formatAbiItem.js");function decodeFunctionData(parameters){var abi=parameters.abi,data=parameters.data;var signature=(0,slice_js_1.slice)(data,0,4);var description=abi.find(function(x){return x.type==="function"&&signature===(0,toFunctionSelector_js_1.toFunctionSelector)((0,formatAbiItem_js_1.formatAbiItem)(x))});if(!description)throw new abi_js_1.AbiFunctionSignatureNotFoundError(signature,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:description.name,args:"inputs"in description&&description.inputs&&description.inputs.length>0?(0,decodeAbiParameters_js_1.decodeAbiParameters)(description.inputs,(0,slice_js_1.slice)(data,4)):undefined}}},{"../../errors/abi.js":345,"../data/slice.js":420,"../hash/toFunctionSelector.js":463,"./decodeAbiParameters.js":374,"./formatAbiItem.js":387}],379:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.decodeFunctionResult=decodeFunctionResult;var abi_js_1=require("../../errors/abi.js");var decodeAbiParameters_js_1=require("./decodeAbiParameters.js");var getAbiItem_js_1=require("./getAbiItem.js");var docsPath="/docs/contract/decodeFunctionResult";function decodeFunctionResult(parameters){var abi=parameters.abi,args=parameters.args,functionName=parameters.functionName,data=parameters.data;var abiItem=abi[0];if(functionName){var item=(0,getAbiItem_js_1.getAbiItem)({abi:abi,args:args,name:functionName});if(!item)throw new abi_js_1.AbiFunctionNotFoundError(functionName,{docsPath:docsPath});abiItem=item}if(abiItem.type!=="function")throw new abi_js_1.AbiFunctionNotFoundError(undefined,{docsPath:docsPath});if(!abiItem.outputs)throw new abi_js_1.AbiFunctionOutputsNotFoundError(abiItem.name,{docsPath:docsPath});var values=(0,decodeAbiParameters_js_1.decodeAbiParameters)(abiItem.outputs,data);if(values&&values.length>1)return values;if(values&&values.length===1)return values[0];return undefined}},{"../../errors/abi.js":345,"./decodeAbiParameters.js":374,"./getAbiItem.js":389}],380:[function(require,module,exports){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function _defineProperty(e,r,t){return(r=_toPropertyKey(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function _slicedToArray(r,e){return _arrayWithHoles(r)||_iterableToArrayLimit(r,e)||_unsupportedIterableToArray(r,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++){n[e]=r[e]}return n}function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0){}}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t["return"]&&(u=t["return"](),Object(u)!==u))return}finally{if(o)throw n}}return a}}function _arrayWithHoles(r){if(Array.isArray(r))return r}Object.defineProperty(exports,"__esModule",{value:true});exports.encodeAbiParameters=encodeAbiParameters;exports.getArrayComponents=getArrayComponents;var abi_js_1=require("../../errors/abi.js");var address_js_1=require("../../errors/address.js");var base_js_1=require("../../errors/base.js");var encoding_js_1=require("../../errors/encoding.js");var isAddress_js_1=require("../address/isAddress.js");var concat_js_1=require("../data/concat.js");var pad_js_1=require("../data/pad.js");var size_js_1=require("../data/size.js");var slice_js_1=require("../data/slice.js");var toHex_js_1=require("../encoding/toHex.js");var regex_js_1=require("../regex.js");function encodeAbiParameters(params,values){if(params.length!==values.length)throw new abi_js_1.AbiEncodingLengthMismatchError({expectedLength:params.length,givenLength:values.length});var preparedParams=prepareParams({params:params,values:values});var data=encodeParams(preparedParams);if(data.length===0)return"0x";return data}function prepareParams(_ref){var params=_ref.params,values=_ref.values;var preparedParams=[];for(var i=0;i<params.length;i++){preparedParams.push(prepareParam({param:params[i],value:values[i]}))}return preparedParams}function prepareParam(_ref2){var param=_ref2.param,value=_ref2.value;var arrayComponents=getArrayComponents(param.type);if(arrayComponents){var _arrayComponents=_slicedToArray(arrayComponents,2),length=_arrayComponents[0],type=_arrayComponents[1];return encodeArray(value,{length:length,param:_objectSpread(_objectSpread({},param),{},{type:type})})}if(param.type==="tuple"){return encodeTuple(value,{param:param})}if(param.type==="address"){return encodeAddress(value)}if(param.type==="bool"){return encodeBool(value)}if(param.type.startsWith("uint")||param.type.startsWith("int")){var _regex_js_1$integerRe;var signed=param.type.startsWith("int");var _ref3=(_regex_js_1$integerRe=regex_js_1.integerRegex.exec(param.type))!==null&&_regex_js_1$integerRe!==void 0?_regex_js_1$integerRe:[],_ref4=_slicedToArray(_ref3,3),_ref4$=_ref4[2],size=_ref4$===void 0?"256":_ref4$;return encodeNumber(value,{signed:signed,size:Number(size)})}if(param.type.startsWith("bytes")){return encodeBytes(value,{param:param})}if(param.type==="string"){return encodeString(value)}throw new abi_js_1.InvalidAbiEncodingTypeError(param.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function encodeParams(preparedParams){var staticSize=0;for(var i=0;i<preparedParams.length;i++){var _preparedParams$i=preparedParams[i],dynamic=_preparedParams$i.dynamic,encoded=_preparedParams$i.encoded;if(dynamic)staticSize+=32;else staticSize+=(0,size_js_1.size)(encoded)}var staticParams=[];var dynamicParams=[];var dynamicSize=0;for(var _i=0;_i<preparedParams.length;_i++){var _preparedParams$_i=preparedParams[_i],_dynamic=_preparedParams$_i.dynamic,_encoded=_preparedParams$_i.encoded;if(_dynamic){staticParams.push((0,toHex_js_1.numberToHex)(staticSize+dynamicSize,{size:32}));dynamicParams.push(_encoded);dynamicSize+=(0,size_js_1.size)(_encoded)}else{staticParams.push(_encoded)}}return(0,concat_js_1.concat)([].concat(staticParams,dynamicParams))}function encodeAddress(value){if(!(0,isAddress_js_1.isAddress)(value))throw new address_js_1.InvalidAddressError({address:value});return{dynamic:false,encoded:(0,pad_js_1.padHex)(value.toLowerCase())}}function encodeArray(value,_ref5){var length=_ref5.length,param=_ref5.param;var dynamic=length===null;if(!Array.isArray(value))throw new abi_js_1.InvalidArrayError(value);if(!dynamic&&value.length!==length)throw new abi_js_1.AbiEncodingArrayLengthMismatchError({expectedLength:length,givenLength:value.length,type:"".concat(param.type,"[").concat(length,"]")});var dynamicChild=false;var preparedParams=[];for(var i=0;i<value.length;i++){var preparedParam=prepareParam({param:param,value:value[i]});if(preparedParam.dynamic)dynamicChild=true;preparedParams.push(preparedParam)}if(dynamic||dynamicChild){var data=encodeParams(preparedParams);if(dynamic){var _length=(0,toHex_js_1.numberToHex)(preparedParams.length,{size:32});return{dynamic:true,encoded:preparedParams.length>0?(0,concat_js_1.concat)([_length,data]):_length}}if(dynamicChild)return{dynamic:true,encoded:data}}return{dynamic:false,encoded:(0,concat_js_1.concat)(preparedParams.map(function(_ref6){var encoded=_ref6.encoded;return encoded}))}}function encodeBytes(value,_ref7){var param=_ref7.param;var _param$type$split=param.type.split("bytes"),_param$type$split2=_slicedToArray(_param$type$split,2),paramSize=_param$type$split2[1];var bytesSize=(0,size_js_1.size)(value);if(!paramSize){var value_=value;if(bytesSize%32!==0)value_=(0,pad_js_1.padHex)(value_,{dir:"right",size:Math.ceil((value.length-2)/2/32)*32});return{dynamic:true,encoded:(0,concat_js_1.concat)([(0,pad_js_1.padHex)((0,toHex_js_1.numberToHex)(bytesSize,{size:32})),value_])}}if(bytesSize!==Number.parseInt(paramSize))throw new abi_js_1.AbiEncodingBytesSizeMismatchError({expectedSize:Number.parseInt(paramSize),value:value});return{dynamic:false,encoded:(0,pad_js_1.padHex)(value,{dir:"right"})}}function encodeBool(value){if(typeof value!=="boolean")throw new base_js_1.BaseError('Invalid boolean value: "'.concat(value,'" (type: ').concat(_typeof(value),"). Expected: `true` or `false`."));return{dynamic:false,encoded:(0,pad_js_1.padHex)((0,toHex_js_1.boolToHex)(value))}}function encodeNumber(value,_ref8){var signed=_ref8.signed,_ref8$size=_ref8.size,size=_ref8$size===void 0?256:_ref8$size;if(typeof size==="number"){var max=Math.pow(2n,BigInt(size)-(signed?1n:0n))-1n;var min=signed?-max-1n:0n;if(value>max||value<min)throw new encoding_js_1.IntegerOutOfRangeError({max:max.toString(),min:min.toString(),signed:signed,size:size/8,value:value.toString()})}return{dynamic:false,encoded:(0,toHex_js_1.numberToHex)(value,{size:32,signed:signed})}}function encodeString(value){var hexValue=(0,toHex_js_1.stringToHex)(value);var partsLength=Math.ceil((0,size_js_1.size)(hexValue)/32);var parts=[];for(var i=0;i<partsLength;i++){parts.push((0,pad_js_1.padHex)((0,slice_js_1.slice)(hexValue,i*32,(i+1)*32),{dir:"right"}))}return{dynamic:true,encoded:(0,concat_js_1.concat)([(0,pad_js_1.padHex)((0,toHex_js_1.numberToHex)((0,size_js_1.size)(hexValue),{size:32}))].concat(parts))}}function encodeTuple(value,_ref9){var param=_ref9.param;var dynamic=false;var preparedParams=[];for(var i=0;i<param.components.length;i++){var param_=param.components[i];var index=Array.isArray(value)?i:param_.name;var preparedParam=prepareParam({param:param_,value:value[index]});preparedParams.push(preparedParam);if(preparedParam.dynamic)dynamic=true}return{dynamic:dynamic,encoded:dynamic?encodeParams(preparedParams):(0,concat_js_1.concat)(preparedParams.map(function(_ref10){var encoded=_ref10.encoded;return encoded}))}}function getArrayComponents(type){var matches=type.match(/^(.*)\[(\d+)?\]$/);return matches?[matches[2]?Number(matches[2]):null,matches[1]]:undefined}},{"../../errors/abi.js":345,"../../errors/address.js":347,"../../errors/base.js":348,"../../errors/encoding.js":357,"../address/isAddress.js":394,"../data/concat.js":415,"../data/pad.js":418,"../data/size.js":419,"../data/slice.js":420,"../encoding/toHex.js":426,"../regex.js":480}],381:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.encodeDeployData=encodeDeployData;var abi_js_1=require("../../errors/abi.js");var concat_js_1=require("../data/concat.js");var encodeAbiParameters_js_1=require("./encodeAbiParameters.js");var docsPath="/docs/contract/encodeDeployData";function encodeDeployData(parameters){var abi=parameters.abi,args=parameters.args,bytecode=parameters.bytecode;if(!args||args.length===0)return bytecode;var description=abi.find(function(x){return"type"in x&&x.type==="constructor"});if(!description)throw new abi_js_1.AbiConstructorNotFoundError({docsPath:docsPath});if(!("inputs"in description))throw new abi_js_1.AbiConstructorParamsNotFoundError({docsPath:docsPath});if(!description.inputs||description.inputs.length===0)throw new abi_js_1.AbiConstructorParamsNotFoundError({docsPath:docsPath});var data=(0,encodeAbiParameters_js_1.encodeAbiParameters)(description.inputs,args);return(0,concat_js_1.concatHex)([bytecode,data])}},{"../../errors/abi.js":345,"../data/concat.js":415,"./encodeAbiParameters.js":380}],382:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.encodeErrorResult=encodeErrorResult;var abi_js_1=require("../../errors/abi.js");var concat_js_1=require("../data/concat.js");var toFunctionSelector_js_1=require("../hash/toFunctionSelector.js");var encodeAbiParameters_js_1=require("./encodeAbiParameters.js");var formatAbiItem_js_1=require("./formatAbiItem.js");var getAbiItem_js_1=require("./getAbiItem.js");var docsPath="/docs/contract/encodeErrorResult";function encodeErrorResult(parameters){var abi=parameters.abi,errorName=parameters.errorName,args=parameters.args;var abiItem=abi[0];if(errorName){var item=(0,getAbiItem_js_1.getAbiItem)({abi:abi,args:args,name:errorName});if(!item)throw new abi_js_1.AbiErrorNotFoundError(errorName,{docsPath:docsPath});abiItem=item}if(abiItem.type!=="error")throw new abi_js_1.AbiErrorNotFoundError(undefined,{docsPath:docsPath});var definition=(0,formatAbiItem_js_1.formatAbiItem)(abiItem);var signature=(0,toFunctionSelector_js_1.toFunctionSelector)(definition);var data="0x";if(args&&args.length>0){if(!abiItem.inputs)throw new abi_js_1.AbiErrorInputsNotFoundError(abiItem.name,{docsPath:docsPath});data=(0,encodeAbiParameters_js_1.encodeAbiParameters)(abiItem.inputs,args)}return(0,concat_js_1.concatHex)([signature,data])}},{"../../errors/abi.js":345,"../data/concat.js":415,"../hash/toFunctionSelector.js":463,"./encodeAbiParameters.js":380,"./formatAbiItem.js":387,"./getAbiItem.js":389}],383:[function(require,module,exports){"use strict";function _toConsumableArray(r){return _arrayWithoutHoles(r)||_iterableToArray(r)||_unsupportedIterableToArray(r)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}function _iterableToArray(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}function _arrayWithoutHoles(r){if(Array.isArray(r))return _arrayLikeToArray(r)}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++){n[e]=r[e]}return n}Object.defineProperty(exports,"__esModule",{value:true});exports.encodeEventTopics=encodeEventTopics;var abi_js_1=require("../../errors/abi.js");var log_js_1=require("../../errors/log.js");var toBytes_js_1=require("../encoding/toBytes.js");var keccak256_js_1=require("../hash/keccak256.js");var toEventSelector_js_1=require("../hash/toEventSelector.js");var encodeAbiParameters_js_1=require("./encodeAbiParameters.js");var formatAbiItem_js_1=require("./formatAbiItem.js");var getAbiItem_js_1=require("./getAbiItem.js");var docsPath="/docs/contract/encodeEventTopics";function encodeEventTopics(parameters){var abi=parameters.abi,eventName=parameters.eventName,args=parameters.args;var abiItem=abi[0];if(eventName){var item=(0,getAbiItem_js_1.getAbiItem)({abi:abi,name:eventName});if(!item)throw new abi_js_1.AbiEventNotFoundError(eventName,{docsPath:docsPath});abiItem=item}if(abiItem.type!=="event")throw new abi_js_1.AbiEventNotFoundError(undefined,{docsPath:docsPath});var definition=(0,formatAbiItem_js_1.formatAbiItem)(abiItem);var signature=(0,toEventSelector_js_1.toEventSelector)(definition);var topics=[];if(args&&"inputs"in abiItem){var _abiItem$inputs,_indexedInputs$map;var indexedInputs=(_abiItem$inputs=abiItem.inputs)===null||_abiItem$inputs===void 0?void 0:_abiItem$inputs.filter(function(param){return"indexed"in param&&param.indexed});var args_=Array.isArray(args)?args:Object.values(args).length>0?(_indexedInputs$map=indexedInputs===null||indexedInputs===void 0?void 0:indexedInputs.map(function(x){return args[x.name]}))!==null&&_indexedInputs$map!==void 0?_indexedInputs$map:[]:[];if(args_.length>0){var _indexedInputs$map2;topics=(_indexedInputs$map2=indexedInputs===null||indexedInputs===void 0?void 0:indexedInputs.map(function(param,i){if(Array.isArray(args_[i]))return args_[i].map(function(_,j){return encodeArg({param:param,value:args_[i][j]})});return typeof args_[i]!=="undefined"&&args_[i]!==null?encodeArg({param:param,value:args_[i]}):null}))!==null&&_indexedInputs$map2!==void 0?_indexedInputs$map2:[]}}return[signature].concat(_toConsumableArray(topics))}function encodeArg(_ref){var param=_ref.param,value=_ref.value;if(param.type==="string"||param.type==="bytes")return(0,keccak256_js_1.keccak256)((0,toBytes_js_1.toBytes)(value));if(param.type==="tuple"||param.type.match(/^(.*)\[(\d+)?\]$/))throw new log_js_1.FilterTypeNotSupportedError(param.type);return(0,encodeAbiParameters_js_1.encodeAbiParameters)([param],[value])}},{"../../errors/abi.js":345,"../../errors/log.js":361,"../encoding/toBytes.js":425,"../hash/keccak256.js":455,"../hash/toEventSelector.js":460,"./encodeAbiParameters.js":380,"./formatAbiItem.js":387,"./getAbiItem.js":389}],384:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.encodeFunctionData=encodeFunctionData;var concat_js_1=require("../data/concat.js");var encodeAbiParameters_js_1=require("./encodeAbiParameters.js");var prepareEncodeFunctionData_js_1=require("./prepareEncodeFunctionData.js");function encodeFunctionData(parameters){var args=parameters.args;var _ref=function(_parameters$functionN){if(parameters.abi.length===1&&(_parameters$functionN=parameters.functionName)!==null&&_parameters$functionN!==void 0&&_parameters$functionN.startsWith("0x"))return parameters;return(0,prepareEncodeFunctionData_js_1.prepareEncodeFunctionData)(parameters)}(),abi=_ref.abi,functionName=_ref.functionName;var abiItem=abi[0];var signature=functionName;var data="inputs"in abiItem&&abiItem.inputs?(0,encodeAbiParameters_js_1.encodeAbiParameters)(abiItem.inputs,args!==null&&args!==void 0?args:[]):undefined;return(0,concat_js_1.concatHex)([signature,data!==null&&data!==void 0?data:"0x"])}},{"../data/concat.js":415,"./encodeAbiParameters.js":380,"./prepareEncodeFunctionData.js":391}],385:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.encodeFunctionResult=encodeFunctionResult;var abi_js_1=require("../../errors/abi.js");var encodeAbiParameters_js_1=require("./encodeAbiParameters.js");var getAbiItem_js_1=require("./getAbiItem.js");var docsPath="/docs/contract/encodeFunctionResult";function encodeFunctionResult(parameters){var abi=parameters.abi,functionName=parameters.functionName,result=parameters.result;var abiItem=abi[0];if(functionName){var item=(0,getAbiItem_js_1.getAbiItem)({abi:abi,name:functionName});if(!item)throw new abi_js_1.AbiFunctionNotFoundError(functionName,{docsPath:docsPath});abiItem=item}if(abiItem.type!=="function")throw new abi_js_1.AbiFunctionNotFoundError(undefined,{docsPath:docsPath});if(!abiItem.outputs)throw new abi_js_1.AbiFunctionOutputsNotFoundError(abiItem.name,{docsPath:docsPath});var values=function(){if(abiItem.outputs.length===0)return[];if(abiItem.outputs.length===1)return[result];if(Array.isArray(result))return result;throw new abi_js_1.InvalidArrayError(result)}();return(0,encodeAbiParameters_js_1.encodeAbiParameters)(abiItem.outputs,values)}},{"../../errors/abi.js":345,"./encodeAbiParameters.js":380,"./getAbiItem.js":389}],386:[function(require,module,exports){"use strict";function _slicedToArray(r,e){return _arrayWithHoles(r)||_iterableToArrayLimit(r,e)||_unsupportedIterableToArray(r,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++){n[e]=r[e]}return n}function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0){}}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t["return"]&&(u=t["return"](),Object(u)!==u))return}finally{if(o)throw n}}return a}}function _arrayWithHoles(r){if(Array.isArray(r))return r}Object.defineProperty(exports,"__esModule",{value:true});exports.encodePacked=encodePacked;var abi_js_1=require("../../errors/abi.js");var address_js_1=require("../../errors/address.js");var isAddress_js_1=require("../address/isAddress.js");var concat_js_1=require("../data/concat.js");var pad_js_1=require("../data/pad.js");var toHex_js_1=require("../encoding/toHex.js");var regex_js_1=require("../regex.js");function encodePacked(types,values){if(types.length!==values.length)throw new abi_js_1.AbiEncodingLengthMismatchError({expectedLength:types.length,givenLength:values.length});var data=[];for(var i=0;i<types.length;i++){var type=types[i];var value=values[i];data.push(encode(type,value))}return(0,concat_js_1.concatHex)(data)}function encode(type,value){var isArray=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;if(type==="address"){var address=value;if(!(0,isAddress_js_1.isAddress)(address))throw new address_js_1.InvalidAddressError({address:address});return(0,pad_js_1.pad)(address.toLowerCase(),{size:isArray?32:null})}if(type==="string")return(0,toHex_js_1.stringToHex)(value);if(type==="bytes")return value;if(type==="bool")return(0,pad_js_1.pad)((0,toHex_js_1.boolToHex)(value),{size:isArray?32:1});var intMatch=type.match(regex_js_1.integerRegex);if(intMatch){var _intMatch=_slicedToArray(intMatch,3),_type=_intMatch[0],baseType=_intMatch[1],_intMatch$=_intMatch[2],bits=_intMatch$===void 0?"256":_intMatch$;var size=Number.parseInt(bits)/8;return(0,toHex_js_1.numberToHex)(value,{size:isArray?32:size,signed:baseType==="int"})}var bytesMatch=type.match(regex_js_1.bytesRegex);if(bytesMatch){var _bytesMatch=_slicedToArray(bytesMatch,2),_type2=_bytesMatch[0],_size=_bytesMatch[1];if(Number.parseInt(_size)!==(value.length-2)/2)throw new abi_js_1.BytesSizeMismatchError({expectedSize:Number.parseInt(_size),givenSize:(value.length-2)/2});return(0,pad_js_1.pad)(value,{dir:"right",size:isArray?32:null})}var arrayMatch=type.match(regex_js_1.arrayRegex);if(arrayMatch&&Array.isArray(value)){var _arrayMatch=_slicedToArray(arrayMatch,2),_type3=_arrayMatch[0],childType=_arrayMatch[1];var data=[];for(var i=0;i<value.length;i++){data.push(encode(childType,value[i],true))}if(data.length===0)return"0x";return(0,concat_js_1.concatHex)(data)}throw new abi_js_1.UnsupportedPackedAbiType(type)}},{"../../errors/abi.js":345,"../../errors/address.js":347,"../address/isAddress.js":394,"../data/concat.js":415,"../data/pad.js":418,"../encoding/toHex.js":426,"../regex.js":480}],387:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.formatAbiItem=formatAbiItem;exports.formatAbiParams=formatAbiParams;var abi_js_1=require("../../errors/abi.js");function formatAbiItem(abiItem){var _ref=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},_ref$includeName=_ref.includeName,includeName=_ref$includeName===void 0?false:_ref$includeName;if(abiItem.type!=="function"&&abiItem.type!=="event"&&abiItem.type!=="error")throw new abi_js_1.InvalidDefinitionTypeError(abiItem.type);return"".concat(abiItem.name,"(").concat(formatAbiParams(abiItem.inputs,{includeName:includeName}),")")}function formatAbiParams(params){var _ref2=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},_ref2$includeName=_ref2.includeName,includeName=_ref2$includeName===void 0?false:_ref2$includeName;if(!params)return"";return params.map(function(param){return formatAbiParam(param,{includeName:includeName})}).join(includeName?", ":",")}function formatAbiParam(param,_ref3){var includeName=_ref3.includeName;if(param.type.startsWith("tuple")){return"(".concat(formatAbiParams(param.components,{includeName:includeName}),")").concat(param.type.slice("tuple".length))}return param.type+(includeName&&param.name?" ".concat(param.name):"")}},{"../../errors/abi.js":345}],388:[function(require,module,exports){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}Object.defineProperty(exports,"__esModule",{value:true});exports.formatAbiItemWithArgs=formatAbiItemWithArgs;var stringify_js_1=require("../stringify.js");function formatAbiItemWithArgs(_ref){var abiItem=_ref.abiItem,args=_ref.args,_ref$includeFunctionN=_ref.includeFunctionName,includeFunctionName=_ref$includeFunctionN===void 0?true:_ref$includeFunctionN,_ref$includeName=_ref.includeName,includeName=_ref$includeName===void 0?false:_ref$includeName;if(!("name"in abiItem))return;if(!("inputs"in abiItem))return;if(!abiItem.inputs)return;return"".concat(includeFunctionName?abiItem.name:"","(").concat(abiItem.inputs.map(function(input,i){return"".concat(includeName&&input.name?"".concat(input.name,": "):"").concat(_typeof(args[i])==="object"?(0,stringify_js_1.stringify)(args[i]):args[i])}).join(", "),")")}},{"../stringify.js":509}],389:[function(require,module,exports){"use strict";function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function _defineProperty(e,r,t){return(r=_toPropertyKey(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _createForOfIteratorHelper(r,e){var t="undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(!t){if(Array.isArray(r)||(t=_unsupportedIterableToArray(r))||e&&r&&"number"==typeof r.length){t&&(r=t);var _n=0,F=function F(){};return{s:F,n:function n(){return _n>=r.length?{done:!0}:{done:!1,value:r[_n++]}},e:function e(r){throw r},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function s(){t=t.call(r)},n:function n(){var r=t.next();return a=r.done,r},e:function e(r){u=!0,o=r},f:function f(){try{a||null==t["return"]||t["return"]()}finally{if(u)throw o}}}}function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++){n[e]=r[e]}return n}Object.defineProperty(exports,"__esModule",{value:true});exports.getAbiItem=getAbiItem;exports.isArgOfType=isArgOfType;exports.getAmbiguousTypes=getAmbiguousTypes;var abi_js_1=require("../../errors/abi.js");var isHex_js_1=require("../../utils/data/isHex.js");var isAddress_js_1=require("../address/isAddress.js");var toEventSelector_js_1=require("../hash/toEventSelector.js");var toFunctionSelector_js_1=require("../hash/toFunctionSelector.js");function getAbiItem(parameters){var abi=parameters.abi,_parameters$args=parameters.args,args=_parameters$args===void 0?[]:_parameters$args,name=parameters.name;var isSelector=(0,isHex_js_1.isHex)(name,{strict:false});var abiItems=abi.filter(function(abiItem){if(isSelector){if(abiItem.type==="function")return(0,toFunctionSelector_js_1.toFunctionSelector)(abiItem)===name;if(abiItem.type==="event")return(0,toEventSelector_js_1.toEventSelector)(abiItem)===name;return false}return"name"in abiItem&&abiItem.name===name});if(abiItems.length===0)return undefined;if(abiItems.length===1)return abiItems[0];var matchedAbiItem=undefined;var _iterator=_createForOfIteratorHelper(abiItems),_step;try{var _loop=function _loop(){var abiItem=_step.value;if(!("inputs"in abiItem))return"continue";if(!args||args.length===0){if(!abiItem.inputs||abiItem.inputs.length===0)return{v:abiItem};return"continue"}if(!abiItem.inputs)return"continue";if(abiItem.inputs.length===0)return"continue";if(abiItem.inputs.length!==args.length)return"continue";var matched=args.every(function(arg,index){var abiParameter="inputs"in abiItem&&abiItem.inputs[index];if(!abiParameter)return false;return isArgOfType(arg,abiParameter)});if(matched){if(matchedAbiItem&&"inputs"in matchedAbiItem&&matchedAbiItem.inputs){var ambiguousTypes=getAmbiguousTypes(abiItem.inputs,matchedAbiItem.inputs,args);if(ambiguousTypes)throw new abi_js_1.AbiItemAmbiguityError({abiItem:abiItem,type:ambiguousTypes[0]},{abiItem:matchedAbiItem,type:ambiguousTypes[1]})}matchedAbiItem=abiItem}};for(_iterator.s();!(_step=_iterator.n()).done;){var _ret=_loop();if(_ret==="continue")continue;if(_typeof(_ret)==="object")return _ret.v}}catch(err){_iterator.e(err)}finally{_iterator.f()}if(matchedAbiItem)return matchedAbiItem;return abiItems[0]}function isArgOfType(arg,abiParameter){var argType=_typeof(arg);var abiParameterType=abiParameter.type;switch(abiParameterType){case"address":return(0,isAddress_js_1.isAddress)(arg,{strict:false});case"bool":return argType==="boolean";case"function":return argType==="string";case"string":return argType==="string";default:{if(abiParameterType==="tuple"&&"components"in abiParameter)return Object.values(abiParameter.components).every(function(component,index){return isArgOfType(Object.values(arg)[index],component)});if(/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(abiParameterType))return argType==="number"||argType==="bigint";if(/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(abiParameterType))return argType==="string"||arg instanceof Uint8Array;if(/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(abiParameterType)){return Array.isArray(arg)&&arg.every(function(x){return isArgOfType(x,_objectSpread(_objectSpread({},abiParameter),{},{type:abiParameterType.replace(/(\[[0-9]{0,}\])$/,"")}))})}return false}}}function getAmbiguousTypes(sourceParameters,targetParameters,args){var _loop2=function _loop2(parameterIndex){var sourceParameter=sourceParameters[parameterIndex];var targetParameter=targetParameters[parameterIndex];if(sourceParameter.type==="tuple"&&targetParameter.type==="tuple"&&"components"in sourceParameter&&"components"in targetParameter)return{v:getAmbiguousTypes(sourceParameter.components,targetParameter.components,args[parameterIndex])};var types=[sourceParameter.type,targetParameter.type];var ambiguous=function(){if(types.includes("address")&&types.includes("bytes20"))return true;if(types.includes("address")&&types.includes("string"))return(0,isAddress_js_1.isAddress)(args[parameterIndex],{strict:false});if(types.includes("address")&&types.includes("bytes"))return(0,isAddress_js_1.isAddress)(args[parameterIndex],{strict:false});return false}();if(ambiguous)return{v:types}};for(var parameterIndex in sourceParameters){var _ret2=_loop2(parameterIndex);if(_typeof(_ret2)==="object")return _ret2.v}return}},{"../../errors/abi.js":345,"../../utils/data/isHex.js":417,"../address/isAddress.js":394,"../hash/toEventSelector.js":460,"../hash/toFunctionSelector.js":463}],390:[function(require,module,exports){"use strict";function _slicedToArray(r,e){return _arrayWithHoles(r)||_iterableToArrayLimit(r,e)||_unsupportedIterableToArray(r,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++){n[e]=r[e]}return n}function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0){}}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t["return"]&&(u=t["return"](),Object(u)!==u))return}finally{if(o)throw n}}return a}}function _arrayWithHoles(r){if(Array.isArray(r))return r}function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function _defineProperty(e,r,t){return(r=_toPropertyKey(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}Object.defineProperty(exports,"__esModule",{value:true});exports.parseEventLogs=parseEventLogs;var abi_js_1=require("../../errors/abi.js");var isAddressEqual_js_1=require("../address/isAddressEqual.js");var toBytes_js_1=require("../encoding/toBytes.js");var keccak256_js_1=require("../hash/keccak256.js");var toEventSelector_js_1=require("../hash/toEventSelector.js");var decodeEventLog_js_1=require("./decodeEventLog.js");function parseEventLogs(parameters){var abi=parameters.abi,args=parameters.args,logs=parameters.logs,_parameters$strict=parameters.strict,strict=_parameters$strict===void 0?true:_parameters$strict;var eventName=function(){if(!parameters.eventName)return undefined;if(Array.isArray(parameters.eventName))return parameters.eventName;return[parameters.eventName]}();return logs.map(function(log){try{var abiItem=abi.find(function(abiItem){return abiItem.type==="event"&&log.topics[0]===(0,toEventSelector_js_1.toEventSelector)(abiItem)});if(!abiItem)return null;var event=(0,decodeEventLog_js_1.decodeEventLog)(_objectSpread(_objectSpread({},log),{},{abi:[abiItem],strict:strict}));if(eventName&&!eventName.includes(event.eventName))return null;if(!includesArgs({args:event.args,inputs:abiItem.inputs,matchArgs:args}))return null;return _objectSpread(_objectSpread({},event),log)}catch(err){var _eventName;var isUnnamed;if(err instanceof abi_js_1.AbiEventSignatureNotFoundError)return null;if(err instanceof abi_js_1.DecodeLogDataMismatch||err instanceof abi_js_1.DecodeLogTopicsMismatch){var _err$abiItem$inputs;if(strict)return null;_eventName=err.abiItem.name;isUnnamed=(_err$abiItem$inputs=err.abiItem.inputs)===null||_err$abiItem$inputs===void 0?void 0:_err$abiItem$inputs.some(function(x){return!("name"in x&&x.name)})}return _objectSpread(_objectSpread({},log),{},{args:isUnnamed?[]:{},eventName:_eventName})}}).filter(Boolean)}function includesArgs(parameters){var args=parameters.args,inputs=parameters.inputs,matchArgs=parameters.matchArgs;if(!matchArgs)return true;if(!args)return false;function isEqual(input,value,arg){try{if(input.type==="address")return(0,isAddressEqual_js_1.isAddressEqual)(value,arg);if(input.type==="string"||input.type==="bytes")return(0,keccak256_js_1.keccak256)((0,toBytes_js_1.toBytes)(value))===arg;return value===arg}catch(_unused){return false}}if(Array.isArray(args)&&Array.isArray(matchArgs)){return matchArgs.every(function(value,index){if(value===null||value===undefined)return true;var input=inputs[index];if(!input)return false;var value_=Array.isArray(value)?value:[value];return value_.some(function(value){return isEqual(input,value,args[index])})})}if(_typeof(args)==="object"&&!Array.isArray(args)&&_typeof(matchArgs)==="object"&&!Array.isArray(matchArgs))return Object.entries(matchArgs).every(function(_ref){var _ref2=_slicedToArray(_ref,2),key=_ref2[0],value=_ref2[1];if(value===null||value===undefined)return true;var input=inputs.find(function(input){return input.name===key});if(!input)return false;var value_=Array.isArray(value)?value:[value];return value_.some(function(value){return isEqual(input,value,args[key])})});return false}},{"../../errors/abi.js":345,"../address/isAddressEqual.js":395,"../encoding/toBytes.js":425,"../hash/keccak256.js":455,"../hash/toEventSelector.js":460,"./decodeEventLog.js":377}],391:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.prepareEncodeFunctionData=prepareEncodeFunctionData;var abi_js_1=require("../../errors/abi.js");var toFunctionSelector_js_1=require("../hash/toFunctionSelector.js");var formatAbiItem_js_1=require("./formatAbiItem.js");var getAbiItem_js_1=require("./getAbiItem.js");var docsPath="/docs/contract/encodeFunctionData";function prepareEncodeFunctionData(parameters){var abi=parameters.abi,args=parameters.args,functionName=parameters.functionName;var abiItem=abi[0];if(functionName){var item=(0,getAbiItem_js_1.getAbiItem)({abi:abi,args:args,name:functionName});if(!item)throw new abi_js_1.AbiFunctionNotFoundError(functionName,{docsPath:docsPath});abiItem=item}if(abiItem.type!=="function")throw new abi_js_1.AbiFunctionNotFoundError(undefined,{docsPath:docsPath});return{abi:[abiItem],functionName:(0,toFunctionSelector_js_1.toFunctionSelector)((0,formatAbiItem_js_1.formatAbiItem)(abiItem))}}},{"../../errors/abi.js":345,"../hash/toFunctionSelector.js":463,"./formatAbiItem.js":387,"./getAbiItem.js":389}],392:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.checksumAddress=checksumAddress;exports.getAddress=getAddress;var address_js_1=require("../../errors/address.js");var toBytes_js_1=require("../encoding/toBytes.js");var keccak256_js_1=require("../hash/keccak256.js");var lru_js_1=require("../lru.js");var isAddress_js_1=require("./isAddress.js");var checksumAddressCache=new lru_js_1.LruMap(8192);function checksumAddress(address_,chainId){if(checksumAddressCache.has("".concat(address_,".").concat(chainId)))return checksumAddressCache.get("".concat(address_,".").concat(chainId));var hexAddress=chainId?"".concat(chainId).concat(address_.toLowerCase()):address_.substring(2).toLowerCase();var hash=(0,keccak256_js_1.keccak256)((0,toBytes_js_1.stringToBytes)(hexAddress),"bytes");var address=(chainId?hexAddress.substring("".concat(chainId,"0x").length):hexAddress).split("");for(var i=0;i<40;i+=2){if(hash[i>>1]>>4>=8&&address[i]){address[i]=address[i].toUpperCase()}if((hash[i>>1]&15)>=8&&address[i+1]){address[i+1]=address[i+1].toUpperCase()}}var result="0x".concat(address.join(""));checksumAddressCache.set("".concat(address_,".").concat(chainId),result);return result}function getAddress(address,chainId){if(!(0,isAddress_js_1.isAddress)(address,{strict:false}))throw new address_js_1.InvalidAddressError({address:address});return checksumAddress(address,chainId)}},{"../../errors/address.js":347,"../encoding/toBytes.js":425,"../hash/keccak256.js":455,"../lru.js":470,"./isAddress.js":394}],393:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getContractAddress=getContractAddress;exports.getCreateAddress=getCreateAddress;exports.getCreate2Address=getCreate2Address;var concat_js_1=require("../data/concat.js");var isBytes_js_1=require("../data/isBytes.js");var pad_js_1=require("../data/pad.js");var slice_js_1=require("../data/slice.js");var toBytes_js_1=require("../encoding/toBytes.js");var toRlp_js_1=require("../encoding/toRlp.js");var keccak256_js_1=require("../hash/keccak256.js");var getAddress_js_1=require("./getAddress.js");function getContractAddress(opts){if(opts.opcode==="CREATE2")return getCreate2Address(opts);return getCreateAddress(opts)}function getCreateAddress(opts){var from=(0,toBytes_js_1.toBytes)((0,getAddress_js_1.getAddress)(opts.from));var nonce=(0,toBytes_js_1.toBytes)(opts.nonce);if(nonce[0]===0)nonce=new Uint8Array([]);return(0,getAddress_js_1.getAddress)("0x".concat((0,keccak256_js_1.keccak256)((0,toRlp_js_1.toRlp)([from,nonce],"bytes")).slice(26)))}function getCreate2Address(opts){var from=(0,toBytes_js_1.toBytes)((0,getAddress_js_1.getAddress)(opts.from));var salt=(0,pad_js_1.pad)((0,isBytes_js_1.isBytes)(opts.salt)?opts.salt:(0,toBytes_js_1.toBytes)(opts.salt),{size:32});var bytecodeHash=function(){if("bytecodeHash"in opts){if((0,isBytes_js_1.isBytes)(opts.bytecodeHash))return opts.bytecodeHash;return(0,toBytes_js_1.toBytes)(opts.bytecodeHash)}return(0,keccak256_js_1.keccak256)(opts.bytecode,"bytes")}();return(0,getAddress_js_1.getAddress)((0,slice_js_1.slice)((0,keccak256_js_1.keccak256)((0,concat_js_1.concat)([(0,toBytes_js_1.toBytes)("0xff"),from,salt,bytecodeHash])),12))}},{"../data/concat.js":415,"../data/isBytes.js":416,"../data/pad.js":418,"../data/slice.js":420,"../encoding/toBytes.js":425,"../encoding/toRlp.js":427,"../hash/keccak256.js":455,"./getAddress.js":392}],394:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.isAddressCache=void 0;exports.isAddress=isAddress;var lru_js_1=require("../lru.js");var getAddress_js_1=require("./getAddress.js");var addressRegex=/^0x[a-fA-F0-9]{40}$/;exports.isAddressCache=new lru_js_1.LruMap(8192);function isAddress(address,options){var _ref=options!==null&&options!==void 0?options:{},_ref$strict=_ref.strict,strict=_ref$strict===void 0?true:_ref$strict;var cacheKey="".concat(address,".").concat(strict);if(exports.isAddressCache.has(cacheKey))return exports.isAddressCache.get(cacheKey);var result=function(){if(!addressRegex.test(address))return false;if(address.toLowerCase()===address)return true;if(strict)return(0,getAddress_js_1.checksumAddress)(address)===address;return true}();exports.isAddressCache.set(cacheKey,result);return result}},{"../lru.js":470,"./getAddress.js":392}],395:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.isAddressEqual=isAddressEqual;var address_js_1=require("../../errors/address.js");var isAddress_js_1=require("./isAddress.js");function isAddressEqual(a,b){if(!(0,isAddress_js_1.isAddress)(a,{strict:false}))throw new address_js_1.InvalidAddressError({address:a});if(!(0,isAddress_js_1.isAddress)(b,{strict:false}))throw new address_js_1.InvalidAddressError({address:b});return a.toLowerCase()===b.toLowerCase()}},{"../../errors/address.js":347,"./isAddress.js":394}],396:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.hashAuthorization=hashAuthorization;var concat_js_1=require("../data/concat.js");var toBytes_js_1=require("../encoding/toBytes.js");var toHex_js_1=require("../encoding/toHex.js");var toRlp_js_1=require("../encoding/toRlp.js");var keccak256_js_1=require("../hash/keccak256.js");function hashAuthorization(parameters){var _parameters$contractA;var chainId=parameters.chainId,nonce=parameters.nonce,to=parameters.to;var address=(_parameters$contractA=parameters.contractAddress)!==null&&_parameters$contractA!==void 0?_parameters$contractA:parameters.address;var hash=(0,keccak256_js_1.keccak256)((0,concat_js_1.concatHex)(["0x05",(0,toRlp_js_1.toRlp)([chainId?(0,toHex_js_1.numberToHex)(chainId):"0x",address,nonce?(0,toHex_js_1.numberToHex)(nonce):"0x"])]));if(to==="bytes")return(0,toBytes_js_1.hexToBytes)(hash);return hash}},{"../data/concat.js":415,"../encoding/toBytes.js":425,"../encoding/toHex.js":426,"../encoding/toRlp.js":427,"../hash/keccak256.js":455}],397:[function(require,module,exports){"use strict";function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}Object.defineProperty(exports,"__esModule",{value:true});exports.recoverAuthorizationAddress=recoverAuthorizationAddress;var recoverAddress_js_1=require("../signature/recoverAddress.js");var hashAuthorization_js_1=require("./hashAuthorization.js");function recoverAuthorizationAddress(_x){return _recoverAuthorizationAddress.apply(this,arguments)}function _recoverAuthorizationAddress(){_recoverAuthorizationAddress=_asyncToGenerator(regeneratorRuntime.mark(function _callee(parameters){var authorization,signature;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:authorization=parameters.authorization,signature=parameters.signature;return _context.abrupt("return",(0,recoverAddress_js_1.recoverAddress)({hash:(0,hashAuthorization_js_1.hashAuthorization)(authorization),signature:signature!==null&&signature!==void 0?signature:authorization}));case 2:case"end":return _context.stop()}}},_callee)}));return _recoverAuthorizationAddress.apply(this,arguments)}},{"../signature/recoverAddress.js":493,"./hashAuthorization.js":396}],398:[function(require,module,exports){"use strict";var _excluded=["chainId","nonce"];function _toConsumableArray(r){return _arrayWithoutHoles(r)||_iterableToArray(r)||_unsupportedIterableToArray(r)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}function _arrayWithoutHoles(r){if(Array.isArray(r))return _arrayLikeToArray(r)}function _objectWithoutProperties(e,t){if(null==e)return{};var o,r,i=_objectWithoutPropertiesLoose(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(r=0;r<n.length;r++){o=n[r],-1===t.indexOf(o)&&{}.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}}return i}function _objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r){if({}.hasOwnProperty.call(r,n)){if(-1!==e.indexOf(n))continue;t[n]=r[n]}}return t}function _createForOfIteratorHelper(r,e){var t="undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(!t){if(Array.isArray(r)||(t=_unsupportedIterableToArray(r))||e&&r&&"number"==typeof r.length){t&&(r=t);var _n=0,F=function F(){};return{s:F,n:function n(){return _n>=r.length?{done:!0}:{done:!1,value:r[_n++]}},e:function e(r){throw r},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function s(){t=t.call(r)},n:function n(){var r=t.next();return a=r.done,r},e:function e(r){u=!0,o=r},f:function f(){try{a||null==t["return"]||t["return"]()}finally{if(u)throw o}}}}function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++){n[e]=r[e]}return n}Object.defineProperty(exports,"__esModule",{value:true});exports.serializeAuthorizationList=serializeAuthorizationList;var toHex_js_1=require("../encoding/toHex.js");var serializeTransaction_js_1=require("../transaction/serializeTransaction.js");function serializeAuthorizationList(authorizationList){if(!authorizationList||authorizationList.length===0)return[];var serializedAuthorizationList=[];var _iterator=_createForOfIteratorHelper(authorizationList),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var authorization=_step.value;var chainId=authorization.chainId,nonce=authorization.nonce,signature=_objectWithoutProperties(authorization,_excluded);var contractAddress=authorization.address;serializedAuthorizationList.push([chainId?(0,toHex_js_1.toHex)(chainId):"0x",contractAddress,nonce?(0,toHex_js_1.toHex)(nonce):"0x"].concat(_toConsumableArray((0,serializeTransaction_js_1.toYParitySignatureArray)({},signature))))}}catch(err){_iterator.e(err)}finally{_iterator.f()}return serializedAuthorizationList}},{"../encoding/toHex.js":426,"../transaction/serializeTransaction.js":516}],399:[function(require,module,exports){"use strict";function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}Object.defineProperty(exports,"__esModule",{value:true});exports.verifyAuthorization=verifyAuthorization;var getAddress_js_1=require("../address/getAddress.js");var isAddressEqual_js_1=require("../address/isAddressEqual.js");var recoverAuthorizationAddress_js_1=require("./recoverAuthorizationAddress.js");function verifyAuthorization(_x){return _verifyAuthorization.apply(this,arguments)}function _verifyAuthorization(){_verifyAuthorization=_asyncToGenerator(regeneratorRuntime.mark(function _callee(_ref){var address,authorization,signature;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:address=_ref.address,authorization=_ref.authorization,signature=_ref.signature;_context.t0=(0,isAddressEqual_js_1.isAddressEqual);_context.t1=(0,getAddress_js_1.getAddress)(address);_context.next=5;return(0,recoverAuthorizationAddress_js_1.recoverAuthorizationAddress)({authorization:authorization,signature:signature});case 5:_context.t2=_context.sent;return _context.abrupt("return",(0,_context.t0)(_context.t1,_context.t2));case 7:case"end":return _context.stop()}}},_callee)}));return _verifyAuthorization.apply(this,arguments)}},{"../address/getAddress.js":392,"../address/isAddressEqual.js":395,"./recoverAuthorizationAddress.js":397}],400:[function(require,module,exports){"use strict";function _createForOfIteratorHelper(r,e){var t="undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(!t){if(Array.isArray(r)||(t=_unsupportedIterableToArray(r))||e&&r&&"number"==typeof r.length){t&&(r=t);var _n=0,F=function F(){};return{s:F,n:function n(){return _n>=r.length?{done:!0}:{done:!1,value:r[_n++]}},e:function e(r){throw r},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function s(){t=t.call(r)},n:function n(){var r=t.next();return a=r.done,r},e:function e(r){u=!0,o=r},f:function f(){try{a||null==t["return"]||t["return"]()}finally{if(u)throw o}}}}function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++){n[e]=r[e]}return n}Object.defineProperty(exports,"__esModule",{value:true});exports.blobsToCommitments=blobsToCommitments;var toBytes_js_1=require("../encoding/toBytes.js");var toHex_js_1=require("../encoding/toHex.js");function blobsToCommitments(parameters){var _parameters$to;var kzg=parameters.kzg;var to=(_parameters$to=parameters.to)!==null&&_parameters$to!==void 0?_parameters$to:typeof parameters.blobs[0]==="string"?"hex":"bytes";var blobs=typeof parameters.blobs[0]==="string"?parameters.blobs.map(function(x){return(0,toBytes_js_1.hexToBytes)(x)}):parameters.blobs;var commitments=[];var _iterator=_createForOfIteratorHelper(blobs),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var blob=_step.value;commitments.push(Uint8Array.from(kzg.blobToKzgCommitment(blob)))}}catch(err){_iterator.e(err)}finally{_iterator.f()}return to==="bytes"?commitments:commitments.map(function(x){return(0,toHex_js_1.bytesToHex)(x)})}},{"../encoding/toBytes.js":425,"../encoding/toHex.js":426}],401:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.blobsToProofs=blobsToProofs;var toBytes_js_1=require("../encoding/toBytes.js");var toHex_js_1=require("../encoding/toHex.js");function blobsToProofs(parameters){var _parameters$to;var kzg=parameters.kzg;var to=(_parameters$to=parameters.to)!==null&&_parameters$to!==void 0?_parameters$to:typeof parameters.blobs[0]==="string"?"hex":"bytes";var blobs=typeof parameters.blobs[0]==="string"?parameters.blobs.map(function(x){return(0,toBytes_js_1.hexToBytes)(x)}):parameters.blobs;var commitments=typeof parameters.commitments[0]==="string"?parameters.commitments.map(function(x){return(0,toBytes_js_1.hexToBytes)(x)}):parameters.commitments;var proofs=[];for(var i=0;i<blobs.length;i++){var blob=blobs[i];var commitment=commitments[i];proofs.push(Uint8Array.from(kzg.computeBlobKzgProof(blob,commitment)))}return to==="bytes"?proofs:proofs.map(function(x){return(0,toHex_js_1.bytesToHex)(x)})}},{"../encoding/toBytes.js":425,"../encoding/toHex.js":426}],402:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.commitmentToVersionedHash=commitmentToVersionedHash;var toHex_js_1=require("../encoding/toHex.js");var sha256_js_1=require("../hash/sha256.js");function commitmentToVersionedHash(parameters){var _parameters$to;var commitment=parameters.commitment,_parameters$version=parameters.version,version=_parameters$version===void 0?1:_parameters$version;var to=(_parameters$to=parameters.to)!==null&&_parameters$to!==void 0?_parameters$to:typeof commitment==="string"?"hex":"bytes";var versionedHash=(0,sha256_js_1.sha256)(commitment,"bytes");versionedHash.set([version],0);return to==="bytes"?versionedHash:(0,toHex_js_1.bytesToHex)(versionedHash)}},{"../encoding/toHex.js":426,"../hash/sha256.js":458}],403:[function(require,module,exports){"use strict";function _createForOfIteratorHelper(r,e){var t="undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(!t){if(Array.isArray(r)||(t=_unsupportedIterableToArray(r))||e&&r&&"number"==typeof r.length){t&&(r=t);var _n=0,F=function F(){};return{s:F,n:function n(){return _n>=r.length?{done:!0}:{done:!1,value:r[_n++]}},e:function e(r){throw r},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function s(){t=t.call(r)},n:function n(){var r=t.next();return a=r.done,r},e:function e(r){u=!0,o=r},f:function f(){try{a||null==t["return"]||t["return"]()}finally{if(u)throw o}}}}function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++){n[e]=r[e]}return n}Object.defineProperty(exports,"__esModule",{value:true});exports.commitmentsToVersionedHashes=commitmentsToVersionedHashes;var commitmentToVersionedHash_js_1=require("./commitmentToVersionedHash.js");function commitmentsToVersionedHashes(parameters){var _parameters$to;var commitments=parameters.commitments,version=parameters.version;var to=(_parameters$to=parameters.to)!==null&&_parameters$to!==void 0?_parameters$to:typeof commitments[0]==="string"?"hex":"bytes";var hashes=[];var _iterator=_createForOfIteratorHelper(commitments),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var commitment=_step.value;hashes.push((0,commitmentToVersionedHash_js_1.commitmentToVersionedHash)({commitment:commitment,to:to,version:version}))}}catch(err){_iterator.e(err)}finally{_iterator.f()}return hashes}},{"./commitmentToVersionedHash.js":402}],404:[function(require,module,exports){"use strict";function _createForOfIteratorHelper(r,e){var t="undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(!t){if(Array.isArray(r)||(t=_unsupportedIterableToArray(r))||e&&r&&"number"==typeof r.length){t&&(r=t);var _n=0,F=function F(){};return{s:F,n:function n(){return _n>=r.length?{done:!0}:{done:!1,value:r[_n++]}},e:function e(r){throw r},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function s(){t=t.call(r)},n:function n(){var r=t.next();return a=r.done,r},e:function e(r){u=!0,o=r},f:function f(){try{a||null==t["return"]||t["return"]()}finally{if(u)throw o}}}}function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++){n[e]=r[e]}return n}Object.defineProperty(exports,"__esModule",{value:true});exports.fromBlobs=fromBlobs;var cursor_js_1=require("../cursor.js");var toBytes_js_1=require("../encoding/toBytes.js");var toHex_js_1=require("../encoding/toHex.js");function fromBlobs(parameters){var _parameters$to;var to=(_parameters$to=parameters.to)!==null&&_parameters$to!==void 0?_parameters$to:typeof parameters.blobs[0]==="string"?"hex":"bytes";var blobs=typeof parameters.blobs[0]==="string"?parameters.blobs.map(function(x){return(0,toBytes_js_1.hexToBytes)(x)}):parameters.blobs;var length=blobs.reduce(function(length,blob){return length+blob.length},0);var data=(0,cursor_js_1.createCursor)(new Uint8Array(length));var active=true;var _iterator=_createForOfIteratorHelper(blobs),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var blob=_step.value;var cursor=(0,cursor_js_1.createCursor)(blob);while(active&&cursor.position<blob.length){cursor.incrementPosition(1);var consume=31;if(blob.length-cursor.position<31)consume=blob.length-cursor.position;for(var _ in Array.from({length:consume})){var _byte=cursor.readByte();var isTerminator=_byte===128&&!cursor.inspectBytes(cursor.remaining).includes(128);if(isTerminator){active=false;break}data.pushByte(_byte)}}}}catch(err){_iterator.e(err)}finally{_iterator.f()}var trimmedData=data.bytes.slice(0,data.position);return to==="hex"?(0,toHex_js_1.bytesToHex)(trimmedData):trimmedData}},{"../cursor.js":414,"../encoding/toBytes.js":425,"../encoding/toHex.js":426}],405:[function(require,module,exports){"use strict";function _createForOfIteratorHelper(r,e){var t="undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(!t){if(Array.isArray(r)||(t=_unsupportedIterableToArray(r))||e&&r&&"number"==typeof r.length){t&&(r=t);var _n=0,F=function F(){};return{s:F,n:function n(){return _n>=r.length?{done:!0}:{done:!1,value:r[_n++]}},e:function e(r){throw r},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function s(){t=t.call(r)},n:function n(){var r=t.next();return a=r.done,r},e:function e(r){u=!0,o=r},f:function f(){try{a||null==t["return"]||t["return"]()}finally{if(u)throw o}}}}function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++){n[e]=r[e]}return n}Object.defineProperty(exports,"__esModule",{value:true});exports.sidecarsToVersionedHashes=sidecarsToVersionedHashes;var commitmentToVersionedHash_js_1=require("./commitmentToVersionedHash.js");function sidecarsToVersionedHashes(parameters){var _parameters$to;var sidecars=parameters.sidecars,version=parameters.version;var to=(_parameters$to=parameters.to)!==null&&_parameters$to!==void 0?_parameters$to:typeof sidecars[0].blob==="string"?"hex":"bytes";var hashes=[];var _iterator=_createForOfIteratorHelper(sidecars),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var commitment=_step.value.commitment;hashes.push((0,commitmentToVersionedHash_js_1.commitmentToVersionedHash)({commitment:commitment,to:to,version:version}))}}catch(err){_iterator.e(err)}finally{_iterator.f()}return hashes}},{"./commitmentToVersionedHash.js":402}],406:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.toBlobSidecars=toBlobSidecars;var blobsToCommitments_js_1=require("./blobsToCommitments.js");var blobsToProofs_js_1=require("./blobsToProofs.js");var toBlobs_js_1=require("./toBlobs.js");function toBlobSidecars(parameters){var _parameters$blobs,_parameters$commitmen,_parameters$proofs;var data=parameters.data,kzg=parameters.kzg,to=parameters.to;var blobs=(_parameters$blobs=parameters.blobs)!==null&&_parameters$blobs!==void 0?_parameters$blobs:(0,toBlobs_js_1.toBlobs)({data:data,to:to});var commitments=(_parameters$commitmen=parameters.commitments)!==null&&_parameters$commitmen!==void 0?_parameters$commitmen:(0,blobsToCommitments_js_1.blobsToCommitments)({blobs:blobs,kzg:kzg,to:to});var proofs=(_parameters$proofs=parameters.proofs)!==null&&_parameters$proofs!==void 0?_parameters$proofs:(0,blobsToProofs_js_1.blobsToProofs)({blobs:blobs,commitments:commitments,kzg:kzg,to:to});var sidecars=[];for(var i=0;i<blobs.length;i++){sidecars.push({blob:blobs[i],commitment:commitments[i],proof:proofs[i]})}return sidecars}},{"./blobsToCommitments.js":400,"./blobsToProofs.js":401,"./toBlobs.js":407}],407:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.toBlobs=toBlobs;var blob_js_1=require("../../constants/blob.js");var blob_js_2=require("../../errors/blob.js");var cursor_js_1=require("../cursor.js");var size_js_1=require("../data/size.js");var toBytes_js_1=require("../encoding/toBytes.js");var toHex_js_1=require("../encoding/toHex.js");function toBlobs(parameters){var _parameters$to;var to=(_parameters$to=parameters.to)!==null&&_parameters$to!==void 0?_parameters$to:typeof parameters.data==="string"?"hex":"bytes";var data=typeof parameters.data==="string"?(0,toBytes_js_1.hexToBytes)(parameters.data):parameters.data;var size_=(0,size_js_1.size)(data);if(!size_)throw new blob_js_2.EmptyBlobError;if(size_>blob_js_1.maxBytesPerTransaction)throw new blob_js_2.BlobSizeTooLargeError({maxSize:blob_js_1.maxBytesPerTransaction,size:size_});var blobs=[];var active=true;var position=0;while(active){var blob=(0,cursor_js_1.createCursor)(new Uint8Array(blob_js_1.bytesPerBlob));var size=0;while(size<blob_js_1.fieldElementsPerBlob){var bytes=data.slice(position,position+(blob_js_1.bytesPerFieldElement-1));blob.pushByte(0);blob.pushBytes(bytes);if(bytes.length<31){blob.pushByte(128);active=false;break}size++;position+=31}blobs.push(blob)}return to==="bytes"?blobs.map(function(x){return x.bytes}):blobs.map(function(x){return(0,toHex_js_1.bytesToHex)(x.bytes)})}},{"../../constants/blob.js":336,"../../errors/blob.js":349,"../cursor.js":414,"../data/size.js":419,"../encoding/toBytes.js":425,"../encoding/toHex.js":426}],408:[function(require,module,exports){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function _defineProperty(e,r,t){return(r=_toPropertyKey(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}Object.defineProperty(exports,"__esModule",{value:true});exports.buildRequest=buildRequest;exports.shouldRetry=_shouldRetry;var base_js_1=require("../errors/base.js");var request_js_1=require("../errors/request.js");var rpc_js_1=require("../errors/rpc.js");var toHex_js_1=require("./encoding/toHex.js");var withDedupe_js_1=require("./promise/withDedupe.js");var withRetry_js_1=require("./promise/withRetry.js");var stringify_js_1=require("./stringify.js");function buildRequest(request){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(args){var _methods$exclude;var overrideOptions,_options$overrideOpti,_options$overrideOpti2,dedupe,methods,_options$overrideOpti3,retryDelay,_options$overrideOpti4,retryCount,uid,method,requestId,_args2=arguments;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:overrideOptions=_args2.length>1&&_args2[1]!==undefined?_args2[1]:{};_options$overrideOpti=_objectSpread(_objectSpread({},options),overrideOptions),_options$overrideOpti2=_options$overrideOpti.dedupe,dedupe=_options$overrideOpti2===void 0?false:_options$overrideOpti2,methods=_options$overrideOpti.methods,_options$overrideOpti3=_options$overrideOpti.retryDelay,retryDelay=_options$overrideOpti3===void 0?150:_options$overrideOpti3,_options$overrideOpti4=_options$overrideOpti.retryCount,retryCount=_options$overrideOpti4===void 0?3:_options$overrideOpti4,uid=_options$overrideOpti.uid;method=args.method;if(!(methods!==null&&methods!==void 0&&(_methods$exclude=methods.exclude)!==null&&_methods$exclude!==void 0&&_methods$exclude.includes(method))){_context2.next=5;break}throw new rpc_js_1.MethodNotSupportedRpcError(new Error("method not supported"),{method:method});case 5:if(!(methods!==null&&methods!==void 0&&methods.include&&!methods.include.includes(method))){_context2.next=7;break}throw new rpc_js_1.MethodNotSupportedRpcError(new Error("method not supported"),{method:method});case 7:requestId=dedupe?(0,toHex_js_1.stringToHex)("".concat(uid,".").concat((0,stringify_js_1.stringify)(args))):undefined;return _context2.abrupt("return",(0,withDedupe_js_1.withDedupe)(function(){return(0,withRetry_js_1.withRetry)(_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var err;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return request(args);case 3:return _context.abrupt("return",_context.sent);case 6:_context.prev=6;_context.t0=_context["catch"](0);err=_context.t0;_context.t1=err.code;_context.next=_context.t1===rpc_js_1.ParseRpcError.code?12:_context.t1===rpc_js_1.InvalidRequestRpcError.code?13:_context.t1===rpc_js_1.MethodNotFoundRpcError.code?14:_context.t1===rpc_js_1.InvalidParamsRpcError.code?15:_context.t1===rpc_js_1.InternalRpcError.code?16:_context.t1===rpc_js_1.InvalidInputRpcError.code?17:_context.t1===rpc_js_1.ResourceNotFoundRpcError.code?18:_context.t1===rpc_js_1.ResourceUnavailableRpcError.code?19:_context.t1===rpc_js_1.TransactionRejectedRpcError.code?20:_context.t1===rpc_js_1.MethodNotSupportedRpcError.code?21:_context.t1===rpc_js_1.LimitExceededRpcError.code?22:_context.t1===rpc_js_1.JsonRpcVersionUnsupportedError.code?23:_context.t1===rpc_js_1.UserRejectedRequestError.code?24:_context.t1===rpc_js_1.UnauthorizedProviderError.code?25:_context.t1===rpc_js_1.UnsupportedProviderMethodError.code?26:_context.t1===rpc_js_1.ProviderDisconnectedError.code?27:_context.t1===rpc_js_1.ChainDisconnectedError.code?28:_context.t1===rpc_js_1.SwitchChainError.code?29:_context.t1===rpc_js_1.UnsupportedNonOptionalCapabilityError.code?30:_context.t1===rpc_js_1.UnsupportedChainIdError.code?31:_context.t1===rpc_js_1.DuplicateIdError.code?32:_context.t1===rpc_js_1.UnknownBundleIdError.code?33:_context.t1===rpc_js_1.BundleTooLargeError.code?34:_context.t1===rpc_js_1.AtomicReadyWalletRejectedUpgradeError.code?35:_context.t1===rpc_js_1.AtomicityNotSupportedError.code?36:_context.t1===5e3?37:38;break;case 12:throw new rpc_js_1.ParseRpcError(err);case 13:throw new rpc_js_1.InvalidRequestRpcError(err);case 14:throw new rpc_js_1.MethodNotFoundRpcError(err,{method:args.method});case 15:throw new rpc_js_1.InvalidParamsRpcError(err);case 16:throw new rpc_js_1.InternalRpcError(err);case 17:throw new rpc_js_1.InvalidInputRpcError(err);case 18:throw new rpc_js_1.ResourceNotFoundRpcError(err);case 19:throw new rpc_js_1.ResourceUnavailableRpcError(err);case 20:throw new rpc_js_1.TransactionRejectedRpcError(err);case 21:throw new rpc_js_1.MethodNotSupportedRpcError(err,{method:args.method});case 22:throw new rpc_js_1.LimitExceededRpcError(err);case 23:throw new rpc_js_1.JsonRpcVersionUnsupportedError(err);case 24:throw new rpc_js_1.UserRejectedRequestError(err);case 25:throw new rpc_js_1.UnauthorizedProviderError(err);case 26:throw new rpc_js_1.UnsupportedProviderMethodError(err);case 27:throw new rpc_js_1.ProviderDisconnectedError(err);case 28:throw new rpc_js_1.ChainDisconnectedError(err);case 29:throw new rpc_js_1.SwitchChainError(err);case 30:throw new rpc_js_1.UnsupportedNonOptionalCapabilityError(err);case 31:throw new rpc_js_1.UnsupportedChainIdError(err);case 32:throw new rpc_js_1.DuplicateIdError(err);case 33:throw new rpc_js_1.UnknownBundleIdError(err);case 34:throw new rpc_js_1.BundleTooLargeError(err);case 35:throw new rpc_js_1.AtomicReadyWalletRejectedUpgradeError(err);case 36:throw new rpc_js_1.AtomicityNotSupportedError(err);case 37:throw new rpc_js_1.UserRejectedRequestError(err);case 38:if(!(_context.t0 instanceof base_js_1.BaseError)){_context.next=40;break}throw _context.t0;case 40:throw new rpc_js_1.UnknownRpcError(err);case 41:case"end":return _context.stop()}}},_callee,null,[[0,6]])})),{delay:function delay(_ref3){var count=_ref3.count,error=_ref3.error;if(error&&error instanceof request_js_1.HttpRequestError){var _error$headers;var retryAfter=error===null||error===void 0?void 0:(_error$headers=error.headers)===null||_error$headers===void 0?void 0:_error$headers.get("Retry-After");if(retryAfter!==null&&retryAfter!==void 0&&retryAfter.match(/\d/))return Number.parseInt(retryAfter)*1e3}return~~(1<<count)*retryDelay},retryCount:retryCount,shouldRetry:function shouldRetry(_ref4){var error=_ref4.error;return _shouldRetry(error)}})},{enabled:dedupe,id:requestId}));case 9:case"end":return _context2.stop()}}},_callee2)}));return function(_x){return _ref.apply(this,arguments)}}()}function _shouldRetry(error){if("code"in error&&typeof error.code==="number"){if(error.code===-1)return true;if(error.code===rpc_js_1.LimitExceededRpcError.code)return true;if(error.code===rpc_js_1.InternalRpcError.code)return true;return false}if(error instanceof request_js_1.HttpRequestError&&error.status){if(error.status===403)return true;if(error.status===408)return true;if(error.status===413)return true;if(error.status===429)return true;if(error.status===500)return true;if(error.status===502)return true;if(error.status===503)return true;if(error.status===504)return true;return false}return true}},{"../errors/base.js":348,"../errors/request.js":363,"../errors/rpc.js":364,"./encoding/toHex.js":426,"./promise/withDedupe.js":476,"./promise/withRetry.js":478,"./stringify.js":509}],409:[function(require,module,exports){"use strict";function _slicedToArray(r,e){return _arrayWithHoles(r)||_iterableToArrayLimit(r,e)||_unsupportedIterableToArray(r,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++){n[e]=r[e]}return n}function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0){}}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t["return"]&&(u=t["return"](),Object(u)!==u))return}finally{if(o)throw n}}return a}}function _arrayWithHoles(r){if(Array.isArray(r))return r}function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}Object.defineProperty(exports,"__esModule",{value:true});exports.offchainLookupAbiItem=exports.offchainLookupSignature=void 0;exports.offchainLookup=offchainLookup;exports.ccipRequest=ccipRequest;var call_js_1=require("../actions/public/call.js");var ccip_js_1=require("../errors/ccip.js");var request_js_1=require("../errors/request.js");var decodeErrorResult_js_1=require("./abi/decodeErrorResult.js");var encodeAbiParameters_js_1=require("./abi/encodeAbiParameters.js");var isAddressEqual_js_1=require("./address/isAddressEqual.js");var concat_js_1=require("./data/concat.js");var isHex_js_1=require("./data/isHex.js");var localBatchGatewayRequest_js_1=require("./ens/localBatchGatewayRequest.js");var stringify_js_1=require("./stringify.js");exports.offchainLookupSignature="0x556f1830";exports.offchainLookupAbiItem={name:"OffchainLookup",type:"error",inputs:[{name:"sender",type:"address"},{name:"urls",type:"string[]"},{name:"callData",type:"bytes"},{name:"callbackFunction",type:"bytes4"},{name:"extraData",type:"bytes"}]};function offchainLookup(_x,_x2){return _offchainLookup.apply(this,arguments)}function _offchainLookup(){_offchainLookup=_asyncToGenerator(regeneratorRuntime.mark(function _callee(client,_ref){var blockNumber,blockTag,data,to,_ref3,args,_args,sender,urls,callData,callbackSelector,extraData,ccipRead,ccipRequest_,result,_yield,data_;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:blockNumber=_ref.blockNumber,blockTag=_ref.blockTag,data=_ref.data,to=_ref.to;_ref3=(0,decodeErrorResult_js_1.decodeErrorResult)({data:data,abi:[exports.offchainLookupAbiItem]}),args=_ref3.args;_args=_slicedToArray(args,5),sender=_args[0],urls=_args[1],callData=_args[2],callbackSelector=_args[3],extraData=_args[4];ccipRead=client.ccipRead;ccipRequest_=ccipRead&&typeof(ccipRead===null||ccipRead===void 0?void 0:ccipRead.request)==="function"?ccipRead.request:ccipRequest;_context.prev=5;if((0,isAddressEqual_js_1.isAddressEqual)(to,sender)){_context.next=8;break}throw new ccip_js_1.OffchainLookupSenderMismatchError({sender:sender,to:to});case 8:if(!urls.includes(localBatchGatewayRequest_js_1.localBatchGatewayUrl)){_context.next=14;break}_context.next=11;return(0,localBatchGatewayRequest_js_1.localBatchGatewayRequest)({data:callData,ccipRequest:ccipRequest_});case 11:_context.t0=_context.sent;_context.next=17;break;case 14:_context.next=16;return ccipRequest_({data:callData,sender:sender,urls:urls});case 16:_context.t0=_context.sent;case 17:result=_context.t0;_context.next=20;return(0,call_js_1.call)(client,{blockNumber:blockNumber,blockTag:blockTag,data:(0,concat_js_1.concat)([callbackSelector,(0,encodeAbiParameters_js_1.encodeAbiParameters)([{type:"bytes"},{type:"bytes"}],[result,extraData])]),to:to});case 20:_yield=_context.sent;data_=_yield.data;return _context.abrupt("return",data_);case 25:_context.prev=25;_context.t1=_context["catch"](5);throw new ccip_js_1.OffchainLookupError({callbackSelector:callbackSelector,cause:_context.t1,data:data,extraData:extraData,sender:sender,urls:urls});case 28:case"end":return _context.stop()}}},_callee,null,[[5,25]])}));return _offchainLookup.apply(this,arguments)}function ccipRequest(_x3){return _ccipRequest.apply(this,arguments)}function _ccipRequest(){_ccipRequest=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(_ref2){var data,sender,urls,error,i,url,method,body,headers,_response$headers$get,response,result,_result;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:data=_ref2.data,sender=_ref2.sender,urls=_ref2.urls;error=new Error("An unknown error occurred.");i=0;case 3:if(!(i<urls.length)){_context2.next=37;break}url=urls[i];method=url.includes("{data}")?"GET":"POST";body=method==="POST"?{data:data,sender:sender}:undefined;headers=method==="POST"?{"Content-Type":"application/json"}:{};_context2.prev=8;_context2.next=11;return fetch(url.replace("{sender}",sender.toLowerCase()).replace("{data}",data),{body:JSON.stringify(body),headers:headers,method:method});case 11:response=_context2.sent;result=void 0;if(!((_response$headers$get=response.headers.get("Content-Type"))!==null&&_response$headers$get!==void 0&&_response$headers$get.startsWith("application/json"))){_context2.next=19;break}_context2.next=16;return response.json();case 16:result=_context2.sent.data;_context2.next=22;break;case 19:_context2.next=21;return response.text();case 21:result=_context2.sent;case 22:if(response.ok){_context2.next=25;break}error=new request_js_1.HttpRequestError({body:body,details:(_result=result)!==null&&_result!==void 0&&_result.error?(0,stringify_js_1.stringify)(result.error):response.statusText,headers:response.headers,status:response.status,url:url});return _context2.abrupt("continue",34);case 25:if((0,isHex_js_1.isHex)(result)){_context2.next=28;break}error=new ccip_js_1.OffchainLookupResponseMalformedError({result:result,url:url});return _context2.abrupt("continue",34);case 28:return _context2.abrupt("return",result);case 31:_context2.prev=31;_context2.t0=_context2["catch"](8);error=new request_js_1.HttpRequestError({body:body,details:_context2.t0.message,url:url});case 34:i++;_context2.next=3;break;case 37:throw error;case 38:case"end":return _context2.stop()}}},_callee2,null,[[8,31]])}));return _ccipRequest.apply(this,arguments)}},{"../actions/public/call.js":224,"../errors/ccip.js":351,"../errors/request.js":363,"./abi/decodeErrorResult.js":376,"./abi/encodeAbiParameters.js":380,"./address/isAddressEqual.js":395,"./data/concat.js":415,"./data/isHex.js":417,"./ens/localBatchGatewayRequest.js":434,"./stringify.js":509}],410:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.assertCurrentChain=assertCurrentChain;var chain_js_1=require("../../errors/chain.js");function assertCurrentChain(_ref){var chain=_ref.chain,currentChainId=_ref.currentChainId;if(!chain)throw new chain_js_1.ChainNotFoundError;if(currentChainId!==chain.id)throw new chain_js_1.ChainMismatchError({chain:chain,currentChainId:currentChainId})}},{"../../errors/chain.js":352}],411:[function(require,module,exports){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function _defineProperty(e,r,t){return(r=_toPropertyKey(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}Object.defineProperty(exports,"__esModule",{value:true});exports.defineChain=defineChain;function defineChain(chain){return _objectSpread({formatters:undefined,fees:undefined,serializers:undefined},chain)}},{}],412:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.extractChain=extractChain;function extractChain(_ref){var chains=_ref.chains,id=_ref.id;return chains.find(function(chain){return chain.id===id})}},{}],413:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getChainContractAddress=getChainContractAddress;var chain_js_1=require("../../errors/chain.js");function getChainContractAddress(_ref){var _chain$contracts;var blockNumber=_ref.blockNumber,chain=_ref.chain,name=_ref.contract;var contract=chain===null||chain===void 0?void 0:(_chain$contracts=chain.contracts)===null||_chain$contracts===void 0?void 0:_chain$contracts[name];if(!contract)throw new chain_js_1.ChainDoesNotSupportContract({chain:chain,contract:{name:name}});if(blockNumber&&contract.blockCreated&&contract.blockCreated>blockNumber)throw new chain_js_1.ChainDoesNotSupportContract({blockNumber:blockNumber,chain:chain,contract:{name:name,blockCreated:contract.blockCreated}});return contract.address}},{"../../errors/chain.js":352}],414:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.createCursor=createCursor;var cursor_js_1=require("../errors/cursor.js");var staticCursor={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit:function assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new cursor_js_1.RecursiveReadLimitExceededError({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition:function assertPosition(position){if(position<0||position>this.bytes.length-1)throw new cursor_js_1.PositionOutOfBoundsError({length:this.bytes.length,position:position})},decrementPosition:function decrementPosition(offset){if(offset<0)throw new cursor_js_1.NegativeOffsetError({offset:offset});var position=this.position-offset;this.assertPosition(position);this.position=position},getReadCount:function getReadCount(position){return this.positionReadCount.get(position||this.position)||0},incrementPosition:function incrementPosition(offset){if(offset<0)throw new cursor_js_1.NegativeOffsetError({offset:offset});var position=this.position+offset;this.assertPosition(position);this.position=position},inspectByte:function inspectByte(position_){var position=position_!==null&&position_!==void 0?position_:this.position;this.assertPosition(position);return this.bytes[position]},inspectBytes:function inspectBytes(length,position_){var position=position_!==null&&position_!==void 0?position_:this.position;this.assertPosition(position+length-1);return this.bytes.subarray(position,position+length)},inspectUint8:function inspectUint8(position_){var position=position_!==null&&position_!==void 0?position_:this.position;this.assertPosition(position);return this.bytes[position]},inspectUint16:function inspectUint16(position_){var position=position_!==null&&position_!==void 0?position_:this.position;this.assertPosition(position+1);return this.dataView.getUint16(position)},inspectUint24:function inspectUint24(position_){var position=position_!==null&&position_!==void 0?position_:this.position;this.assertPosition(position+2);return(this.dataView.getUint16(position)<<8)+this.dataView.getUint8(position+2)},inspectUint32:function inspectUint32(position_){var position=position_!==null&&position_!==void 0?position_:this.position;this.assertPosition(position+3);return this.dataView.getUint32(position)},pushByte:function pushByte(_byte){this.assertPosition(this.position);this.bytes[this.position]=_byte;this.position++},pushBytes:function pushBytes(bytes){this.assertPosition(this.position+bytes.length-1);this.bytes.set(bytes,this.position);this.position+=bytes.length},pushUint8:function pushUint8(value){this.assertPosition(this.position);this.bytes[this.position]=value;this.position++},pushUint16:function pushUint16(value){this.assertPosition(this.position+1);this.dataView.setUint16(this.position,value);this.position+=2},pushUint24:function pushUint24(value){this.assertPosition(this.position+2);this.dataView.setUint16(this.position,value>>8);this.dataView.setUint8(this.position+2,value&~4294967040);this.position+=3},pushUint32:function pushUint32(value){this.assertPosition(this.position+3);this.dataView.setUint32(this.position,value);this.position+=4},readByte:function readByte(){this.assertReadLimit();this._touch();var value=this.inspectByte();this.position++;return value},readBytes:function readBytes(length,size){this.assertReadLimit();this._touch();var value=this.inspectBytes(length);this.position+=size!==null&&size!==void 0?size:length;return value},readUint8:function readUint8(){this.assertReadLimit();this._touch();var value=this.inspectUint8();this.position+=1;return value},readUint16:function readUint16(){this.assertReadLimit();this._touch();var value=this.inspectUint16();this.position+=2;return value},readUint24:function readUint24(){this.assertReadLimit();this._touch();var value=this.inspectUint24();this.position+=3;return value},readUint32:function readUint32(){this.assertReadLimit();this._touch();var value=this.inspectUint32();this.position+=4;return value},get remaining(){return this.bytes.length-this.position},setPosition:function setPosition(position){var _this=this;var oldPosition=this.position;this.assertPosition(position);this.position=position;return function(){return _this.position=oldPosition}},_touch:function _touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;var count=this.getReadCount();this.positionReadCount.set(this.position,count+1);if(count>0)this.recursiveReadCount++}};function createCursor(bytes){var _ref=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},_ref$recursiveReadLim=_ref.recursiveReadLimit,recursiveReadLimit=_ref$recursiveReadLim===void 0?8192:_ref$recursiveReadLim;var cursor=Object.create(staticCursor);cursor.bytes=bytes;cursor.dataView=new DataView(bytes.buffer,bytes.byteOffset,bytes.byteLength);cursor.positionReadCount=new Map;cursor.recursiveReadLimit=recursiveReadLimit;return cursor}},{"../errors/cursor.js":354}],415:[function(require,module,exports){"use strict";function _createForOfIteratorHelper(r,e){var t="undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(!t){if(Array.isArray(r)||(t=_unsupportedIterableToArray(r))||e&&r&&"number"==typeof r.length){t&&(r=t);var _n=0,F=function F(){};return{s:F,n:function n(){return _n>=r.length?{done:!0}:{done:!1,value:r[_n++]}},e:function e(r){throw r},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function s(){t=t.call(r)},n:function n(){var r=t.next();return a=r.done,r},e:function e(r){u=!0,o=r},f:function f(){try{a||null==t["return"]||t["return"]()}finally{if(u)throw o}}}}function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++){n[e]=r[e]}return n}Object.defineProperty(exports,"__esModule",{value:true});exports.concat=concat;exports.concatBytes=concatBytes;exports.concatHex=concatHex;function concat(values){if(typeof values[0]==="string")return concatHex(values);return concatBytes(values)}function concatBytes(values){var length=0;var _iterator=_createForOfIteratorHelper(values),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var arr=_step.value;length+=arr.length}}catch(err){_iterator.e(err)}finally{_iterator.f()}var result=new Uint8Array(length);var offset=0;var _iterator2=_createForOfIteratorHelper(values),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var _arr=_step2.value;result.set(_arr,offset);offset+=_arr.length}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}return result}function concatHex(values){return"0x".concat(values.reduce(function(acc,x){return acc+x.replace("0x","")},""))}},{}],416:[function(require,module,exports){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}Object.defineProperty(exports,"__esModule",{value:true});exports.isBytes=isBytes;function isBytes(value){if(!value)return false;if(_typeof(value)!=="object")return false;if(!("BYTES_PER_ELEMENT"in value))return false;return value.BYTES_PER_ELEMENT===1&&value.constructor.name==="Uint8Array"}},{}],417:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.isHex=isHex;function isHex(value){var _ref=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},_ref$strict=_ref.strict,strict=_ref$strict===void 0?true:_ref$strict;if(!value)return false;if(typeof value!=="string")return false;return strict?/^0x[0-9a-fA-F]*$/.test(value):value.startsWith("0x")}},{}],418:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.pad=pad;exports.padHex=padHex;exports.padBytes=padBytes;var data_js_1=require("../../errors/data.js");function pad(hexOrBytes){var _ref=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},dir=_ref.dir,_ref$size=_ref.size,size=_ref$size===void 0?32:_ref$size;if(typeof hexOrBytes==="string")return padHex(hexOrBytes,{dir:dir,size:size});return padBytes(hexOrBytes,{dir:dir,size:size})}function padHex(hex_){var _ref2=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},dir=_ref2.dir,_ref2$size=_ref2.size,size=_ref2$size===void 0?32:_ref2$size;if(size===null)return hex_;var hex=hex_.replace("0x","");if(hex.length>size*2)throw new data_js_1.SizeExceedsPaddingSizeError({size:Math.ceil(hex.length/2),targetSize:size,type:"hex"});return"0x".concat(hex[dir==="right"?"padEnd":"padStart"](size*2,"0"))}function padBytes(bytes){var _ref3=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},dir=_ref3.dir,_ref3$size=_ref3.size,size=_ref3$size===void 0?32:_ref3$size;if(size===null)return bytes;if(bytes.length>size)throw new data_js_1.SizeExceedsPaddingSizeError({size:bytes.length,targetSize:size,type:"bytes"});var paddedBytes=new Uint8Array(size);for(var i=0;i<size;i++){var padEnd=dir==="right";paddedBytes[padEnd?i:size-i-1]=bytes[padEnd?i:bytes.length-i-1]}return paddedBytes}},{"../../errors/data.js":355}],419:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.size=size;var isHex_js_1=require("./isHex.js");function size(value){if((0,isHex_js_1.isHex)(value,{strict:false}))return Math.ceil((value.length-2)/2);return value.length}},{"./isHex.js":417}],420:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.slice=slice;exports.sliceBytes=sliceBytes;exports.sliceHex=sliceHex;var data_js_1=require("../../errors/data.js");var isHex_js_1=require("./isHex.js");var size_js_1=require("./size.js");function slice(value,start,end){var _ref=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{},strict=_ref.strict;if((0,isHex_js_1.isHex)(value,{strict:false}))return sliceHex(value,start,end,{strict:strict});return sliceBytes(value,start,end,{strict:strict})}function assertStartOffset(value,start){if(typeof start==="number"&&start>0&&start>(0,size_js_1.size)(value)-1)throw new data_js_1.SliceOffsetOutOfBoundsError({offset:start,position:"start",size:(0,size_js_1.size)(value)})}function assertEndOffset(value,start,end){if(typeof start==="number"&&typeof end==="number"&&(0,size_js_1.size)(value)!==end-start){throw new data_js_1.SliceOffsetOutOfBoundsError({offset:end,position:"end",size:(0,size_js_1.size)(value)})}}function sliceBytes(value_,start,end){var _ref2=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{},strict=_ref2.strict;assertStartOffset(value_,start);var value=value_.slice(start,end);if(strict)assertEndOffset(value,start,end);return value}function sliceHex(value_,start,end){var _ref3=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{},strict=_ref3.strict;assertStartOffset(value_,start);var value="0x".concat(value_.replace("0x","").slice((start!==null&&start!==void 0?start:0)*2,(end!==null&&end!==void 0?end:value_.length)*2));if(strict)assertEndOffset(value,start,end);return value}},{"../../errors/data.js":355,"./isHex.js":417,"./size.js":419}],421:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.trim=trim;function trim(hexOrBytes){var _ref=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},_ref$dir=_ref.dir,dir=_ref$dir===void 0?"left":_ref$dir;var data=typeof hexOrBytes==="string"?hexOrBytes.replace("0x",""):hexOrBytes;var sliceLength=0;for(var i=0;i<data.length-1;i++){if(data[dir==="left"?i:data.length-i-1].toString()==="0")sliceLength++;else break}data=dir==="left"?data.slice(sliceLength):data.slice(0,data.length-sliceLength);if(typeof hexOrBytes==="string"){if(data.length===1&&dir==="right")data="".concat(data,"0");return"0x".concat(data.length%2===1?"0".concat(data):data)}return data}},{}],422:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.fromBytes=fromBytes;exports.bytesToBigInt=bytesToBigInt;exports.bytesToBool=bytesToBool;exports.bytesToNumber=bytesToNumber;exports.bytesToString=bytesToString;var encoding_js_1=require("../../errors/encoding.js");var trim_js_1=require("../data/trim.js");var fromHex_js_1=require("./fromHex.js");var toHex_js_1=require("./toHex.js");function fromBytes(bytes,toOrOpts){var opts=typeof toOrOpts==="string"?{to:toOrOpts}:toOrOpts;var to=opts.to;if(to==="number")return bytesToNumber(bytes,opts);if(to==="bigint")return bytesToBigInt(bytes,opts);if(to==="boolean")return bytesToBool(bytes,opts);if(to==="string")return bytesToString(bytes,opts);return(0,toHex_js_1.bytesToHex)(bytes,opts)}function bytesToBigInt(bytes){var opts=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(typeof opts.size!=="undefined")(0,fromHex_js_1.assertSize)(bytes,{size:opts.size});var hex=(0,toHex_js_1.bytesToHex)(bytes,opts);return(0,fromHex_js_1.hexToBigInt)(hex,opts)}function bytesToBool(bytes_){var opts=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var bytes=bytes_;if(typeof opts.size!=="undefined"){(0,fromHex_js_1.assertSize)(bytes,{size:opts.size});bytes=(0,trim_js_1.trim)(bytes)}if(bytes.length>1||bytes[0]>1)throw new encoding_js_1.InvalidBytesBooleanError(bytes);return Boolean(bytes[0])}function bytesToNumber(bytes){var opts=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(typeof opts.size!=="undefined")(0,fromHex_js_1.assertSize)(bytes,{size:opts.size});var hex=(0,toHex_js_1.bytesToHex)(bytes,opts);return(0,fromHex_js_1.hexToNumber)(hex,opts)}function bytesToString(bytes_){var opts=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var bytes=bytes_;if(typeof opts.size!=="undefined"){(0,fromHex_js_1.assertSize)(bytes,{size:opts.size});bytes=(0,trim_js_1.trim)(bytes,{dir:"right"})}return(new TextDecoder).decode(bytes)}},{"../../errors/encoding.js":357,"../data/trim.js":421,"./fromHex.js":423,"./toHex.js":426}],423:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.assertSize=assertSize;exports.fromHex=fromHex;exports.hexToBigInt=hexToBigInt;exports.hexToBool=hexToBool;exports.hexToNumber=hexToNumber;exports.hexToString=hexToString;var encoding_js_1=require("../../errors/encoding.js");var size_js_1=require("../data/size.js");var trim_js_1=require("../data/trim.js");var toBytes_js_1=require("./toBytes.js");function assertSize(hexOrBytes,_ref){var size=_ref.size;if((0,size_js_1.size)(hexOrBytes)>size)throw new encoding_js_1.SizeOverflowError({givenSize:(0,size_js_1.size)(hexOrBytes),maxSize:size})}function fromHex(hex,toOrOpts){var opts=typeof toOrOpts==="string"?{to:toOrOpts}:toOrOpts;var to=opts.to;if(to==="number")return hexToNumber(hex,opts);if(to==="bigint")return hexToBigInt(hex,opts);if(to==="string")return hexToString(hex,opts);if(to==="boolean")return hexToBool(hex,opts);return(0,toBytes_js_1.hexToBytes)(hex,opts)}function hexToBigInt(hex){var opts=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var signed=opts.signed;if(opts.size)assertSize(hex,{size:opts.size});var value=BigInt(hex);if(!signed)return value;var size=(hex.length-2)/2;var max=(1n<<BigInt(size)*8n-1n)-1n;if(value<=max)return value;return value-BigInt("0x".concat("f".padStart(size*2,"f")))-1n}function hexToBool(hex_){var opts=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var hex=hex_;if(opts.size){assertSize(hex,{size:opts.size});hex=(0,trim_js_1.trim)(hex)}if((0,trim_js_1.trim)(hex)==="0x00")return false;if((0,trim_js_1.trim)(hex)==="0x01")return true;throw new encoding_js_1.InvalidHexBooleanError(hex)}function hexToNumber(hex){var opts=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return Number(hexToBigInt(hex,opts))}function hexToString(hex){var opts=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var bytes=(0,toBytes_js_1.hexToBytes)(hex);if(opts.size){assertSize(bytes,{size:opts.size});bytes=(0,trim_js_1.trim)(bytes,{dir:"right"})}return(new TextDecoder).decode(bytes)}},{"../../errors/encoding.js":357,"../data/size.js":419,"../data/trim.js":421,"./toBytes.js":425}],424:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.fromRlp=fromRlp;var base_js_1=require("../../errors/base.js");var encoding_js_1=require("../../errors/encoding.js");var cursor_js_1=require("../cursor.js");var toBytes_js_1=require("./toBytes.js");var toHex_js_1=require("./toHex.js");function fromRlp(value){var to=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"hex";var bytes=function(){if(typeof value==="string"){if(value.length>3&&value.length%2!==0)throw new encoding_js_1.InvalidHexValueError(value);return(0,toBytes_js_1.hexToBytes)(value)}return value}();var cursor=(0,cursor_js_1.createCursor)(bytes,{recursiveReadLimit:Number.POSITIVE_INFINITY});var result=fromRlpCursor(cursor,to);return result}function fromRlpCursor(cursor){var to=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"hex";if(cursor.bytes.length===0)return to==="hex"?(0,toHex_js_1.bytesToHex)(cursor.bytes):cursor.bytes;var prefix=cursor.readByte();if(prefix<128)cursor.decrementPosition(1);if(prefix<192){var _length=readLength(cursor,prefix,128);var bytes=cursor.readBytes(_length);return to==="hex"?(0,toHex_js_1.bytesToHex)(bytes):bytes}var length=readLength(cursor,prefix,192);return readList(cursor,length,to)}function readLength(cursor,prefix,offset){if(offset===128&&prefix<128)return 1;if(prefix<=offset+55)return prefix-offset;if(prefix===offset+55+1)return cursor.readUint8();if(prefix===offset+55+2)return cursor.readUint16();if(prefix===offset+55+3)return cursor.readUint24();if(prefix===offset+55+4)return cursor.readUint32();throw new base_js_1.BaseError("Invalid RLP prefix")}function readList(cursor,length,to){var position=cursor.position;var value=[];while(cursor.position-position<length){value.push(fromRlpCursor(cursor,to))}return value}},{"../../errors/base.js":348,"../../errors/encoding.js":357,"../cursor.js":414,"./toBytes.js":425,"./toHex.js":426}],425:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.toBytes=toBytes;exports.boolToBytes=boolToBytes;exports.hexToBytes=hexToBytes;exports.numberToBytes=numberToBytes;exports.stringToBytes=stringToBytes;var base_js_1=require("../../errors/base.js");var isHex_js_1=require("../data/isHex.js");var pad_js_1=require("../data/pad.js");var fromHex_js_1=require("./fromHex.js");var toHex_js_1=require("./toHex.js");var encoder=new TextEncoder;function toBytes(value){var opts=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(typeof value==="number"||typeof value==="bigint")return numberToBytes(value,opts);if(typeof value==="boolean")return boolToBytes(value,opts);if((0,isHex_js_1.isHex)(value))return hexToBytes(value,opts);return stringToBytes(value,opts)}function boolToBytes(value){var opts=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var bytes=new Uint8Array(1);bytes[0]=Number(value);if(typeof opts.size==="number"){(0,fromHex_js_1.assertSize)(bytes,{size:opts.size});return(0,pad_js_1.pad)(bytes,{size:opts.size})}return bytes}var charCodeMap={zero:48,nine:57,A:65,F:70,a:97,f:102};function charCodeToBase16(_char){if(_char>=charCodeMap.zero&&_char<=charCodeMap.nine)return _char-charCodeMap.zero;if(_char>=charCodeMap.A&&_char<=charCodeMap.F)return _char-(charCodeMap.A-10);if(_char>=charCodeMap.a&&_char<=charCodeMap.f)return _char-(charCodeMap.a-10);return undefined}function hexToBytes(hex_){var opts=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var hex=hex_;if(opts.size){(0,fromHex_js_1.assertSize)(hex,{size:opts.size});hex=(0,pad_js_1.pad)(hex,{dir:"right",size:opts.size})}var hexString=hex.slice(2);if(hexString.length%2)hexString="0".concat(hexString);var length=hexString.length/2;var bytes=new Uint8Array(length);for(var index=0,j=0;index<length;index++){var nibbleLeft=charCodeToBase16(hexString.charCodeAt(j++));var nibbleRight=charCodeToBase16(hexString.charCodeAt(j++));if(nibbleLeft===undefined||nibbleRight===undefined){throw new base_js_1.BaseError('Invalid byte sequence ("'.concat(hexString[j-2]).concat(hexString[j-1],'" in "').concat(hexString,'").'))}bytes[index]=nibbleLeft*16+nibbleRight}return bytes}function numberToBytes(value,opts){var hex=(0,toHex_js_1.numberToHex)(value,opts);return hexToBytes(hex)}function stringToBytes(value){var opts=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var bytes=encoder.encode(value);if(typeof opts.size==="number"){(0,fromHex_js_1.assertSize)(bytes,{size:opts.size});return(0,pad_js_1.pad)(bytes,{dir:"right",size:opts.size})}return bytes}},{"../../errors/base.js":348,"../data/isHex.js":417,"../data/pad.js":418,"./fromHex.js":423,"./toHex.js":426}],426:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.toHex=toHex;exports.boolToHex=boolToHex;exports.bytesToHex=bytesToHex;exports.numberToHex=numberToHex;exports.stringToHex=stringToHex;var encoding_js_1=require("../../errors/encoding.js");var pad_js_1=require("../data/pad.js");var fromHex_js_1=require("./fromHex.js");var hexes=Array.from({length:256},function(_v,i){return i.toString(16).padStart(2,"0")});function toHex(value){var opts=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(typeof value==="number"||typeof value==="bigint")return numberToHex(value,opts);if(typeof value==="string"){return stringToHex(value,opts)}if(typeof value==="boolean")return boolToHex(value,opts);return bytesToHex(value,opts)}function boolToHex(value){var opts=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var hex="0x".concat(Number(value));if(typeof opts.size==="number"){(0,fromHex_js_1.assertSize)(hex,{size:opts.size});return(0,pad_js_1.pad)(hex,{size:opts.size})}return hex}function bytesToHex(value){var opts=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var string="";for(var i=0;i<value.length;i++){string+=hexes[value[i]]}var hex="0x".concat(string);if(typeof opts.size==="number"){(0,fromHex_js_1.assertSize)(hex,{size:opts.size});return(0,pad_js_1.pad)(hex,{dir:"right",size:opts.size})}return hex}function numberToHex(value_){var opts=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var signed=opts.signed,size=opts.size;var value=BigInt(value_);var maxValue;if(size){if(signed)maxValue=(1n<<BigInt(size)*8n-1n)-1n;else maxValue=Math.pow(2n,BigInt(size)*8n)-1n}else if(typeof value_==="number"){maxValue=BigInt(Number.MAX_SAFE_INTEGER)}var minValue=typeof maxValue==="bigint"&&signed?-maxValue-1n:0;if(maxValue&&value>maxValue||value<minValue){var suffix=typeof value_==="bigint"?"n":"";throw new encoding_js_1.IntegerOutOfRangeError({max:maxValue?"".concat(maxValue).concat(suffix):undefined,min:"".concat(minValue).concat(suffix),signed:signed,size:size,value:"".concat(value_).concat(suffix)})}var hex="0x".concat((signed&&value<0?(1n<<BigInt(size*8))+BigInt(value):value).toString(16));if(size)return(0,pad_js_1.pad)(hex,{size:size});return hex}var encoder=new TextEncoder;function stringToHex(value_){var opts=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var value=encoder.encode(value_);return bytesToHex(value,opts)}},{"../../errors/encoding.js":357,"../data/pad.js":418,"./fromHex.js":423}],427:[function(require,module,exports){"use strict";function _createForOfIteratorHelper(r,e){var t="undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(!t){if(Array.isArray(r)||(t=_unsupportedIterableToArray(r))||e&&r&&"number"==typeof r.length){t&&(r=t);var _n=0,F=function F(){};return{s:F,n:function n(){return _n>=r.length?{done:!0}:{done:!1,value:r[_n++]}},e:function e(r){throw r},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function s(){t=t.call(r)},n:function n(){var r=t.next();return a=r.done,r},e:function e(r){u=!0,o=r},f:function f(){try{a||null==t["return"]||t["return"]()}finally{if(u)throw o}}}}function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++){n[e]=r[e]}return n}Object.defineProperty(exports,"__esModule",{value:true});exports.toRlp=toRlp;exports.bytesToRlp=bytesToRlp;exports.hexToRlp=hexToRlp;var base_js_1=require("../../errors/base.js");var cursor_js_1=require("../cursor.js");var toBytes_js_1=require("./toBytes.js");var toHex_js_1=require("./toHex.js");function toRlp(bytes){var to=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"hex";var encodable=getEncodable(bytes);var cursor=(0,cursor_js_1.createCursor)(new Uint8Array(encodable.length));encodable.encode(cursor);if(to==="hex")return(0,toHex_js_1.bytesToHex)(cursor.bytes);return cursor.bytes}function bytesToRlp(bytes){var to=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"bytes";return toRlp(bytes,to)}function hexToRlp(hex){var to=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"hex";return toRlp(hex,to)}function getEncodable(bytes){if(Array.isArray(bytes))return getEncodableList(bytes.map(function(x){return getEncodable(x)}));return getEncodableBytes(bytes)}function getEncodableList(list){var bodyLength=list.reduce(function(acc,x){return acc+x.length},0);var sizeOfBodyLength=getSizeOfLength(bodyLength);var length=function(){if(bodyLength<=55)return 1+bodyLength;return 1+sizeOfBodyLength+bodyLength}();return{length:length,encode:function encode(cursor){if(bodyLength<=55){cursor.pushByte(192+bodyLength)}else{cursor.pushByte(192+55+sizeOfBodyLength);if(sizeOfBodyLength===1)cursor.pushUint8(bodyLength);else if(sizeOfBodyLength===2)cursor.pushUint16(bodyLength);else if(sizeOfBodyLength===3)cursor.pushUint24(bodyLength);else cursor.pushUint32(bodyLength)}var _iterator=_createForOfIteratorHelper(list),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var encode=_step.value.encode;encode(cursor)}}catch(err){_iterator.e(err)}finally{_iterator.f()}}}}function getEncodableBytes(bytesOrHex){var bytes=typeof bytesOrHex==="string"?(0,toBytes_js_1.hexToBytes)(bytesOrHex):bytesOrHex;var sizeOfBytesLength=getSizeOfLength(bytes.length);var length=function(){if(bytes.length===1&&bytes[0]<128)return 1;if(bytes.length<=55)return 1+bytes.length;return 1+sizeOfBytesLength+bytes.length}();return{length:length,encode:function encode(cursor){if(bytes.length===1&&bytes[0]<128){cursor.pushBytes(bytes)}else if(bytes.length<=55){cursor.pushByte(128+bytes.length);cursor.pushBytes(bytes)}else{cursor.pushByte(128+55+sizeOfBytesLength);if(sizeOfBytesLength===1)cursor.pushUint8(bytes.length);else if(sizeOfBytesLength===2)cursor.pushUint16(bytes.length);else if(sizeOfBytesLength===3)cursor.pushUint24(bytes.length);else cursor.pushUint32(bytes.length);cursor.pushBytes(bytes)}}}}function getSizeOfLength(length){if(length<Math.pow(2,8))return 1;if(length<Math.pow(2,16))return 2;if(length<Math.pow(2,24))return 3;if(length<Math.pow(2,32))return 4;throw new base_js_1.BaseError("Length is too large.")}},{"../../errors/base.js":348,"../cursor.js":414,"./toBytes.js":425,"./toHex.js":426}],428:[function(require,module,exports){"use strict";function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}Object.defineProperty(exports,"__esModule",{value:true});exports.parseAvatarRecord=parseAvatarRecord;var utils_js_1=require("./utils.js");function parseAvatarRecord(_x,_x2){return _parseAvatarRecord.apply(this,arguments)}function _parseAvatarRecord(){_parseAvatarRecord=_asyncToGenerator(regeneratorRuntime.mark(function _callee(client,_ref){var gatewayUrls,record;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:gatewayUrls=_ref.gatewayUrls,record=_ref.record;if(!/eip155:/i.test(record)){_context.next=3;break}return _context.abrupt("return",parseNftAvatarUri(client,{gatewayUrls:gatewayUrls,record:record}));case 3:return _context.abrupt("return",(0,utils_js_1.parseAvatarUri)({uri:record,gatewayUrls:gatewayUrls}));case 4:case"end":return _context.stop()}}},_callee)}));return _parseAvatarRecord.apply(this,arguments)}function parseNftAvatarUri(_x3,_x4){return _parseNftAvatarUri.apply(this,arguments)}function _parseNftAvatarUri(){_parseNftAvatarUri=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(client,_ref2){var gatewayUrls,record,nft,nftUri,_ref3,resolvedNftUri,isOnChain,isEncoded,encodedJson,decoded,uriTokenId;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:gatewayUrls=_ref2.gatewayUrls,record=_ref2.record;nft=(0,utils_js_1.parseNftUri)(record);_context2.next=4;return(0,utils_js_1.getNftTokenUri)(client,{nft:nft});case 4:nftUri=_context2.sent;_ref3=(0,utils_js_1.resolveAvatarUri)({uri:nftUri,gatewayUrls:gatewayUrls}),resolvedNftUri=_ref3.uri,isOnChain=_ref3.isOnChain,isEncoded=_ref3.isEncoded;if(!(isOnChain&&(resolvedNftUri.includes("data:application/json;base64,")||resolvedNftUri.startsWith("{")))){_context2.next=10;break}encodedJson=isEncoded?atob(resolvedNftUri.replace("data:application/json;base64,","")):resolvedNftUri;decoded=JSON.parse(encodedJson);return _context2.abrupt("return",(0,utils_js_1.parseAvatarUri)({uri:(0,utils_js_1.getJsonImage)(decoded),gatewayUrls:gatewayUrls}));case 10:uriTokenId=nft.tokenID;if(nft.namespace==="erc1155")uriTokenId=uriTokenId.replace("0x","").padStart(64,"0");return _context2.abrupt("return",(0,utils_js_1.getMetadataAvatarUri)({gatewayUrls:gatewayUrls,uri:resolvedNftUri.replace(/(?:0x)?{id}/,uriTokenId)}));case 13:case"end":return _context2.stop()}}},_callee2)}));return _parseNftAvatarUri.apply(this,arguments)}},{"./utils.js":429}],429:[function(require,module,exports){"use strict";function _slicedToArray(r,e){return _arrayWithHoles(r)||_iterableToArrayLimit(r,e)||_unsupportedIterableToArray(r,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++){n[e]=r[e]}return n}function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0){}}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t["return"]&&(u=t["return"](),Object(u)!==u))return}finally{if(o)throw n}}return a}}function _arrayWithHoles(r){if(Array.isArray(r))return r}function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}function _wrapRegExp(){_wrapRegExp=function _wrapRegExp(e,r){return new BabelRegExp(e,void 0,r)};var e=RegExp.prototype,r=new WeakMap;function BabelRegExp(e,t,p){var o=RegExp(e,t);return r.set(o,p||r.get(e)),_setPrototypeOf(o,BabelRegExp.prototype)}function buildGroups(e,t){var p=r.get(t);return Object.keys(p).reduce(function(r,t){var o=p[t];if("number"==typeof o)r[t]=e[o];else{for(var i=0;void 0===e[o[i]]&&i+1<o.length;){i++}r[t]=e[o[i]]}return r},Object.create(null))}return _inherits(BabelRegExp,RegExp),BabelRegExp.prototype.exec=function(r){var t=e.exec.call(this,r);if(t){t.groups=buildGroups(t,this);var p=t.indices;p&&(p.groups=buildGroups(p,this))}return t},BabelRegExp.prototype[Symbol.replace]=function(t,p){if("string"==typeof p){var o=r.get(this);return e[Symbol.replace].call(this,t,p.replace(/\$<([^>]+)>/g,function(e,r){var t=o[r];return"$"+(Array.isArray(t)?t.join("$"):t)}))}if("function"==typeof p){var i=this;return e[Symbol.replace].call(this,t,function(){var e=arguments;return"object"!=_typeof(e[e.length-1])&&(e=[].slice.call(e)).push(buildGroups(e,i)),p.apply(this,e)})}return e[Symbol.replace].call(this,t,p)},_wrapRegExp.apply(this,arguments)}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_setPrototypeOf(t,e)}Object.defineProperty(exports,"__esModule",{value:true});exports.isImageUri=isImageUri;exports.getGateway=getGateway;exports.resolveAvatarUri=resolveAvatarUri;exports.getJsonImage=getJsonImage;exports.getMetadataAvatarUri=getMetadataAvatarUri;exports.parseAvatarUri=parseAvatarUri;exports.parseNftUri=parseNftUri;exports.getNftTokenUri=getNftTokenUri;var readContract_js_1=require("../../../actions/public/readContract.js");var ens_js_1=require("../../../errors/ens.js");var networkRegex=_wrapRegExp(/(https?:\/\/(?:(?!\/)[\s\S])*|ipfs:\/|ipns:\/|ar:\/)?(\/)?(ipfs\/|ipns\/)?([\x2D\.0-9A-Z_a-z]+)(\/.*)?/,{protocol:1,root:2,subpath:3,target:4,subtarget:5});var ipfsHashRegex=_wrapRegExp(/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[2-7A-Za-z]{58,}|B[2-7A-Z]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/([\x2D\.0-9A-Z_a-z]+))?(\/.*)?$/,{target:3,subtarget:4});var base64Regex=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/;var dataURIRegex=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;function isImageUri(_x){return _isImageUri.apply(this,arguments)}function _isImageUri(){_isImageUri=_asyncToGenerator(regeneratorRuntime.mark(function _callee(uri){var res,contentType;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(uri,{method:"HEAD"});case 3:res=_context.sent;if(!(res.status===200)){_context.next=7;break}contentType=res.headers.get("content-type");return _context.abrupt("return",contentType===null||contentType===void 0?void 0:contentType.startsWith("image/"));case 7:return _context.abrupt("return",false);case 10:_context.prev=10;_context.t0=_context["catch"](0);if(!(_typeof(_context.t0)==="object"&&typeof _context.t0.response!=="undefined")){_context.next=14;break}return _context.abrupt("return",false);case 14:if(globalThis.hasOwnProperty("Image")){_context.next=16;break}return _context.abrupt("return",false);case 16:return _context.abrupt("return",new Promise(function(resolve){var img=new Image;img.onload=function(){resolve(true)};img.onerror=function(){resolve(false)};img.src=uri}));case 17:case"end":return _context.stop()}}},_callee,null,[[0,10]])}));return _isImageUri.apply(this,arguments)}function getGateway(custom,defaultGateway){if(!custom)return defaultGateway;if(custom.endsWith("/"))return custom.slice(0,-1);return custom}function resolveAvatarUri(_ref){var uri=_ref.uri,gatewayUrls=_ref.gatewayUrls;var isEncoded=base64Regex.test(uri);if(isEncoded)return{uri:uri,isOnChain:true,isEncoded:isEncoded};var ipfsGateway=getGateway(gatewayUrls===null||gatewayUrls===void 0?void 0:gatewayUrls.ipfs,"https://ipfs.io");var arweaveGateway=getGateway(gatewayUrls===null||gatewayUrls===void 0?void 0:gatewayUrls.arweave,"https://arweave.net");var networkRegexMatch=uri.match(networkRegex);var _ref2=(networkRegexMatch===null||networkRegexMatch===void 0?void 0:networkRegexMatch.groups)||{},protocol=_ref2.protocol,subpath=_ref2.subpath,target=_ref2.target,_ref2$subtarget=_ref2.subtarget,subtarget=_ref2$subtarget===void 0?"":_ref2$subtarget;var isIPNS=protocol==="ipns:/"||subpath==="ipns/";var isIPFS=protocol==="ipfs:/"||subpath==="ipfs/"||ipfsHashRegex.test(uri);if(uri.startsWith("http")&&!isIPNS&&!isIPFS){var replacedUri=uri;if(gatewayUrls!==null&&gatewayUrls!==void 0&&gatewayUrls.arweave)replacedUri=uri.replace(/https:\/\/arweave.net/g,gatewayUrls===null||gatewayUrls===void 0?void 0:gatewayUrls.arweave);return{uri:replacedUri,isOnChain:false,isEncoded:false}}if((isIPNS||isIPFS)&&target){return{uri:"".concat(ipfsGateway,"/").concat(isIPNS?"ipns":"ipfs","/").concat(target).concat(subtarget),isOnChain:false,isEncoded:false}}if(protocol==="ar:/"&&target){return{uri:"".concat(arweaveGateway,"/").concat(target).concat(subtarget||""),isOnChain:false,isEncoded:false}}var parsedUri=uri.replace(dataURIRegex,"");if(parsedUri.startsWith("<svg")){parsedUri="data:image/svg+xml;base64,".concat(btoa(parsedUri))}if(parsedUri.startsWith("data:")||parsedUri.startsWith("{")){return{uri:parsedUri,isOnChain:true,isEncoded:false}}throw new ens_js_1.EnsAvatarUriResolutionError({uri:uri})}function getJsonImage(data){if(_typeof(data)!=="object"||!("image"in data)&&!("image_url"in data)&&!("image_data"in data)){throw new ens_js_1.EnsAvatarInvalidMetadataError({data:data})}return data.image||data.image_url||data.image_data}function getMetadataAvatarUri(_x2){return _getMetadataAvatarUri.apply(this,arguments)}function _getMetadataAvatarUri(){_getMetadataAvatarUri=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(_ref3){var gatewayUrls,uri,res,image;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:gatewayUrls=_ref3.gatewayUrls,uri=_ref3.uri;_context2.prev=1;_context2.next=4;return fetch(uri).then(function(res){return res.json()});case 4:res=_context2.sent;_context2.next=7;return parseAvatarUri({gatewayUrls:gatewayUrls,uri:getJsonImage(res)});case 7:image=_context2.sent;return _context2.abrupt("return",image);case 11:_context2.prev=11;_context2.t0=_context2["catch"](1);throw new ens_js_1.EnsAvatarUriResolutionError({uri:uri});case 14:case"end":return _context2.stop()}}},_callee2,null,[[1,11]])}));return _getMetadataAvatarUri.apply(this,arguments)}function parseAvatarUri(_x3){return _parseAvatarUri.apply(this,arguments)}function _parseAvatarUri(){_parseAvatarUri=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(_ref4){var gatewayUrls,uri,_resolveAvatarUri,resolvedURI,isOnChain,isImage;return regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:gatewayUrls=_ref4.gatewayUrls,uri=_ref4.uri;_resolveAvatarUri=resolveAvatarUri({uri:uri,gatewayUrls:gatewayUrls}),resolvedURI=_resolveAvatarUri.uri,isOnChain=_resolveAvatarUri.isOnChain;if(!isOnChain){_context3.next=4;break}return _context3.abrupt("return",resolvedURI);case 4:_context3.next=6;return isImageUri(resolvedURI);case 6:isImage=_context3.sent;if(!isImage){_context3.next=9;break}return _context3.abrupt("return",resolvedURI);case 9:throw new ens_js_1.EnsAvatarUriResolutionError({uri:uri});case 10:case"end":return _context3.stop()}}},_callee3)}));return _parseAvatarUri.apply(this,arguments)}function parseNftUri(uri_){var uri=uri_;if(uri.startsWith("did:nft:")){uri=uri.replace("did:nft:","").replace(/_/g,"/")}var _uri$split=uri.split("/"),_uri$split2=_slicedToArray(_uri$split,3),reference=_uri$split2[0],asset_namespace=_uri$split2[1],tokenID=_uri$split2[2];var _reference$split=reference.split(":"),_reference$split2=_slicedToArray(_reference$split,2),eip_namespace=_reference$split2[0],chainID=_reference$split2[1];var _asset_namespace$spli=asset_namespace.split(":"),_asset_namespace$spli2=_slicedToArray(_asset_namespace$spli,2),erc_namespace=_asset_namespace$spli2[0],contractAddress=_asset_namespace$spli2[1];if(!eip_namespace||eip_namespace.toLowerCase()!=="eip155")throw new ens_js_1.EnsAvatarInvalidNftUriError({reason:"Only EIP-155 supported"});if(!chainID)throw new ens_js_1.EnsAvatarInvalidNftUriError({reason:"Chain ID not found"});if(!contractAddress)throw new ens_js_1.EnsAvatarInvalidNftUriError({reason:"Contract address not found"});if(!tokenID)throw new ens_js_1.EnsAvatarInvalidNftUriError({reason:"Token ID not found"});if(!erc_namespace)throw new ens_js_1.EnsAvatarInvalidNftUriError({reason:"ERC namespace not found"});return{chainID:Number.parseInt(chainID),namespace:erc_namespace.toLowerCase(),contractAddress:contractAddress,tokenID:tokenID}}function getNftTokenUri(_x4,_x5){return _getNftTokenUri.apply(this,arguments)}function _getNftTokenUri(){_getNftTokenUri=_asyncToGenerator(regeneratorRuntime.mark(function _callee4(client,_ref5){var nft;return regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:nft=_ref5.nft;if(!(nft.namespace==="erc721")){_context4.next=3;break}return _context4.abrupt("return",(0,readContract_js_1.readContract)(client,{address:nft.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(nft.tokenID)]}));case 3:if(!(nft.namespace==="erc1155")){_context4.next=5;break}return _context4.abrupt("return",(0,readContract_js_1.readContract)(client,{address:nft.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(nft.tokenID)]}));case 5:throw new ens_js_1.EnsAvatarUnsupportedNamespaceError({namespace:nft.namespace});case 6:case"end":return _context4.stop()}}},_callee4)}));return _getNftTokenUri.apply(this,arguments)}},{"../../../actions/public/readContract.js":255,"../../../errors/ens.js":358}],430:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.encodeLabelhash=encodeLabelhash;function encodeLabelhash(hash){return"[".concat(hash.slice(2),"]")}},{}],431:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.encodedLabelToLabelhash=encodedLabelToLabelhash;var isHex_js_1=require("../data/isHex.js");function encodedLabelToLabelhash(label){if(label.length!==66)return null;if(label.indexOf("[")!==0)return null;if(label.indexOf("]")!==65)return null;var hash="0x".concat(label.slice(1,65));if(!(0,isHex_js_1.isHex)(hash))return null;return hash}},{"../data/isHex.js":417}],432:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.isNullUniversalResolverError=isNullUniversalResolverError;var solidity_js_1=require("../../constants/solidity.js");var base_js_1=require("../../errors/base.js");var contract_js_1=require("../../errors/contract.js");function isNullUniversalResolverError(err,callType){var _cause$data,_cause$data2,_cause$data3,_cause$data4,_cause$data5,_cause$reason;if(!(err instanceof base_js_1.BaseError))return false;var cause=err.walk(function(e){return e instanceof contract_js_1.ContractFunctionRevertedError});if(!(cause instanceof contract_js_1.ContractFunctionRevertedError))return false;if(((_cause$data=cause.data)===null||_cause$data===void 0?void 0:_cause$data.errorName)==="ResolverNotFound")return true;if(((_cause$data2=cause.data)===null||_cause$data2===void 0?void 0:_cause$data2.errorName)==="ResolverWildcardNotSupported")return true;if(((_cause$data3=cause.data)===null||_cause$data3===void 0?void 0:_cause$data3.errorName)==="ResolverNotContract")return true;if(((_cause$data4=cause.data)===null||_cause$data4===void 0?void 0:_cause$data4.errorName)==="ResolverError")return true;if(((_cause$data5=cause.data)===null||_cause$data5===void 0?void 0:_cause$data5.errorName)==="HttpError")return true;if((_cause$reason=cause.reason)!==null&&_cause$reason!==void 0&&_cause$reason.includes("Wildcard on non-extended resolvers is not supported"))return true;if(callType==="reverse"&&cause.reason===solidity_js_1.panicReasons[50])return true;return false}},{"../../constants/solidity.js":342,"../../errors/base.js":348,"../../errors/contract.js":353}],433:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.labelhash=labelhash;var toBytes_js_1=require("../encoding/toBytes.js");var toHex_js_1=require("../encoding/toHex.js");var keccak256_js_1=require("../hash/keccak256.js");var encodedLabelToLabelhash_js_1=require("./encodedLabelToLabelhash.js");function labelhash(label){var result=new Uint8Array(32).fill(0);if(!label)return(0,toHex_js_1.bytesToHex)(result);return(0,encodedLabelToLabelhash_js_1.encodedLabelToLabelhash)(label)||(0,keccak256_js_1.keccak256)((0,toBytes_js_1.stringToBytes)(label))}},{"../encoding/toBytes.js":425,"../encoding/toHex.js":426,"../hash/keccak256.js":455,"./encodedLabelToLabelhash.js":431}],434:[function(require,module,exports){"use strict";function _slicedToArray(r,e){return _arrayWithHoles(r)||_iterableToArrayLimit(r,e)||_unsupportedIterableToArray(r,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++){n[e]=r[e]}return n}function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0){}}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t["return"]&&(u=t["return"](),Object(u)!==u))return}finally{if(o)throw n}}return a}}function _arrayWithHoles(r){if(Array.isArray(r))return r}function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}Object.defineProperty(exports,"__esModule",{value:true});exports.localBatchGatewayUrl=void 0;exports.localBatchGatewayRequest=localBatchGatewayRequest;var abis_js_1=require("../../constants/abis.js");var solidity_js_1=require("../../constants/solidity.js");var decodeFunctionData_js_1=require("../abi/decodeFunctionData.js");var encodeErrorResult_js_1=require("../abi/encodeErrorResult.js");var encodeFunctionResult_js_1=require("../abi/encodeFunctionResult.js");exports.localBatchGatewayUrl="x-batch-gateway:true";function localBatchGatewayRequest(_x){return _localBatchGatewayRequest.apply(this,arguments)}function _localBatchGatewayRequest(){_localBatchGatewayRequest=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(parameters){var data,ccipRequest,_ref,_ref$args,queries,failures,responses;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:data=parameters.data,ccipRequest=parameters.ccipRequest;_ref=(0,decodeFunctionData_js_1.decodeFunctionData)({abi:abis_js_1.batchGatewayAbi,data:data}),_ref$args=_slicedToArray(_ref.args,1),queries=_ref$args[0];failures=[];responses=[];_context2.next=6;return Promise.all(queries.map(function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee(query,i){return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return ccipRequest(query);case 3:responses[i]=_context.sent;failures[i]=false;_context.next=11;break;case 7:_context.prev=7;_context.t0=_context["catch"](0);failures[i]=true;responses[i]=encodeError(_context.t0);case 11:case"end":return _context.stop()}}},_callee,null,[[0,7]])}));return function(_x2,_x3){return _ref2.apply(this,arguments)}}()));case 6:return _context2.abrupt("return",(0,encodeFunctionResult_js_1.encodeFunctionResult)({abi:abis_js_1.batchGatewayAbi,functionName:"query",result:[failures,responses]}));case 7:case"end":return _context2.stop()}}},_callee2)}));return _localBatchGatewayRequest.apply(this,arguments)}function encodeError(error){if(error.name==="HttpRequestError"&&error.status)return(0,encodeErrorResult_js_1.encodeErrorResult)({abi:abis_js_1.batchGatewayAbi,errorName:"HttpError",args:[error.status,error.shortMessage]});return(0,encodeErrorResult_js_1.encodeErrorResult)({abi:[solidity_js_1.solidityError],errorName:"Error",args:["shortMessage"in error?error.shortMessage:error.message]})}},{"../../constants/abis.js":334,"../../constants/solidity.js":342,"../abi/decodeFunctionData.js":378,"../abi/encodeErrorResult.js":382,"../abi/encodeFunctionResult.js":385}],435:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.namehash=namehash;var concat_js_1=require("../data/concat.js");var toBytes_js_1=require("../encoding/toBytes.js");var toHex_js_1=require("../encoding/toHex.js");var keccak256_js_1=require("../hash/keccak256.js");var encodedLabelToLabelhash_js_1=require("./encodedLabelToLabelhash.js");function namehash(name){var result=new Uint8Array(32).fill(0);if(!name)return(0,toHex_js_1.bytesToHex)(result);var labels=name.split(".");for(var i=labels.length-1;i>=0;i-=1){var hashFromEncodedLabel=(0,encodedLabelToLabelhash_js_1.encodedLabelToLabelhash)(labels[i]);var hashed=hashFromEncodedLabel?(0,toBytes_js_1.toBytes)(hashFromEncodedLabel):(0,keccak256_js_1.keccak256)((0,toBytes_js_1.stringToBytes)(labels[i]),"bytes");result=(0,keccak256_js_1.keccak256)((0,concat_js_1.concat)([result,hashed]),"bytes")}return(0,toHex_js_1.bytesToHex)(result)}},{"../data/concat.js":415,"../encoding/toBytes.js":425,"../encoding/toHex.js":426,"../hash/keccak256.js":455,"./encodedLabelToLabelhash.js":431}],436:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.packetToBytes=packetToBytes;var toBytes_js_1=require("../encoding/toBytes.js");var encodeLabelhash_js_1=require("./encodeLabelhash.js");var labelhash_js_1=require("./labelhash.js");function packetToBytes(packet){var value=packet.replace(/^\.|\.$/gm,"");if(value.length===0)return new Uint8Array(1);var bytes=new Uint8Array((0,toBytes_js_1.stringToBytes)(value).byteLength+2);var offset=0;var list=value.split(".");for(var i=0;i<list.length;i++){var encoded=(0,toBytes_js_1.stringToBytes)(list[i]);if(encoded.byteLength>255)encoded=(0,toBytes_js_1.stringToBytes)((0,encodeLabelhash_js_1.encodeLabelhash)((0,labelhash_js_1.labelhash)(list[i])));bytes[offset]=encoded.length;bytes.set(encoded,offset+1);offset+=encoded.length+1}if(bytes.byteLength!==offset+1)return bytes.slice(0,offset+1);return bytes}},{"../encoding/toBytes.js":425,"./encodeLabelhash.js":430,"./labelhash.js":433}],437:[function(require,module,exports){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}var _excluded=["docsPath"];function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function _defineProperty(e,r,t){return(r=_toPropertyKey(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function _objectWithoutProperties(e,t){if(null==e)return{};var o,r,i=_objectWithoutPropertiesLoose(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(r=0;r<n.length;r++){o=n[r],-1===t.indexOf(o)&&{}.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}}return i}function _objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r){if({}.hasOwnProperty.call(r,n)){if(-1!==e.indexOf(n))continue;t[n]=r[n]}}return t}Object.defineProperty(exports,"__esModule",{value:true});exports.getCallError=getCallError;var contract_js_1=require("../../errors/contract.js");var node_js_1=require("../../errors/node.js");var getNodeError_js_1=require("./getNodeError.js");function getCallError(err,_ref){var docsPath=_ref.docsPath,args=_objectWithoutProperties(_ref,_excluded);var cause=function(){var cause=(0,getNodeError_js_1.getNodeError)(err,args);if(cause instanceof node_js_1.UnknownNodeError)return err;return cause}();return new contract_js_1.CallExecutionError(cause,_objectSpread({docsPath:docsPath},args))}},{"../../errors/contract.js":353,"../../errors/node.js":362,"./getNodeError.js":440}],438:[function(require,module,exports){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}Object.defineProperty(exports,"__esModule",{value:true});exports.getContractError=getContractError;var abi_js_1=require("../../errors/abi.js");var base_js_1=require("../../errors/base.js");var contract_js_1=require("../../errors/contract.js");var request_js_1=require("../../errors/request.js");var rpc_js_1=require("../../errors/rpc.js");var EXECUTION_REVERTED_ERROR_CODE=3;function getContractError(err,_ref){var abi=_ref.abi,address=_ref.address,args=_ref.args,docsPath=_ref.docsPath,functionName=_ref.functionName,sender=_ref.sender;var error=err instanceof contract_js_1.RawContractError?err:err instanceof base_js_1.BaseError?err.walk(function(err){return"data"in err})||err.walk():{};var code=error.code,data=error.data,details=error.details,message=error.message,shortMessage=error.shortMessage;var cause=function(){if(err instanceof abi_js_1.AbiDecodingZeroDataError)return new contract_js_1.ContractFunctionZeroDataError({functionName:functionName});if([EXECUTION_REVERTED_ERROR_CODE,rpc_js_1.InternalRpcError.code].includes(code)&&(data||details||message||shortMessage)){return new contract_js_1.ContractFunctionRevertedError({abi:abi,data:_typeof(data)==="object"?data.data:data,functionName:functionName,message:error instanceof request_js_1.RpcRequestError?details:shortMessage!==null&&shortMessage!==void 0?shortMessage:message})}return err}();return new contract_js_1.ContractFunctionExecutionError(cause,{abi:abi,args:args,contractAddress:address,docsPath:docsPath,functionName:functionName,sender:sender})}},{"../../errors/abi.js":345,"../../errors/base.js":348,"../../errors/contract.js":353,"../../errors/request.js":363,"../../errors/rpc.js":364}],439:[function(require,module,exports){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}var _excluded=["docsPath"];function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function _defineProperty(e,r,t){return(r=_toPropertyKey(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function _objectWithoutProperties(e,t){if(null==e)return{};var o,r,i=_objectWithoutPropertiesLoose(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(r=0;r<n.length;r++){o=n[r],-1===t.indexOf(o)&&{}.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}}return i}function _objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r){if({}.hasOwnProperty.call(r,n)){if(-1!==e.indexOf(n))continue;t[n]=r[n]}}return t}Object.defineProperty(exports,"__esModule",{value:true});exports.getEstimateGasError=getEstimateGasError;var estimateGas_js_1=require("../../errors/estimateGas.js");var node_js_1=require("../../errors/node.js");var getNodeError_js_1=require("./getNodeError.js");function getEstimateGasError(err,_ref){var docsPath=_ref.docsPath,args=_objectWithoutProperties(_ref,_excluded);var cause=function(){var cause=(0,getNodeError_js_1.getNodeError)(err,args);if(cause instanceof node_js_1.UnknownNodeError)return err;return cause}();return new estimateGas_js_1.EstimateGasExecutionError(cause,_objectSpread({docsPath:docsPath},args))}},{"../../errors/estimateGas.js":359,"../../errors/node.js":362,"./getNodeError.js":440}],440:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.containsNodeError=containsNodeError;exports.getNodeError=getNodeError;var base_js_1=require("../../errors/base.js");var node_js_1=require("../../errors/node.js");var request_js_1=require("../../errors/request.js");var rpc_js_1=require("../../errors/rpc.js");function containsNodeError(err){return err instanceof rpc_js_1.TransactionRejectedRpcError||err instanceof rpc_js_1.InvalidInputRpcError||err instanceof request_js_1.RpcRequestError&&err.code===node_js_1.ExecutionRevertedError.code}function getNodeError(err,args){var message=(err.details||"").toLowerCase();var executionRevertedError=err instanceof base_js_1.BaseError?err.walk(function(e){return(e===null||e===void 0?void 0:e.code)===node_js_1.ExecutionRevertedError.code}):err;if(executionRevertedError instanceof base_js_1.BaseError)return new node_js_1.ExecutionRevertedError({cause:err,message:executionRevertedError.details});if(node_js_1.ExecutionRevertedError.nodeMessage.test(message))return new node_js_1.ExecutionRevertedError({cause:err,message:err.details});if(node_js_1.FeeCapTooHighError.nodeMessage.test(message))return new node_js_1.FeeCapTooHighError({cause:err,maxFeePerGas:args===null||args===void 0?void 0:args.maxFeePerGas});if(node_js_1.FeeCapTooLowError.nodeMessage.test(message))return new node_js_1.FeeCapTooLowError({cause:err,maxFeePerGas:args===null||args===void 0?void 0:args.maxFeePerGas});if(node_js_1.NonceTooHighError.nodeMessage.test(message))return new node_js_1.NonceTooHighError({cause:err,nonce:args===null||args===void 0?void 0:args.nonce});if(node_js_1.NonceTooLowError.nodeMessage.test(message))return new node_js_1.NonceTooLowError({cause:err,nonce:args===null||args===void 0?void 0:args.nonce});if(node_js_1.NonceMaxValueError.nodeMessage.test(message))return new node_js_1.NonceMaxValueError({cause:err,nonce:args===null||args===void 0?void 0:args.nonce});if(node_js_1.InsufficientFundsError.nodeMessage.test(message))return new node_js_1.InsufficientFundsError({cause:err});if(node_js_1.IntrinsicGasTooHighError.nodeMessage.test(message))return new node_js_1.IntrinsicGasTooHighError({cause:err,gas:args===null||args===void 0?void 0:args.gas});if(node_js_1.IntrinsicGasTooLowError.nodeMessage.test(message))return new node_js_1.IntrinsicGasTooLowError({cause:err,gas:args===null||args===void 0?void 0:args.gas});if(node_js_1.TransactionTypeNotSupportedError.nodeMessage.test(message))return new node_js_1.TransactionTypeNotSupportedError({cause:err});if(node_js_1.TipAboveFeeCapError.nodeMessage.test(message))return new node_js_1.TipAboveFeeCapError({cause:err,maxFeePerGas:args===null||args===void 0?void 0:args.maxFeePerGas,maxPriorityFeePerGas:args===null||args===void 0?void 0:args.maxPriorityFeePerGas});return new node_js_1.UnknownNodeError({cause:err})}},{"../../errors/base.js":348,"../../errors/node.js":362,"../../errors/request.js":363,"../../errors/rpc.js":364}],441:[function(require,module,exports){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}var _excluded=["docsPath"];function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function _defineProperty(e,r,t){return(r=_toPropertyKey(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function _objectWithoutProperties(e,t){if(null==e)return{};var o,r,i=_objectWithoutPropertiesLoose(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(r=0;r<n.length;r++){o=n[r],-1===t.indexOf(o)&&{}.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}}return i}function _objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r){if({}.hasOwnProperty.call(r,n)){if(-1!==e.indexOf(n))continue;t[n]=r[n]}}return t}Object.defineProperty(exports,"__esModule",{value:true});exports.getTransactionError=getTransactionError;var node_js_1=require("../../errors/node.js");var transaction_js_1=require("../../errors/transaction.js");var getNodeError_js_1=require("./getNodeError.js");function getTransactionError(err,_ref){var docsPath=_ref.docsPath,args=_objectWithoutProperties(_ref,_excluded);var cause=function(){var cause=(0,getNodeError_js_1.getNodeError)(err,args);if(cause instanceof node_js_1.UnknownNodeError)return err;return cause}();return new transaction_js_1.TransactionExecutionError(cause,_objectSpread({docsPath:docsPath},args))}},{"../../errors/node.js":362,"../../errors/transaction.js":366,"./getNodeError.js":440}],442:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.createFilterRequestScope=createFilterRequestScope;function createFilterRequestScope(client,_ref){var _client$transport$onR,_client$transport;var method=_ref.method;var requestMap={};if(client.transport.type==="fallback")(_client$transport$onR=(_client$transport=client.transport).onResponse)===null||_client$transport$onR===void 0?void 0:_client$transport$onR.call(_client$transport,function(_ref2){var method_=_ref2.method,id=_ref2.response,status=_ref2.status,transport=_ref2.transport;if(status==="success"&&method===method_)requestMap[id]=transport.request});return function(id){return requestMap[id]||client.request}}},{}],443:[function(require,module,exports){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function _defineProperty(e,r,t){return(r=_toPropertyKey(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}Object.defineProperty(exports,"__esModule",{value:true});exports.defineBlock=void 0;exports.formatBlock=formatBlock;var formatter_js_1=require("./formatter.js");var transaction_js_1=require("./transaction.js");function formatBlock(block){var _block$transactions;var transactions=((_block$transactions=block.transactions)!==null&&_block$transactions!==void 0?_block$transactions:[]).map(function(transaction){if(typeof transaction==="string")return transaction;return(0,transaction_js_1.formatTransaction)(transaction)});return _objectSpread(_objectSpread({},block),{},{baseFeePerGas:block.baseFeePerGas?BigInt(block.baseFeePerGas):null,blobGasUsed:block.blobGasUsed?BigInt(block.blobGasUsed):undefined,difficulty:block.difficulty?BigInt(block.difficulty):undefined,excessBlobGas:block.excessBlobGas?BigInt(block.excessBlobGas):undefined,gasLimit:block.gasLimit?BigInt(block.gasLimit):undefined,gasUsed:block.gasUsed?BigInt(block.gasUsed):undefined,hash:block.hash?block.hash:null,logsBloom:block.logsBloom?block.logsBloom:null,nonce:block.nonce?block.nonce:null,number:block.number?BigInt(block.number):null,size:block.size?BigInt(block.size):undefined,timestamp:block.timestamp?BigInt(block.timestamp):undefined,transactions:transactions,totalDifficulty:block.totalDifficulty?BigInt(block.totalDifficulty):null})}exports.defineBlock=(0,formatter_js_1.defineFormatter)("block",formatBlock)},{"./formatter.js":446,"./transaction.js":449}],444:[function(require,module,exports){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}Object.defineProperty(exports,"__esModule",{value:true});exports.extract=extract;function extract(value_,_ref){var format=_ref.format;if(!format)return{};var value={};function extract_(formatted){var keys=Object.keys(formatted);for(var _i=0,_keys=keys;_i<_keys.length;_i++){var key=_keys[_i];if(key in value_)value[key]=value_[key];if(formatted[key]&&_typeof(formatted[key])==="object"&&!Array.isArray(formatted[key]))extract_(formatted[key])}}var formatted=format(value_||{});extract_(formatted);return value}},{}],445:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.formatFeeHistory=formatFeeHistory;function formatFeeHistory(feeHistory){var _feeHistory$reward;return{baseFeePerGas:feeHistory.baseFeePerGas.map(function(value){return BigInt(value)}),gasUsedRatio:feeHistory.gasUsedRatio,oldestBlock:BigInt(feeHistory.oldestBlock),reward:(_feeHistory$reward=feeHistory.reward)===null||_feeHistory$reward===void 0?void 0:_feeHistory$reward.map(function(reward){return reward.map(function(value){return BigInt(value)})})}}},{}],446:[function(require,module,exports){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function _defineProperty(e,r,t){return(r=_toPropertyKey(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function _createForOfIteratorHelper(r,e){var t="undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(!t){if(Array.isArray(r)||(t=_unsupportedIterableToArray(r))||e&&r&&"number"==typeof r.length){t&&(r=t);var _n=0,F=function F(){};return{s:F,n:function n(){return _n>=r.length?{done:!0}:{done:!1,value:r[_n++]}},e:function e(r){throw r},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function s(){t=t.call(r)},n:function n(){var r=t.next();return a=r.done,r},e:function e(r){u=!0,o=r},f:function f(){try{a||null==t["return"]||t["return"]()}finally{if(u)throw o}}}}function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++){n[e]=r[e]}return n}Object.defineProperty(exports,"__esModule",{value:true});exports.defineFormatter=defineFormatter;function defineFormatter(type,_format){return function(_ref){var exclude=_ref.exclude,overrides=_ref.format;return{exclude:exclude,format:function format(args){var formatted=_format(args);if(exclude){var _iterator=_createForOfIteratorHelper(exclude),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var key=_step.value;delete formatted[key]}}catch(err){_iterator.e(err)}finally{_iterator.f()}}return _objectSpread(_objectSpread({},formatted),overrides(args))},type:type}}}},{}],447:[function(require,module,exports){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function _defineProperty(e,r,t){return(r=_toPropertyKey(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}Object.defineProperty(exports,"__esModule",{value:true});exports.formatLog=formatLog;function formatLog(log){var _ref=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},args=_ref.args,eventName=_ref.eventName;return _objectSpread(_objectSpread({},log),{},{blockHash:log.blockHash?log.blockHash:null,blockNumber:log.blockNumber?BigInt(log.blockNumber):null,logIndex:log.logIndex?Number(log.logIndex):null,transactionHash:log.transactionHash?log.transactionHash:null,transactionIndex:log.transactionIndex?Number(log.transactionIndex):null},eventName?{args:args,eventName:eventName}:{})}},{}],448:[function(require,module,exports){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function _defineProperty(e,r,t){return(r=_toPropertyKey(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}Object.defineProperty(exports,"__esModule",{value:true});exports.formatProof=formatProof;var index_js_1=require("../index.js");function formatStorageProof(storageProof){return storageProof.map(function(proof){return _objectSpread(_objectSpread({},proof),{},{value:BigInt(proof.value)})})}function formatProof(proof){return _objectSpread(_objectSpread({},proof),{},{balance:proof.balance?BigInt(proof.balance):undefined,nonce:proof.nonce?(0,index_js_1.hexToNumber)(proof.nonce):undefined,storageProof:proof.storageProof?formatStorageProof(proof.storageProof):undefined})}},{"../index.js":467}],449:[function(require,module,exports){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function _defineProperty(e,r,t){return(r=_toPropertyKey(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}Object.defineProperty(exports,"__esModule",{value:true});exports.defineTransaction=exports.transactionType=void 0;exports.formatTransaction=formatTransaction;var fromHex_js_1=require("../encoding/fromHex.js");var formatter_js_1=require("./formatter.js");exports.transactionType={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function formatTransaction(transaction){var transaction_=_objectSpread(_objectSpread({},transaction),{},{blockHash:transaction.blockHash?transaction.blockHash:null,blockNumber:transaction.blockNumber?BigInt(transaction.blockNumber):null,chainId:transaction.chainId?(0,fromHex_js_1.hexToNumber)(transaction.chainId):undefined,gas:transaction.gas?BigInt(transaction.gas):undefined,gasPrice:transaction.gasPrice?BigInt(transaction.gasPrice):undefined,maxFeePerBlobGas:transaction.maxFeePerBlobGas?BigInt(transaction.maxFeePerBlobGas):undefined,maxFeePerGas:transaction.maxFeePerGas?BigInt(transaction.maxFeePerGas):undefined,maxPriorityFeePerGas:transaction.maxPriorityFeePerGas?BigInt(transaction.maxPriorityFeePerGas):undefined,nonce:transaction.nonce?(0,fromHex_js_1.hexToNumber)(transaction.nonce):undefined,to:transaction.to?transaction.to:null,transactionIndex:transaction.transactionIndex?Number(transaction.transactionIndex):null,type:transaction.type?exports.transactionType[transaction.type]:undefined,typeHex:transaction.type?transaction.type:undefined,value:transaction.value?BigInt(transaction.value):undefined,v:transaction.v?BigInt(transaction.v):undefined});if(transaction.authorizationList)transaction_.authorizationList=formatAuthorizationList(transaction.authorizationList);transaction_.yParity=function(){if(transaction.yParity)return Number(transaction.yParity);if(typeof transaction_.v==="bigint"){if(transaction_.v===0n||transaction_.v===27n)return 0;if(transaction_.v===1n||transaction_.v===28n)return 1;if(transaction_.v>=35n)return transaction_.v%2n===0n?1:0}return undefined}();if(transaction_.type==="legacy"){delete transaction_.accessList;delete transaction_.maxFeePerBlobGas;delete transaction_.maxFeePerGas;delete transaction_.maxPriorityFeePerGas;delete transaction_.yParity}if(transaction_.type==="eip2930"){delete transaction_.maxFeePerBlobGas;delete transaction_.maxFeePerGas;delete transaction_.maxPriorityFeePerGas}if(transaction_.type==="eip1559"){delete transaction_.maxFeePerBlobGas}return transaction_}exports.defineTransaction=(0,formatter_js_1.defineFormatter)("transaction",formatTransaction);function formatAuthorizationList(authorizationList){return authorizationList.map(function(authorization){return{address:authorization.address,chainId:Number(authorization.chainId),nonce:Number(authorization.nonce),r:authorization.r,s:authorization.s,yParity:Number(authorization.yParity)}})}},{"../encoding/fromHex.js":423,"./formatter.js":446}],450:[function(require,module,exports){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function _defineProperty(e,r,t){return(r=_toPropertyKey(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}Object.defineProperty(exports,"__esModule",{value:true});exports.defineTransactionReceipt=exports.receiptStatuses=void 0;exports.formatTransactionReceipt=formatTransactionReceipt;var fromHex_js_1=require("../encoding/fromHex.js");var formatter_js_1=require("./formatter.js");var log_js_1=require("./log.js");var transaction_js_1=require("./transaction.js");exports.receiptStatuses={"0x0":"reverted","0x1":"success"};function formatTransactionReceipt(transactionReceipt){var receipt=_objectSpread(_objectSpread({},transactionReceipt),{},{blockNumber:transactionReceipt.blockNumber?BigInt(transactionReceipt.blockNumber):null,contractAddress:transactionReceipt.contractAddress?transactionReceipt.contractAddress:null,cumulativeGasUsed:transactionReceipt.cumulativeGasUsed?BigInt(transactionReceipt.cumulativeGasUsed):null,effectiveGasPrice:transactionReceipt.effectiveGasPrice?BigInt(transactionReceipt.effectiveGasPrice):null,gasUsed:transactionReceipt.gasUsed?BigInt(transactionReceipt.gasUsed):null,logs:transactionReceipt.logs?transactionReceipt.logs.map(function(log){return(0,log_js_1.formatLog)(log)}):null,to:transactionReceipt.to?transactionReceipt.to:null,transactionIndex:transactionReceipt.transactionIndex?(0,fromHex_js_1.hexToNumber)(transactionReceipt.transactionIndex):null,status:transactionReceipt.status?exports.receiptStatuses[transactionReceipt.status]:null,type:transactionReceipt.type?transaction_js_1.transactionType[transactionReceipt.type]||transactionReceipt.type:null});if(transactionReceipt.blobGasPrice)receipt.blobGasPrice=BigInt(transactionReceipt.blobGasPrice);if(transactionReceipt.blobGasUsed)receipt.blobGasUsed=BigInt(transactionReceipt.blobGasUsed);return receipt}exports.defineTransactionReceipt=(0,formatter_js_1.defineFormatter)("transactionReceipt",formatTransactionReceipt)},{"../encoding/fromHex.js":423,"./formatter.js":446,"./log.js":447,"./transaction.js":449}],451:[function(require,module,exports){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function _defineProperty(e,r,t){return(r=_toPropertyKey(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}Object.defineProperty(exports,"__esModule",{value:true});exports.defineTransactionRequest=exports.rpcTransactionType=void 0;exports.formatTransactionRequest=formatTransactionRequest;var toHex_js_1=require("../encoding/toHex.js");var formatter_js_1=require("./formatter.js");exports.rpcTransactionType={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function formatTransactionRequest(request){var rpcRequest={};if(typeof request.authorizationList!=="undefined")rpcRequest.authorizationList=formatAuthorizationList(request.authorizationList);if(typeof request.accessList!=="undefined")rpcRequest.accessList=request.accessList;if(typeof request.blobVersionedHashes!=="undefined")rpcRequest.blobVersionedHashes=request.blobVersionedHashes;if(typeof request.blobs!=="undefined"){if(typeof request.blobs[0]!=="string")rpcRequest.blobs=request.blobs.map(function(x){return(0,toHex_js_1.bytesToHex)(x)});else rpcRequest.blobs=request.blobs}if(typeof request.data!=="undefined")rpcRequest.data=request.data;if(typeof request.from!=="undefined")rpcRequest.from=request.from;if(typeof request.gas!=="undefined")rpcRequest.gas=(0,toHex_js_1.numberToHex)(request.gas);if(typeof request.gasPrice!=="undefined")rpcRequest.gasPrice=(0,toHex_js_1.numberToHex)(request.gasPrice);if(typeof request.maxFeePerBlobGas!=="undefined")rpcRequest.maxFeePerBlobGas=(0,toHex_js_1.numberToHex)(request.maxFeePerBlobGas);if(typeof request.maxFeePerGas!=="undefined")rpcRequest.maxFeePerGas=(0,toHex_js_1.numberToHex)(request.maxFeePerGas);if(typeof request.maxPriorityFeePerGas!=="undefined")rpcRequest.maxPriorityFeePerGas=(0,toHex_js_1.numberToHex)(request.maxPriorityFeePerGas);if(typeof request.nonce!=="undefined")rpcRequest.nonce=(0,toHex_js_1.numberToHex)(request.nonce);if(typeof request.to!=="undefined")rpcRequest.to=request.to;if(typeof request.type!=="undefined")rpcRequest.type=exports.rpcTransactionType[request.type];if(typeof request.value!=="undefined")rpcRequest.value=(0,toHex_js_1.numberToHex)(request.value);return rpcRequest}exports.defineTransactionRequest=(0,formatter_js_1.defineFormatter)("transactionRequest",formatTransactionRequest);function formatAuthorizationList(authorizationList){return authorizationList.map(function(authorization){return _objectSpread(_objectSpread({address:authorization.address,r:authorization.r?(0,toHex_js_1.numberToHex)(BigInt(authorization.r)):authorization.r,s:authorization.s?(0,toHex_js_1.numberToHex)(BigInt(authorization.s)):authorization.s,chainId:(0,toHex_js_1.numberToHex)(authorization.chainId),nonce:(0,toHex_js_1.numberToHex)(authorization.nonce)},typeof authorization.yParity!=="undefined"?{yParity:(0,toHex_js_1.numberToHex)(authorization.yParity)}:{}),typeof authorization.v!=="undefined"&&typeof authorization.yParity==="undefined"?{v:(0,toHex_js_1.numberToHex)(authorization.v)}:{})})}},{"../encoding/toHex.js":426,"./formatter.js":446}],452:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getAction=getAction;function getAction(client,actionFn,name){var action_implicit=client[actionFn.name];if(typeof action_implicit==="function")return action_implicit;var action_explicit=client[name];if(typeof action_explicit==="function")return action_explicit;return function(params){return actionFn(client,params)}}},{}],453:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.hashSignature=hashSignature;var toBytes_js_1=require("../encoding/toBytes.js");var keccak256_js_1=require("./keccak256.js");var hash=function hash(value){return(0,keccak256_js_1.keccak256)((0,toBytes_js_1.toBytes)(value))};function hashSignature(sig){return hash(sig)}},{"../encoding/toBytes.js":425,"./keccak256.js":455}],454:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.isHash=isHash;var isHex_js_1=require("../data/isHex.js");var size_js_1=require("../data/size.js");function isHash(hash){return(0,isHex_js_1.isHex)(hash)&&(0,size_js_1.size)(hash)===32}},{"../data/isHex.js":417,"../data/size.js":419}],455:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.keccak256=keccak256;var sha3_1=require("@noble/hashes/sha3");var isHex_js_1=require("../data/isHex.js");var toBytes_js_1=require("../encoding/toBytes.js");var toHex_js_1=require("../encoding/toHex.js");function keccak256(value,to_){var to=to_||"hex";var bytes=(0,sha3_1.keccak_256)((0,isHex_js_1.isHex)(value,{strict:false})?(0,toBytes_js_1.toBytes)(value):value);if(to==="bytes")return bytes;return(0,toHex_js_1.toHex)(bytes)}},{"../data/isHex.js":417,"../encoding/toBytes.js":425,"../encoding/toHex.js":426,"@noble/hashes/sha3":137}],456:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.normalizeSignature=normalizeSignature;var base_js_1=require("../../errors/base.js");function normalizeSignature(signature){var active=true;var current="";var level=0;var result="";var valid=false;for(var i=0;i<signature.length;i++){var _char=signature[i];if(["(",")",","].includes(_char))active=true;if(_char==="(")level++;if(_char===")")level--;if(!active)continue;if(level===0){if(_char===" "&&["event","function",""].includes(result))result="";else{result+=_char;if(_char===")"){valid=true;break}}continue}if(_char===" "){if(signature[i-1]!==","&&current!==","&&current!==",("){current="";active=false}continue}result+=_char;current+=_char}if(!valid)throw new base_js_1.BaseError("Unable to normalize signature.");return result}},{"../../errors/base.js":348}],457:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ripemd160=ripemd160;var ripemd160_1=require("@noble/hashes/ripemd160");var isHex_js_1=require("../data/isHex.js");var toBytes_js_1=require("../encoding/toBytes.js");var toHex_js_1=require("../encoding/toHex.js");function ripemd160(value,to_){var to=to_||"hex";var bytes=(0,ripemd160_1.ripemd160)((0,isHex_js_1.isHex)(value,{strict:false})?(0,toBytes_js_1.toBytes)(value):value);if(to==="bytes")return bytes;return(0,toHex_js_1.toHex)(bytes)}},{"../data/isHex.js":417,"../encoding/toBytes.js":425,"../encoding/toHex.js":426,"@noble/hashes/ripemd160":134}],458:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.sha256=sha256;var sha256_1=require("@noble/hashes/sha256");var isHex_js_1=require("../data/isHex.js");var toBytes_js_1=require("../encoding/toBytes.js");var toHex_js_1=require("../encoding/toHex.js");function sha256(value,to_){var to=to_||"hex";var bytes=(0,sha256_1.sha256)((0,isHex_js_1.isHex)(value,{strict:false})?(0,toBytes_js_1.toBytes)(value):value);if(to==="bytes")return bytes;return(0,toHex_js_1.toHex)(bytes)}},{"../data/isHex.js":417,"../encoding/toBytes.js":425,"../encoding/toHex.js":426,"@noble/hashes/sha256":136}],459:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.toEventHash=void 0;var toSignatureHash_js_1=require("./toSignatureHash.js");Object.defineProperty(exports,"toEventHash",{enumerable:true,get:function get(){return toSignatureHash_js_1.toSignatureHash}})},{"./toSignatureHash.js":466}],460:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.toEventSelector=void 0;var toSignatureHash_js_1=require("./toSignatureHash.js");exports.toEventSelector=toSignatureHash_js_1.toSignatureHash},{"./toSignatureHash.js":466}],461:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.toEventSignature=void 0;var toSignature_js_1=require("./toSignature.js");Object.defineProperty(exports,"toEventSignature",{enumerable:true,get:function get(){return toSignature_js_1.toSignature}})},{"./toSignature.js":465}],462:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.toFunctionHash=void 0;var toSignatureHash_js_1=require("./toSignatureHash.js");Object.defineProperty(exports,"toFunctionHash",{enumerable:true,get:function get(){return toSignatureHash_js_1.toSignatureHash}})},{"./toSignatureHash.js":466}],463:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.toFunctionSelector=void 0;var slice_js_1=require("../data/slice.js");var toSignatureHash_js_1=require("./toSignatureHash.js");var toFunctionSelector=function toFunctionSelector(fn){return(0,slice_js_1.slice)((0,toSignatureHash_js_1.toSignatureHash)(fn),0,4)};exports.toFunctionSelector=toFunctionSelector},{"../data/slice.js":420,"./toSignatureHash.js":466}],464:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.toFunctionSignature=void 0;var toSignature_js_1=require("./toSignature.js");Object.defineProperty(exports,"toFunctionSignature",{enumerable:true,get:function get(){return toSignature_js_1.toSignature}})},{"./toSignature.js":465}],465:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.toSignature=void 0;var abitype_1=require("abitype");var normalizeSignature_js_1=require("./normalizeSignature.js");var toSignature=function toSignature(def){var def_=function(){if(typeof def==="string")return def;return(0,abitype_1.formatAbiItem)(def)}();return(0,normalizeSignature_js_1.normalizeSignature)(def_)};exports.toSignature=toSignature},{"./normalizeSignature.js":456,abitype:141}],466:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.toSignatureHash=toSignatureHash;var hashSignature_js_1=require("./hashSignature.js");var toSignature_js_1=require("./toSignature.js");function toSignatureHash(fn){return(0,hashSignature_js_1.hashSignature)((0,toSignature_js_1.toSignature)(fn))}},{"./hashSignature.js":453,"./toSignature.js":465}],467:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getContractAddress=exports.publicKeyToAddress=exports.parseAccount=exports.verifyAuthorization=exports.serializeAuthorizationList=exports.recoverAuthorizationAddress=exports.hashAuthorization=exports.formatAbiParams=exports.formatAbiItem=exports.formatAbiItemWithArgs=exports.encodePacked=exports.parseAbiParameters=exports.parseAbiParameter=exports.parseAbiItem=exports.parseAbi=exports.getAbiItem=exports.parseEventLogs=exports.encodeFunctionResult=exports.encodeFunctionData=exports.encodeEventTopics=exports.encodeErrorResult=exports.encodeDeployData=exports.encodeAbiParameters=exports.decodeFunctionResult=exports.decodeFunctionData=exports.decodeEventLog=exports.decodeErrorResult=exports.decodeAbiParameters=exports.validateTypedData=exports.serializeTypedData=exports.stringify=exports.getWebSocketRpcClient=exports.socketClientCache=exports.getSocketRpcClient=exports.getHttpRpcClient=exports.rpc=exports.getSocket=exports.integerRegex=exports.bytesRegex=exports.arrayRegex=exports.getChainContractAddress=exports.extractChain=exports.defineChain=exports.assertCurrentChain=exports.offchainLookupSignature=exports.offchainLookupAbiItem=exports.offchainLookup=exports.ccipFetch=exports.ccipRequest=exports.buildRequest=void 0;exports.hexToString=exports.hexToNumber=exports.hexToBigInt=exports.hexToBool=exports.fromHex=exports.fromBytes=exports.bytesToString=exports.bytesToNumber=exports.bytesToBool=exports.bytesToBigint=exports.bytesToBigInt=exports.stringToHex=exports.numberToHex=exports.toHex=exports.bytesToHex=exports.boolToHex=exports.stringToBytes=exports.numberToBytes=exports.hexToBytes=exports.toBytes=exports.boolToBytes=exports.toRlp=exports.extract=exports.formatTransactionRequest=exports.defineTransactionRequest=exports.defineTransactionReceipt=exports.formatLog=exports.transactionType=exports.formatTransaction=exports.defineTransaction=exports.formatBlock=exports.defineBlock=exports.trim=exports.sliceHex=exports.sliceBytes=exports.slice=exports.size=exports.padHex=exports.padBytes=exports.pad=exports.isHex=exports.isBytes=exports.concatHex=exports.concatBytes=exports.concat=exports.isAddressEqual=exports.isAddress=exports.getAddress=exports.getCreate2Address=exports.getCreateAddress=void 0;exports.parseEther=exports.parseUnits=exports.formatUnits=exports.formatGwei=exports.formatEther=exports.serializeAccessList=exports.serializeTransaction=exports.parseTransaction=exports.assertTransactionLegacy=exports.assertTransactionEIP2930=exports.assertTransactionEIP1559=exports.assertRequest=exports.getTransactionType=exports.getSerializedTransactionType=exports.serializeErc6492Signature=exports.isErc6492Signature=exports.parseErc6492Signature=exports.hashMessage=exports.verifyTypedData=exports.verifyMessage=exports.verifyHash=exports.recoverTypedDataAddress=exports.recoverPublicKey=exports.recoverMessageAddress=exports.recoverAddress=exports.hashTypedData=exports.hashStruct=exports.ripemd160=exports.sha256=exports.keccak256=exports.isHash=exports.toFunctionHash=exports.toEventHash=exports.getFunctionSignature=exports.toFunctionSignature=exports.getEventSignature=exports.toEventSignature=exports.getFunctionSelector=exports.toFunctionSelector=exports.getEventSelector=exports.toEventSelector=exports.defineFormatter=exports.getAction=exports.getTransactionError=exports.getEstimateGasError=exports.getContractError=exports.getCallError=exports.getNodeError=exports.containsNodeError=exports.fromRlp=void 0;exports.nonceManager=exports.createNonceManager=exports.parseGwei=void 0;var buildRequest_js_1=require("./buildRequest.js");Object.defineProperty(exports,"buildRequest",{enumerable:true,get:function get(){return buildRequest_js_1.buildRequest}});var ccip_js_1=require("./ccip.js");Object.defineProperty(exports,"ccipRequest",{enumerable:true,get:function get(){return ccip_js_1.ccipRequest}});Object.defineProperty(exports,"ccipFetch",{enumerable:true,get:function get(){return ccip_js_1.ccipRequest}});Object.defineProperty(exports,"offchainLookup",{enumerable:true,get:function get(){return ccip_js_1.offchainLookup}});Object.defineProperty(exports,"offchainLookupAbiItem",{enumerable:true,get:function get(){return ccip_js_1.offchainLookupAbiItem}});Object.defineProperty(exports,"offchainLookupSignature",{enumerable:true,get:function get(){return ccip_js_1.offchainLookupSignature}});var assertCurrentChain_js_1=require("./chain/assertCurrentChain.js");Object.defineProperty(exports,"assertCurrentChain",{enumerable:true,get:function get(){return assertCurrentChain_js_1.assertCurrentChain}});var defineChain_js_1=require("./chain/defineChain.js");Object.defineProperty(exports,"defineChain",{enumerable:true,get:function get(){return defineChain_js_1.defineChain}});var extractChain_js_1=require("./chain/extractChain.js");Object.defineProperty(exports,"extractChain",{enumerable:true,get:function get(){return extractChain_js_1.extractChain}});var getChainContractAddress_js_1=require("./chain/getChainContractAddress.js");Object.defineProperty(exports,"getChainContractAddress",{enumerable:true,get:function get(){return getChainContractAddress_js_1.getChainContractAddress}});var regex_js_1=require("./regex.js");Object.defineProperty(exports,"arrayRegex",{enumerable:true,get:function get(){return regex_js_1.arrayRegex}});Object.defineProperty(exports,"bytesRegex",{enumerable:true,get:function get(){return regex_js_1.bytesRegex}});Object.defineProperty(exports,"integerRegex",{enumerable:true,get:function get(){return regex_js_1.integerRegex}});var compat_js_1=require("./rpc/compat.js");Object.defineProperty(exports,"getSocket",{enumerable:true,get:function get(){return compat_js_1.getSocket}});Object.defineProperty(exports,"rpc",{enumerable:true,get:function get(){return compat_js_1.rpc}});var http_js_1=require("./rpc/http.js");Object.defineProperty(exports,"getHttpRpcClient",{enumerable:true,get:function get(){return http_js_1.getHttpRpcClient}});var socket_js_1=require("./rpc/socket.js");Object.defineProperty(exports,"getSocketRpcClient",{enumerable:true,get:function get(){return socket_js_1.getSocketRpcClient}});Object.defineProperty(exports,"socketClientCache",{enumerable:true,get:function get(){return socket_js_1.socketClientCache}});var webSocket_js_1=require("./rpc/webSocket.js");Object.defineProperty(exports,"getWebSocketRpcClient",{enumerable:true,get:function get(){return webSocket_js_1.getWebSocketRpcClient}});var stringify_js_1=require("./stringify.js");Object.defineProperty(exports,"stringify",{enumerable:true,get:function get(){return stringify_js_1.stringify}});var typedData_js_1=require("./typedData.js");Object.defineProperty(exports,"serializeTypedData",{enumerable:true,get:function get(){return typedData_js_1.serializeTypedData}});Object.defineProperty(exports,"validateTypedData",{enumerable:true,get:function get(){return typedData_js_1.validateTypedData}});var decodeAbiParameters_js_1=require("./abi/decodeAbiParameters.js");Object.defineProperty(exports,"decodeAbiParameters",{enumerable:true,get:function get(){return decodeAbiParameters_js_1.decodeAbiParameters}});var decodeErrorResult_js_1=require("./abi/decodeErrorResult.js");Object.defineProperty(exports,"decodeErrorResult",{enumerable:true,get:function get(){return decodeErrorResult_js_1.decodeErrorResult}});var decodeEventLog_js_1=require("./abi/decodeEventLog.js");Object.defineProperty(exports,"decodeEventLog",{enumerable:true,get:function get(){return decodeEventLog_js_1.decodeEventLog}});var decodeFunctionData_js_1=require("./abi/decodeFunctionData.js");Object.defineProperty(exports,"decodeFunctionData",{enumerable:true,get:function get(){return decodeFunctionData_js_1.decodeFunctionData}});var decodeFunctionResult_js_1=require("./abi/decodeFunctionResult.js");Object.defineProperty(exports,"decodeFunctionResult",{enumerable:true,get:function get(){return decodeFunctionResult_js_1.decodeFunctionResult}});var encodeAbiParameters_js_1=require("./abi/encodeAbiParameters.js");Object.defineProperty(exports,"encodeAbiParameters",{enumerable:true,get:function get(){return encodeAbiParameters_js_1.encodeAbiParameters}});var encodeDeployData_js_1=require("./abi/encodeDeployData.js");Object.defineProperty(exports,"encodeDeployData",{enumerable:true,get:function get(){return encodeDeployData_js_1.encodeDeployData}});var encodeErrorResult_js_1=require("./abi/encodeErrorResult.js");Object.defineProperty(exports,"encodeErrorResult",{enumerable:true,get:function get(){return encodeErrorResult_js_1.encodeErrorResult}});var encodeEventTopics_js_1=require("./abi/encodeEventTopics.js");Object.defineProperty(exports,"encodeEventTopics",{enumerable:true,get:function get(){return encodeEventTopics_js_1.encodeEventTopics}});var encodeFunctionData_js_1=require("./abi/encodeFunctionData.js");Object.defineProperty(exports,"encodeFunctionData",{enumerable:true,get:function get(){return encodeFunctionData_js_1.encodeFunctionData}});var encodeFunctionResult_js_1=require("./abi/encodeFunctionResult.js");Object.defineProperty(exports,"encodeFunctionResult",{enumerable:true,get:function get(){return encodeFunctionResult_js_1.encodeFunctionResult}});var parseEventLogs_js_1=require("./abi/parseEventLogs.js");Object.defineProperty(exports,"parseEventLogs",{enumerable:true,get:function get(){return parseEventLogs_js_1.parseEventLogs}});var getAbiItem_js_1=require("./abi/getAbiItem.js");Object.defineProperty(exports,"getAbiItem",{enumerable:true,get:function get(){return getAbiItem_js_1.getAbiItem}});var abitype_1=require("abitype");Object.defineProperty(exports,"parseAbi",{enumerable:true,get:function get(){return abitype_1.parseAbi}});Object.defineProperty(exports,"parseAbiItem",{enumerable:true,get:function get(){return abitype_1.parseAbiItem}});Object.defineProperty(exports,"parseAbiParameter",{enumerable:true,get:function get(){return abitype_1.parseAbiParameter}});Object.defineProperty(exports,"parseAbiParameters",{enumerable:true,get:function get(){return abitype_1.parseAbiParameters}});var encodePacked_js_1=require("./abi/encodePacked.js");Object.defineProperty(exports,"encodePacked",{enumerable:true,get:function get(){return encodePacked_js_1.encodePacked}});var formatAbiItemWithArgs_js_1=require("./abi/formatAbiItemWithArgs.js");Object.defineProperty(exports,"formatAbiItemWithArgs",{enumerable:true,get:function get(){return formatAbiItemWithArgs_js_1.formatAbiItemWithArgs}});var formatAbiItem_js_1=require("./abi/formatAbiItem.js");Object.defineProperty(exports,"formatAbiItem",{enumerable:true,get:function get(){return formatAbiItem_js_1.formatAbiItem}});Object.defineProperty(exports,"formatAbiParams",{enumerable:true,get:function get(){return formatAbiItem_js_1.formatAbiParams}});var hashAuthorization_js_1=require("./authorization/hashAuthorization.js");Object.defineProperty(exports,"hashAuthorization",{enumerable:true,get:function get(){return hashAuthorization_js_1.hashAuthorization}});var recoverAuthorizationAddress_js_1=require("./authorization/recoverAuthorizationAddress.js");Object.defineProperty(exports,"recoverAuthorizationAddress",{enumerable:true,get:function get(){return recoverAuthorizationAddress_js_1.recoverAuthorizationAddress}});var serializeAuthorizationList_js_1=require("./authorization/serializeAuthorizationList.js");Object.defineProperty(exports,"serializeAuthorizationList",{enumerable:true,get:function get(){return serializeAuthorizationList_js_1.serializeAuthorizationList}});var verifyAuthorization_js_1=require("./authorization/verifyAuthorization.js");Object.defineProperty(exports,"verifyAuthorization",{enumerable:true,get:function get(){return verifyAuthorization_js_1.verifyAuthorization}});var parseAccount_js_1=require("../accounts/utils/parseAccount.js");Object.defineProperty(exports,"parseAccount",{enumerable:true,get:function get(){return parseAccount_js_1.parseAccount}});var publicKeyToAddress_js_1=require("../accounts/utils/publicKeyToAddress.js");Object.defineProperty(exports,"publicKeyToAddress",{enumerable:true,get:function get(){return publicKeyToAddress_js_1.publicKeyToAddress}});var getContractAddress_js_1=require("./address/getContractAddress.js");Object.defineProperty(exports,"getContractAddress",{enumerable:true,get:function get(){return getContractAddress_js_1.getContractAddress}});Object.defineProperty(exports,"getCreateAddress",{enumerable:true,get:function get(){return getContractAddress_js_1.getCreateAddress}});Object.defineProperty(exports,"getCreate2Address",{enumerable:true,get:function get(){return getContractAddress_js_1.getCreate2Address}});var getAddress_js_1=require("./address/getAddress.js");Object.defineProperty(exports,"getAddress",{enumerable:true,get:function get(){return getAddress_js_1.getAddress}});var isAddress_js_1=require("./address/isAddress.js");Object.defineProperty(exports,"isAddress",{enumerable:true,get:function get(){return isAddress_js_1.isAddress}});var isAddressEqual_js_1=require("./address/isAddressEqual.js");Object.defineProperty(exports,"isAddressEqual",{enumerable:true,get:function get(){return isAddressEqual_js_1.isAddressEqual}});var concat_js_1=require("./data/concat.js");Object.defineProperty(exports,"concat",{enumerable:true,get:function get(){return concat_js_1.concat}});Object.defineProperty(exports,"concatBytes",{enumerable:true,get:function get(){return concat_js_1.concatBytes}});Object.defineProperty(exports,"concatHex",{enumerable:true,get:function get(){return concat_js_1.concatHex}});var isBytes_js_1=require("./data/isBytes.js");Object.defineProperty(exports,"isBytes",{enumerable:true,get:function get(){return isBytes_js_1.isBytes}});var isHex_js_1=require("./data/isHex.js");Object.defineProperty(exports,"isHex",{enumerable:true,get:function get(){return isHex_js_1.isHex}});var pad_js_1=require("./data/pad.js");Object.defineProperty(exports,"pad",{enumerable:true,get:function get(){return pad_js_1.pad}});Object.defineProperty(exports,"padBytes",{enumerable:true,get:function get(){return pad_js_1.padBytes}});Object.defineProperty(exports,"padHex",{enumerable:true,get:function get(){return pad_js_1.padHex}});var size_js_1=require("./data/size.js");Object.defineProperty(exports,"size",{enumerable:true,get:function get(){return size_js_1.size}});var slice_js_1=require("./data/slice.js");Object.defineProperty(exports,"slice",{enumerable:true,get:function get(){return slice_js_1.slice}});Object.defineProperty(exports,"sliceBytes",{enumerable:true,get:function get(){return slice_js_1.sliceBytes}});Object.defineProperty(exports,"sliceHex",{enumerable:true,get:function get(){return slice_js_1.sliceHex}});var trim_js_1=require("./data/trim.js");Object.defineProperty(exports,"trim",{enumerable:true,get:function get(){return trim_js_1.trim}});var block_js_1=require("./formatters/block.js");Object.defineProperty(exports,"defineBlock",{enumerable:true,get:function get(){return block_js_1.defineBlock}});Object.defineProperty(exports,"formatBlock",{enumerable:true,get:function get(){return block_js_1.formatBlock}});var transaction_js_1=require("./formatters/transaction.js");Object.defineProperty(exports,"defineTransaction",{enumerable:true,get:function get(){return transaction_js_1.defineTransaction}});Object.defineProperty(exports,"formatTransaction",{enumerable:true,get:function get(){return transaction_js_1.formatTransaction}});Object.defineProperty(exports,"transactionType",{enumerable:true,get:function get(){return transaction_js_1.transactionType}});var log_js_1=require("./formatters/log.js");Object.defineProperty(exports,"formatLog",{enumerable:true,get:function get(){return log_js_1.formatLog}});var transactionReceipt_js_1=require("./formatters/transactionReceipt.js");Object.defineProperty(exports,"defineTransactionReceipt",{enumerable:true,get:function get(){return transactionReceipt_js_1.defineTransactionReceipt}});var transactionRequest_js_1=require("./formatters/transactionRequest.js");Object.defineProperty(exports,"defineTransactionRequest",{enumerable:true,get:function get(){return transactionRequest_js_1.defineTransactionRequest}});Object.defineProperty(exports,"formatTransactionRequest",{enumerable:true,get:function get(){return transactionRequest_js_1.formatTransactionRequest}});var extract_js_1=require("./formatters/extract.js");Object.defineProperty(exports,"extract",{enumerable:true,get:function get(){return extract_js_1.extract}});var toRlp_js_1=require("./encoding/toRlp.js");Object.defineProperty(exports,"toRlp",{enumerable:true,get:function get(){return toRlp_js_1.toRlp}});var toBytes_js_1=require("./encoding/toBytes.js");Object.defineProperty(exports,"boolToBytes",{enumerable:true,get:function get(){return toBytes_js_1.boolToBytes}});Object.defineProperty(exports,"toBytes",{enumerable:true,get:function get(){return toBytes_js_1.toBytes}});Object.defineProperty(exports,"hexToBytes",{enumerable:true,get:function get(){return toBytes_js_1.hexToBytes}});Object.defineProperty(exports,"numberToBytes",{enumerable:true,get:function get(){return toBytes_js_1.numberToBytes}});Object.defineProperty(exports,"stringToBytes",{enumerable:true,get:function get(){return toBytes_js_1.stringToBytes}});var toHex_js_1=require("./encoding/toHex.js");Object.defineProperty(exports,"boolToHex",{enumerable:true,get:function get(){return toHex_js_1.boolToHex}});Object.defineProperty(exports,"bytesToHex",{enumerable:true,get:function get(){return toHex_js_1.bytesToHex}});Object.defineProperty(exports,"toHex",{enumerable:true,get:function get(){return toHex_js_1.toHex}});Object.defineProperty(exports,"numberToHex",{enumerable:true,get:function get(){return toHex_js_1.numberToHex}});Object.defineProperty(exports,"stringToHex",{enumerable:true,get:function get(){return toHex_js_1.stringToHex}});var fromBytes_js_1=require("./encoding/fromBytes.js");Object.defineProperty(exports,"bytesToBigInt",{enumerable:true,get:function get(){return fromBytes_js_1.bytesToBigInt}});Object.defineProperty(exports,"bytesToBigint",{enumerable:true,get:function get(){return fromBytes_js_1.bytesToBigInt}});Object.defineProperty(exports,"bytesToBool",{enumerable:true,get:function get(){return fromBytes_js_1.bytesToBool}});Object.defineProperty(exports,"bytesToNumber",{enumerable:true,get:function get(){return fromBytes_js_1.bytesToNumber}});Object.defineProperty(exports,"bytesToString",{enumerable:true,get:function get(){return fromBytes_js_1.bytesToString}});Object.defineProperty(exports,"fromBytes",{enumerable:true,get:function get(){return fromBytes_js_1.fromBytes}});var fromHex_js_1=require("./encoding/fromHex.js");Object.defineProperty(exports,"fromHex",{enumerable:true,get:function get(){return fromHex_js_1.fromHex}});Object.defineProperty(exports,"hexToBool",{enumerable:true,get:function get(){return fromHex_js_1.hexToBool}});Object.defineProperty(exports,"hexToBigInt",{enumerable:true,get:function get(){return fromHex_js_1.hexToBigInt}});Object.defineProperty(exports,"hexToNumber",{enumerable:true,get:function get(){return fromHex_js_1.hexToNumber}});Object.defineProperty(exports,"hexToString",{enumerable:true,get:function get(){return fromHex_js_1.hexToString}});var fromRlp_js_1=require("./encoding/fromRlp.js");Object.defineProperty(exports,"fromRlp",{enumerable:true,get:function get(){return fromRlp_js_1.fromRlp}});var getNodeError_js_1=require("./errors/getNodeError.js");Object.defineProperty(exports,"containsNodeError",{enumerable:true,get:function get(){return getNodeError_js_1.containsNodeError}});Object.defineProperty(exports,"getNodeError",{enumerable:true,get:function get(){return getNodeError_js_1.getNodeError}});var getCallError_js_1=require("./errors/getCallError.js");Object.defineProperty(exports,"getCallError",{enumerable:true,get:function get(){return getCallError_js_1.getCallError}});var getContractError_js_1=require("./errors/getContractError.js");Object.defineProperty(exports,"getContractError",{enumerable:true,get:function get(){return getContractError_js_1.getContractError}});var getEstimateGasError_js_1=require("./errors/getEstimateGasError.js");Object.defineProperty(exports,"getEstimateGasError",{enumerable:true,get:function get(){return getEstimateGasError_js_1.getEstimateGasError}});var getTransactionError_js_1=require("./errors/getTransactionError.js");Object.defineProperty(exports,"getTransactionError",{enumerable:true,get:function get(){return getTransactionError_js_1.getTransactionError}});var getAction_js_1=require("./getAction.js");Object.defineProperty(exports,"getAction",{enumerable:true,get:function get(){return getAction_js_1.getAction}});var formatter_js_1=require("./formatters/formatter.js");Object.defineProperty(exports,"defineFormatter",{enumerable:true,get:function get(){return formatter_js_1.defineFormatter}});var toEventSelector_js_1=require("./hash/toEventSelector.js");Object.defineProperty(exports,"toEventSelector",{enumerable:true,get:function get(){return toEventSelector_js_1.toEventSelector}});Object.defineProperty(exports,"getEventSelector",{enumerable:true,get:function get(){return toEventSelector_js_1.toEventSelector}});var toFunctionSelector_js_1=require("./hash/toFunctionSelector.js");Object.defineProperty(exports,"toFunctionSelector",{enumerable:true,get:function get(){return toFunctionSelector_js_1.toFunctionSelector}});Object.defineProperty(exports,"getFunctionSelector",{enumerable:true,get:function get(){return toFunctionSelector_js_1.toFunctionSelector}});var toEventSignature_js_1=require("./hash/toEventSignature.js");Object.defineProperty(exports,"toEventSignature",{enumerable:true,get:function get(){return toEventSignature_js_1.toEventSignature}});Object.defineProperty(exports,"getEventSignature",{enumerable:true,get:function get(){return toEventSignature_js_1.toEventSignature}});var toFunctionSignature_js_1=require("./hash/toFunctionSignature.js");Object.defineProperty(exports,"toFunctionSignature",{enumerable:true,get:function get(){return toFunctionSignature_js_1.toFunctionSignature}});Object.defineProperty(exports,"getFunctionSignature",{enumerable:true,get:function get(){return toFunctionSignature_js_1.toFunctionSignature}});var toEventHash_js_1=require("./hash/toEventHash.js");Object.defineProperty(exports,"toEventHash",{enumerable:true,get:function get(){return toEventHash_js_1.toEventHash}});var toFunctionHash_js_1=require("./hash/toFunctionHash.js");Object.defineProperty(exports,"toFunctionHash",{enumerable:true,get:function get(){return toFunctionHash_js_1.toFunctionHash}});var isHash_js_1=require("./hash/isHash.js");Object.defineProperty(exports,"isHash",{enumerable:true,get:function get(){return isHash_js_1.isHash}});var keccak256_js_1=require("./hash/keccak256.js");Object.defineProperty(exports,"keccak256",{enumerable:true,get:function get(){return keccak256_js_1.keccak256}});var sha256_js_1=require("./hash/sha256.js");Object.defineProperty(exports,"sha256",{enumerable:true,get:function get(){return sha256_js_1.sha256}});var ripemd160_js_1=require("./hash/ripemd160.js");Object.defineProperty(exports,"ripemd160",{enumerable:true,get:function get(){return ripemd160_js_1.ripemd160}});var hashTypedData_js_1=require("./signature/hashTypedData.js");Object.defineProperty(exports,"hashStruct",{enumerable:true,get:function get(){return hashTypedData_js_1.hashStruct}});Object.defineProperty(exports,"hashTypedData",{enumerable:true,get:function get(){return hashTypedData_js_1.hashTypedData}});var recoverAddress_js_1=require("./signature/recoverAddress.js");Object.defineProperty(exports,"recoverAddress",{enumerable:true,get:function get(){return recoverAddress_js_1.recoverAddress}});var recoverMessageAddress_js_1=require("./signature/recoverMessageAddress.js");Object.defineProperty(exports,"recoverMessageAddress",{enumerable:true,get:function get(){return recoverMessageAddress_js_1.recoverMessageAddress}});var recoverPublicKey_js_1=require("./signature/recoverPublicKey.js");Object.defineProperty(exports,"recoverPublicKey",{enumerable:true,get:function get(){return recoverPublicKey_js_1.recoverPublicKey}});var recoverTypedDataAddress_js_1=require("./signature/recoverTypedDataAddress.js");Object.defineProperty(exports,"recoverTypedDataAddress",{enumerable:true,get:function get(){return recoverTypedDataAddress_js_1.recoverTypedDataAddress}});var verifyHash_js_1=require("./signature/verifyHash.js");Object.defineProperty(exports,"verifyHash",{enumerable:true,get:function get(){return verifyHash_js_1.verifyHash}});var verifyMessage_js_1=require("./signature/verifyMessage.js");Object.defineProperty(exports,"verifyMessage",{enumerable:true,get:function get(){return verifyMessage_js_1.verifyMessage}});var verifyTypedData_js_1=require("./signature/verifyTypedData.js");Object.defineProperty(exports,"verifyTypedData",{enumerable:true,get:function get(){return verifyTypedData_js_1.verifyTypedData}});var hashMessage_js_1=require("./signature/hashMessage.js");Object.defineProperty(exports,"hashMessage",{enumerable:true,get:function get(){return hashMessage_js_1.hashMessage}});var parseErc6492Signature_js_1=require("./signature/parseErc6492Signature.js");Object.defineProperty(exports,"parseErc6492Signature",{enumerable:true,get:function get(){return parseErc6492Signature_js_1.parseErc6492Signature}});var isErc6492Signature_js_1=require("./signature/isErc6492Signature.js");Object.defineProperty(exports,"isErc6492Signature",{enumerable:true,get:function get(){return isErc6492Signature_js_1.isErc6492Signature}});var serializeErc6492Signature_js_1=require("./signature/serializeErc6492Signature.js");Object.defineProperty(exports,"serializeErc6492Signature",{enumerable:true,get:function get(){return serializeErc6492Signature_js_1.serializeErc6492Signature}});var getSerializedTransactionType_js_1=require("./transaction/getSerializedTransactionType.js");Object.defineProperty(exports,"getSerializedTransactionType",{enumerable:true,get:function get(){return getSerializedTransactionType_js_1.getSerializedTransactionType}});var getTransactionType_js_1=require("./transaction/getTransactionType.js");Object.defineProperty(exports,"getTransactionType",{enumerable:true,get:function get(){return getTransactionType_js_1.getTransactionType}});var assertRequest_js_1=require("./transaction/assertRequest.js");Object.defineProperty(exports,"assertRequest",{enumerable:true,get:function get(){return assertRequest_js_1.assertRequest}});var assertTransaction_js_1=require("./transaction/assertTransaction.js");Object.defineProperty(exports,"assertTransactionEIP1559",{enumerable:true,get:function get(){return assertTransaction_js_1.assertTransactionEIP1559}});Object.defineProperty(exports,"assertTransactionEIP2930",{enumerable:true,get:function get(){return assertTransaction_js_1.assertTransactionEIP2930}});Object.defineProperty(exports,"assertTransactionLegacy",{enumerable:true,get:function get(){return assertTransaction_js_1.assertTransactionLegacy}});var parseTransaction_js_1=require("./transaction/parseTransaction.js");Object.defineProperty(exports,"parseTransaction",{enumerable:true,get:function get(){return parseTransaction_js_1.parseTransaction}});var serializeTransaction_js_1=require("./transaction/serializeTransaction.js");Object.defineProperty(exports,"serializeTransaction",{enumerable:true,get:function get(){return serializeTransaction_js_1.serializeTransaction}});var serializeAccessList_js_1=require("./transaction/serializeAccessList.js");Object.defineProperty(exports,"serializeAccessList",{enumerable:true,get:function get(){return serializeAccessList_js_1.serializeAccessList}});var formatEther_js_1=require("./unit/formatEther.js");Object.defineProperty(exports,"formatEther",{enumerable:true,get:function get(){return formatEther_js_1.formatEther}});var formatGwei_js_1=require("./unit/formatGwei.js");Object.defineProperty(exports,"formatGwei",{enumerable:true,get:function get(){return formatGwei_js_1.formatGwei}});var formatUnits_js_1=require("./unit/formatUnits.js");Object.defineProperty(exports,"formatUnits",{enumerable:true,get:function get(){return formatUnits_js_1.formatUnits}});var parseUnits_js_1=require("./unit/parseUnits.js");Object.defineProperty(exports,"parseUnits",{enumerable:true,get:function get(){return parseUnits_js_1.parseUnits}});var parseEther_js_1=require("./unit/parseEther.js");Object.defineProperty(exports,"parseEther",{enumerable:true,get:function get(){return parseEther_js_1.parseEther}});var parseGwei_js_1=require("./unit/parseGwei.js");Object.defineProperty(exports,"parseGwei",{enumerable:true,get:function get(){return parseGwei_js_1.parseGwei}});var nonceManager_js_1=require("./nonceManager.js");Object.defineProperty(exports,"createNonceManager",{enumerable:true,get:function get(){return nonceManager_js_1.createNonceManager}});Object.defineProperty(exports,"nonceManager",{enumerable:true,get:function get(){return nonceManager_js_1.nonceManager}})},{"../accounts/utils/parseAccount.js":216,"../accounts/utils/publicKeyToAddress.js":217,"./abi/decodeAbiParameters.js":374,"./abi/decodeErrorResult.js":376,"./abi/decodeEventLog.js":377,"./abi/decodeFunctionData.js":378,"./abi/decodeFunctionResult.js":379,"./abi/encodeAbiParameters.js":380,"./abi/encodeDeployData.js":381,"./abi/encodeErrorResult.js":382,"./abi/encodeEventTopics.js":383,"./abi/encodeFunctionData.js":384,"./abi/encodeFunctionResult.js":385,"./abi/encodePacked.js":386,"./abi/formatAbiItem.js":387,"./abi/formatAbiItemWithArgs.js":388,"./abi/getAbiItem.js":389,"./abi/parseEventLogs.js":390,"./address/getAddress.js":392,"./address/getContractAddress.js":393,"./address/isAddress.js":394,"./address/isAddressEqual.js":395,"./authorization/hashAuthorization.js":396,"./authorization/recoverAuthorizationAddress.js":397,"./authorization/serializeAuthorizationList.js":398,"./authorization/verifyAuthorization.js":399,"./buildRequest.js":408,"./ccip.js":409,"./chain/assertCurrentChain.js":410,"./chain/defineChain.js":411,"./chain/extractChain.js":412,"./chain/getChainContractAddress.js":413,"./data/concat.js":415,"./data/isBytes.js":416,"./data/isHex.js":417,"./data/pad.js":418,"./data/size.js":419,"./data/slice.js":420,"./data/trim.js":421,"./encoding/fromBytes.js":422,"./encoding/fromHex.js":423,"./encoding/fromRlp.js":424,"./encoding/toBytes.js":425,"./encoding/toHex.js":426,"./encoding/toRlp.js":427,"./errors/getCallError.js":437,"./errors/getContractError.js":438,"./errors/getEstimateGasError.js":439,"./errors/getNodeError.js":440,"./errors/getTransactionError.js":441,"./formatters/block.js":443,"./formatters/extract.js":444,"./formatters/formatter.js":446,"./formatters/log.js":447,"./formatters/transaction.js":449,"./formatters/transactionReceipt.js":450,"./formatters/transactionRequest.js":451,"./getAction.js":452,"./hash/isHash.js":454,"./hash/keccak256.js":455,"./hash/ripemd160.js":457,"./hash/sha256.js":458,"./hash/toEventHash.js":459,"./hash/toEventSelector.js":460,"./hash/toEventSignature.js":461,"./hash/toFunctionHash.js":462,"./hash/toFunctionSelector.js":463,"./hash/toFunctionSignature.js":464,"./nonceManager.js":471,"./regex.js":480,"./rpc/compat.js":481,"./rpc/http.js":482,"./rpc/socket.js":484,"./rpc/webSocket.js":485,"./signature/hashMessage.js":487,"./signature/hashTypedData.js":488,"./signature/isErc6492Signature.js":489,"./signature/parseErc6492Signature.js":491,"./signature/recoverAddress.js":493,"./signature/recoverMessageAddress.js":494,"./signature/recoverPublicKey.js":495,"./signature/recoverTypedDataAddress.js":497,"./signature/serializeErc6492Signature.js":499,"./signature/verifyHash.js":503,"./signature/verifyMessage.js":504,"./signature/verifyTypedData.js":505,"./stringify.js":509,"./transaction/assertRequest.js":510,"./transaction/assertTransaction.js":511,"./transaction/getSerializedTransactionType.js":512,"./transaction/getTransactionType.js":513,"./transaction/parseTransaction.js":514,"./transaction/serializeAccessList.js":515,"./transaction/serializeTransaction.js":516,"./typedData.js":517,"./unit/formatEther.js":519,"./unit/formatGwei.js":520,"./unit/formatUnits.js":521,"./unit/parseEther.js":522,"./unit/parseGwei.js":523,"./unit/parseUnits.js":524,abitype:141}],468:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.defineKzg=defineKzg;function defineKzg(_ref){var blobToKzgCommitment=_ref.blobToKzgCommitment,computeBlobKzgProof=_ref.computeBlobKzgProof;return{blobToKzgCommitment:blobToKzgCommitment,computeBlobKzgProof:computeBlobKzgProof}}},{}],469:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.setupKzg=setupKzg;var defineKzg_js_1=require("./defineKzg.js");function setupKzg(parameters,path){try{parameters.loadTrustedSetup(path)}catch(e){var error=e;if(!error.message.includes("trusted setup is already loaded"))throw error}return(0,defineKzg_js_1.defineKzg)(parameters)}},{"./defineKzg.js":468}],470:[function(require,module,exports){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _classCallCheck(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),o)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function _get(){return _get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var p=_superPropBase(e,t);if(p){var n=Object.getOwnPropertyDescriptor(p,t);return n.get?n.get.call(arguments.length<3?e:r):n.value}},_get.apply(null,arguments)}function _superPropBase(t,o){for(;!{}.hasOwnProperty.call(t,o)&&null!==(t=_getPrototypeOf(t));){}return t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf(t,e)}function _createSuper(t){var r=_isNativeReflectConstruct();return function(){var e,o=_getPrototypeOf(t);if(r){var s=_getPrototypeOf(this).constructor;e=Reflect.construct(o,arguments,s)}else e=o.apply(this,arguments);return _possibleConstructorReturn(this,e)}}function _possibleConstructorReturn(t,e){if(e&&("object"==_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _wrapNativeSuper(t){var r="function"==typeof Map?new Map:void 0;return _wrapNativeSuper=function _wrapNativeSuper(t){if(null===t||!_isNativeFunction(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==r){if(r.has(t))return r.get(t);r.set(t,Wrapper)}function Wrapper(){return _construct(t,arguments,_getPrototypeOf(this).constructor)}return Wrapper.prototype=Object.create(t.prototype,{constructor:{value:Wrapper,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(Wrapper,t)},_wrapNativeSuper(t)}function _construct(t,e,r){if(_isNativeReflectConstruct())return Reflect.construct.apply(null,arguments);var o=[null];o.push.apply(o,e);var p=new(t.bind.apply(t,o));return r&&_setPrototypeOf(p,r.prototype),p}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(_isNativeReflectConstruct=function _isNativeReflectConstruct(){return!!t})()}function _isNativeFunction(t){try{return-1!==Function.toString.call(t).indexOf("[native code]")}catch(n){return"function"==typeof t}}function _setPrototypeOf(t,e){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_setPrototypeOf(t,e)}function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(t)}Object.defineProperty(exports,"__esModule",{value:true});exports.LruMap=void 0;var LruMap=function(_Map){_inherits(LruMap,_Map);var _super=_createSuper(LruMap);function LruMap(size){var _this;_classCallCheck(this,LruMap);_this=_super.call(this);Object.defineProperty(_assertThisInitialized(_this),"maxSize",{enumerable:true,configurable:true,writable:true,value:void 0});_this.maxSize=size;return _this}_createClass(LruMap,[{key:"get",value:function get(key){var value=_get(_getPrototypeOf(LruMap.prototype),"get",this).call(this,key);if(_get(_getPrototypeOf(LruMap.prototype),"has",this).call(this,key)&&value!==undefined){this["delete"](key);_get(_getPrototypeOf(LruMap.prototype),"set",this).call(this,key,value)}return value}},{key:"set",value:function set(key,value){_get(_getPrototypeOf(LruMap.prototype),"set",this).call(this,key,value);if(this.maxSize&&this.size>this.maxSize){var firstKey=this.keys().next().value;if(firstKey)this["delete"](firstKey)}return this}}]);return LruMap}(_wrapNativeSuper(Map));exports.LruMap=LruMap},{}],471:[function(require,module,exports){"use strict";function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}Object.defineProperty(exports,"__esModule",{value:true});exports.nonceManager=void 0;exports.createNonceManager=createNonceManager;exports.jsonRpc=jsonRpc;var getTransactionCount_js_1=require("../actions/public/getTransactionCount.js");var lru_js_1=require("./lru.js");function createNonceManager(parameters){var source=parameters.source;var deltaMap=new Map;var nonceMap=new lru_js_1.LruMap(8192);var promiseMap=new Map;var getKey=function getKey(_ref){var address=_ref.address,chainId=_ref.chainId;return"".concat(address,".").concat(chainId)};return{consume:function consume(_ref2){var _this=this;return _asyncToGenerator(regeneratorRuntime.mark(function _callee(){var address,chainId,client,key,promise,nonce;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:address=_ref2.address,chainId=_ref2.chainId,client=_ref2.client;key=getKey({address:address,chainId:chainId});promise=_this.get({address:address,chainId:chainId,client:client});_this.increment({address:address,chainId:chainId});_context.next=6;return promise;case 6:nonce=_context.sent;_context.next=9;return source.set({address:address,chainId:chainId},nonce);case 9:nonceMap.set(key,nonce);return _context.abrupt("return",nonce);case 11:case"end":return _context.stop()}}},_callee)}))()},increment:function increment(_ref3){return _asyncToGenerator(regeneratorRuntime.mark(function _callee2(){var _deltaMap$get;var address,chainId,key,delta;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:address=_ref3.address,chainId=_ref3.chainId;key=getKey({address:address,chainId:chainId});delta=(_deltaMap$get=deltaMap.get(key))!==null&&_deltaMap$get!==void 0?_deltaMap$get:0;deltaMap.set(key,delta+1);case 4:case"end":return _context2.stop()}}},_callee2)}))()},get:function get(_ref4){var _this2=this;return _asyncToGenerator(regeneratorRuntime.mark(function _callee4(){var _deltaMap$get2;var address,chainId,client,key,promise,delta;return regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:address=_ref4.address,chainId=_ref4.chainId,client=_ref4.client;key=getKey({address:address,chainId:chainId});promise=promiseMap.get(key);if(!promise){promise=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(){var _nonceMap$get,nonce,previousNonce;return regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return source.get({address:address,chainId:chainId,client:client});case 3:nonce=_context3.sent;previousNonce=(_nonceMap$get=nonceMap.get(key))!==null&&_nonceMap$get!==void 0?_nonceMap$get:0;if(!(previousNonce>0&&nonce<=previousNonce)){_context3.next=7;break}return _context3.abrupt("return",previousNonce+1);case 7:nonceMap["delete"](key);return _context3.abrupt("return",nonce);case 9:_context3.prev=9;_this2.reset({address:address,chainId:chainId});return _context3.finish(9);case 12:case"end":return _context3.stop()}}},_callee3,null,[[0,,9,12]])}))();promiseMap.set(key,promise)}delta=(_deltaMap$get2=deltaMap.get(key))!==null&&_deltaMap$get2!==void 0?_deltaMap$get2:0;_context4.t0=delta;_context4.next=8;return promise;case 8:_context4.t1=_context4.sent;return _context4.abrupt("return",_context4.t0+_context4.t1);case 10:case"end":return _context4.stop()}}},_callee4)}))()},reset:function reset(_ref6){var address=_ref6.address,chainId=_ref6.chainId;var key=getKey({address:address,chainId:chainId});deltaMap["delete"](key);promiseMap["delete"](key)}}}function jsonRpc(){return{get:function get(parameters){return _asyncToGenerator(regeneratorRuntime.mark(function _callee5(){var address,client;return regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:address=parameters.address,client=parameters.client;return _context5.abrupt("return",(0,getTransactionCount_js_1.getTransactionCount)(client,{address:address,blockTag:"pending"}));case 2:case"end":return _context5.stop()}}},_callee5)}))()},set:function set(){}}}exports.nonceManager=createNonceManager({source:jsonRpc()})},{"../actions/public/getTransactionCount.js":252,"./lru.js":470}],472:[function(require,module,exports){"use strict";function _createForOfIteratorHelper(r,e){var t="undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(!t){if(Array.isArray(r)||(t=_unsupportedIterableToArray(r))||e&&r&&"number"==typeof r.length){t&&(r=t);var _n=0,F=function F(){};return{s:F,n:function n(){return _n>=r.length?{done:!0}:{done:!1,value:r[_n++]}},e:function e(r){throw r},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function s(){t=t.call(r)},n:function n(){var r=t.next();return a=r.done,r},e:function e(r){u=!0,o=r},f:function f(){try{a||null==t["return"]||t["return"]()}finally{if(u)throw o}}}}function _toConsumableArray(r){return _arrayWithoutHoles(r)||_iterableToArray(r)||_unsupportedIterableToArray(r)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}function _iterableToArray(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}function _arrayWithoutHoles(r){if(Array.isArray(r))return _arrayLikeToArray(r)}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++){n[e]=r[e]}return n}Object.defineProperty(exports,"__esModule",{value:true});exports.cleanupCache=exports.listenersCache=void 0;exports.observe=observe;exports.listenersCache=new Map;exports.cleanupCache=new Map;var callbackCount=0;function observe(observerId,callbacks,fn){var callbackId=++callbackCount;var getListeners=function getListeners(){return exports.listenersCache.get(observerId)||[]};var unsubscribe=function unsubscribe(){var listeners=getListeners();exports.listenersCache.set(observerId,listeners.filter(function(cb){return cb.id!==callbackId}))};var unwatch=function unwatch(){var listeners=getListeners();if(!listeners.some(function(cb){return cb.id===callbackId}))return;var cleanup=exports.cleanupCache.get(observerId);if(listeners.length===1&&cleanup)cleanup();unsubscribe()};var listeners=getListeners();exports.listenersCache.set(observerId,[].concat(_toConsumableArray(listeners),[{id:callbackId,fns:callbacks}]));if(listeners&&listeners.length>0)return unwatch;var emit={};var _loop=function _loop(key){emit[key]=function(){var listeners=getListeners();if(listeners.length===0)return;for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}var _iterator=_createForOfIteratorHelper(listeners),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var _listener$fns$key,_listener$fns,_listener$fns$key2;var listener=_step.value;(_listener$fns$key=(_listener$fns=listener.fns)[key])===null||_listener$fns$key===void 0?void 0:(_listener$fns$key2=_listener$fns$key).call.apply(_listener$fns$key2,[_listener$fns].concat(args))}}catch(err){_iterator.e(err)}finally{_iterator.f()}}};for(var key in callbacks){_loop(key)}var cleanup=fn(emit);if(typeof cleanup==="function")exports.cleanupCache.set(observerId,cleanup);return unwatch}},{}],473:[function(require,module,exports){"use strict";function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}Object.defineProperty(exports,"__esModule",{value:true});exports.poll=poll;var wait_js_1=require("./wait.js");function poll(fn,_ref){var emitOnBegin=_ref.emitOnBegin,initialWaitTime=_ref.initialWaitTime,interval=_ref.interval;var active=true;var unwatch=function unwatch(){return active=false};var watch=function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(){var _yield$initialWaitTim;var data,initialWait,poll;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:data=undefined;if(!emitOnBegin){_context2.next=5;break}_context2.next=4;return fn({unpoll:unwatch});case 4:data=_context2.sent;case 5:_context2.next=7;return initialWaitTime===null||initialWaitTime===void 0?void 0:initialWaitTime(data);case 7:_context2.t1=_yield$initialWaitTim=_context2.sent;_context2.t0=_context2.t1!==null;if(!_context2.t0){_context2.next=11;break}_context2.t0=_yield$initialWaitTim!==void 0;case 11:if(!_context2.t0){_context2.next=15;break}_context2.t2=_yield$initialWaitTim;_context2.next=16;break;case 15:_context2.t2=interval;case 16:initialWait=_context2.t2;_context2.next=19;return(0,wait_js_1.wait)(initialWait);case 19:poll=function(){var _ref3=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(active){_context.next=2;break}return _context.abrupt("return");case 2:_context.next=4;return fn({unpoll:unwatch});case 4:_context.next=6;return(0,wait_js_1.wait)(interval);case 6:poll();case 7:case"end":return _context.stop()}}},_callee)}));return function poll(){return _ref3.apply(this,arguments)}}();poll();case 21:case"end":return _context2.stop()}}},_callee2)}));return function watch(){return _ref2.apply(this,arguments)}}();watch();return unwatch}},{"./wait.js":525}],474:[function(require,module,exports){"use strict";function _toConsumableArray(r){return _arrayWithoutHoles(r)||_iterableToArray(r)||_unsupportedIterableToArray(r)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}function _iterableToArray(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}function _arrayWithoutHoles(r){if(Array.isArray(r))return _arrayLikeToArray(r)}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++){n[e]=r[e]}return n}function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}Object.defineProperty(exports,"__esModule",{value:true});exports.createBatchScheduler=createBatchScheduler;var withResolvers_js_1=require("./withResolvers.js");var schedulerCache=new Map;function createBatchScheduler(_ref){var fn=_ref.fn,id=_ref.id,shouldSplitBatch=_ref.shouldSplitBatch,_ref$wait=_ref.wait,wait=_ref$wait===void 0?0:_ref$wait,sort=_ref.sort;var exec=function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var scheduler,args;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:scheduler=getScheduler();flush();args=scheduler.map(function(_ref3){var args=_ref3.args;return args});if(!(args.length===0)){_context.next=5;break}return _context.abrupt("return");case 5:fn(args).then(function(data){if(sort&&Array.isArray(data))data.sort(sort);for(var i=0;i<scheduler.length;i++){var resolve=scheduler[i].resolve;resolve===null||resolve===void 0?void 0:resolve([data[i],data])}})["catch"](function(err){for(var i=0;i<scheduler.length;i++){var reject=scheduler[i].reject;reject===null||reject===void 0?void 0:reject(err)}});case 6:case"end":return _context.stop()}}},_callee)}));return function exec(){return _ref2.apply(this,arguments)}}();var flush=function flush(){return schedulerCache["delete"](id)};var getBatchedArgs=function getBatchedArgs(){return getScheduler().map(function(_ref4){var args=_ref4.args;return args})};var getScheduler=function getScheduler(){return schedulerCache.get(id)||[]};var setScheduler=function setScheduler(item){return schedulerCache.set(id,[].concat(_toConsumableArray(getScheduler()),[item]))};return{flush:flush,schedule:function schedule(args){return _asyncToGenerator(regeneratorRuntime.mark(function _callee2(){var _ref5,promise,resolve,reject,split,hasActiveScheduler;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_ref5=(0,withResolvers_js_1.withResolvers)(),promise=_ref5.promise,resolve=_ref5.resolve,reject=_ref5.reject;split=shouldSplitBatch===null||shouldSplitBatch===void 0?void 0:shouldSplitBatch([].concat(_toConsumableArray(getBatchedArgs()),[args]));if(split)exec();hasActiveScheduler=getScheduler().length>0;if(!hasActiveScheduler){_context2.next=7;break}setScheduler({args:args,resolve:resolve,reject:reject});return _context2.abrupt("return",promise);case 7:setScheduler({args:args,resolve:resolve,reject:reject});setTimeout(exec,wait);return _context2.abrupt("return",promise);case 10:case"end":return _context2.stop()}}},_callee2)}))()}}}},{"./withResolvers.js":477}],475:[function(require,module,exports){"use strict";function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}Object.defineProperty(exports,"__esModule",{value:true});exports.responseCache=exports.promiseCache=void 0;exports.getCache=getCache;exports.withCache=withCache;exports.promiseCache=new Map;exports.responseCache=new Map;function getCache(cacheKey){var buildCache=function buildCache(cacheKey,cache){return{clear:function clear(){return cache["delete"](cacheKey)},get:function get(){return cache.get(cacheKey)},set:function set(data){return cache.set(cacheKey,data)}}};var promise=buildCache(cacheKey,exports.promiseCache);var response=buildCache(cacheKey,exports.responseCache);return{clear:function clear(){promise.clear();response.clear()},promise:promise,response:response}}function withCache(_x,_x2){return _withCache.apply(this,arguments)}function _withCache(){_withCache=_asyncToGenerator(regeneratorRuntime.mark(function _callee(fn,_ref){var cacheKey,_ref$cacheTime,cacheTime,cache,response,age,promise,data;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:cacheKey=_ref.cacheKey,_ref$cacheTime=_ref.cacheTime,cacheTime=_ref$cacheTime===void 0?Number.POSITIVE_INFINITY:_ref$cacheTime;cache=getCache(cacheKey);response=cache.response.get();if(!(response&&cacheTime>0)){_context.next=7;break}age=(new Date).getTime()-response.created.getTime();if(!(age<cacheTime)){_context.next=7;break}return _context.abrupt("return",response.data);case 7:promise=cache.promise.get();if(!promise){promise=fn();cache.promise.set(promise)}_context.prev=9;_context.next=12;return promise;case 12:data=_context.sent;cache.response.set({created:new Date,data:data});return _context.abrupt("return",data);case 15:_context.prev=15;cache.promise.clear();return _context.finish(15);case 18:case"end":return _context.stop()}}},_callee,null,[[9,,15,18]])}));return _withCache.apply(this,arguments)}},{}],476:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.promiseCache=void 0;exports.withDedupe=withDedupe;var lru_js_1=require("../lru.js");exports.promiseCache=new lru_js_1.LruMap(8192);function withDedupe(fn,_ref){var _ref$enabled=_ref.enabled,enabled=_ref$enabled===void 0?true:_ref$enabled,id=_ref.id;if(!enabled||!id)return fn();if(exports.promiseCache.get(id))return exports.promiseCache.get(id);var promise=fn()["finally"](function(){return exports.promiseCache["delete"](id)});exports.promiseCache.set(id,promise);return promise}},{"../lru.js":470}],477:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.withResolvers=withResolvers;function withResolvers(){var resolve=function resolve(){return undefined};var reject=function reject(){return undefined};var promise=new Promise(function(resolve_,reject_){resolve=resolve_;reject=reject_});return{promise:promise,resolve:resolve,reject:reject}}},{}],478:[function(require,module,exports){"use strict";function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}Object.defineProperty(exports,"__esModule",{value:true});exports.withRetry=withRetry;var wait_js_1=require("../wait.js");function withRetry(fn){var _ref=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},_ref$delay=_ref.delay,delay_=_ref$delay===void 0?100:_ref$delay,_ref$retryCount=_ref.retryCount,retryCount=_ref$retryCount===void 0?2:_ref$retryCount,_ref$shouldRetry=_ref.shouldRetry,shouldRetry=_ref$shouldRetry===void 0?function(){return true}:_ref$shouldRetry;return new Promise(function(resolve,reject){var attemptRetry=function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(){var _ref3,_ref3$count,count,retry,data,_args2=arguments;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_ref3=_args2.length>0&&_args2[0]!==undefined?_args2[0]:{},_ref3$count=_ref3.count,count=_ref3$count===void 0?0:_ref3$count;retry=function(){var _ref5=_asyncToGenerator(regeneratorRuntime.mark(function _callee(_ref4){var error,delay;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:error=_ref4.error;delay=typeof delay_==="function"?delay_({count:count,error:error}):delay_;if(!delay){_context.next=5;break}_context.next=5;return(0,wait_js_1.wait)(delay);case 5:attemptRetry({count:count+1});case 6:case"end":return _context.stop()}}},_callee)}));return function retry(_x){return _ref5.apply(this,arguments)}}();_context2.prev=2;_context2.next=5;return fn();case 5:data=_context2.sent;resolve(data);_context2.next=19;break;case 9:_context2.prev=9;_context2.t0=_context2["catch"](2);_context2.t1=count<retryCount;if(!_context2.t1){_context2.next=16;break}_context2.next=15;return shouldRetry({count:count,error:_context2.t0});case 15:_context2.t1=_context2.sent;case 16:if(!_context2.t1){_context2.next=18;break}return _context2.abrupt("return",retry({error:_context2.t0}));case 18:reject(_context2.t0);case 19:case"end":return _context2.stop()}}},_callee2,null,[[2,9]])}));return function attemptRetry(){return _ref2.apply(this,arguments)}}();attemptRetry()})}},{"../wait.js":525}],479:[function(require,module,exports){"use strict";function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}Object.defineProperty(exports,"__esModule",{value:true});exports.withTimeout=withTimeout;function withTimeout(fn,_ref){var _ref$errorInstance=_ref.errorInstance,errorInstance=_ref$errorInstance===void 0?new Error("timed out"):_ref$errorInstance,timeout=_ref.timeout,signal=_ref.signal;return new Promise(function(resolve,reject){_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var timeoutId,controller;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;controller=new AbortController;if(timeout>0){timeoutId=setTimeout(function(){if(signal){controller.abort()}else{reject(errorInstance)}},timeout)}_context.t0=resolve;_context.next=6;return fn({signal:(controller===null||controller===void 0?void 0:controller.signal)||null});case 6:_context.t1=_context.sent;(0,_context.t0)(_context.t1);_context.next=14;break;case 10:_context.prev=10;_context.t2=_context["catch"](0);if((_context.t2===null||_context.t2===void 0?void 0:_context.t2.name)==="AbortError")reject(errorInstance);reject(_context.t2);case 14:_context.prev=14;clearTimeout(timeoutId);return _context.finish(14);case 17:case"end":return _context.stop()}}},_callee,null,[[0,10,14,17]])}))()})}},{}],480:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.integerRegex=exports.bytesRegex=exports.arrayRegex=void 0;exports.arrayRegex=/^(.*)\[([0-9]*)\]$/;exports.bytesRegex=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/;exports.integerRegex=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/},{}],481:[function(require,module,exports){"use strict";function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}Object.defineProperty(exports,"__esModule",{value:true});exports.rpc=void 0;exports.getSocket=getSocket;var http_js_1=require("./http.js");var webSocket_js_1=require("./webSocket.js");function webSocket(socketClient,_ref){var body=_ref.body,onError=_ref.onError,onResponse=_ref.onResponse;socketClient.request({body:body,onError:onError,onResponse:onResponse});return socketClient}function webSocketAsync(_x,_x2){return _webSocketAsync.apply(this,arguments)}function _webSocketAsync(){_webSocketAsync=_asyncToGenerator(regeneratorRuntime.mark(function _callee(socketClient,_ref2){var body,_ref2$timeout,timeout;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:body=_ref2.body,_ref2$timeout=_ref2.timeout,timeout=_ref2$timeout===void 0?1e4:_ref2$timeout;return _context.abrupt("return",socketClient.requestAsync({body:body,timeout:timeout}));case 2:case"end":return _context.stop()}}},_callee)}));return _webSocketAsync.apply(this,arguments)}function getSocket(_x3){return _getSocket.apply(this,arguments)}function _getSocket(){_getSocket=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(url){var client;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return(0,webSocket_js_1.getWebSocketRpcClient)(url);case 2:client=_context2.sent;return _context2.abrupt("return",Object.assign(client.socket,{requests:client.requests,subscriptions:client.subscriptions}));case 4:case"end":return _context2.stop()}}},_callee2)}));return _getSocket.apply(this,arguments)}exports.rpc={http:function http(url,params){return(0,http_js_1.getHttpRpcClient)(url).request(params)},webSocket:webSocket,webSocketAsync:webSocketAsync}},{"./http.js":482,"./webSocket.js":485}],482:[function(require,module,exports){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function _defineProperty(e,r,t){return(r=_toPropertyKey(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}Object.defineProperty(exports,"__esModule",{value:true});exports.getHttpRpcClient=getHttpRpcClient;var request_js_1=require("../../errors/request.js");var withTimeout_js_1=require("../promise/withTimeout.js");var stringify_js_1=require("../stringify.js");var id_js_1=require("./id.js");function getHttpRpcClient(url){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return{request:function request(params){return _asyncToGenerator(regeneratorRuntime.mark(function _callee2(){var _options$timeout,_options$fetchOptions,_params$fetchOptions;var body,_params$onRequest,onRequest,_params$onResponse,onResponse,_params$timeout,timeout,fetchOptions,headers,method,signal_,_response$headers$get,response,data;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:body=params.body,_params$onRequest=params.onRequest,onRequest=_params$onRequest===void 0?options.onRequest:_params$onRequest,_params$onResponse=params.onResponse,onResponse=_params$onResponse===void 0?options.onResponse:_params$onResponse,_params$timeout=params.timeout,timeout=_params$timeout===void 0?(_options$timeout=options.timeout)!==null&&_options$timeout!==void 0?_options$timeout:1e4:_params$timeout;fetchOptions=_objectSpread(_objectSpread({},(_options$fetchOptions=options.fetchOptions)!==null&&_options$fetchOptions!==void 0?_options$fetchOptions:{}),(_params$fetchOptions=params.fetchOptions)!==null&&_params$fetchOptions!==void 0?_params$fetchOptions:{});headers=fetchOptions.headers,method=fetchOptions.method,signal_=fetchOptions.signal;_context2.prev=3;_context2.next=6;return(0,withTimeout_js_1.withTimeout)(function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee(_ref){var _body$id2,_yield$onRequest,_args$url;var signal,init,request,args,response;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:signal=_ref.signal;init=_objectSpread(_objectSpread({},fetchOptions),{},{body:Array.isArray(body)?(0,stringify_js_1.stringify)(body.map(function(body){var _body$id;return _objectSpread({jsonrpc:"2.0",id:(_body$id=body.id)!==null&&_body$id!==void 0?_body$id:id_js_1.idCache.take()},body)})):(0,stringify_js_1.stringify)(_objectSpread({jsonrpc:"2.0",id:(_body$id2=body.id)!==null&&_body$id2!==void 0?_body$id2:id_js_1.idCache.take()},body)),headers:_objectSpread({"Content-Type":"application/json"},headers),method:method||"POST",signal:signal_||(timeout>0?signal:null)});request=new Request(url,init);_context.next=5;return onRequest===null||onRequest===void 0?void 0:onRequest(request,init);case 5:_context.t1=_yield$onRequest=_context.sent;_context.t0=_context.t1!==null;if(!_context.t0){_context.next=9;break}_context.t0=_yield$onRequest!==void 0;case 9:if(!_context.t0){_context.next=13;break}_context.t2=_yield$onRequest;_context.next=14;break;case 13:_context.t2=_objectSpread(_objectSpread({},init),{},{url:url});case 14:args=_context.t2;_context.next=17;return fetch((_args$url=args.url)!==null&&_args$url!==void 0?_args$url:url,args);case 17:response=_context.sent;return _context.abrupt("return",response);case 19:case"end":return _context.stop()}}},_callee)}));return function(_x){return _ref2.apply(this,arguments)}}(),{errorInstance:new request_js_1.TimeoutError({body:body,url:url}),timeout:timeout,signal:true});case 6:response=_context2.sent;if(!onResponse){_context2.next=10;break}_context2.next=10;return onResponse(response);case 10:if(!((_response$headers$get=response.headers.get("Content-Type"))!==null&&_response$headers$get!==void 0&&_response$headers$get.startsWith("application/json"))){_context2.next=16;break}_context2.next=13;return response.json();case 13:data=_context2.sent;_context2.next=28;break;case 16:_context2.next=18;return response.text();case 18:data=_context2.sent;_context2.prev=19;data=JSON.parse(data||"{}");_context2.next=28;break;case 23:_context2.prev=23;_context2.t0=_context2["catch"](19);if(!response.ok){_context2.next=27;break}throw _context2.t0;case 27:data={error:data};case 28:if(response.ok){_context2.next=30;break}throw new request_js_1.HttpRequestError({body:body,details:(0,stringify_js_1.stringify)(data.error)||response.statusText,headers:response.headers,status:response.status,url:url});case 30:return _context2.abrupt("return",data);case 33:_context2.prev=33;_context2.t1=_context2["catch"](3);if(!(_context2.t1 instanceof request_js_1.HttpRequestError)){_context2.next=37;break}throw _context2.t1;case 37:if(!(_context2.t1 instanceof request_js_1.TimeoutError)){_context2.next=39;break}throw _context2.t1;case 39:throw new request_js_1.HttpRequestError({body:body,cause:_context2.t1,url:url});case 40:case"end":return _context2.stop()}}},_callee2,null,[[3,33],[19,23]])}))()}}}},{"../../errors/request.js":363,"../promise/withTimeout.js":479,"../stringify.js":509,"./id.js":483}],483:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.idCache=void 0;function createIdStore(){return{current:0,take:function take(){return this.current++},reset:function reset(){this.current=0}}}exports.idCache=createIdStore()},{}],484:[function(require,module,exports){"use strict";function _slicedToArray(r,e){return _arrayWithHoles(r)||_iterableToArrayLimit(r,e)||_unsupportedIterableToArray(r,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0){}}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t["return"]&&(u=t["return"](),Object(u)!==u))return}finally{if(o)throw n}}return a}}function _arrayWithHoles(r){if(Array.isArray(r))return r}function _createForOfIteratorHelper(r,e){var t="undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(!t){if(Array.isArray(r)||(t=_unsupportedIterableToArray(r))||e&&r&&"number"==typeof r.length){t&&(r=t);var _n=0,F=function F(){};return{s:F,n:function n(){return _n>=r.length?{done:!0}:{done:!1,value:r[_n++]}},e:function e(r){throw r},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function s(){t=t.call(r)},n:function n(){var r=t.next();return a=r.done,r},e:function e(r){u=!0,o=r},f:function f(){try{a||null==t["return"]||t["return"]()}finally{if(u)throw o}}}}function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++){n[e]=r[e]}return n}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function _defineProperty(e,r,t){return(r=_toPropertyKey(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}Object.defineProperty(exports,"__esModule",{value:true});exports.socketClientCache=void 0;exports.getSocketRpcClient=getSocketRpcClient;var request_js_1=require("../../errors/request.js");var createBatchScheduler_js_1=require("../promise/createBatchScheduler.js");var withTimeout_js_1=require("../promise/withTimeout.js");var id_js_1=require("./id.js");exports.socketClientCache=new Map;function getSocketRpcClient(_x){return _getSocketRpcClient.apply(this,arguments)}function _getSocketRpcClient(){_getSocketRpcClient=_asyncToGenerator(regeneratorRuntime.mark(function _callee5(parameters){var getSocket,_parameters$keepAlive,keepAlive,_parameters$key,key,_parameters$reconnect,reconnect,url,_ref,_ref$interval,keepAliveInterval,_ref2,_ref2$attempts,attempts,_ref2$delay,delay,socketClient,reconnectCount,_ref3,schedule,_yield$schedule,_yield$schedule2,_,_yield$schedule2$,socketClient_;return regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:getSocket=parameters.getSocket,_parameters$keepAlive=parameters.keepAlive,keepAlive=_parameters$keepAlive===void 0?true:_parameters$keepAlive,_parameters$key=parameters.key,key=_parameters$key===void 0?"socket":_parameters$key,_parameters$reconnect=parameters.reconnect,reconnect=_parameters$reconnect===void 0?true:_parameters$reconnect,url=parameters.url;_ref=_typeof(keepAlive)==="object"?keepAlive:{},_ref$interval=_ref.interval,keepAliveInterval=_ref$interval===void 0?3e4:_ref$interval;_ref2=_typeof(reconnect)==="object"?reconnect:{},_ref2$attempts=_ref2.attempts,attempts=_ref2$attempts===void 0?5:_ref2$attempts,_ref2$delay=_ref2.delay,delay=_ref2$delay===void 0?2e3:_ref2$delay;socketClient=exports.socketClientCache.get("".concat(key,":").concat(url));if(!socketClient){_context5.next=6;break}return _context5.abrupt("return",socketClient);case 6:reconnectCount=0;_ref3=(0,createBatchScheduler_js_1.createBatchScheduler)({id:"".concat(key,":").concat(url),fn:function(){var _fn=_asyncToGenerator(regeneratorRuntime.mark(function _callee4(){var requests,subscriptions,error,socket,keepAliveTimer,setup,_setup;return regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_setup=function _setup3(){_setup=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(){var result;return regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return getSocket({onClose:function onClose(){var _iterator=_createForOfIteratorHelper(requests.values()),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var _request$onError;var request=_step.value;(_request$onError=request.onError)===null||_request$onError===void 0?void 0:_request$onError.call(request,new request_js_1.SocketClosedError({url:url}))}}catch(err){_iterator.e(err)}finally{_iterator.f()}var _iterator2=_createForOfIteratorHelper(subscriptions.values()),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var _subscription$onError;var subscription=_step2.value;(_subscription$onError=subscription.onError)===null||_subscription$onError===void 0?void 0:_subscription$onError.call(subscription,new request_js_1.SocketClosedError({url:url}))}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}requests.clear();subscriptions.clear();if(reconnect&&reconnectCount<attempts)setTimeout(_asyncToGenerator(regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:reconnectCount++;_context.next=3;return setup()["catch"](console.error);case 3:case"end":return _context.stop()}}},_callee)})),delay)},onError:function onError(error_){var _socketClient;error=error_;var _iterator3=_createForOfIteratorHelper(requests.values()),_step3;try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var _request$onError2;var request=_step3.value;(_request$onError2=request.onError)===null||_request$onError2===void 0?void 0:_request$onError2.call(request,error)}}catch(err){_iterator3.e(err)}finally{_iterator3.f()}var _iterator4=_createForOfIteratorHelper(subscriptions.values()),_step4;try{for(_iterator4.s();!(_step4=_iterator4.n()).done;){var _subscription$onError2;var subscription=_step4.value;(_subscription$onError2=subscription.onError)===null||_subscription$onError2===void 0?void 0:_subscription$onError2.call(subscription,error)}}catch(err){_iterator4.e(err)}finally{_iterator4.f()}requests.clear();subscriptions.clear();(_socketClient=socketClient)===null||_socketClient===void 0?void 0:_socketClient.close();if(reconnect&&reconnectCount<attempts)setTimeout(_asyncToGenerator(regeneratorRuntime.mark(function _callee2(){return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:reconnectCount++;_context2.next=3;return setup()["catch"](console.error);case 3:case"end":return _context2.stop()}}},_callee2)})),delay)},onOpen:function onOpen(){error=undefined;reconnectCount=0},onResponse:function onResponse(data){var isSubscription=data.method==="eth_subscription";var id=isSubscription?data.params.subscription:data.id;var cache=isSubscription?subscriptions:requests;var callback=cache.get(id);if(callback)callback.onResponse(data);if(!isSubscription)cache["delete"](id)}});case 2:result=_context3.sent;socket=result;if(keepAlive){if(keepAliveTimer)clearInterval(keepAliveTimer);keepAliveTimer=setInterval(function(){var _socket$ping,_socket;return(_socket$ping=(_socket=socket).ping)===null||_socket$ping===void 0?void 0:_socket$ping.call(_socket)},keepAliveInterval)}return _context3.abrupt("return",result);case 6:case"end":return _context3.stop()}}},_callee3)}));return _setup.apply(this,arguments)};setup=function _setup2(){return _setup.apply(this,arguments)};requests=new Map;subscriptions=new Map;_context4.next=6;return setup();case 6:error=undefined;_context4.t0=function close(){keepAliveTimer&&clearInterval(keepAliveTimer);socket.close();exports.socketClientCache["delete"]("".concat(key,":").concat(url))};_context4.t1=function request(_ref4){var _body$id;var body=_ref4.body,onError=_ref4.onError,onResponse=_ref4.onResponse;if(error&&onError)onError(error);var id=(_body$id=body.id)!==null&&_body$id!==void 0?_body$id:id_js_1.idCache.take();var callback=function callback(response){var _body$params;if(typeof response.id==="number"&&id!==response.id)return;if(body.method==="eth_subscribe"&&typeof response.result==="string")subscriptions.set(response.result,{onResponse:callback,onError:onError});if(body.method==="eth_unsubscribe")subscriptions["delete"]((_body$params=body.params)===null||_body$params===void 0?void 0:_body$params[0]);onResponse(response)};requests.set(id,{onResponse:callback,onError:onError});try{socket.request({body:_objectSpread({jsonrpc:"2.0",id:id},body)})}catch(error){onError===null||onError===void 0?void 0:onError(error)}};_context4.t2=function requestAsync(_ref5){var _this=this;var body=_ref5.body,_ref5$timeout=_ref5.timeout,timeout=_ref5$timeout===void 0?1e4:_ref5$timeout;return(0,withTimeout_js_1.withTimeout)(function(){return new Promise(function(onResponse,onError){return _this.request({body:body,onError:onError,onResponse:onResponse})})},{errorInstance:new request_js_1.TimeoutError({body:body,url:url}),timeout:timeout})};_context4.t3=requests;_context4.t4=subscriptions;_context4.t5=url;socketClient={close:_context4.t0,get socket(){return socket},request:_context4.t1,requestAsync:_context4.t2,requests:_context4.t3,subscriptions:_context4.t4,url:_context4.t5};exports.socketClientCache.set("".concat(key,":").concat(url),socketClient);return _context4.abrupt("return",[socketClient]);case 16:case"end":return _context4.stop()}}},_callee4)}));function fn(){return _fn.apply(this,arguments)}return fn}()}),schedule=_ref3.schedule;_context5.next=10;return schedule();case 10:_yield$schedule=_context5.sent;_yield$schedule2=_slicedToArray(_yield$schedule,2);_=_yield$schedule2[0];_yield$schedule2$=_slicedToArray(_yield$schedule2[1],1);socketClient_=_yield$schedule2$[0];return _context5.abrupt("return",socketClient_);case 16:case"end":return _context5.stop()}}},_callee5)}));return _getSocketRpcClient.apply(this,arguments)}},{"../../errors/request.js":363,"../promise/createBatchScheduler.js":474,"../promise/withTimeout.js":479,"./id.js":483}],485:[function(require,module,exports){"use strict";function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}Object.defineProperty(exports,"__esModule",{value:true});exports.getWebSocketRpcClient=getWebSocketRpcClient;var request_js_1=require("../../errors/request.js");var socket_js_1=require("./socket.js");function getWebSocketRpcClient(_x){return _getWebSocketRpcClient.apply(this,arguments)}function _getWebSocketRpcClient(){_getWebSocketRpcClient=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(url){var options,keepAlive,reconnect,_args2=arguments;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:options=_args2.length>1&&_args2[1]!==undefined?_args2[1]:{};keepAlive=options.keepAlive,reconnect=options.reconnect;return _context2.abrupt("return",(0,socket_js_1.getSocketRpcClient)({getSocket:function getSocket(_ref){return _asyncToGenerator(regeneratorRuntime.mark(function _callee(){var onClose,onError,onOpen,onResponse,WebSocket,socket,onClose_,onMessage,close_;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:onMessage=function _onMessage(_ref2){var data=_ref2.data;try{var _data=JSON.parse(data);onResponse(_data)}catch(error){onError(error)}};onClose_=function _onClose_(){socket.removeEventListener("close",onClose_);socket.removeEventListener("message",onMessage);socket.removeEventListener("error",onError);socket.removeEventListener("open",onOpen);onClose()};onClose=_ref.onClose,onError=_ref.onError,onOpen=_ref.onOpen,onResponse=_ref.onResponse;_context.next=5;return Promise.resolve().then(function(){return require("isows")}).then(function(module){return module.WebSocket});case 5:WebSocket=_context.sent;socket=new WebSocket(url);socket.addEventListener("close",onClose_);socket.addEventListener("message",onMessage);socket.addEventListener("error",onError);socket.addEventListener("open",onOpen);if(!(socket.readyState===WebSocket.CONNECTING)){_context.next=14;break}_context.next=14;return new Promise(function(resolve,reject){if(!socket)return;socket.onopen=resolve;socket.onerror=reject});case 14:close_=socket.close;return _context.abrupt("return",Object.assign(socket,{close:function close(){close_.bind(socket)();onClose_()},ping:function ping(){try{if(socket.readyState===socket.CLOSED||socket.readyState===socket.CLOSING)throw new request_js_1.WebSocketRequestError({url:socket.url,cause:new request_js_1.SocketClosedError({url:socket.url})});var body={jsonrpc:"2.0",method:"net_version",params:[]};socket.send(JSON.stringify(body))}catch(error){onError(error)}},request:function request(_ref3){var body=_ref3.body;if(socket.readyState===socket.CLOSED||socket.readyState===socket.CLOSING)throw new request_js_1.WebSocketRequestError({body:body,url:socket.url,cause:new request_js_1.SocketClosedError({url:socket.url})});return socket.send(JSON.stringify(body))}}));case 16:case"end":return _context.stop()}}},_callee)}))()},keepAlive:keepAlive,reconnect:reconnect,url:url}));case 3:case"end":return _context2.stop()}}},_callee2)}));return _getWebSocketRpcClient.apply(this,arguments)}},{"../../errors/request.js":363,"./socket.js":484,isows:171}],486:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.compactSignatureToSignature=compactSignatureToSignature;var toBytes_js_1=require("../encoding/toBytes.js");var toHex_js_1=require("../encoding/toHex.js");function compactSignatureToSignature(_ref){var r=_ref.r,yParityAndS=_ref.yParityAndS;var yParityAndS_bytes=(0,toBytes_js_1.hexToBytes)(yParityAndS);var yParity=yParityAndS_bytes[0]&128?1:0;var s=yParityAndS_bytes;if(yParity===1)s[0]&=127;return{r:r,s:(0,toHex_js_1.bytesToHex)(s),yParity:yParity}}},{"../encoding/toBytes.js":425,"../encoding/toHex.js":426}],487:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.hashMessage=hashMessage;var keccak256_js_1=require("../hash/keccak256.js");var toPrefixedMessage_js_1=require("./toPrefixedMessage.js");function hashMessage(message,to_){return(0,keccak256_js_1.keccak256)((0,toPrefixedMessage_js_1.toPrefixedMessage)(message),to_)}},{"../hash/keccak256.js":455,"./toPrefixedMessage.js":502}],488:[function(require,module,exports){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _toConsumableArray(r){return _arrayWithoutHoles(r)||_iterableToArray(r)||_unsupportedIterableToArray(r)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}function _arrayWithoutHoles(r){if(Array.isArray(r))return _arrayLikeToArray(r)}function _slicedToArray(r,e){return _arrayWithHoles(r)||_iterableToArrayLimit(r,e)||_unsupportedIterableToArray(r,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0){}}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t["return"]&&(u=t["return"](),Object(u)!==u))return}finally{if(o)throw n}}return a}}function _arrayWithHoles(r){if(Array.isArray(r))return r}function _createForOfIteratorHelper(r,e){var t="undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(!t){if(Array.isArray(r)||(t=_unsupportedIterableToArray(r))||e&&r&&"number"==typeof r.length){t&&(r=t);var _n=0,F=function F(){};return{s:F,n:function n(){return _n>=r.length?{done:!0}:{done:!1,value:r[_n++]}},e:function e(r){throw r},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function s(){t=t.call(r)},n:function n(){var r=t.next();return a=r.done,r},e:function e(r){u=!0,o=r},f:function f(){try{a||null==t["return"]||t["return"]()}finally{if(u)throw o}}}}function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++){n[e]=r[e]}return n}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function _defineProperty(e,r,t){return(r=_toPropertyKey(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}Object.defineProperty(exports,"__esModule",{value:true});exports.hashTypedData=hashTypedData;exports.hashDomain=hashDomain;exports.hashStruct=hashStruct;exports.encodeType=encodeType;var encodeAbiParameters_js_1=require("../abi/encodeAbiParameters.js");var concat_js_1=require("../data/concat.js");var toHex_js_1=require("../encoding/toHex.js");var keccak256_js_1=require("../hash/keccak256.js");var typedData_js_1=require("../typedData.js");function hashTypedData(parameters){var _parameters$domain=parameters.domain,domain=_parameters$domain===void 0?{}:_parameters$domain,message=parameters.message,primaryType=parameters.primaryType;var types=_objectSpread({EIP712Domain:(0,typedData_js_1.getTypesForEIP712Domain)({domain:domain})},parameters.types);(0,typedData_js_1.validateTypedData)({domain:domain,message:message,primaryType:primaryType,types:types});var parts=["0x1901"];if(domain)parts.push(hashDomain({domain:domain,types:types}));if(primaryType!=="EIP712Domain")parts.push(hashStruct({data:message,primaryType:primaryType,types:types}));return(0,keccak256_js_1.keccak256)((0,concat_js_1.concat)(parts))}function hashDomain(_ref){var domain=_ref.domain,types=_ref.types;return hashStruct({data:domain,primaryType:"EIP712Domain",types:types})}function hashStruct(_ref2){var data=_ref2.data,primaryType=_ref2.primaryType,types=_ref2.types;var encoded=encodeData({data:data,primaryType:primaryType,types:types});return(0,keccak256_js_1.keccak256)(encoded)}function encodeData(_ref3){var data=_ref3.data,primaryType=_ref3.primaryType,types=_ref3.types;var encodedTypes=[{type:"bytes32"}];var encodedValues=[hashType({primaryType:primaryType,types:types})];var _iterator=_createForOfIteratorHelper(types[primaryType]),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var field=_step.value;var _encodeField=encodeField({types:types,name:field.name,type:field.type,value:data[field.name]}),_encodeField2=_slicedToArray(_encodeField,2),type=_encodeField2[0],value=_encodeField2[1];encodedTypes.push(type);encodedValues.push(value)}}catch(err){_iterator.e(err)}finally{_iterator.f()}return(0,encodeAbiParameters_js_1.encodeAbiParameters)(encodedTypes,encodedValues)}function hashType(_ref4){var primaryType=_ref4.primaryType,types=_ref4.types;var encodedHashType=(0,toHex_js_1.toHex)(encodeType({primaryType:primaryType,types:types}));return(0,keccak256_js_1.keccak256)(encodedHashType)}function encodeType(_ref5){var primaryType=_ref5.primaryType,types=_ref5.types;var result="";var unsortedDeps=findTypeDependencies({primaryType:primaryType,types:types});unsortedDeps["delete"](primaryType);var deps=[primaryType].concat(_toConsumableArray(Array.from(unsortedDeps).sort()));var _iterator2=_createForOfIteratorHelper(deps),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var type=_step2.value;result+="".concat(type,"(").concat(types[type].map(function(_ref6){var name=_ref6.name,t=_ref6.type;return"".concat(t," ").concat(name)}).join(","),")")}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}return result}function findTypeDependencies(_ref7){var primaryType_=_ref7.primaryType,types=_ref7.types;var results=arguments.length>1&&arguments[1]!==undefined?arguments[1]:new Set;var match=primaryType_.match(/^[0-9A-Z_a-z]*/);var primaryType=match===null||match===void 0?void 0:match[0];if(results.has(primaryType)||types[primaryType]===undefined){return results}results.add(primaryType);var _iterator3=_createForOfIteratorHelper(types[primaryType]),_step3;try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var field=_step3.value;findTypeDependencies({primaryType:field.type,types:types},results)}}catch(err){_iterator3.e(err)}finally{_iterator3.f()}return results}function encodeField(_ref8){var types=_ref8.types,name=_ref8.name,type=_ref8.type,value=_ref8.value;if(types[type]!==undefined){return[{type:"bytes32"},(0,keccak256_js_1.keccak256)(encodeData({data:value,primaryType:type,types:types}))]}if(type==="bytes"){var prepend=value.length%2?"0":"";value="0x".concat(prepend+value.slice(2));return[{type:"bytes32"},(0,keccak256_js_1.keccak256)(value)]}if(type==="string")return[{type:"bytes32"},(0,keccak256_js_1.keccak256)((0,toHex_js_1.toHex)(value))];if(type.lastIndexOf("]")===type.length-1){var parsedType=type.slice(0,type.lastIndexOf("["));var typeValuePairs=value.map(function(item){return encodeField({name:name,type:parsedType,types:types,value:item})});return[{type:"bytes32"},(0,keccak256_js_1.keccak256)((0,encodeAbiParameters_js_1.encodeAbiParameters)(typeValuePairs.map(function(_ref9){var _ref10=_slicedToArray(_ref9,1),t=_ref10[0];return t}),typeValuePairs.map(function(_ref11){var _ref12=_slicedToArray(_ref11,2),v=_ref12[1];return v})))]}return[{type:type},value]}},{"../abi/encodeAbiParameters.js":380,"../data/concat.js":415,"../encoding/toHex.js":426,"../hash/keccak256.js":455,"../typedData.js":517}],489:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.isErc6492Signature=isErc6492Signature;var bytes_js_1=require("../../constants/bytes.js");var slice_js_1=require("../data/slice.js");function isErc6492Signature(signature){return(0,slice_js_1.sliceHex)(signature,-32)===bytes_js_1.erc6492MagicBytes}},{"../../constants/bytes.js":337,"../data/slice.js":420}],490:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.parseCompactSignature=parseCompactSignature;var secp256k1_1=require("@noble/curves/secp256k1");var toHex_js_1=require("../encoding/toHex.js");function parseCompactSignature(signatureHex){var _secp256k1_1$secp256k=secp256k1_1.secp256k1.Signature.fromCompact(signatureHex.slice(2,130)),r=_secp256k1_1$secp256k.r,s=_secp256k1_1$secp256k.s;return{r:(0,toHex_js_1.numberToHex)(r,{size:32}),yParityAndS:(0,toHex_js_1.numberToHex)(s,{size:32})}}},{"../encoding/toHex.js":426,"@noble/curves/secp256k1":128}],491:[function(require,module,exports){"use strict";function _slicedToArray(r,e){return _arrayWithHoles(r)||_iterableToArrayLimit(r,e)||_unsupportedIterableToArray(r,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++){n[e]=r[e]}return n}function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0){}}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t["return"]&&(u=t["return"](),Object(u)!==u))return}finally{if(o)throw n}}return a}}function _arrayWithHoles(r){if(Array.isArray(r))return r}Object.defineProperty(exports,"__esModule",{value:true});exports.parseErc6492Signature=parseErc6492Signature;var decodeAbiParameters_js_1=require("../abi/decodeAbiParameters.js");var isErc6492Signature_js_1=require("./isErc6492Signature.js");function parseErc6492Signature(signature){if(!(0,isErc6492Signature_js_1.isErc6492Signature)(signature))return{signature:signature};var _ref=(0,decodeAbiParameters_js_1.decodeAbiParameters)([{type:"address"},{type:"bytes"},{type:"bytes"}],signature),_ref2=_slicedToArray(_ref,3),address=_ref2[0],data=_ref2[1],signature_=_ref2[2];return{address:address,data:data,signature:signature_}}},{"../abi/decodeAbiParameters.js":374,"./isErc6492Signature.js":489}],492:[function(require,module,exports){"use strict";function _slicedToArray(r,e){return _arrayWithHoles(r)||_iterableToArrayLimit(r,e)||_unsupportedIterableToArray(r,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++){n[e]=r[e]}return n}function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0){}}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t["return"]&&(u=t["return"](),Object(u)!==u))return}finally{if(o)throw n}}return a}}function _arrayWithHoles(r){if(Array.isArray(r))return r}Object.defineProperty(exports,"__esModule",{value:true});exports.parseSignature=parseSignature;var secp256k1_1=require("@noble/curves/secp256k1");var toHex_js_1=require("../../utils/encoding/toHex.js");function parseSignature(signatureHex){var _secp256k1_1$secp256k=secp256k1_1.secp256k1.Signature.fromCompact(signatureHex.slice(2,130)),r=_secp256k1_1$secp256k.r,s=_secp256k1_1$secp256k.s;var yParityOrV=Number("0x".concat(signatureHex.slice(130)));var _ref=function(){if(yParityOrV===0||yParityOrV===1)return[undefined,yParityOrV];if(yParityOrV===27)return[BigInt(yParityOrV),0];if(yParityOrV===28)return[BigInt(yParityOrV),1];throw new Error("Invalid yParityOrV value")}(),_ref2=_slicedToArray(_ref,2),v=_ref2[0],yParity=_ref2[1];if(typeof v!=="undefined")return{r:(0,toHex_js_1.numberToHex)(r,{size:32}),s:(0,toHex_js_1.numberToHex)(s,{size:32}),v:v,yParity:yParity};return{r:(0,toHex_js_1.numberToHex)(r,{size:32}),s:(0,toHex_js_1.numberToHex)(s,{size:32}),yParity:yParity}}},{"../../utils/encoding/toHex.js":426,"@noble/curves/secp256k1":128}],493:[function(require,module,exports){"use strict";function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}Object.defineProperty(exports,"__esModule",{value:true});exports.recoverAddress=recoverAddress;var publicKeyToAddress_js_1=require("../../accounts/utils/publicKeyToAddress.js");var recoverPublicKey_js_1=require("./recoverPublicKey.js");function recoverAddress(_x){return _recoverAddress.apply(this,arguments)}function _recoverAddress(){_recoverAddress=_asyncToGenerator(regeneratorRuntime.mark(function _callee(_ref){var hash,signature;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:hash=_ref.hash,signature=_ref.signature;_context.t0=(0,publicKeyToAddress_js_1.publicKeyToAddress);_context.next=4;return(0,recoverPublicKey_js_1.recoverPublicKey)({hash:hash,signature:signature});case 4:_context.t1=_context.sent;return _context.abrupt("return",(0,_context.t0)(_context.t1));case 6:case"end":return _context.stop()}}},_callee)}));return _recoverAddress.apply(this,arguments)}},{"../../accounts/utils/publicKeyToAddress.js":217,"./recoverPublicKey.js":495}],494:[function(require,module,exports){"use strict";function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}Object.defineProperty(exports,"__esModule",{value:true});exports.recoverMessageAddress=recoverMessageAddress;var hashMessage_js_1=require("./hashMessage.js");var recoverAddress_js_1=require("./recoverAddress.js");function recoverMessageAddress(_x){return _recoverMessageAddress.apply(this,arguments)}function _recoverMessageAddress(){_recoverMessageAddress=_asyncToGenerator(regeneratorRuntime.mark(function _callee(_ref){var message,signature;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:message=_ref.message,signature=_ref.signature;return _context.abrupt("return",(0,recoverAddress_js_1.recoverAddress)({hash:(0,hashMessage_js_1.hashMessage)(message),signature:signature}));case 2:case"end":return _context.stop()}}},_callee)}));return _recoverMessageAddress.apply(this,arguments)}},{"./hashMessage.js":487,"./recoverAddress.js":493}],495:[function(require,module,exports){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}Object.defineProperty(exports,"__esModule",{value:true});exports.recoverPublicKey=recoverPublicKey;var isHex_js_1=require("../data/isHex.js");var size_js_1=require("../data/size.js");var fromHex_js_1=require("../encoding/fromHex.js");var toHex_js_1=require("../encoding/toHex.js");function recoverPublicKey(_x){return _recoverPublicKey.apply(this,arguments)}function _recoverPublicKey(){_recoverPublicKey=_asyncToGenerator(regeneratorRuntime.mark(function _callee(_ref){var hash,signature,hashHex,_yield$Promise$resolv,secp256k1,signature_,publicKey;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:hash=_ref.hash,signature=_ref.signature;hashHex=(0,isHex_js_1.isHex)(hash)?hash:(0,toHex_js_1.toHex)(hash);_context.next=4;return Promise.resolve().then(function(){return require("@noble/curves/secp256k1")});case 4:_yield$Promise$resolv=_context.sent;secp256k1=_yield$Promise$resolv.secp256k1;signature_=function(){if(_typeof(signature)==="object"&&"r"in signature&&"s"in signature){var r=signature.r,s=signature.s,v=signature.v,yParity=signature.yParity;var _yParityOrV=Number(yParity!==null&&yParity!==void 0?yParity:v);var _recoveryBit=toRecoveryBit(_yParityOrV);return new secp256k1.Signature((0,fromHex_js_1.hexToBigInt)(r),(0,fromHex_js_1.hexToBigInt)(s)).addRecoveryBit(_recoveryBit)}var signatureHex=(0,isHex_js_1.isHex)(signature)?signature:(0,toHex_js_1.toHex)(signature);if((0,size_js_1.size)(signatureHex)!==65)throw new Error("invalid signature length");var yParityOrV=(0,fromHex_js_1.hexToNumber)("0x".concat(signatureHex.slice(130)));var recoveryBit=toRecoveryBit(yParityOrV);return secp256k1.Signature.fromCompact(signatureHex.substring(2,130)).addRecoveryBit(recoveryBit)}();publicKey=signature_.recoverPublicKey(hashHex.substring(2)).toHex(false);return _context.abrupt("return","0x".concat(publicKey));case 9:case"end":return _context.stop()}}},_callee)}));return _recoverPublicKey.apply(this,arguments)}function toRecoveryBit(yParityOrV){if(yParityOrV===0||yParityOrV===1)return yParityOrV;if(yParityOrV===27)return 0;if(yParityOrV===28)return 1;throw new Error("Invalid yParityOrV value")}},{"../data/isHex.js":417,"../data/size.js":419,"../encoding/fromHex.js":423,"../encoding/toHex.js":426,"@noble/curves/secp256k1":128}],496:[function(require,module,exports){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function _defineProperty(e,r,t){return(r=_toPropertyKey(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}Object.defineProperty(exports,"__esModule",{value:true});exports.recoverTransactionAddress=recoverTransactionAddress;var keccak256_js_1=require("../hash/keccak256.js");var parseTransaction_js_1=require("../transaction/parseTransaction.js");var serializeTransaction_js_1=require("../transaction/serializeTransaction.js");var recoverAddress_js_1=require("./recoverAddress.js");function recoverTransactionAddress(_x){return _recoverTransactionAddress.apply(this,arguments)}function _recoverTransactionAddress(){_recoverTransactionAddress=_asyncToGenerator(regeneratorRuntime.mark(function _callee(parameters){var serializedTransaction,signature_,transaction,signature,serialized;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:serializedTransaction=parameters.serializedTransaction,signature_=parameters.signature;transaction=(0,parseTransaction_js_1.parseTransaction)(serializedTransaction);signature=signature_!==null&&signature_!==void 0?signature_:{r:transaction.r,s:transaction.s,v:transaction.v,yParity:transaction.yParity};serialized=(0,serializeTransaction_js_1.serializeTransaction)(_objectSpread(_objectSpread({},transaction),{},{r:undefined,s:undefined,v:undefined,yParity:undefined,sidecars:undefined}));_context.next=6;return(0,recoverAddress_js_1.recoverAddress)({hash:(0,keccak256_js_1.keccak256)(serialized),signature:signature});case 6:return _context.abrupt("return",_context.sent);case 7:case"end":return _context.stop()}}},_callee)}));return _recoverTransactionAddress.apply(this,arguments)}},{"../hash/keccak256.js":455,"../transaction/parseTransaction.js":514,"../transaction/serializeTransaction.js":516,"./recoverAddress.js":493}],497:[function(require,module,exports){"use strict";function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}Object.defineProperty(exports,"__esModule",{value:true});exports.recoverTypedDataAddress=recoverTypedDataAddress;var hashTypedData_js_1=require("./hashTypedData.js");var recoverAddress_js_1=require("./recoverAddress.js");function recoverTypedDataAddress(_x){return _recoverTypedDataAddress.apply(this,arguments)}function _recoverTypedDataAddress(){_recoverTypedDataAddress=_asyncToGenerator(regeneratorRuntime.mark(function _callee(parameters){var domain,message,primaryType,signature,types;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:domain=parameters.domain,message=parameters.message,primaryType=parameters.primaryType,signature=parameters.signature,types=parameters.types;return _context.abrupt("return",(0,recoverAddress_js_1.recoverAddress)({hash:(0,hashTypedData_js_1.hashTypedData)({domain:domain,message:message,primaryType:primaryType,types:types}),signature:signature}));case 2:case"end":return _context.stop()}}},_callee)}));return _recoverTypedDataAddress.apply(this,arguments)}},{"./hashTypedData.js":488,"./recoverAddress.js":493}],498:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.serializeCompactSignature=serializeCompactSignature;var secp256k1_1=require("@noble/curves/secp256k1");var fromHex_js_1=require("../encoding/fromHex.js");function serializeCompactSignature(_ref){var r=_ref.r,yParityAndS=_ref.yParityAndS;return"0x".concat(new secp256k1_1.secp256k1.Signature((0,fromHex_js_1.hexToBigInt)(r),(0,fromHex_js_1.hexToBigInt)(yParityAndS)).toCompactHex())}},{"../encoding/fromHex.js":423,"@noble/curves/secp256k1":128}],499:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.serializeErc6492Signature=serializeErc6492Signature;var bytes_js_1=require("../../constants/bytes.js");var encodeAbiParameters_js_1=require("../abi/encodeAbiParameters.js");var concat_js_1=require("../data/concat.js");var toBytes_js_1=require("../encoding/toBytes.js");function serializeErc6492Signature(parameters){var address=parameters.address,data=parameters.data,signature=parameters.signature,_parameters$to=parameters.to,to=_parameters$to===void 0?"hex":_parameters$to;var signature_=(0,concat_js_1.concatHex)([(0,encodeAbiParameters_js_1.encodeAbiParameters)([{type:"address"},{type:"bytes"},{type:"bytes"}],[address,data,signature]),bytes_js_1.erc6492MagicBytes]);if(to==="hex")return signature_;return(0,toBytes_js_1.hexToBytes)(signature_)}},{"../../constants/bytes.js":337,"../abi/encodeAbiParameters.js":380,"../data/concat.js":415,"../encoding/toBytes.js":425}],500:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.serializeSignature=serializeSignature;var secp256k1_1=require("@noble/curves/secp256k1");var fromHex_js_1=require("../encoding/fromHex.js");var toBytes_js_1=require("../encoding/toBytes.js");function serializeSignature(_ref){var r=_ref.r,s=_ref.s,_ref$to=_ref.to,to=_ref$to===void 0?"hex":_ref$to,v=_ref.v,yParity=_ref.yParity;var yParity_=function(){if(yParity===0||yParity===1)return yParity;if(v&&(v===27n||v===28n||v>=35n))return v%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")}();var signature="0x".concat(new secp256k1_1.secp256k1.Signature((0,fromHex_js_1.hexToBigInt)(r),(0,fromHex_js_1.hexToBigInt)(s)).toCompactHex()).concat(yParity_===0?"1b":"1c");if(to==="hex")return signature;return(0,toBytes_js_1.hexToBytes)(signature)}},{"../encoding/fromHex.js":423,"../encoding/toBytes.js":425,"@noble/curves/secp256k1":128}],501:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.signatureToCompactSignature=signatureToCompactSignature;var toBytes_js_1=require("../encoding/toBytes.js");var toHex_js_1=require("../encoding/toHex.js");function signatureToCompactSignature(signature){var r=signature.r,s=signature.s,v=signature.v,yParity=signature.yParity;var yParity_=Number(yParity!==null&&yParity!==void 0?yParity:v-27n);var yParityAndS=s;if(yParity_===1){var bytes=(0,toBytes_js_1.hexToBytes)(s);bytes[0]|=128;yParityAndS=(0,toHex_js_1.bytesToHex)(bytes)}return{r:r,yParityAndS:yParityAndS}}},{"../encoding/toBytes.js":425,"../encoding/toHex.js":426}],502:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.toPrefixedMessage=toPrefixedMessage;var strings_js_1=require("../../constants/strings.js");var concat_js_1=require("../data/concat.js");var size_js_1=require("../data/size.js");var toHex_js_1=require("../encoding/toHex.js");function toPrefixedMessage(message_){var message=function(){if(typeof message_==="string")return(0,toHex_js_1.stringToHex)(message_);if(typeof message_.raw==="string")return message_.raw;return(0,toHex_js_1.bytesToHex)(message_.raw)}();var prefix=(0,toHex_js_1.stringToHex)("".concat(strings_js_1.presignMessagePrefix).concat((0,size_js_1.size)(message)));return(0,concat_js_1.concat)([prefix,message])}},{"../../constants/strings.js":343,"../data/concat.js":415,"../data/size.js":419,"../encoding/toHex.js":426}],503:[function(require,module,exports){"use strict";function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}Object.defineProperty(exports,"__esModule",{value:true});exports.verifyHash=verifyHash;var getAddress_js_1=require("../address/getAddress.js");var isAddressEqual_js_1=require("../address/isAddressEqual.js");var recoverAddress_js_1=require("./recoverAddress.js");function verifyHash(_x){return _verifyHash.apply(this,arguments)}function _verifyHash(){_verifyHash=_asyncToGenerator(regeneratorRuntime.mark(function _callee(_ref){var address,hash,signature;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:address=_ref.address,hash=_ref.hash,signature=_ref.signature;_context.t0=(0,isAddressEqual_js_1.isAddressEqual);_context.t1=(0,getAddress_js_1.getAddress)(address);_context.next=5;return(0,recoverAddress_js_1.recoverAddress)({hash:hash,signature:signature});case 5:_context.t2=_context.sent;return _context.abrupt("return",(0,_context.t0)(_context.t1,_context.t2));case 7:case"end":return _context.stop()}}},_callee)}));return _verifyHash.apply(this,arguments)}},{"../address/getAddress.js":392,"../address/isAddressEqual.js":395,"./recoverAddress.js":493}],504:[function(require,module,exports){"use strict";function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}Object.defineProperty(exports,"__esModule",{value:true});exports.verifyMessage=verifyMessage;var getAddress_js_1=require("../address/getAddress.js");var isAddressEqual_js_1=require("../address/isAddressEqual.js");var recoverMessageAddress_js_1=require("./recoverMessageAddress.js");function verifyMessage(_x){return _verifyMessage.apply(this,arguments)}function _verifyMessage(){_verifyMessage=_asyncToGenerator(regeneratorRuntime.mark(function _callee(_ref){var address,message,signature;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:address=_ref.address,message=_ref.message,signature=_ref.signature;_context.t0=(0,isAddressEqual_js_1.isAddressEqual);_context.t1=(0,getAddress_js_1.getAddress)(address);_context.next=5;return(0,recoverMessageAddress_js_1.recoverMessageAddress)({message:message,signature:signature});case 5:_context.t2=_context.sent;return _context.abrupt("return",(0,_context.t0)(_context.t1,_context.t2));case 7:case"end":return _context.stop()}}},_callee)}));return _verifyMessage.apply(this,arguments)}},{"../address/getAddress.js":392,"../address/isAddressEqual.js":395,"./recoverMessageAddress.js":494}],505:[function(require,module,exports){"use strict";function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}Object.defineProperty(exports,"__esModule",{value:true});exports.verifyTypedData=verifyTypedData;var getAddress_js_1=require("../address/getAddress.js");var isAddressEqual_js_1=require("../address/isAddressEqual.js");var recoverTypedDataAddress_js_1=require("./recoverTypedDataAddress.js");function verifyTypedData(_x){return _verifyTypedData.apply(this,arguments)}function _verifyTypedData(){_verifyTypedData=_asyncToGenerator(regeneratorRuntime.mark(function _callee(parameters){var address,domain,message,primaryType,signature,types;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:address=parameters.address,domain=parameters.domain,message=parameters.message,primaryType=parameters.primaryType,signature=parameters.signature,types=parameters.types;_context.t0=(0,isAddressEqual_js_1.isAddressEqual);_context.t1=(0,getAddress_js_1.getAddress)(address);_context.next=5;return(0,recoverTypedDataAddress_js_1.recoverTypedDataAddress)({domain:domain,message:message,primaryType:primaryType,signature:signature,types:types});case 5:_context.t2=_context.sent;return _context.abrupt("return",(0,_context.t0)(_context.t1,_context.t2));case 7:case"end":return _context.stop()}}},_callee)}));return _verifyTypedData.apply(this,arguments)}},{"../address/getAddress.js":392,"../address/isAddressEqual.js":395,"./recoverTypedDataAddress.js":497}],506:[function(require,module,exports){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}var _excluded=["scheme","statement"],_excluded2=["chainId","expirationTime","issuedAt","notBefore","requestId"];function _wrapRegExp(){_wrapRegExp=function _wrapRegExp(e,r){return new BabelRegExp(e,void 0,r)};var e=RegExp.prototype,r=new WeakMap;function BabelRegExp(e,t,p){var o=RegExp(e,t);return r.set(o,p||r.get(e)),_setPrototypeOf(o,BabelRegExp.prototype)}function buildGroups(e,t){var p=r.get(t);return Object.keys(p).reduce(function(r,t){var o=p[t];if("number"==typeof o)r[t]=e[o];else{for(var i=0;void 0===e[o[i]]&&i+1<o.length;){i++}r[t]=e[o[i]]}return r},Object.create(null))}return _inherits(BabelRegExp,RegExp),BabelRegExp.prototype.exec=function(r){var t=e.exec.call(this,r);if(t){t.groups=buildGroups(t,this);var p=t.indices;p&&(p.groups=buildGroups(p,this))}return t},BabelRegExp.prototype[Symbol.replace]=function(t,p){if("string"==typeof p){var o=r.get(this);return e[Symbol.replace].call(this,t,p.replace(/\$<([^>]+)>/g,function(e,r){var t=o[r];return"$"+(Array.isArray(t)?t.join("$"):t)}))}if("function"==typeof p){var i=this;return e[Symbol.replace].call(this,t,function(){var e=arguments;return"object"!=_typeof(e[e.length-1])&&(e=[].slice.call(e)).push(buildGroups(e,i)),p.apply(this,e)})}return e[Symbol.replace].call(this,t,p)},_wrapRegExp.apply(this,arguments)}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_setPrototypeOf(t,e)}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function _defineProperty(e,r,t){return(r=_toPropertyKey(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function _objectWithoutProperties(e,t){if(null==e)return{};var o,r,i=_objectWithoutPropertiesLoose(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(r=0;r<n.length;r++){o=n[r],-1===t.indexOf(o)&&{}.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}}return i}function _objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r){if({}.hasOwnProperty.call(r,n)){if(-1!==e.indexOf(n))continue;t[n]=r[n]}}return t}Object.defineProperty(exports,"__esModule",{value:true});exports.parseSiweMessage=parseSiweMessage;function parseSiweMessage(message){var _message$match$groups,_message$match,_message$match$groups2,_message$match2,_message$split$;var _ref=(_message$match$groups=(_message$match=message.match(prefixRegex))===null||_message$match===void 0?void 0:_message$match.groups)!==null&&_message$match$groups!==void 0?_message$match$groups:{},scheme=_ref.scheme,statement=_ref.statement,prefix=_objectWithoutProperties(_ref,_excluded);var _ref2=(_message$match$groups2=(_message$match2=message.match(suffixRegex))===null||_message$match2===void 0?void 0:_message$match2.groups)!==null&&_message$match$groups2!==void 0?_message$match$groups2:{},chainId=_ref2.chainId,expirationTime=_ref2.expirationTime,issuedAt=_ref2.issuedAt,notBefore=_ref2.notBefore,requestId=_ref2.requestId,suffix=_objectWithoutProperties(_ref2,_excluded2);var resources=(_message$split$=message.split("Resources:")[1])===null||_message$split$===void 0?void 0:_message$split$.split("\n- ").slice(1);return _objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread({},prefix),suffix),chainId?{chainId:Number(chainId)}:{}),expirationTime?{expirationTime:new Date(expirationTime)}:{}),issuedAt?{issuedAt:new Date(issuedAt)}:{}),notBefore?{notBefore:new Date(notBefore)}:{}),requestId?{requestId:requestId}:{}),resources?{resources:resources}:{}),scheme?{scheme:scheme}:{}),statement?{statement:statement}:{})}var prefixRegex=_wrapRegExp(/^(?:([A-Za-z][\+-\.0-9A-Za-z]*):\/\/)?([\+-\.0-9A-Za-z]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(0x[0-9A-Fa-f]{40})\n\n(?:(.*)\n\n)?/,{scheme:1,domain:2,address:3,statement:4});var suffixRegex=_wrapRegExp(/(?:URI: (.+))\n(?:Version: (.+))\n(?:Chain ID: ([0-9]+))\n(?:Nonce: ([0-9A-Za-z]+))\n(?:Issued At: (.+))(?:\nExpiration Time: (.+))?(?:\nNot Before: (.+))?(?:\nRequest ID: (.+))?/,{uri:1,version:2,chainId:3,nonce:4,issuedAt:5,expirationTime:6,notBefore:7,requestId:8})},{}],507:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.validateSiweMessage=validateSiweMessage;var isAddressEqual_js_1=require("../address/isAddressEqual.js");function validateSiweMessage(parameters){var address=parameters.address,domain=parameters.domain,message=parameters.message,nonce=parameters.nonce,scheme=parameters.scheme,_parameters$time=parameters.time,time=_parameters$time===void 0?new Date:_parameters$time;if(domain&&message.domain!==domain)return false;if(nonce&&message.nonce!==nonce)return false;if(scheme&&message.scheme!==scheme)return false;if(message.expirationTime&&time>=message.expirationTime)return false;if(message.notBefore&&time<message.notBefore)return false;try{if(!message.address)return false;if(address&&!(0,isAddressEqual_js_1.isAddressEqual)(message.address,address))return false}catch(_unused){return false}return true}},{"../address/isAddressEqual.js":395}],508:[function(require,module,exports){"use strict";var _excluded=["address"];function _objectWithoutProperties(e,t){if(null==e)return{};var o,r,i=_objectWithoutPropertiesLoose(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(r=0;r<n.length;r++){o=n[r],-1===t.indexOf(o)&&{}.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}}return i}function _objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r){if({}.hasOwnProperty.call(r,n)){if(-1!==e.indexOf(n))continue;t[n]=r[n]}}return t}function _createForOfIteratorHelper(r,e){var t="undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(!t){if(Array.isArray(r)||(t=_unsupportedIterableToArray(r))||e&&r&&"number"==typeof r.length){t&&(r=t);var _n=0,F=function F(){};return{s:F,n:function n(){return _n>=r.length?{done:!0}:{done:!1,value:r[_n++]}},e:function e(r){throw r},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function s(){t=t.call(r)},n:function n(){var r=t.next();return a=r.done,r},e:function e(r){u=!0,o=r},f:function f(){try{a||null==t["return"]||t["return"]()}finally{if(u)throw o}}}}function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++){n[e]=r[e]}return n}Object.defineProperty(exports,"__esModule",{value:true});exports.serializeStateMapping=serializeStateMapping;exports.serializeAccountStateOverride=serializeAccountStateOverride;exports.serializeStateOverride=serializeStateOverride;var address_js_1=require("../errors/address.js");var data_js_1=require("../errors/data.js");var stateOverride_js_1=require("../errors/stateOverride.js");var isAddress_js_1=require("./address/isAddress.js");var toHex_js_1=require("./encoding/toHex.js");function serializeStateMapping(stateMapping){if(!stateMapping||stateMapping.length===0)return undefined;return stateMapping.reduce(function(acc,_ref){var slot=_ref.slot,value=_ref.value;if(slot.length!==66)throw new data_js_1.InvalidBytesLengthError({size:slot.length,targetSize:66,type:"hex"});if(value.length!==66)throw new data_js_1.InvalidBytesLengthError({size:value.length,targetSize:66,type:"hex"});acc[slot]=value;return acc},{})}function serializeAccountStateOverride(parameters){var balance=parameters.balance,nonce=parameters.nonce,state=parameters.state,stateDiff=parameters.stateDiff,code=parameters.code;var rpcAccountStateOverride={};if(code!==undefined)rpcAccountStateOverride.code=code;if(balance!==undefined)rpcAccountStateOverride.balance=(0,toHex_js_1.numberToHex)(balance);if(nonce!==undefined)rpcAccountStateOverride.nonce=(0,toHex_js_1.numberToHex)(nonce);if(state!==undefined)rpcAccountStateOverride.state=serializeStateMapping(state);if(stateDiff!==undefined){if(rpcAccountStateOverride.state)throw new stateOverride_js_1.StateAssignmentConflictError;rpcAccountStateOverride.stateDiff=serializeStateMapping(stateDiff)}return rpcAccountStateOverride}function serializeStateOverride(parameters){if(!parameters)return undefined;var rpcStateOverride={};var _iterator=_createForOfIteratorHelper(parameters),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var _ref3=_step.value;var address=_ref3.address,accountState=_objectWithoutProperties(_ref3,_excluded);if(!(0,isAddress_js_1.isAddress)(address,{strict:false}))throw new address_js_1.InvalidAddressError({address:address});if(rpcStateOverride[address])throw new stateOverride_js_1.AccountStateConflictError({address:address});rpcStateOverride[address]=serializeAccountStateOverride(accountState)}}catch(err){_iterator.e(err)}finally{_iterator.f()}return rpcStateOverride}},{"../errors/address.js":347,"../errors/data.js":355,"../errors/stateOverride.js":365,"./address/isAddress.js":394,"./encoding/toHex.js":426}],509:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.stringify=void 0;var stringify=function stringify(value,replacer,space){return JSON.stringify(value,function(key,value_){var value=typeof value_==="bigint"?value_.toString():value_;return typeof replacer==="function"?replacer(key,value):value},space)};exports.stringify=stringify},{}],510:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.assertRequest=assertRequest;var parseAccount_js_1=require("../../accounts/utils/parseAccount.js");var number_js_1=require("../../constants/number.js");var address_js_1=require("../../errors/address.js");var node_js_1=require("../../errors/node.js");var transaction_js_1=require("../../errors/transaction.js");var isAddress_js_1=require("../address/isAddress.js");function assertRequest(args){var account_=args.account,gasPrice=args.gasPrice,maxFeePerGas=args.maxFeePerGas,maxPriorityFeePerGas=args.maxPriorityFeePerGas,to=args.to;var account=account_?(0,parseAccount_js_1.parseAccount)(account_):undefined;if(account&&!(0,isAddress_js_1.isAddress)(account.address))throw new address_js_1.InvalidAddressError({address:account.address});if(to&&!(0,isAddress_js_1.isAddress)(to))throw new address_js_1.InvalidAddressError({address:to});if(typeof gasPrice!=="undefined"&&(typeof maxFeePerGas!=="undefined"||typeof maxPriorityFeePerGas!=="undefined"))throw new transaction_js_1.FeeConflictError;if(maxFeePerGas&&maxFeePerGas>number_js_1.maxUint256)throw new node_js_1.FeeCapTooHighError({maxFeePerGas:maxFeePerGas});if(maxPriorityFeePerGas&&maxFeePerGas&&maxPriorityFeePerGas>maxFeePerGas)throw new node_js_1.TipAboveFeeCapError({maxFeePerGas:maxFeePerGas,maxPriorityFeePerGas:maxPriorityFeePerGas})}},{"../../accounts/utils/parseAccount.js":216,"../../constants/number.js":341,"../../errors/address.js":347,"../../errors/node.js":362,"../../errors/transaction.js":366,"../address/isAddress.js":394}],511:[function(require,module,exports){"use strict";function _createForOfIteratorHelper(r,e){var t="undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(!t){if(Array.isArray(r)||(t=_unsupportedIterableToArray(r))||e&&r&&"number"==typeof r.length){t&&(r=t);var _n=0,F=function F(){};return{s:F,n:function n(){return _n>=r.length?{done:!0}:{done:!1,value:r[_n++]}},e:function e(r){throw r},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function s(){t=t.call(r)},n:function n(){var r=t.next();return a=r.done,r},e:function e(r){u=!0,o=r},f:function f(){try{a||null==t["return"]||t["return"]()}finally{if(u)throw o}}}}function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++){n[e]=r[e]}return n}Object.defineProperty(exports,"__esModule",{value:true});exports.assertTransactionEIP7702=assertTransactionEIP7702;exports.assertTransactionEIP4844=assertTransactionEIP4844;exports.assertTransactionEIP1559=assertTransactionEIP1559;exports.assertTransactionEIP2930=assertTransactionEIP2930;exports.assertTransactionLegacy=assertTransactionLegacy;var kzg_js_1=require("../../constants/kzg.js");var number_js_1=require("../../constants/number.js");var address_js_1=require("../../errors/address.js");var base_js_1=require("../../errors/base.js");var blob_js_1=require("../../errors/blob.js");var chain_js_1=require("../../errors/chain.js");var node_js_1=require("../../errors/node.js");var isAddress_js_1=require("../address/isAddress.js");var size_js_1=require("../data/size.js");var slice_js_1=require("../data/slice.js");var fromHex_js_1=require("../encoding/fromHex.js");function assertTransactionEIP7702(transaction){var authorizationList=transaction.authorizationList;if(authorizationList){var _iterator=_createForOfIteratorHelper(authorizationList),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var authorization=_step.value;var chainId=authorization.chainId;var address=authorization.address;if(!(0,isAddress_js_1.isAddress)(address))throw new address_js_1.InvalidAddressError({address:address});if(chainId<0)throw new chain_js_1.InvalidChainIdError({chainId:chainId})}}catch(err){_iterator.e(err)}finally{_iterator.f()}}assertTransactionEIP1559(transaction)}function assertTransactionEIP4844(transaction){var blobVersionedHashes=transaction.blobVersionedHashes;if(blobVersionedHashes){if(blobVersionedHashes.length===0)throw new blob_js_1.EmptyBlobError;var _iterator2=_createForOfIteratorHelper(blobVersionedHashes),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var hash=_step2.value;var size_=(0,size_js_1.size)(hash);var version=(0,fromHex_js_1.hexToNumber)((0,slice_js_1.slice)(hash,0,1));if(size_!==32)throw new blob_js_1.InvalidVersionedHashSizeError({hash:hash,size:size_});if(version!==kzg_js_1.versionedHashVersionKzg)throw new blob_js_1.InvalidVersionedHashVersionError({hash:hash,version:version})}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}}assertTransactionEIP1559(transaction)}function assertTransactionEIP1559(transaction){var chainId=transaction.chainId,maxPriorityFeePerGas=transaction.maxPriorityFeePerGas,maxFeePerGas=transaction.maxFeePerGas,to=transaction.to;if(chainId<=0)throw new chain_js_1.InvalidChainIdError({chainId:chainId});if(to&&!(0,isAddress_js_1.isAddress)(to))throw new address_js_1.InvalidAddressError({address:to});if(maxFeePerGas&&maxFeePerGas>number_js_1.maxUint256)throw new node_js_1.FeeCapTooHighError({maxFeePerGas:maxFeePerGas});if(maxPriorityFeePerGas&&maxFeePerGas&&maxPriorityFeePerGas>maxFeePerGas)throw new node_js_1.TipAboveFeeCapError({maxFeePerGas:maxFeePerGas,maxPriorityFeePerGas:maxPriorityFeePerGas})}function assertTransactionEIP2930(transaction){var chainId=transaction.chainId,maxPriorityFeePerGas=transaction.maxPriorityFeePerGas,gasPrice=transaction.gasPrice,maxFeePerGas=transaction.maxFeePerGas,to=transaction.to;if(chainId<=0)throw new chain_js_1.InvalidChainIdError({chainId:chainId});if(to&&!(0,isAddress_js_1.isAddress)(to))throw new address_js_1.InvalidAddressError({address:to});if(maxPriorityFeePerGas||maxFeePerGas)throw new base_js_1.BaseError("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(gasPrice&&gasPrice>number_js_1.maxUint256)throw new node_js_1.FeeCapTooHighError({maxFeePerGas:gasPrice})}function assertTransactionLegacy(transaction){var chainId=transaction.chainId,maxPriorityFeePerGas=transaction.maxPriorityFeePerGas,gasPrice=transaction.gasPrice,maxFeePerGas=transaction.maxFeePerGas,to=transaction.to;if(to&&!(0,isAddress_js_1.isAddress)(to))throw new address_js_1.InvalidAddressError({address:to});if(typeof chainId!=="undefined"&&chainId<=0)throw new chain_js_1.InvalidChainIdError({chainId:chainId});if(maxPriorityFeePerGas||maxFeePerGas)throw new base_js_1.BaseError("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(gasPrice&&gasPrice>number_js_1.maxUint256)throw new node_js_1.FeeCapTooHighError({maxFeePerGas:gasPrice})}},{"../../constants/kzg.js":340,"../../constants/number.js":341,"../../errors/address.js":347,"../../errors/base.js":348,"../../errors/blob.js":349,"../../errors/chain.js":352,"../../errors/node.js":362,"../address/isAddress.js":394,"../data/size.js":419,"../data/slice.js":420,"../encoding/fromHex.js":423}],512:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getSerializedTransactionType=getSerializedTransactionType;var transaction_js_1=require("../../errors/transaction.js");var slice_js_1=require("../data/slice.js");var fromHex_js_1=require("../encoding/fromHex.js");function getSerializedTransactionType(serializedTransaction){var serializedType=(0,slice_js_1.sliceHex)(serializedTransaction,0,1);if(serializedType==="0x04")return"eip7702";if(serializedType==="0x03")return"eip4844";if(serializedType==="0x02")return"eip1559";if(serializedType==="0x01")return"eip2930";if(serializedType!=="0x"&&(0,fromHex_js_1.hexToNumber)(serializedType)>=192)return"legacy";throw new transaction_js_1.InvalidSerializedTransactionTypeError({serializedType:serializedType})}},{"../../errors/transaction.js":366,"../data/slice.js":420,"../encoding/fromHex.js":423}],513:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getTransactionType=getTransactionType;var transaction_js_1=require("../../errors/transaction.js");function getTransactionType(transaction){if(transaction.type)return transaction.type;if(typeof transaction.authorizationList!=="undefined")return"eip7702";if(typeof transaction.blobs!=="undefined"||typeof transaction.blobVersionedHashes!=="undefined"||typeof transaction.maxFeePerBlobGas!=="undefined"||typeof transaction.sidecars!=="undefined")return"eip4844";if(typeof transaction.maxFeePerGas!=="undefined"||typeof transaction.maxPriorityFeePerGas!=="undefined"){return"eip1559"}if(typeof transaction.gasPrice!=="undefined"){if(typeof transaction.accessList!=="undefined")return"eip2930";return"legacy"}throw new transaction_js_1.InvalidSerializableTransactionError({transaction:transaction})}},{"../../errors/transaction.js":366}],514:[function(require,module,exports){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function _defineProperty(e,r,t){return(r=_toPropertyKey(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function _slicedToArray(r,e){return _arrayWithHoles(r)||_iterableToArrayLimit(r,e)||_unsupportedIterableToArray(r,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++){n[e]=r[e]}return n}function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0){}}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t["return"]&&(u=t["return"](),Object(u)!==u))return}finally{if(o)throw n}}return a}}function _arrayWithHoles(r){if(Array.isArray(r))return r}Object.defineProperty(exports,"__esModule",{value:true});exports.parseTransaction=parseTransaction;exports.toTransactionArray=toTransactionArray;exports.parseAccessList=parseAccessList;var address_js_1=require("../../errors/address.js");var transaction_js_1=require("../../errors/transaction.js");var isAddress_js_1=require("../address/isAddress.js");var toBlobSidecars_js_1=require("../blob/toBlobSidecars.js");var isHex_js_1=require("../data/isHex.js");var pad_js_1=require("../data/pad.js");var trim_js_1=require("../data/trim.js");var fromHex_js_1=require("../encoding/fromHex.js");var fromRlp_js_1=require("../encoding/fromRlp.js");var isHash_js_1=require("../hash/isHash.js");var assertTransaction_js_1=require("./assertTransaction.js");var getSerializedTransactionType_js_1=require("./getSerializedTransactionType.js");function parseTransaction(serializedTransaction){var type=(0,getSerializedTransactionType_js_1.getSerializedTransactionType)(serializedTransaction);if(type==="eip1559")return parseTransactionEIP1559(serializedTransaction);if(type==="eip2930")return parseTransactionEIP2930(serializedTransaction);if(type==="eip4844")return parseTransactionEIP4844(serializedTransaction);if(type==="eip7702")return parseTransactionEIP7702(serializedTransaction);return parseTransactionLegacy(serializedTransaction)}function parseTransactionEIP7702(serializedTransaction){var transactionArray=toTransactionArray(serializedTransaction);var _transactionArray=_slicedToArray(transactionArray,13),chainId=_transactionArray[0],nonce=_transactionArray[1],maxPriorityFeePerGas=_transactionArray[2],maxFeePerGas=_transactionArray[3],gas=_transactionArray[4],to=_transactionArray[5],value=_transactionArray[6],data=_transactionArray[7],accessList=_transactionArray[8],authorizationList=_transactionArray[9],v=_transactionArray[10],r=_transactionArray[11],s=_transactionArray[12];if(transactionArray.length!==10&&transactionArray.length!==13)throw new transaction_js_1.InvalidSerializedTransactionError({attributes:_objectSpread({chainId:chainId,nonce:nonce,maxPriorityFeePerGas:maxPriorityFeePerGas,maxFeePerGas:maxFeePerGas,gas:gas,to:to,value:value,data:data,accessList:accessList,authorizationList:authorizationList},transactionArray.length>9?{v:v,r:r,s:s}:{}),serializedTransaction:serializedTransaction,type:"eip7702"});var transaction={chainId:(0,fromHex_js_1.hexToNumber)(chainId),type:"eip7702"};if((0,isHex_js_1.isHex)(to)&&to!=="0x")transaction.to=to;if((0,isHex_js_1.isHex)(gas)&&gas!=="0x")transaction.gas=(0,fromHex_js_1.hexToBigInt)(gas);if((0,isHex_js_1.isHex)(data)&&data!=="0x")transaction.data=data;if((0,isHex_js_1.isHex)(nonce)&&nonce!=="0x")transaction.nonce=(0,fromHex_js_1.hexToNumber)(nonce);if((0,isHex_js_1.isHex)(value)&&value!=="0x")transaction.value=(0,fromHex_js_1.hexToBigInt)(value);if((0,isHex_js_1.isHex)(maxFeePerGas)&&maxFeePerGas!=="0x")transaction.maxFeePerGas=(0,fromHex_js_1.hexToBigInt)(maxFeePerGas);if((0,isHex_js_1.isHex)(maxPriorityFeePerGas)&&maxPriorityFeePerGas!=="0x")transaction.maxPriorityFeePerGas=(0,fromHex_js_1.hexToBigInt)(maxPriorityFeePerGas);if(accessList.length!==0&&accessList!=="0x")transaction.accessList=parseAccessList(accessList);if(authorizationList.length!==0&&authorizationList!=="0x")transaction.authorizationList=parseAuthorizationList(authorizationList);(0,assertTransaction_js_1.assertTransactionEIP7702)(transaction);var signature=transactionArray.length===13?parseEIP155Signature(transactionArray):undefined;return _objectSpread(_objectSpread({},signature),transaction)}function parseTransactionEIP4844(serializedTransaction){var transactionOrWrapperArray=toTransactionArray(serializedTransaction);var hasNetworkWrapper=transactionOrWrapperArray.length===4;var transactionArray=hasNetworkWrapper?transactionOrWrapperArray[0]:transactionOrWrapperArray;var wrapperArray=hasNetworkWrapper?transactionOrWrapperArray.slice(1):[];var _transactionArray2=_slicedToArray(transactionArray,14),chainId=_transactionArray2[0],nonce=_transactionArray2[1],maxPriorityFeePerGas=_transactionArray2[2],maxFeePerGas=_transactionArray2[3],gas=_transactionArray2[4],to=_transactionArray2[5],value=_transactionArray2[6],data=_transactionArray2[7],accessList=_transactionArray2[8],maxFeePerBlobGas=_transactionArray2[9],blobVersionedHashes=_transactionArray2[10],v=_transactionArray2[11],r=_transactionArray2[12],s=_transactionArray2[13];var _wrapperArray=_slicedToArray(wrapperArray,3),blobs=_wrapperArray[0],commitments=_wrapperArray[1],proofs=_wrapperArray[2];if(!(transactionArray.length===11||transactionArray.length===14))throw new transaction_js_1.InvalidSerializedTransactionError({attributes:_objectSpread({chainId:chainId,nonce:nonce,maxPriorityFeePerGas:maxPriorityFeePerGas,maxFeePerGas:maxFeePerGas,gas:gas,to:to,value:value,data:data,accessList:accessList},transactionArray.length>9?{v:v,r:r,s:s}:{}),serializedTransaction:serializedTransaction,type:"eip4844"});var transaction={blobVersionedHashes:blobVersionedHashes,chainId:(0,fromHex_js_1.hexToNumber)(chainId),type:"eip4844"};if((0,isHex_js_1.isHex)(to)&&to!=="0x")transaction.to=to;if((0,isHex_js_1.isHex)(gas)&&gas!=="0x")transaction.gas=(0,fromHex_js_1.hexToBigInt)(gas);if((0,isHex_js_1.isHex)(data)&&data!=="0x")transaction.data=data;if((0,isHex_js_1.isHex)(nonce)&&nonce!=="0x")transaction.nonce=(0,fromHex_js_1.hexToNumber)(nonce);if((0,isHex_js_1.isHex)(value)&&value!=="0x")transaction.value=(0,fromHex_js_1.hexToBigInt)(value);if((0,isHex_js_1.isHex)(maxFeePerBlobGas)&&maxFeePerBlobGas!=="0x")transaction.maxFeePerBlobGas=(0,fromHex_js_1.hexToBigInt)(maxFeePerBlobGas);if((0,isHex_js_1.isHex)(maxFeePerGas)&&maxFeePerGas!=="0x")transaction.maxFeePerGas=(0,fromHex_js_1.hexToBigInt)(maxFeePerGas);if((0,isHex_js_1.isHex)(maxPriorityFeePerGas)&&maxPriorityFeePerGas!=="0x")transaction.maxPriorityFeePerGas=(0,fromHex_js_1.hexToBigInt)(maxPriorityFeePerGas);if(accessList.length!==0&&accessList!=="0x")transaction.accessList=parseAccessList(accessList);if(blobs&&commitments&&proofs)transaction.sidecars=(0,toBlobSidecars_js_1.toBlobSidecars)({blobs:blobs,commitments:commitments,proofs:proofs});(0,assertTransaction_js_1.assertTransactionEIP4844)(transaction);var signature=transactionArray.length===14?parseEIP155Signature(transactionArray):undefined;return _objectSpread(_objectSpread({},signature),transaction)}function parseTransactionEIP1559(serializedTransaction){var transactionArray=toTransactionArray(serializedTransaction);var _transactionArray3=_slicedToArray(transactionArray,12),chainId=_transactionArray3[0],nonce=_transactionArray3[1],maxPriorityFeePerGas=_transactionArray3[2],maxFeePerGas=_transactionArray3[3],gas=_transactionArray3[4],to=_transactionArray3[5],value=_transactionArray3[6],data=_transactionArray3[7],accessList=_transactionArray3[8],v=_transactionArray3[9],r=_transactionArray3[10],s=_transactionArray3[11];if(!(transactionArray.length===9||transactionArray.length===12))throw new transaction_js_1.InvalidSerializedTransactionError({attributes:_objectSpread({chainId:chainId,nonce:nonce,maxPriorityFeePerGas:maxPriorityFeePerGas,maxFeePerGas:maxFeePerGas,gas:gas,to:to,value:value,data:data,accessList:accessList},transactionArray.length>9?{v:v,r:r,s:s}:{}),serializedTransaction:serializedTransaction,type:"eip1559"});var transaction={chainId:(0,fromHex_js_1.hexToNumber)(chainId),type:"eip1559"};if((0,isHex_js_1.isHex)(to)&&to!=="0x")transaction.to=to;if((0,isHex_js_1.isHex)(gas)&&gas!=="0x")transaction.gas=(0,fromHex_js_1.hexToBigInt)(gas);if((0,isHex_js_1.isHex)(data)&&data!=="0x")transaction.data=data;if((0,isHex_js_1.isHex)(nonce)&&nonce!=="0x")transaction.nonce=(0,fromHex_js_1.hexToNumber)(nonce);if((0,isHex_js_1.isHex)(value)&&value!=="0x")transaction.value=(0,fromHex_js_1.hexToBigInt)(value);if((0,isHex_js_1.isHex)(maxFeePerGas)&&maxFeePerGas!=="0x")transaction.maxFeePerGas=(0,fromHex_js_1.hexToBigInt)(maxFeePerGas);if((0,isHex_js_1.isHex)(maxPriorityFeePerGas)&&maxPriorityFeePerGas!=="0x")transaction.maxPriorityFeePerGas=(0,fromHex_js_1.hexToBigInt)(maxPriorityFeePerGas);if(accessList.length!==0&&accessList!=="0x")transaction.accessList=parseAccessList(accessList);(0,assertTransaction_js_1.assertTransactionEIP1559)(transaction);var signature=transactionArray.length===12?parseEIP155Signature(transactionArray):undefined;return _objectSpread(_objectSpread({},signature),transaction)}function parseTransactionEIP2930(serializedTransaction){var transactionArray=toTransactionArray(serializedTransaction);var _transactionArray4=_slicedToArray(transactionArray,11),chainId=_transactionArray4[0],nonce=_transactionArray4[1],gasPrice=_transactionArray4[2],gas=_transactionArray4[3],to=_transactionArray4[4],value=_transactionArray4[5],data=_transactionArray4[6],accessList=_transactionArray4[7],v=_transactionArray4[8],r=_transactionArray4[9],s=_transactionArray4[10];if(!(transactionArray.length===8||transactionArray.length===11))throw new transaction_js_1.InvalidSerializedTransactionError({attributes:_objectSpread({chainId:chainId,nonce:nonce,gasPrice:gasPrice,gas:gas,to:to,value:value,data:data,accessList:accessList},transactionArray.length>8?{v:v,r:r,s:s}:{}),serializedTransaction:serializedTransaction,type:"eip2930"});var transaction={chainId:(0,fromHex_js_1.hexToNumber)(chainId),type:"eip2930"};if((0,isHex_js_1.isHex)(to)&&to!=="0x")transaction.to=to;if((0,isHex_js_1.isHex)(gas)&&gas!=="0x")transaction.gas=(0,fromHex_js_1.hexToBigInt)(gas);if((0,isHex_js_1.isHex)(data)&&data!=="0x")transaction.data=data;if((0,isHex_js_1.isHex)(nonce)&&nonce!=="0x")transaction.nonce=(0,fromHex_js_1.hexToNumber)(nonce);if((0,isHex_js_1.isHex)(value)&&value!=="0x")transaction.value=(0,fromHex_js_1.hexToBigInt)(value);if((0,isHex_js_1.isHex)(gasPrice)&&gasPrice!=="0x")transaction.gasPrice=(0,fromHex_js_1.hexToBigInt)(gasPrice);if(accessList.length!==0&&accessList!=="0x")transaction.accessList=parseAccessList(accessList);(0,assertTransaction_js_1.assertTransactionEIP2930)(transaction);var signature=transactionArray.length===11?parseEIP155Signature(transactionArray):undefined;return _objectSpread(_objectSpread({},signature),transaction)}function parseTransactionLegacy(serializedTransaction){var transactionArray=(0,fromRlp_js_1.fromRlp)(serializedTransaction,"hex");var _transactionArray5=_slicedToArray(transactionArray,9),nonce=_transactionArray5[0],gasPrice=_transactionArray5[1],gas=_transactionArray5[2],to=_transactionArray5[3],value=_transactionArray5[4],data=_transactionArray5[5],chainIdOrV_=_transactionArray5[6],r=_transactionArray5[7],s=_transactionArray5[8];if(!(transactionArray.length===6||transactionArray.length===9))throw new transaction_js_1.InvalidSerializedTransactionError({attributes:_objectSpread({nonce:nonce,gasPrice:gasPrice,gas:gas,to:to,value:value,data:data},transactionArray.length>6?{v:chainIdOrV_,r:r,s:s}:{}),serializedTransaction:serializedTransaction,type:"legacy"});var transaction={type:"legacy"};if((0,isHex_js_1.isHex)(to)&&to!=="0x")transaction.to=to;if((0,isHex_js_1.isHex)(gas)&&gas!=="0x")transaction.gas=(0,fromHex_js_1.hexToBigInt)(gas);if((0,isHex_js_1.isHex)(data)&&data!=="0x")transaction.data=data;if((0,isHex_js_1.isHex)(nonce)&&nonce!=="0x")transaction.nonce=(0,fromHex_js_1.hexToNumber)(nonce);if((0,isHex_js_1.isHex)(value)&&value!=="0x")transaction.value=(0,fromHex_js_1.hexToBigInt)(value);if((0,isHex_js_1.isHex)(gasPrice)&&gasPrice!=="0x")transaction.gasPrice=(0,fromHex_js_1.hexToBigInt)(gasPrice);(0,assertTransaction_js_1.assertTransactionLegacy)(transaction);if(transactionArray.length===6)return transaction;var chainIdOrV=(0,isHex_js_1.isHex)(chainIdOrV_)&&chainIdOrV_!=="0x"?(0,fromHex_js_1.hexToBigInt)(chainIdOrV_):0n;if(s==="0x"&&r==="0x"){if(chainIdOrV>0)transaction.chainId=Number(chainIdOrV);return transaction}var v=chainIdOrV;var chainId=Number((v-35n)/2n);if(chainId>0)transaction.chainId=chainId;else if(v!==27n&&v!==28n)throw new transaction_js_1.InvalidLegacyVError({v:v});transaction.v=v;transaction.s=s;transaction.r=r;transaction.yParity=v%2n===0n?1:0;return transaction}function toTransactionArray(serializedTransaction){return(0,fromRlp_js_1.fromRlp)("0x".concat(serializedTransaction.slice(4)),"hex")}function parseAccessList(accessList_){var accessList=[];for(var i=0;i<accessList_.length;i++){var _accessList_$i=_slicedToArray(accessList_[i],2),address=_accessList_$i[0],storageKeys=_accessList_$i[1];if(!(0,isAddress_js_1.isAddress)(address,{strict:false}))throw new address_js_1.InvalidAddressError({address:address});accessList.push({address:address,storageKeys:storageKeys.map(function(key){return(0,isHash_js_1.isHash)(key)?key:(0,trim_js_1.trim)(key)})})}return accessList}function parseAuthorizationList(serializedAuthorizationList){var authorizationList=[];for(var i=0;i<serializedAuthorizationList.length;i++){var _serializedAuthorizat=_slicedToArray(serializedAuthorizationList[i],6),chainId=_serializedAuthorizat[0],address=_serializedAuthorizat[1],nonce=_serializedAuthorizat[2],yParity=_serializedAuthorizat[3],r=_serializedAuthorizat[4],s=_serializedAuthorizat[5];authorizationList.push(_objectSpread({address:address,chainId:(0,fromHex_js_1.hexToNumber)(chainId),nonce:(0,fromHex_js_1.hexToNumber)(nonce)},parseEIP155Signature([yParity,r,s])))}return authorizationList}function parseEIP155Signature(transactionArray){var signature=transactionArray.slice(-3);var v=signature[0]==="0x"||(0,fromHex_js_1.hexToBigInt)(signature[0])===0n?27n:28n;return{r:(0,pad_js_1.padHex)(signature[1],{size:32}),s:(0,pad_js_1.padHex)(signature[2],{size:32}),v:v,yParity:v===27n?0:1}}},{"../../errors/address.js":347,"../../errors/transaction.js":366,"../address/isAddress.js":394,"../blob/toBlobSidecars.js":406,"../data/isHex.js":417,"../data/pad.js":418,"../data/trim.js":421,"../encoding/fromHex.js":423,"../encoding/fromRlp.js":424,"../hash/isHash.js":454,"./assertTransaction.js":511,"./getSerializedTransactionType.js":512}],515:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.serializeAccessList=serializeAccessList;var address_js_1=require("../../errors/address.js");var transaction_js_1=require("../../errors/transaction.js");var isAddress_js_1=require("../address/isAddress.js");function serializeAccessList(accessList){if(!accessList||accessList.length===0)return[];var serializedAccessList=[];for(var i=0;i<accessList.length;i++){var _accessList$i=accessList[i],address=_accessList$i.address,storageKeys=_accessList$i.storageKeys;for(var j=0;j<storageKeys.length;j++){if(storageKeys[j].length-2!==64){throw new transaction_js_1.InvalidStorageKeySizeError({storageKey:storageKeys[j]})}}if(!(0,isAddress_js_1.isAddress)(address,{strict:false})){throw new address_js_1.InvalidAddressError({address:address})}serializedAccessList.push([address,storageKeys])}return serializedAccessList}},{"../../errors/address.js":347,"../../errors/transaction.js":366,"../address/isAddress.js":394}],516:[function(require,module,exports){"use strict";function _toConsumableArray(r){return _arrayWithoutHoles(r)||_iterableToArray(r)||_unsupportedIterableToArray(r)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}function _iterableToArray(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}function _arrayWithoutHoles(r){if(Array.isArray(r))return _arrayLikeToArray(r)}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++){n[e]=r[e]}return n}Object.defineProperty(exports,"__esModule",{value:true});exports.serializeTransaction=serializeTransaction;exports.toYParitySignatureArray=toYParitySignatureArray;var transaction_js_1=require("../../errors/transaction.js");var serializeAuthorizationList_js_1=require("../authorization/serializeAuthorizationList.js");var blobsToCommitments_js_1=require("../blob/blobsToCommitments.js");var blobsToProofs_js_1=require("../blob/blobsToProofs.js");var commitmentsToVersionedHashes_js_1=require("../blob/commitmentsToVersionedHashes.js");var toBlobSidecars_js_1=require("../blob/toBlobSidecars.js");var concat_js_1=require("../data/concat.js");var trim_js_1=require("../data/trim.js");var toHex_js_1=require("../encoding/toHex.js");var toRlp_js_1=require("../encoding/toRlp.js");var assertTransaction_js_1=require("./assertTransaction.js");var getTransactionType_js_1=require("./getTransactionType.js");var serializeAccessList_js_1=require("./serializeAccessList.js");function serializeTransaction(transaction,signature){var type=(0,getTransactionType_js_1.getTransactionType)(transaction);if(type==="eip1559")return serializeTransactionEIP1559(transaction,signature);if(type==="eip2930")return serializeTransactionEIP2930(transaction,signature);if(type==="eip4844")return serializeTransactionEIP4844(transaction,signature);if(type==="eip7702")return serializeTransactionEIP7702(transaction,signature);return serializeTransactionLegacy(transaction,signature)}function serializeTransactionEIP7702(transaction,signature){var authorizationList=transaction.authorizationList,chainId=transaction.chainId,gas=transaction.gas,nonce=transaction.nonce,to=transaction.to,value=transaction.value,maxFeePerGas=transaction.maxFeePerGas,maxPriorityFeePerGas=transaction.maxPriorityFeePerGas,accessList=transaction.accessList,data=transaction.data;(0,assertTransaction_js_1.assertTransactionEIP7702)(transaction);var serializedAccessList=(0,serializeAccessList_js_1.serializeAccessList)(accessList);var serializedAuthorizationList=(0,serializeAuthorizationList_js_1.serializeAuthorizationList)(authorizationList);return(0,concat_js_1.concatHex)(["0x04",(0,toRlp_js_1.toRlp)([(0,toHex_js_1.toHex)(chainId),nonce?(0,toHex_js_1.toHex)(nonce):"0x",maxPriorityFeePerGas?(0,toHex_js_1.toHex)(maxPriorityFeePerGas):"0x",maxFeePerGas?(0,toHex_js_1.toHex)(maxFeePerGas):"0x",gas?(0,toHex_js_1.toHex)(gas):"0x",to!==null&&to!==void 0?to:"0x",value?(0,toHex_js_1.toHex)(value):"0x",data!==null&&data!==void 0?data:"0x",serializedAccessList,serializedAuthorizationList].concat(_toConsumableArray(toYParitySignatureArray(transaction,signature))))])}function serializeTransactionEIP4844(transaction,signature){var _blobVersionedHashes;var chainId=transaction.chainId,gas=transaction.gas,nonce=transaction.nonce,to=transaction.to,value=transaction.value,maxFeePerBlobGas=transaction.maxFeePerBlobGas,maxFeePerGas=transaction.maxFeePerGas,maxPriorityFeePerGas=transaction.maxPriorityFeePerGas,accessList=transaction.accessList,data=transaction.data;(0,assertTransaction_js_1.assertTransactionEIP4844)(transaction);var blobVersionedHashes=transaction.blobVersionedHashes;var sidecars=transaction.sidecars;if(transaction.blobs&&(typeof blobVersionedHashes==="undefined"||typeof sidecars==="undefined")){var _blobs=typeof transaction.blobs[0]==="string"?transaction.blobs:transaction.blobs.map(function(x){return(0,toHex_js_1.bytesToHex)(x)});var kzg=transaction.kzg;var _commitments=(0,blobsToCommitments_js_1.blobsToCommitments)({blobs:_blobs,kzg:kzg});if(typeof blobVersionedHashes==="undefined")blobVersionedHashes=(0,commitmentsToVersionedHashes_js_1.commitmentsToVersionedHashes)({commitments:_commitments});if(typeof sidecars==="undefined"){var _proofs=(0,blobsToProofs_js_1.blobsToProofs)({blobs:_blobs,commitments:_commitments,kzg:kzg});sidecars=(0,toBlobSidecars_js_1.toBlobSidecars)({blobs:_blobs,commitments:_commitments,proofs:_proofs})}}var serializedAccessList=(0,serializeAccessList_js_1.serializeAccessList)(accessList);var serializedTransaction=[(0,toHex_js_1.toHex)(chainId),nonce?(0,toHex_js_1.toHex)(nonce):"0x",maxPriorityFeePerGas?(0,toHex_js_1.toHex)(maxPriorityFeePerGas):"0x",maxFeePerGas?(0,toHex_js_1.toHex)(maxFeePerGas):"0x",gas?(0,toHex_js_1.toHex)(gas):"0x",to!==null&&to!==void 0?to:"0x",value?(0,toHex_js_1.toHex)(value):"0x",data!==null&&data!==void 0?data:"0x",serializedAccessList,maxFeePerBlobGas?(0,toHex_js_1.toHex)(maxFeePerBlobGas):"0x",(_blobVersionedHashes=blobVersionedHashes)!==null&&_blobVersionedHashes!==void 0?_blobVersionedHashes:[]].concat(_toConsumableArray(toYParitySignatureArray(transaction,signature)));var blobs=[];var commitments=[];var proofs=[];if(sidecars)for(var i=0;i<sidecars.length;i++){var _sidecars$i=sidecars[i],blob=_sidecars$i.blob,commitment=_sidecars$i.commitment,proof=_sidecars$i.proof;blobs.push(blob);commitments.push(commitment);proofs.push(proof)}return(0,concat_js_1.concatHex)(["0x03",sidecars?(0,toRlp_js_1.toRlp)([serializedTransaction,blobs,commitments,proofs]):(0,toRlp_js_1.toRlp)(serializedTransaction)])}function serializeTransactionEIP1559(transaction,signature){var chainId=transaction.chainId,gas=transaction.gas,nonce=transaction.nonce,to=transaction.to,value=transaction.value,maxFeePerGas=transaction.maxFeePerGas,maxPriorityFeePerGas=transaction.maxPriorityFeePerGas,accessList=transaction.accessList,data=transaction.data;(0,assertTransaction_js_1.assertTransactionEIP1559)(transaction);var serializedAccessList=(0,serializeAccessList_js_1.serializeAccessList)(accessList);var serializedTransaction=[(0,toHex_js_1.toHex)(chainId),nonce?(0,toHex_js_1.toHex)(nonce):"0x",maxPriorityFeePerGas?(0,toHex_js_1.toHex)(maxPriorityFeePerGas):"0x",maxFeePerGas?(0,toHex_js_1.toHex)(maxFeePerGas):"0x",gas?(0,toHex_js_1.toHex)(gas):"0x",to!==null&&to!==void 0?to:"0x",value?(0,toHex_js_1.toHex)(value):"0x",data!==null&&data!==void 0?data:"0x",serializedAccessList].concat(_toConsumableArray(toYParitySignatureArray(transaction,signature)));return(0,concat_js_1.concatHex)(["0x02",(0,toRlp_js_1.toRlp)(serializedTransaction)])}function serializeTransactionEIP2930(transaction,signature){var chainId=transaction.chainId,gas=transaction.gas,data=transaction.data,nonce=transaction.nonce,to=transaction.to,value=transaction.value,accessList=transaction.accessList,gasPrice=transaction.gasPrice;(0,assertTransaction_js_1.assertTransactionEIP2930)(transaction);var serializedAccessList=(0,serializeAccessList_js_1.serializeAccessList)(accessList);var serializedTransaction=[(0,toHex_js_1.toHex)(chainId),nonce?(0,toHex_js_1.toHex)(nonce):"0x",gasPrice?(0,toHex_js_1.toHex)(gasPrice):"0x",gas?(0,toHex_js_1.toHex)(gas):"0x",to!==null&&to!==void 0?to:"0x",value?(0,toHex_js_1.toHex)(value):"0x",data!==null&&data!==void 0?data:"0x",serializedAccessList].concat(_toConsumableArray(toYParitySignatureArray(transaction,signature)));return(0,concat_js_1.concatHex)(["0x01",(0,toRlp_js_1.toRlp)(serializedTransaction)])}function serializeTransactionLegacy(transaction,signature){var _transaction$chainId=transaction.chainId,chainId=_transaction$chainId===void 0?0:_transaction$chainId,gas=transaction.gas,data=transaction.data,nonce=transaction.nonce,to=transaction.to,value=transaction.value,gasPrice=transaction.gasPrice;(0,assertTransaction_js_1.assertTransactionLegacy)(transaction);var serializedTransaction=[nonce?(0,toHex_js_1.toHex)(nonce):"0x",gasPrice?(0,toHex_js_1.toHex)(gasPrice):"0x",gas?(0,toHex_js_1.toHex)(gas):"0x",to!==null&&to!==void 0?to:"0x",value?(0,toHex_js_1.toHex)(value):"0x",data!==null&&data!==void 0?data:"0x"];if(signature){var v=function(){if(signature.v>=35n){var inferredChainId=(signature.v-35n)/2n;if(inferredChainId>0)return signature.v;return 27n+(signature.v===35n?0n:1n)}if(chainId>0)return BigInt(chainId*2)+BigInt(35n+signature.v-27n);var v=27n+(signature.v===27n?0n:1n);if(signature.v!==v)throw new transaction_js_1.InvalidLegacyVError({v:signature.v});return v}();var r=(0,trim_js_1.trim)(signature.r);var s=(0,trim_js_1.trim)(signature.s);serializedTransaction=[].concat(_toConsumableArray(serializedTransaction),[(0,toHex_js_1.toHex)(v),r==="0x00"?"0x":r,s==="0x00"?"0x":s])}else if(chainId>0){serializedTransaction=[].concat(_toConsumableArray(serializedTransaction),[(0,toHex_js_1.toHex)(chainId),"0x","0x"])}return(0,toRlp_js_1.toRlp)(serializedTransaction)}function toYParitySignatureArray(transaction,signature_){var signature=signature_!==null&&signature_!==void 0?signature_:transaction;var v=signature.v,yParity=signature.yParity;if(typeof signature.r==="undefined")return[];if(typeof signature.s==="undefined")return[];if(typeof v==="undefined"&&typeof yParity==="undefined")return[];var r=(0,trim_js_1.trim)(signature.r);var s=(0,trim_js_1.trim)(signature.s);var yParity_=function(){if(typeof yParity==="number")return yParity?(0,toHex_js_1.toHex)(1):"0x";if(v===0n)return"0x";if(v===1n)return(0,toHex_js_1.toHex)(1);return v===27n?"0x":(0,toHex_js_1.toHex)(1)}();return[yParity_,r==="0x00"?"0x":r,s==="0x00"?"0x":s]}},{"../../errors/transaction.js":366,"../authorization/serializeAuthorizationList.js":398,"../blob/blobsToCommitments.js":400,"../blob/blobsToProofs.js":401,"../blob/commitmentsToVersionedHashes.js":403,"../blob/toBlobSidecars.js":406,"../data/concat.js":415,"../data/trim.js":421,"../encoding/toHex.js":426,"../encoding/toRlp.js":427,"./assertTransaction.js":511,"./getTransactionType.js":513,"./serializeAccessList.js":515}],517:[function(require,module,exports){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _slicedToArray(r,e){return _arrayWithHoles(r)||_iterableToArrayLimit(r,e)||_unsupportedIterableToArray(r,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0){}}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t["return"]&&(u=t["return"](),Object(u)!==u))return}finally{if(o)throw n}}return a}}function _arrayWithHoles(r){if(Array.isArray(r))return r}function _createForOfIteratorHelper(r,e){var t="undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(!t){if(Array.isArray(r)||(t=_unsupportedIterableToArray(r))||e&&r&&"number"==typeof r.length){t&&(r=t);var _n=0,F=function F(){};return{s:F,n:function n(){return _n>=r.length?{done:!0}:{done:!1,value:r[_n++]}},e:function e(r){throw r},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function s(){t=t.call(r)},n:function n(){var r=t.next();return a=r.done,r},e:function e(r){u=!0,o=r},f:function f(){try{a||null==t["return"]||t["return"]()}finally{if(u)throw o}}}}function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++){n[e]=r[e]}return n}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function _defineProperty(e,r,t){return(r=_toPropertyKey(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}Object.defineProperty(exports,"__esModule",{value:true});exports.serializeTypedData=serializeTypedData;exports.validateTypedData=validateTypedData;exports.getTypesForEIP712Domain=getTypesForEIP712Domain;exports.domainSeparator=domainSeparator;var abi_js_1=require("../errors/abi.js");var address_js_1=require("../errors/address.js");var typedData_js_1=require("../errors/typedData.js");var isAddress_js_1=require("./address/isAddress.js");var size_js_1=require("./data/size.js");var toHex_js_1=require("./encoding/toHex.js");var regex_js_1=require("./regex.js");var hashTypedData_js_1=require("./signature/hashTypedData.js");var stringify_js_1=require("./stringify.js");function serializeTypedData(parameters){var domain_=parameters.domain,message_=parameters.message,primaryType=parameters.primaryType,types=parameters.types;var normalizeData=function normalizeData(struct,data_){var data=_objectSpread({},data_);var _iterator=_createForOfIteratorHelper(struct),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var param=_step.value;var name=param.name,type=param.type;if(type==="address")data[name]=data[name].toLowerCase()}}catch(err){_iterator.e(err)}finally{_iterator.f()}return data};var domain=function(){if(!types.EIP712Domain)return{};if(!domain_)return{};return normalizeData(types.EIP712Domain,domain_)}();var message=function(){if(primaryType==="EIP712Domain")return undefined;return normalizeData(types[primaryType],message_)}();return(0,stringify_js_1.stringify)({domain:domain,message:message,primaryType:primaryType,types:types})}function validateTypedData(parameters){var domain=parameters.domain,message=parameters.message,primaryType=parameters.primaryType,types=parameters.types;var validateData=function validateData(struct,data){var _iterator2=_createForOfIteratorHelper(struct),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var param=_step2.value;var name=param.name,type=param.type;var value=data[name];var integerMatch=type.match(regex_js_1.integerRegex);if(integerMatch&&(typeof value==="number"||typeof value==="bigint")){var _integerMatch=_slicedToArray(integerMatch,3),_type=_integerMatch[0],base=_integerMatch[1],size_=_integerMatch[2];(0,toHex_js_1.numberToHex)(value,{signed:base==="int",size:Number.parseInt(size_)/8})}if(type==="address"&&typeof value==="string"&&!(0,isAddress_js_1.isAddress)(value))throw new address_js_1.InvalidAddressError({address:value});var bytesMatch=type.match(regex_js_1.bytesRegex);if(bytesMatch){var _bytesMatch=_slicedToArray(bytesMatch,2),_type2=_bytesMatch[0],_size_=_bytesMatch[1];if(_size_&&(0,size_js_1.size)(value)!==Number.parseInt(_size_))throw new abi_js_1.BytesSizeMismatchError({expectedSize:Number.parseInt(_size_),givenSize:(0,size_js_1.size)(value)})}var _struct=types[type];if(_struct){validateReference(type);validateData(_struct,value)}}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}};if(types.EIP712Domain&&domain){if(_typeof(domain)!=="object")throw new typedData_js_1.InvalidDomainError({domain:domain});validateData(types.EIP712Domain,domain)}if(primaryType!=="EIP712Domain"){if(types[primaryType])validateData(types[primaryType],message);else throw new typedData_js_1.InvalidPrimaryTypeError({primaryType:primaryType,types:types})}}function getTypesForEIP712Domain(_ref){var domain=_ref.domain;return[typeof(domain===null||domain===void 0?void 0:domain.name)==="string"&&{name:"name",type:"string"},(domain===null||domain===void 0?void 0:domain.version)&&{name:"version",type:"string"},(typeof(domain===null||domain===void 0?void 0:domain.chainId)==="number"||typeof(domain===null||domain===void 0?void 0:domain.chainId)==="bigint")&&{name:"chainId",type:"uint256"},(domain===null||domain===void 0?void 0:domain.verifyingContract)&&{name:"verifyingContract",type:"address"},(domain===null||domain===void 0?void 0:domain.salt)&&{name:"salt",type:"bytes32"}].filter(Boolean)}function domainSeparator(_ref2){var domain=_ref2.domain;return(0,hashTypedData_js_1.hashDomain)({domain:domain,types:{EIP712Domain:getTypesForEIP712Domain({domain:domain})}})}function validateReference(type){if(type==="address"||type==="bool"||type==="string"||type.startsWith("bytes")||type.startsWith("uint")||type.startsWith("int"))throw new typedData_js_1.InvalidStructTypeError({type:type})}},{"../errors/abi.js":345,"../errors/address.js":347,"../errors/typedData.js":368,"./address/isAddress.js":394,"./data/size.js":419,"./encoding/toHex.js":426,"./regex.js":480,"./signature/hashTypedData.js":488,"./stringify.js":509}],518:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.uid=uid;var size=256;var index=size;var buffer;function uid(){var length=arguments.length>0&&arguments[0]!==undefined?arguments[0]:11;if(!buffer||index+length>size*2){buffer="";index=0;for(var i=0;i<size;i++){buffer+=(256+Math.random()*256|0).toString(16).substring(1)}}return buffer.substring(index,index+++length)}},{}],519:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.formatEther=formatEther;var unit_js_1=require("../../constants/unit.js");var formatUnits_js_1=require("./formatUnits.js");function formatEther(wei){var unit=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"wei";return(0,formatUnits_js_1.formatUnits)(wei,unit_js_1.etherUnits[unit])}},{"../../constants/unit.js":344,"./formatUnits.js":521}],520:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.formatGwei=formatGwei;var unit_js_1=require("../../constants/unit.js");var formatUnits_js_1=require("./formatUnits.js");function formatGwei(wei){var unit=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"wei";return(0,formatUnits_js_1.formatUnits)(wei,unit_js_1.gweiUnits[unit])}},{"../../constants/unit.js":344,"./formatUnits.js":521}],521:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.formatUnits=formatUnits;function formatUnits(value,decimals){var display=value.toString();var negative=display.startsWith("-");if(negative)display=display.slice(1);display=display.padStart(decimals,"0");var _ref=[display.slice(0,display.length-decimals),display.slice(display.length-decimals)],integer=_ref[0],fraction=_ref[1];fraction=fraction.replace(/(0+)$/,"");return"".concat(negative?"-":"").concat(integer||"0").concat(fraction?".".concat(fraction):"")}},{}],522:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.parseEther=parseEther;var unit_js_1=require("../../constants/unit.js");var parseUnits_js_1=require("./parseUnits.js");function parseEther(ether){var unit=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"wei";return(0,parseUnits_js_1.parseUnits)(ether,unit_js_1.etherUnits[unit])}},{"../../constants/unit.js":344,"./parseUnits.js":524}],523:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.parseGwei=parseGwei;var unit_js_1=require("../../constants/unit.js");var parseUnits_js_1=require("./parseUnits.js");function parseGwei(ether){var unit=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"wei";return(0,parseUnits_js_1.parseUnits)(ether,unit_js_1.gweiUnits[unit])}},{"../../constants/unit.js":344,"./parseUnits.js":524}],524:[function(require,module,exports){"use strict";function _slicedToArray(r,e){return _arrayWithHoles(r)||_iterableToArrayLimit(r,e)||_unsupportedIterableToArray(r,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++){n[e]=r[e]}return n}function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0){}}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t["return"]&&(u=t["return"](),Object(u)!==u))return}finally{if(o)throw n}}return a}}function _arrayWithHoles(r){if(Array.isArray(r))return r}Object.defineProperty(exports,"__esModule",{value:true});exports.parseUnits=parseUnits;var unit_js_1=require("../../errors/unit.js");function parseUnits(value,decimals){if(!/^(-?)([0-9]*)\.?([0-9]*)$/.test(value))throw new unit_js_1.InvalidDecimalNumberError({value:value});var _value$split=value.split("."),_value$split2=_slicedToArray(_value$split,2),integer=_value$split2[0],_value$split2$=_value$split2[1],fraction=_value$split2$===void 0?"0":_value$split2$;var negative=integer.startsWith("-");if(negative)integer=integer.slice(1);fraction=fraction.replace(/(0+)$/,"");if(decimals===0){if(Math.round(Number(".".concat(fraction)))===1)integer="".concat(BigInt(integer)+1n);fraction=""}else if(fraction.length>decimals){var _ref=[fraction.slice(0,decimals-1),fraction.slice(decimals-1,decimals),fraction.slice(decimals)],left=_ref[0],unit=_ref[1],right=_ref[2];var rounded=Math.round(Number("".concat(unit,".").concat(right)));if(rounded>9)fraction="".concat(BigInt(left)+BigInt(1),"0").padStart(left.length+1,"0");else fraction="".concat(left).concat(rounded);if(fraction.length>decimals){fraction=fraction.slice(1);integer="".concat(BigInt(integer)+1n)}fraction=fraction.slice(0,decimals)}else{fraction=fraction.padEnd(decimals,"0")}return BigInt("".concat(negative?"-":"").concat(integer).concat(fraction))}},{"../../errors/unit.js":369}],525:[function(require,module,exports){"use strict";function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}Object.defineProperty(exports,"__esModule",{value:true});exports.wait=wait;function wait(_x){return _wait.apply(this,arguments)}function _wait(){_wait=_asyncToGenerator(regeneratorRuntime.mark(function _callee(time){return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:return _context.abrupt("return",new Promise(function(res){return setTimeout(res,time)}));case 1:case"end":return _context.stop()}}},_callee)}));return _wait.apply(this,arguments)}},{}],526:[function(require,module,exports){"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _classCallCheck(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),o)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}var RPCServer=function(){function RPCServer(rpcUrl){_classCallCheck(this,RPCServer);this.rpcUrl=rpcUrl}_createClass(RPCServer,[{key:"getBlockNumber",value:function getBlockNumber(){return this.call({jsonrpc:"2.0",method:"eth_blockNumber",params:[]}).then(function(json){return json.result})}},{key:"getBlockByNumber",value:function getBlockByNumber(number){return this.call({jsonrpc:"2.0",method:"eth_getBlockByNumber",params:[number,false]}).then(function(json){return json.result})}},{key:"getFilterLogs",value:function getFilterLogs(filter){return this.call({jsonrpc:"2.0",method:"eth_getLogs",params:[filter]})}},{key:"call",value:function call(payload){return fetch(this.rpcUrl,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(payload)}).then(function(response){return response.json()}).then(function(json){if(!json.result&&json.error){console.log("<== rpc error",json.error);throw new Error(json.error.message||"rpc error")}return json})}}]);return RPCServer}();module.exports=RPCServer},{}],527:[function(require,module,exports){"use strict";var _buffer=require("buffer");function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _toConsumableArray(r){return _arrayWithoutHoles(r)||_iterableToArray(r)||_unsupportedIterableToArray(r)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}function _iterableToArray(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}function _arrayWithoutHoles(r){if(Array.isArray(r))return _arrayLikeToArray(r)}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++){n[e]=r[e]}return n}function _classCallCheck(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),o)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}var Utils=function(){function Utils(){_classCallCheck(this,Utils)}_createClass(Utils,null,[{key:"genId",value:function genId(){return(new Date).getTime()+Math.floor(Math.random()*1e3)}},{key:"flatMap",value:function flatMap(array,func){var _ref;return(_ref=[]).concat.apply(_ref,_toConsumableArray(array.map(func)))}},{key:"intRange",value:function intRange(from,to){if(from>=to){return[]}return new Array(to-from).fill().map(function(_,i){return i+from})}},{key:"hexToInt",value:function hexToInt(hexString){if(hexString===undefined||hexString===null){return hexString}return Number.parseInt(hexString,16)}},{key:"intToHex",value:function intToHex(_int){if(_int===undefined||_int===null){return _int}var hexString=_int.toString(16);return"0x"+hexString}},{key:"messageToBuffer",value:function messageToBuffer(message){var buffer=_buffer.Buffer.from([]);try{if(typeof message==="string"){buffer=_buffer.Buffer.from(message.replace("0x",""),"hex")}else{buffer=_buffer.Buffer.from(message)}}catch(err){console.log("messageToBuffer error: ".concat(err))}return buffer}},{key:"bufferToHex",value:function bufferToHex(buf){return"0x"+_buffer.Buffer.from(buf).toString("hex")}}]);return Utils}();module.exports=Utils},{buffer:168}]},{},[5]);
