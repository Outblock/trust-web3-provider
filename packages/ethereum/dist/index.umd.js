(function(br,Un){typeof exports=="object"&&typeof module<"u"?Un(exports,require("http"),require("https"),require("zlib"),require("util"),require("url")):typeof define=="function"&&define.amd?define(["exports","http","https","zlib","util","url"],Un):(br=typeof globalThis<"u"?globalThis:br||self,Un(br["@trustwallet/web3-provider-ethereum"]={},br.require$$0$2,br.require$$1$2,br.require$$2$1,br.require$$3,br.require$$4))})(this,function(br,Un,Pl,Nl,jl,kl){"use strict";function Hn(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}var Ul=Hn(Un),Hl=Hn(Pl),Ml=Hn(Nl),Fl=Hn(jl),Dl=Hn(kl),nt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Mn(e){var t=e.default;if(typeof t=="function"){var r=function(){return t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var wi={exports:{}},fn=typeof Reflect=="object"?Reflect:null,Qs=fn&&typeof fn.apply=="function"?fn.apply:function(t,r,n){return Function.prototype.apply.call(t,r,n)},mi;fn&&typeof fn.ownKeys=="function"?mi=fn.ownKeys:Object.getOwnPropertySymbols?mi=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:mi=function(t){return Object.getOwnPropertyNames(t)};function Vl(e){console&&console.warn&&console.warn(e)}var ea=Number.isNaN||function(t){return t!==t};function ft(){ft.init.call(this)}wi.exports=ft,wi.exports.once=Wl,ft.EventEmitter=ft,ft.prototype._events=void 0,ft.prototype._eventsCount=0,ft.prototype._maxListeners=void 0;var ta=10;function Ei(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(ft,"defaultMaxListeners",{enumerable:!0,get:function(){return ta},set:function(e){if(typeof e!="number"||e<0||ea(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");ta=e}}),ft.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},ft.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||ea(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function ra(e){return e._maxListeners===void 0?ft.defaultMaxListeners:e._maxListeners}ft.prototype.getMaxListeners=function(){return ra(this)},ft.prototype.emit=function(t){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var i=t==="error",o=this._events;if(o!==void 0)i=i&&o.error===void 0;else if(!i)return!1;if(i){var c;if(r.length>0&&(c=r[0]),c instanceof Error)throw c;var a=new Error("Unhandled error."+(c?" ("+c.message+")":""));throw a.context=c,a}var l=o[t];if(l===void 0)return!1;if(typeof l=="function")Qs(l,this,r);else for(var p=l.length,m=aa(l,p),n=0;n<p;++n)Qs(m[n],this,r);return!0};function na(e,t,r,n){var i,o,c;if(Ei(r),o=e._events,o===void 0?(o=e._events=Object.create(null),e._eventsCount=0):(o.newListener!==void 0&&(e.emit("newListener",t,r.listener?r.listener:r),o=e._events),c=o[t]),c===void 0)c=o[t]=r,++e._eventsCount;else if(typeof c=="function"?c=o[t]=n?[r,c]:[c,r]:n?c.unshift(r):c.push(r),i=ra(e),i>0&&c.length>i&&!c.warned){c.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+c.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=e,a.type=t,a.count=c.length,Vl(a)}return e}ft.prototype.addListener=function(t,r){return na(this,t,r,!1)},ft.prototype.on=ft.prototype.addListener,ft.prototype.prependListener=function(t,r){return na(this,t,r,!0)};function ql(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function ia(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=ql.bind(n);return i.listener=r,n.wrapFn=i,i}ft.prototype.once=function(t,r){return Ei(r),this.on(t,ia(this,t,r)),this},ft.prototype.prependOnceListener=function(t,r){return Ei(r),this.prependListener(t,ia(this,t,r)),this},ft.prototype.removeListener=function(t,r){var n,i,o,c,a;if(Ei(r),i=this._events,i===void 0)return this;if(n=i[t],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete i[t],i.removeListener&&this.emit("removeListener",t,n.listener||r));else if(typeof n!="function"){for(o=-1,c=n.length-1;c>=0;c--)if(n[c]===r||n[c].listener===r){a=n[c].listener,o=c;break}if(o<0)return this;o===0?n.shift():zl(n,o),n.length===1&&(i[t]=n[0]),i.removeListener!==void 0&&this.emit("removeListener",t,a||r)}return this},ft.prototype.off=ft.prototype.removeListener,ft.prototype.removeAllListeners=function(t){var r,n,i;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[t]),this;if(arguments.length===0){var o=Object.keys(n),c;for(i=0;i<o.length;++i)c=o[i],c!=="removeListener"&&this.removeAllListeners(c);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[t],typeof r=="function")this.removeListener(t,r);else if(r!==void 0)for(i=r.length-1;i>=0;i--)this.removeListener(t,r[i]);return this};function oa(e,t,r){var n=e._events;if(n===void 0)return[];var i=n[t];return i===void 0?[]:typeof i=="function"?r?[i.listener||i]:[i]:r?Gl(i):aa(i,i.length)}ft.prototype.listeners=function(t){return oa(this,t,!0)},ft.prototype.rawListeners=function(t){return oa(this,t,!1)},ft.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):sa.call(e,t)},ft.prototype.listenerCount=sa;function sa(e){var t=this._events;if(t!==void 0){var r=t[e];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}ft.prototype.eventNames=function(){return this._eventsCount>0?mi(this._events):[]};function aa(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function zl(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function Gl(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}function Wl(e,t){return new Promise(function(r,n){function i(c){e.removeListener(t,o),n(c)}function o(){typeof e.removeListener=="function"&&e.removeListener("error",i),r([].slice.call(arguments))}ca(e,t,o,{once:!0}),t!=="error"&&Kl(e,i,{once:!0})})}function Kl(e,t,r){typeof e.on=="function"&&ca(e,"error",t,r)}function ca(e,t,r,n){if(typeof e.on=="function")n.once?e.once(t,r):e.on(t,r);else if(typeof e.addEventListener=="function")e.addEventListener(t,function i(o){n.once&&e.removeEventListener(t,i),r(o)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}const fa={PROMISES:"PROMISES",CALLBACK:"CALLBACK"};class Jl extends wi.exports.EventEmitter{setAdapter(t){return this.adapter=t,this}async request(t){try{if(!this.adapter)throw new Error("No adapter set, maybe you forgot to register the provider?");const r=await this.adapter.request(t,this.getNetwork());return this.emit("onResponseReady",t,r),r}catch(r){throw r}}sendResponse(t,r){if(!this.adapter)throw new Error("Adapter not found");if(this.adapter.getStrategy()!==fa.CALLBACK)throw new Error("Trying to send callback request on promisified adapter");this.adapter.sendResponse(t,r)}sendError(t,r){if(!this.adapter)throw new Error("Adapter not found");if(this.adapter.getStrategy()!==fa.CALLBACK)throw new Error("Trying to send callback request on promisified adapter");this.adapter.sendError(t,r)}}class ua extends Error{constructor(t,r){super(),this.code=t,this.message=r}toString(){return`${this.message} (${this.code})`}}var un={},Fr={},xi={},vi={},la={},_i={};_i.byteLength=Zl,_i.toByteArray=e0,_i.fromByteArray=n0;for(var Sr=[],ar=[],Xl=typeof Uint8Array<"u"?Uint8Array:Array,bo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ln=0,Yl=bo.length;ln<Yl;++ln)Sr[ln]=bo[ln],ar[bo.charCodeAt(ln)]=ln;ar["-".charCodeAt(0)]=62,ar["_".charCodeAt(0)]=63;function da(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");r===-1&&(r=t);var n=r===t?0:4-r%4;return[r,n]}function Zl(e){var t=da(e),r=t[0],n=t[1];return(r+n)*3/4-n}function Ql(e,t,r){return(t+r)*3/4-r}function e0(e){var t,r=da(e),n=r[0],i=r[1],o=new Xl(Ql(e,n,i)),c=0,a=i>0?n-4:n,l;for(l=0;l<a;l+=4)t=ar[e.charCodeAt(l)]<<18|ar[e.charCodeAt(l+1)]<<12|ar[e.charCodeAt(l+2)]<<6|ar[e.charCodeAt(l+3)],o[c++]=t>>16&255,o[c++]=t>>8&255,o[c++]=t&255;return i===2&&(t=ar[e.charCodeAt(l)]<<2|ar[e.charCodeAt(l+1)]>>4,o[c++]=t&255),i===1&&(t=ar[e.charCodeAt(l)]<<10|ar[e.charCodeAt(l+1)]<<4|ar[e.charCodeAt(l+2)]>>2,o[c++]=t>>8&255,o[c++]=t&255),o}function t0(e){return Sr[e>>18&63]+Sr[e>>12&63]+Sr[e>>6&63]+Sr[e&63]}function r0(e,t,r){for(var n,i=[],o=t;o<r;o+=3)n=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(e[o+2]&255),i.push(t0(n));return i.join("")}function n0(e){for(var t,r=e.length,n=r%3,i=[],o=16383,c=0,a=r-n;c<a;c+=o)i.push(r0(e,c,c+o>a?a:c+o));return n===1?(t=e[r-1],i.push(Sr[t>>2]+Sr[t<<4&63]+"==")):n===2&&(t=(e[r-2]<<8)+e[r-1],i.push(Sr[t>>10]+Sr[t>>4&63]+Sr[t<<2&63]+"=")),i.join("")}var wo={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */wo.read=function(e,t,r,n,i){var o,c,a=i*8-n-1,l=(1<<a)-1,p=l>>1,m=-7,v=r?i-1:0,T=r?-1:1,A=e[t+v];for(v+=T,o=A&(1<<-m)-1,A>>=-m,m+=a;m>0;o=o*256+e[t+v],v+=T,m-=8);for(c=o&(1<<-m)-1,o>>=-m,m+=n;m>0;c=c*256+e[t+v],v+=T,m-=8);if(o===0)o=1-p;else{if(o===l)return c?NaN:(A?-1:1)*(1/0);c=c+Math.pow(2,n),o=o-p}return(A?-1:1)*c*Math.pow(2,o-n)},wo.write=function(e,t,r,n,i,o){var c,a,l,p=o*8-i-1,m=(1<<p)-1,v=m>>1,T=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,A=n?0:o-1,D=n?1:-1,Q=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,c=m):(c=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-c))<1&&(c--,l*=2),c+v>=1?t+=T/l:t+=T*Math.pow(2,1-v),t*l>=2&&(c++,l/=2),c+v>=m?(a=0,c=m):c+v>=1?(a=(t*l-1)*Math.pow(2,i),c=c+v):(a=t*Math.pow(2,v-1)*Math.pow(2,i),c=0));i>=8;e[r+A]=a&255,A+=D,a/=256,i-=8);for(c=c<<i|a,p+=i;p>0;e[r+A]=c&255,A+=D,c/=256,p-=8);e[r+A-D]|=Q*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(e){const t=_i,r=wo,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=a,e.SlowBuffer=P,e.INSPECT_MAX_BYTES=50;const i=2147483647;e.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=o(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function o(){try{const b=new Uint8Array(1),f={foo:function(){return 42}};return Object.setPrototypeOf(f,Uint8Array.prototype),Object.setPrototypeOf(b,f),b.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function c(b){if(b>i)throw new RangeError('The value "'+b+'" is invalid for option "size"');const f=new Uint8Array(b);return Object.setPrototypeOf(f,a.prototype),f}function a(b,f,u){if(typeof b=="number"){if(typeof f=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return v(b)}return l(b,f,u)}a.poolSize=8192;function l(b,f,u){if(typeof b=="string")return T(b,f);if(ArrayBuffer.isView(b))return D(b);if(b==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof b);if(vt(b,ArrayBuffer)||b&&vt(b.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(vt(b,SharedArrayBuffer)||b&&vt(b.buffer,SharedArrayBuffer)))return Q(b,f,u);if(typeof b=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const _=b.valueOf&&b.valueOf();if(_!=null&&_!==b)return a.from(_,f,u);const O=oe(b);if(O)return O;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof b[Symbol.toPrimitive]=="function")return a.from(b[Symbol.toPrimitive]("string"),f,u);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof b)}a.from=function(b,f,u){return l(b,f,u)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function p(b){if(typeof b!="number")throw new TypeError('"size" argument must be of type number');if(b<0)throw new RangeError('The value "'+b+'" is invalid for option "size"')}function m(b,f,u){return p(b),b<=0?c(b):f!==void 0?typeof u=="string"?c(b).fill(f,u):c(b).fill(f):c(b)}a.alloc=function(b,f,u){return m(b,f,u)};function v(b){return p(b),c(b<0?0:he(b)|0)}a.allocUnsafe=function(b){return v(b)},a.allocUnsafeSlow=function(b){return v(b)};function T(b,f){if((typeof f!="string"||f==="")&&(f="utf8"),!a.isEncoding(f))throw new TypeError("Unknown encoding: "+f);const u=q(b,f)|0;let _=c(u);const O=_.write(b,f);return O!==u&&(_=_.slice(0,O)),_}function A(b){const f=b.length<0?0:he(b.length)|0,u=c(f);for(let _=0;_<f;_+=1)u[_]=b[_]&255;return u}function D(b){if(vt(b,Uint8Array)){const f=new Uint8Array(b);return Q(f.buffer,f.byteOffset,f.byteLength)}return A(b)}function Q(b,f,u){if(f<0||b.byteLength<f)throw new RangeError('"offset" is outside of buffer bounds');if(b.byteLength<f+(u||0))throw new RangeError('"length" is outside of buffer bounds');let _;return f===void 0&&u===void 0?_=new Uint8Array(b):u===void 0?_=new Uint8Array(b,f):_=new Uint8Array(b,f,u),Object.setPrototypeOf(_,a.prototype),_}function oe(b){if(a.isBuffer(b)){const f=he(b.length)|0,u=c(f);return u.length===0||b.copy(u,0,0,f),u}if(b.length!==void 0)return typeof b.length!="number"||er(b.length)?c(0):A(b);if(b.type==="Buffer"&&Array.isArray(b.data))return A(b.data)}function he(b){if(b>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return b|0}function P(b){return+b!=b&&(b=0),a.alloc(+b)}a.isBuffer=function(f){return f!=null&&f._isBuffer===!0&&f!==a.prototype},a.compare=function(f,u){if(vt(f,Uint8Array)&&(f=a.from(f,f.offset,f.byteLength)),vt(u,Uint8Array)&&(u=a.from(u,u.offset,u.byteLength)),!a.isBuffer(f)||!a.isBuffer(u))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(f===u)return 0;let _=f.length,O=u.length;for(let U=0,W=Math.min(_,O);U<W;++U)if(f[U]!==u[U]){_=f[U],O=u[U];break}return _<O?-1:O<_?1:0},a.isEncoding=function(f){switch(String(f).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(f,u){if(!Array.isArray(f))throw new TypeError('"list" argument must be an Array of Buffers');if(f.length===0)return a.alloc(0);let _;if(u===void 0)for(u=0,_=0;_<f.length;++_)u+=f[_].length;const O=a.allocUnsafe(u);let U=0;for(_=0;_<f.length;++_){let W=f[_];if(vt(W,Uint8Array))U+W.length>O.length?(a.isBuffer(W)||(W=a.from(W)),W.copy(O,U)):Uint8Array.prototype.set.call(O,W,U);else if(a.isBuffer(W))W.copy(O,U);else throw new TypeError('"list" argument must be an Array of Buffers');U+=W.length}return O};function q(b,f){if(a.isBuffer(b))return b.length;if(ArrayBuffer.isView(b)||vt(b,ArrayBuffer))return b.byteLength;if(typeof b!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof b);const u=b.length,_=arguments.length>2&&arguments[2]===!0;if(!_&&u===0)return 0;let O=!1;for(;;)switch(f){case"ascii":case"latin1":case"binary":return u;case"utf8":case"utf-8":return We(b).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return u*2;case"hex":return u>>>1;case"base64":return xt(b).length;default:if(O)return _?-1:We(b).length;f=(""+f).toLowerCase(),O=!0}}a.byteLength=q;function C(b,f,u){let _=!1;if((f===void 0||f<0)&&(f=0),f>this.length||((u===void 0||u>this.length)&&(u=this.length),u<=0)||(u>>>=0,f>>>=0,u<=f))return"";for(b||(b="utf8");;)switch(b){case"hex":return R(this,f,u);case"utf8":case"utf-8":return h(this,f,u);case"ascii":return $(this,f,u);case"latin1":case"binary":return L(this,f,u);case"base64":return y(this,f,u);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,f,u);default:if(_)throw new TypeError("Unknown encoding: "+b);b=(b+"").toLowerCase(),_=!0}}a.prototype._isBuffer=!0;function pe(b,f,u){const _=b[f];b[f]=b[u],b[u]=_}a.prototype.swap16=function(){const f=this.length;if(f%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let u=0;u<f;u+=2)pe(this,u,u+1);return this},a.prototype.swap32=function(){const f=this.length;if(f%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let u=0;u<f;u+=4)pe(this,u,u+3),pe(this,u+1,u+2);return this},a.prototype.swap64=function(){const f=this.length;if(f%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let u=0;u<f;u+=8)pe(this,u,u+7),pe(this,u+1,u+6),pe(this,u+2,u+5),pe(this,u+3,u+4);return this},a.prototype.toString=function(){const f=this.length;return f===0?"":arguments.length===0?h(this,0,f):C.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(f){if(!a.isBuffer(f))throw new TypeError("Argument must be a Buffer");return this===f?!0:a.compare(this,f)===0},a.prototype.inspect=function(){let f="";const u=e.INSPECT_MAX_BYTES;return f=this.toString("hex",0,u).replace(/(.{2})/g,"$1 ").trim(),this.length>u&&(f+=" ... "),"<Buffer "+f+">"},n&&(a.prototype[n]=a.prototype.inspect),a.prototype.compare=function(f,u,_,O,U){if(vt(f,Uint8Array)&&(f=a.from(f,f.offset,f.byteLength)),!a.isBuffer(f))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof f);if(u===void 0&&(u=0),_===void 0&&(_=f?f.length:0),O===void 0&&(O=0),U===void 0&&(U=this.length),u<0||_>f.length||O<0||U>this.length)throw new RangeError("out of range index");if(O>=U&&u>=_)return 0;if(O>=U)return-1;if(u>=_)return 1;if(u>>>=0,_>>>=0,O>>>=0,U>>>=0,this===f)return 0;let W=U-O,Re=_-u;const at=Math.min(W,Re),st=this.slice(O,U),lt=f.slice(u,_);for(let Qe=0;Qe<at;++Qe)if(st[Qe]!==lt[Qe]){W=st[Qe],Re=lt[Qe];break}return W<Re?-1:Re<W?1:0};function ge(b,f,u,_,O){if(b.length===0)return-1;if(typeof u=="string"?(_=u,u=0):u>2147483647?u=2147483647:u<-2147483648&&(u=-2147483648),u=+u,er(u)&&(u=O?0:b.length-1),u<0&&(u=b.length+u),u>=b.length){if(O)return-1;u=b.length-1}else if(u<0)if(O)u=0;else return-1;if(typeof f=="string"&&(f=a.from(f,_)),a.isBuffer(f))return f.length===0?-1:be(b,f,u,_,O);if(typeof f=="number")return f=f&255,typeof Uint8Array.prototype.indexOf=="function"?O?Uint8Array.prototype.indexOf.call(b,f,u):Uint8Array.prototype.lastIndexOf.call(b,f,u):be(b,[f],u,_,O);throw new TypeError("val must be string, number or Buffer")}function be(b,f,u,_,O){let U=1,W=b.length,Re=f.length;if(_!==void 0&&(_=String(_).toLowerCase(),_==="ucs2"||_==="ucs-2"||_==="utf16le"||_==="utf-16le")){if(b.length<2||f.length<2)return-1;U=2,W/=2,Re/=2,u/=2}function at(lt,Qe){return U===1?lt[Qe]:lt.readUInt16BE(Qe*U)}let st;if(O){let lt=-1;for(st=u;st<W;st++)if(at(b,st)===at(f,lt===-1?0:st-lt)){if(lt===-1&&(lt=st),st-lt+1===Re)return lt*U}else lt!==-1&&(st-=st-lt),lt=-1}else for(u+Re>W&&(u=W-Re),st=u;st>=0;st--){let lt=!0;for(let Qe=0;Qe<Re;Qe++)if(at(b,st+Qe)!==at(f,Qe)){lt=!1;break}if(lt)return st}return-1}a.prototype.includes=function(f,u,_){return this.indexOf(f,u,_)!==-1},a.prototype.indexOf=function(f,u,_){return ge(this,f,u,_,!0)},a.prototype.lastIndexOf=function(f,u,_){return ge(this,f,u,_,!1)};function G(b,f,u,_){u=Number(u)||0;const O=b.length-u;_?(_=Number(_),_>O&&(_=O)):_=O;const U=f.length;_>U/2&&(_=U/2);let W;for(W=0;W<_;++W){const Re=parseInt(f.substr(W*2,2),16);if(er(Re))return W;b[u+W]=Re}return W}function ne(b,f,u,_){return jt(We(f,b.length-u),b,u,_)}function me(b,f,u,_){return jt(bt(f),b,u,_)}function ae(b,f,u,_){return jt(xt(f),b,u,_)}function g(b,f,u,_){return jt(wt(f,b.length-u),b,u,_)}a.prototype.write=function(f,u,_,O){if(u===void 0)O="utf8",_=this.length,u=0;else if(_===void 0&&typeof u=="string")O=u,_=this.length,u=0;else if(isFinite(u))u=u>>>0,isFinite(_)?(_=_>>>0,O===void 0&&(O="utf8")):(O=_,_=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const U=this.length-u;if((_===void 0||_>U)&&(_=U),f.length>0&&(_<0||u<0)||u>this.length)throw new RangeError("Attempt to write outside buffer bounds");O||(O="utf8");let W=!1;for(;;)switch(O){case"hex":return G(this,f,u,_);case"utf8":case"utf-8":return ne(this,f,u,_);case"ascii":case"latin1":case"binary":return me(this,f,u,_);case"base64":return ae(this,f,u,_);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return g(this,f,u,_);default:if(W)throw new TypeError("Unknown encoding: "+O);O=(""+O).toLowerCase(),W=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function y(b,f,u){return f===0&&u===b.length?t.fromByteArray(b):t.fromByteArray(b.slice(f,u))}function h(b,f,u){u=Math.min(b.length,u);const _=[];let O=f;for(;O<u;){const U=b[O];let W=null,Re=U>239?4:U>223?3:U>191?2:1;if(O+Re<=u){let at,st,lt,Qe;switch(Re){case 1:U<128&&(W=U);break;case 2:at=b[O+1],(at&192)===128&&(Qe=(U&31)<<6|at&63,Qe>127&&(W=Qe));break;case 3:at=b[O+1],st=b[O+2],(at&192)===128&&(st&192)===128&&(Qe=(U&15)<<12|(at&63)<<6|st&63,Qe>2047&&(Qe<55296||Qe>57343)&&(W=Qe));break;case 4:at=b[O+1],st=b[O+2],lt=b[O+3],(at&192)===128&&(st&192)===128&&(lt&192)===128&&(Qe=(U&15)<<18|(at&63)<<12|(st&63)<<6|lt&63,Qe>65535&&Qe<1114112&&(W=Qe))}}W===null?(W=65533,Re=1):W>65535&&(W-=65536,_.push(W>>>10&1023|55296),W=56320|W&1023),_.push(W),O+=Re}return I(_)}const B=4096;function I(b){const f=b.length;if(f<=B)return String.fromCharCode.apply(String,b);let u="",_=0;for(;_<f;)u+=String.fromCharCode.apply(String,b.slice(_,_+=B));return u}function $(b,f,u){let _="";u=Math.min(b.length,u);for(let O=f;O<u;++O)_+=String.fromCharCode(b[O]&127);return _}function L(b,f,u){let _="";u=Math.min(b.length,u);for(let O=f;O<u;++O)_+=String.fromCharCode(b[O]);return _}function R(b,f,u){const _=b.length;(!f||f<0)&&(f=0),(!u||u<0||u>_)&&(u=_);let O="";for(let U=f;U<u;++U)O+=gr[b[U]];return O}function j(b,f,u){const _=b.slice(f,u);let O="";for(let U=0;U<_.length-1;U+=2)O+=String.fromCharCode(_[U]+_[U+1]*256);return O}a.prototype.slice=function(f,u){const _=this.length;f=~~f,u=u===void 0?_:~~u,f<0?(f+=_,f<0&&(f=0)):f>_&&(f=_),u<0?(u+=_,u<0&&(u=0)):u>_&&(u=_),u<f&&(u=f);const O=this.subarray(f,u);return Object.setPrototypeOf(O,a.prototype),O};function M(b,f,u){if(b%1!==0||b<0)throw new RangeError("offset is not uint");if(b+f>u)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(f,u,_){f=f>>>0,u=u>>>0,_||M(f,u,this.length);let O=this[f],U=1,W=0;for(;++W<u&&(U*=256);)O+=this[f+W]*U;return O},a.prototype.readUintBE=a.prototype.readUIntBE=function(f,u,_){f=f>>>0,u=u>>>0,_||M(f,u,this.length);let O=this[f+--u],U=1;for(;u>0&&(U*=256);)O+=this[f+--u]*U;return O},a.prototype.readUint8=a.prototype.readUInt8=function(f,u){return f=f>>>0,u||M(f,1,this.length),this[f]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(f,u){return f=f>>>0,u||M(f,2,this.length),this[f]|this[f+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(f,u){return f=f>>>0,u||M(f,2,this.length),this[f]<<8|this[f+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(f,u){return f=f>>>0,u||M(f,4,this.length),(this[f]|this[f+1]<<8|this[f+2]<<16)+this[f+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(f,u){return f=f>>>0,u||M(f,4,this.length),this[f]*16777216+(this[f+1]<<16|this[f+2]<<8|this[f+3])},a.prototype.readBigUInt64LE=Rt(function(f){f=f>>>0,se(f,"offset");const u=this[f],_=this[f+7];(u===void 0||_===void 0)&&ue(f,this.length-8);const O=u+this[++f]*2**8+this[++f]*2**16+this[++f]*2**24,U=this[++f]+this[++f]*2**8+this[++f]*2**16+_*2**24;return BigInt(O)+(BigInt(U)<<BigInt(32))}),a.prototype.readBigUInt64BE=Rt(function(f){f=f>>>0,se(f,"offset");const u=this[f],_=this[f+7];(u===void 0||_===void 0)&&ue(f,this.length-8);const O=u*2**24+this[++f]*2**16+this[++f]*2**8+this[++f],U=this[++f]*2**24+this[++f]*2**16+this[++f]*2**8+_;return(BigInt(O)<<BigInt(32))+BigInt(U)}),a.prototype.readIntLE=function(f,u,_){f=f>>>0,u=u>>>0,_||M(f,u,this.length);let O=this[f],U=1,W=0;for(;++W<u&&(U*=256);)O+=this[f+W]*U;return U*=128,O>=U&&(O-=Math.pow(2,8*u)),O},a.prototype.readIntBE=function(f,u,_){f=f>>>0,u=u>>>0,_||M(f,u,this.length);let O=u,U=1,W=this[f+--O];for(;O>0&&(U*=256);)W+=this[f+--O]*U;return U*=128,W>=U&&(W-=Math.pow(2,8*u)),W},a.prototype.readInt8=function(f,u){return f=f>>>0,u||M(f,1,this.length),this[f]&128?(255-this[f]+1)*-1:this[f]},a.prototype.readInt16LE=function(f,u){f=f>>>0,u||M(f,2,this.length);const _=this[f]|this[f+1]<<8;return _&32768?_|4294901760:_},a.prototype.readInt16BE=function(f,u){f=f>>>0,u||M(f,2,this.length);const _=this[f+1]|this[f]<<8;return _&32768?_|4294901760:_},a.prototype.readInt32LE=function(f,u){return f=f>>>0,u||M(f,4,this.length),this[f]|this[f+1]<<8|this[f+2]<<16|this[f+3]<<24},a.prototype.readInt32BE=function(f,u){return f=f>>>0,u||M(f,4,this.length),this[f]<<24|this[f+1]<<16|this[f+2]<<8|this[f+3]},a.prototype.readBigInt64LE=Rt(function(f){f=f>>>0,se(f,"offset");const u=this[f],_=this[f+7];(u===void 0||_===void 0)&&ue(f,this.length-8);const O=this[f+4]+this[f+5]*2**8+this[f+6]*2**16+(_<<24);return(BigInt(O)<<BigInt(32))+BigInt(u+this[++f]*2**8+this[++f]*2**16+this[++f]*2**24)}),a.prototype.readBigInt64BE=Rt(function(f){f=f>>>0,se(f,"offset");const u=this[f],_=this[f+7];(u===void 0||_===void 0)&&ue(f,this.length-8);const O=(u<<24)+this[++f]*2**16+this[++f]*2**8+this[++f];return(BigInt(O)<<BigInt(32))+BigInt(this[++f]*2**24+this[++f]*2**16+this[++f]*2**8+_)}),a.prototype.readFloatLE=function(f,u){return f=f>>>0,u||M(f,4,this.length),r.read(this,f,!0,23,4)},a.prototype.readFloatBE=function(f,u){return f=f>>>0,u||M(f,4,this.length),r.read(this,f,!1,23,4)},a.prototype.readDoubleLE=function(f,u){return f=f>>>0,u||M(f,8,this.length),r.read(this,f,!0,52,8)},a.prototype.readDoubleBE=function(f,u){return f=f>>>0,u||M(f,8,this.length),r.read(this,f,!1,52,8)};function z(b,f,u,_,O,U){if(!a.isBuffer(b))throw new TypeError('"buffer" argument must be a Buffer instance');if(f>O||f<U)throw new RangeError('"value" argument is out of bounds');if(u+_>b.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(f,u,_,O){if(f=+f,u=u>>>0,_=_>>>0,!O){const Re=Math.pow(2,8*_)-1;z(this,f,u,_,Re,0)}let U=1,W=0;for(this[u]=f&255;++W<_&&(U*=256);)this[u+W]=f/U&255;return u+_},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(f,u,_,O){if(f=+f,u=u>>>0,_=_>>>0,!O){const Re=Math.pow(2,8*_)-1;z(this,f,u,_,Re,0)}let U=_-1,W=1;for(this[u+U]=f&255;--U>=0&&(W*=256);)this[u+U]=f/W&255;return u+_},a.prototype.writeUint8=a.prototype.writeUInt8=function(f,u,_){return f=+f,u=u>>>0,_||z(this,f,u,1,255,0),this[u]=f&255,u+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(f,u,_){return f=+f,u=u>>>0,_||z(this,f,u,2,65535,0),this[u]=f&255,this[u+1]=f>>>8,u+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(f,u,_){return f=+f,u=u>>>0,_||z(this,f,u,2,65535,0),this[u]=f>>>8,this[u+1]=f&255,u+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(f,u,_){return f=+f,u=u>>>0,_||z(this,f,u,4,4294967295,0),this[u+3]=f>>>24,this[u+2]=f>>>16,this[u+1]=f>>>8,this[u]=f&255,u+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(f,u,_){return f=+f,u=u>>>0,_||z(this,f,u,4,4294967295,0),this[u]=f>>>24,this[u+1]=f>>>16,this[u+2]=f>>>8,this[u+3]=f&255,u+4};function te(b,f,u,_,O){mt(f,_,O,b,u,7);let U=Number(f&BigInt(4294967295));b[u++]=U,U=U>>8,b[u++]=U,U=U>>8,b[u++]=U,U=U>>8,b[u++]=U;let W=Number(f>>BigInt(32)&BigInt(4294967295));return b[u++]=W,W=W>>8,b[u++]=W,W=W>>8,b[u++]=W,W=W>>8,b[u++]=W,u}function Z(b,f,u,_,O){mt(f,_,O,b,u,7);let U=Number(f&BigInt(4294967295));b[u+7]=U,U=U>>8,b[u+6]=U,U=U>>8,b[u+5]=U,U=U>>8,b[u+4]=U;let W=Number(f>>BigInt(32)&BigInt(4294967295));return b[u+3]=W,W=W>>8,b[u+2]=W,W=W>>8,b[u+1]=W,W=W>>8,b[u]=W,u+8}a.prototype.writeBigUInt64LE=Rt(function(f,u=0){return te(this,f,u,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=Rt(function(f,u=0){return Z(this,f,u,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(f,u,_,O){if(f=+f,u=u>>>0,!O){const at=Math.pow(2,8*_-1);z(this,f,u,_,at-1,-at)}let U=0,W=1,Re=0;for(this[u]=f&255;++U<_&&(W*=256);)f<0&&Re===0&&this[u+U-1]!==0&&(Re=1),this[u+U]=(f/W>>0)-Re&255;return u+_},a.prototype.writeIntBE=function(f,u,_,O){if(f=+f,u=u>>>0,!O){const at=Math.pow(2,8*_-1);z(this,f,u,_,at-1,-at)}let U=_-1,W=1,Re=0;for(this[u+U]=f&255;--U>=0&&(W*=256);)f<0&&Re===0&&this[u+U+1]!==0&&(Re=1),this[u+U]=(f/W>>0)-Re&255;return u+_},a.prototype.writeInt8=function(f,u,_){return f=+f,u=u>>>0,_||z(this,f,u,1,127,-128),f<0&&(f=255+f+1),this[u]=f&255,u+1},a.prototype.writeInt16LE=function(f,u,_){return f=+f,u=u>>>0,_||z(this,f,u,2,32767,-32768),this[u]=f&255,this[u+1]=f>>>8,u+2},a.prototype.writeInt16BE=function(f,u,_){return f=+f,u=u>>>0,_||z(this,f,u,2,32767,-32768),this[u]=f>>>8,this[u+1]=f&255,u+2},a.prototype.writeInt32LE=function(f,u,_){return f=+f,u=u>>>0,_||z(this,f,u,4,2147483647,-2147483648),this[u]=f&255,this[u+1]=f>>>8,this[u+2]=f>>>16,this[u+3]=f>>>24,u+4},a.prototype.writeInt32BE=function(f,u,_){return f=+f,u=u>>>0,_||z(this,f,u,4,2147483647,-2147483648),f<0&&(f=4294967295+f+1),this[u]=f>>>24,this[u+1]=f>>>16,this[u+2]=f>>>8,this[u+3]=f&255,u+4},a.prototype.writeBigInt64LE=Rt(function(f,u=0){return te(this,f,u,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=Rt(function(f,u=0){return Z(this,f,u,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function K(b,f,u,_,O,U){if(u+_>b.length)throw new RangeError("Index out of range");if(u<0)throw new RangeError("Index out of range")}function ce(b,f,u,_,O){return f=+f,u=u>>>0,O||K(b,f,u,4),r.write(b,f,u,_,23,4),u+4}a.prototype.writeFloatLE=function(f,u,_){return ce(this,f,u,!0,_)},a.prototype.writeFloatBE=function(f,u,_){return ce(this,f,u,!1,_)};function Ge(b,f,u,_,O){return f=+f,u=u>>>0,O||K(b,f,u,8),r.write(b,f,u,_,52,8),u+8}a.prototype.writeDoubleLE=function(f,u,_){return Ge(this,f,u,!0,_)},a.prototype.writeDoubleBE=function(f,u,_){return Ge(this,f,u,!1,_)},a.prototype.copy=function(f,u,_,O){if(!a.isBuffer(f))throw new TypeError("argument should be a Buffer");if(_||(_=0),!O&&O!==0&&(O=this.length),u>=f.length&&(u=f.length),u||(u=0),O>0&&O<_&&(O=_),O===_||f.length===0||this.length===0)return 0;if(u<0)throw new RangeError("targetStart out of bounds");if(_<0||_>=this.length)throw new RangeError("Index out of range");if(O<0)throw new RangeError("sourceEnd out of bounds");O>this.length&&(O=this.length),f.length-u<O-_&&(O=f.length-u+_);const U=O-_;return this===f&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(u,_,O):Uint8Array.prototype.set.call(f,this.subarray(_,O),u),U},a.prototype.fill=function(f,u,_,O){if(typeof f=="string"){if(typeof u=="string"?(O=u,u=0,_=this.length):typeof _=="string"&&(O=_,_=this.length),O!==void 0&&typeof O!="string")throw new TypeError("encoding must be a string");if(typeof O=="string"&&!a.isEncoding(O))throw new TypeError("Unknown encoding: "+O);if(f.length===1){const W=f.charCodeAt(0);(O==="utf8"&&W<128||O==="latin1")&&(f=W)}}else typeof f=="number"?f=f&255:typeof f=="boolean"&&(f=Number(f));if(u<0||this.length<u||this.length<_)throw new RangeError("Out of range index");if(_<=u)return this;u=u>>>0,_=_===void 0?this.length:_>>>0,f||(f=0);let U;if(typeof f=="number")for(U=u;U<_;++U)this[U]=f;else{const W=a.isBuffer(f)?f:a.from(f,O),Re=W.length;if(Re===0)throw new TypeError('The value "'+f+'" is invalid for argument "value"');for(U=0;U<_-u;++U)this[U+u]=W[U%Re]}return this};const Se={};function _e(b,f,u){Se[b]=class extends u{constructor(){super(),Object.defineProperty(this,"message",{value:f.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${b}]`,this.stack,delete this.name}get code(){return b}set code(O){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:O,writable:!0})}toString(){return`${this.name} [${b}]: ${this.message}`}}}_e("ERR_BUFFER_OUT_OF_BOUNDS",function(b){return b?`${b} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),_e("ERR_INVALID_ARG_TYPE",function(b,f){return`The "${b}" argument must be of type number. Received type ${typeof f}`},TypeError),_e("ERR_OUT_OF_RANGE",function(b,f,u){let _=`The value of "${b}" is out of range.`,O=u;return Number.isInteger(u)&&Math.abs(u)>2**32?O=ut(String(u)):typeof u=="bigint"&&(O=String(u),(u>BigInt(2)**BigInt(32)||u<-(BigInt(2)**BigInt(32)))&&(O=ut(O)),O+="n"),_+=` It must be ${f}. Received ${O}`,_},RangeError);function ut(b){let f="",u=b.length;const _=b[0]==="-"?1:0;for(;u>=_+4;u-=3)f=`_${b.slice(u-3,u)}${f}`;return`${b.slice(0,u)}${f}`}function gt(b,f,u){se(f,"offset"),(b[f]===void 0||b[f+u]===void 0)&&ue(f,b.length-(u+1))}function mt(b,f,u,_,O,U){if(b>u||b<f){const W=typeof f=="bigint"?"n":"";let Re;throw U>3?f===0||f===BigInt(0)?Re=`>= 0${W} and < 2${W} ** ${(U+1)*8}${W}`:Re=`>= -(2${W} ** ${(U+1)*8-1}${W}) and < 2 ** ${(U+1)*8-1}${W}`:Re=`>= ${f}${W} and <= ${u}${W}`,new Se.ERR_OUT_OF_RANGE("value",Re,b)}gt(_,O,U)}function se(b,f){if(typeof b!="number")throw new Se.ERR_INVALID_ARG_TYPE(f,"number",b)}function ue(b,f,u){throw Math.floor(b)!==b?(se(b,u),new Se.ERR_OUT_OF_RANGE(u||"offset","an integer",b)):f<0?new Se.ERR_BUFFER_OUT_OF_BOUNDS:new Se.ERR_OUT_OF_RANGE(u||"offset",`>= ${u?1:0} and <= ${f}`,b)}const ke=/[^+/0-9A-Za-z-_]/g;function it(b){if(b=b.split("=")[0],b=b.trim().replace(ke,""),b.length<2)return"";for(;b.length%4!==0;)b=b+"=";return b}function We(b,f){f=f||1/0;let u;const _=b.length;let O=null;const U=[];for(let W=0;W<_;++W){if(u=b.charCodeAt(W),u>55295&&u<57344){if(!O){if(u>56319){(f-=3)>-1&&U.push(239,191,189);continue}else if(W+1===_){(f-=3)>-1&&U.push(239,191,189);continue}O=u;continue}if(u<56320){(f-=3)>-1&&U.push(239,191,189),O=u;continue}u=(O-55296<<10|u-56320)+65536}else O&&(f-=3)>-1&&U.push(239,191,189);if(O=null,u<128){if((f-=1)<0)break;U.push(u)}else if(u<2048){if((f-=2)<0)break;U.push(u>>6|192,u&63|128)}else if(u<65536){if((f-=3)<0)break;U.push(u>>12|224,u>>6&63|128,u&63|128)}else if(u<1114112){if((f-=4)<0)break;U.push(u>>18|240,u>>12&63|128,u>>6&63|128,u&63|128)}else throw new Error("Invalid code point")}return U}function bt(b){const f=[];for(let u=0;u<b.length;++u)f.push(b.charCodeAt(u)&255);return f}function wt(b,f){let u,_,O;const U=[];for(let W=0;W<b.length&&!((f-=2)<0);++W)u=b.charCodeAt(W),_=u>>8,O=u%256,U.push(O),U.push(_);return U}function xt(b){return t.toByteArray(it(b))}function jt(b,f,u,_){let O;for(O=0;O<_&&!(O+u>=f.length||O>=b.length);++O)f[O+u]=b[O];return O}function vt(b,f){return b instanceof f||b!=null&&b.constructor!=null&&b.constructor.name!=null&&b.constructor.name===f.name}function er(b){return b!==b}const gr=function(){const b="0123456789abcdef",f=new Array(256);for(let u=0;u<16;++u){const _=u*16;for(let O=0;O<16;++O)f[_+O]=b[u]+b[O]}return f}();function Rt(b){return typeof BigInt>"u"?Cr:b}function Cr(){throw new Error("BigInt not supported")}})(la);var Bi={},ha={},dn={},Si={},Ut={};Object.defineProperty(Ut,"__esModule",{value:!0}),Ut.output=Ut.exists=Ut.hash=Ut.bytes=Ut.bool=Ut.number=void 0;function Ai(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}Ut.number=Ai;function pa(e){if(typeof e!="boolean")throw new Error(`Expected boolean, not ${e}`)}Ut.bool=pa;function i0(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}function mo(e,...t){if(!i0(e))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}Ut.bytes=mo;function ya(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Ai(e.outputLen),Ai(e.blockLen)}Ut.hash=ya;function ga(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}Ut.exists=ga;function ba(e,t){mo(e);const r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}Ut.output=ba;const o0={number:Ai,bool:pa,bytes:mo,hash:ya,exists:ga,output:ba};Ut.default=o0;var Lr={},Ii={};Object.defineProperty(Ii,"__esModule",{value:!0}),Ii.crypto=void 0,Ii.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0,function(e){/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(e,"__esModule",{value:!0}),e.randomBytes=e.wrapXOFConstructorWithOpts=e.wrapConstructorWithOpts=e.wrapConstructor=e.checkOpts=e.Hash=e.concatBytes=e.toBytes=e.utf8ToBytes=e.asyncLoop=e.nextTick=e.hexToBytes=e.bytesToHex=e.isLE=e.rotr=e.createView=e.u32=e.u8=void 0;const t=Ii,r=G=>new Uint8Array(G.buffer,G.byteOffset,G.byteLength);e.u8=r;const n=G=>new Uint32Array(G.buffer,G.byteOffset,Math.floor(G.byteLength/4));e.u32=n;function i(G){return G instanceof Uint8Array||G!=null&&typeof G=="object"&&G.constructor.name==="Uint8Array"}const o=G=>new DataView(G.buffer,G.byteOffset,G.byteLength);e.createView=o;const c=(G,ne)=>G<<32-ne|G>>>ne;if(e.rotr=c,e.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,!e.isLE)throw new Error("Non little-endian hardware is not supported");const a=Array.from({length:256},(G,ne)=>ne.toString(16).padStart(2,"0"));function l(G){if(!i(G))throw new Error("Uint8Array expected");let ne="";for(let me=0;me<G.length;me++)ne+=a[G[me]];return ne}e.bytesToHex=l;const p={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function m(G){if(G>=p._0&&G<=p._9)return G-p._0;if(G>=p._A&&G<=p._F)return G-(p._A-10);if(G>=p._a&&G<=p._f)return G-(p._a-10)}function v(G){if(typeof G!="string")throw new Error("hex string expected, got "+typeof G);const ne=G.length,me=ne/2;if(ne%2)throw new Error("padded hex string expected, got unpadded hex of length "+ne);const ae=new Uint8Array(me);for(let g=0,y=0;g<me;g++,y+=2){const h=m(G.charCodeAt(y)),B=m(G.charCodeAt(y+1));if(h===void 0||B===void 0){const I=G[y]+G[y+1];throw new Error('hex string expected, got non-hex character "'+I+'" at index '+y)}ae[g]=h*16+B}return ae}e.hexToBytes=v;const T=async()=>{};e.nextTick=T;async function A(G,ne,me){let ae=Date.now();for(let g=0;g<G;g++){me(g);const y=Date.now()-ae;y>=0&&y<ne||(await(0,e.nextTick)(),ae+=y)}}e.asyncLoop=A;function D(G){if(typeof G!="string")throw new Error(`utf8ToBytes expected string, got ${typeof G}`);return new Uint8Array(new TextEncoder().encode(G))}e.utf8ToBytes=D;function Q(G){if(typeof G=="string"&&(G=D(G)),!i(G))throw new Error(`expected Uint8Array, got ${typeof G}`);return G}e.toBytes=Q;function oe(...G){let ne=0;for(let ae=0;ae<G.length;ae++){const g=G[ae];if(!i(g))throw new Error("Uint8Array expected");ne+=g.length}const me=new Uint8Array(ne);for(let ae=0,g=0;ae<G.length;ae++){const y=G[ae];me.set(y,g),g+=y.length}return me}e.concatBytes=oe;class he{clone(){return this._cloneInto()}}e.Hash=he;const P={}.toString;function q(G,ne){if(ne!==void 0&&P.call(ne)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(G,ne)}e.checkOpts=q;function C(G){const ne=ae=>G().update(Q(ae)).digest(),me=G();return ne.outputLen=me.outputLen,ne.blockLen=me.blockLen,ne.create=()=>G(),ne}e.wrapConstructor=C;function pe(G){const ne=(ae,g)=>G(g).update(Q(ae)).digest(),me=G({});return ne.outputLen=me.outputLen,ne.blockLen=me.blockLen,ne.create=ae=>G(ae),ne}e.wrapConstructorWithOpts=pe;function ge(G){const ne=(ae,g)=>G(g).update(Q(ae)).digest(),me=G({});return ne.outputLen=me.outputLen,ne.blockLen=me.blockLen,ne.create=ae=>G(ae),ne}e.wrapXOFConstructorWithOpts=ge;function be(G=32){if(t.crypto&&typeof t.crypto.getRandomValues=="function")return t.crypto.getRandomValues(new Uint8Array(G));throw new Error("crypto.getRandomValues must be defined")}e.randomBytes=be}(Lr),Object.defineProperty(Si,"__esModule",{value:!0}),Si.SHA2=void 0;const Eo=Ut,Fn=Lr;function s0(e,t,r,n){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,r,n);const i=BigInt(32),o=BigInt(4294967295),c=Number(r>>i&o),a=Number(r&o),l=n?4:0,p=n?0:4;e.setUint32(t+l,c,n),e.setUint32(t+p,a,n)}class a0 extends Fn.Hash{constructor(t,r,n,i){super(),this.blockLen=t,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=(0,Fn.createView)(this.buffer)}update(t){(0,Eo.exists)(this);const{view:r,buffer:n,blockLen:i}=this;t=(0,Fn.toBytes)(t);const o=t.length;for(let c=0;c<o;){const a=Math.min(i-this.pos,o-c);if(a===i){const l=(0,Fn.createView)(t);for(;i<=o-c;c+=i)this.process(l,c);continue}n.set(t.subarray(c,c+a),this.pos),this.pos+=a,c+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){(0,Eo.exists)(this),(0,Eo.output)(t,this),this.finished=!0;const{buffer:r,view:n,blockLen:i,isLE:o}=this;let{pos:c}=this;r[c++]=128,this.buffer.subarray(c).fill(0),this.padOffset>i-c&&(this.process(n,0),c=0);for(let v=c;v<i;v++)r[v]=0;s0(n,i-8,BigInt(this.length*8),o),this.process(n,0);const a=(0,Fn.createView)(t),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const p=l/4,m=this.get();if(p>m.length)throw new Error("_sha2: outputLen bigger than state");for(let v=0;v<p;v++)a.setUint32(4*v,m[v],o)}digest(){const{buffer:t,outputLen:r}=this;this.digestInto(t);const n=t.slice(0,r);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:r,buffer:n,length:i,finished:o,destroyed:c,pos:a}=this;return t.length=i,t.pos=a,t.finished=o,t.destroyed=c,i%r&&t.buffer.set(n),t}}Si.SHA2=a0,Object.defineProperty(dn,"__esModule",{value:!0}),dn.sha224=dn.sha256=void 0;const c0=Si,cr=Lr,f0=(e,t,r)=>e&t^~e&r,u0=(e,t,r)=>e&t^e&r^t&r,l0=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Dr=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Vr=new Uint32Array(64);class wa extends c0.SHA2{constructor(){super(64,32,8,!1),this.A=Dr[0]|0,this.B=Dr[1]|0,this.C=Dr[2]|0,this.D=Dr[3]|0,this.E=Dr[4]|0,this.F=Dr[5]|0,this.G=Dr[6]|0,this.H=Dr[7]|0}get(){const{A:t,B:r,C:n,D:i,E:o,F:c,G:a,H:l}=this;return[t,r,n,i,o,c,a,l]}set(t,r,n,i,o,c,a,l){this.A=t|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=o|0,this.F=c|0,this.G=a|0,this.H=l|0}process(t,r){for(let v=0;v<16;v++,r+=4)Vr[v]=t.getUint32(r,!1);for(let v=16;v<64;v++){const T=Vr[v-15],A=Vr[v-2],D=(0,cr.rotr)(T,7)^(0,cr.rotr)(T,18)^T>>>3,Q=(0,cr.rotr)(A,17)^(0,cr.rotr)(A,19)^A>>>10;Vr[v]=Q+Vr[v-7]+D+Vr[v-16]|0}let{A:n,B:i,C:o,D:c,E:a,F:l,G:p,H:m}=this;for(let v=0;v<64;v++){const T=(0,cr.rotr)(a,6)^(0,cr.rotr)(a,11)^(0,cr.rotr)(a,25),A=m+T+f0(a,l,p)+l0[v]+Vr[v]|0,Q=((0,cr.rotr)(n,2)^(0,cr.rotr)(n,13)^(0,cr.rotr)(n,22))+u0(n,i,o)|0;m=p,p=l,l=a,a=c+A|0,c=o,o=i,i=n,n=A+Q|0}n=n+this.A|0,i=i+this.B|0,o=o+this.C|0,c=c+this.D|0,a=a+this.E|0,l=l+this.F|0,p=p+this.G|0,m=m+this.H|0,this.set(n,i,o,c,a,l,p,m)}roundClean(){Vr.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class d0 extends wa{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}dn.sha256=(0,cr.wrapConstructor)(()=>new wa),dn.sha224=(0,cr.wrapConstructor)(()=>new d0);var Ne={},Ie={};Object.defineProperty(Ie,"__esModule",{value:!0}),Ie.validateObject=Ie.createHmacDrbg=Ie.bitMask=Ie.bitSet=Ie.bitGet=Ie.bitLen=Ie.utf8ToBytes=Ie.equalBytes=Ie.concatBytes=Ie.ensureBytes=Ie.numberToVarBytesBE=Ie.numberToBytesLE=Ie.numberToBytesBE=Ie.bytesToNumberLE=Ie.bytesToNumberBE=Ie.hexToBytes=Ie.hexToNumber=Ie.numberToHexUnpadded=Ie.bytesToHex=Ie.isBytes=void 0;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ma=BigInt(0),$i=BigInt(1),h0=BigInt(2);function hn(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}Ie.isBytes=hn;const p0=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function xo(e){if(!hn(e))throw new Error("Uint8Array expected");let t="";for(let r=0;r<e.length;r++)t+=p0[e[r]];return t}Ie.bytesToHex=xo;function Ea(e){const t=e.toString(16);return t.length&1?`0${t}`:t}Ie.numberToHexUnpadded=Ea;function vo(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return BigInt(e===""?"0":`0x${e}`)}Ie.hexToNumber=vo;const Or={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function xa(e){if(e>=Or._0&&e<=Or._9)return e-Or._0;if(e>=Or._A&&e<=Or._F)return e-(Or._A-10);if(e>=Or._a&&e<=Or._f)return e-(Or._a-10)}function Ti(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length,r=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(r);for(let i=0,o=0;i<r;i++,o+=2){const c=xa(e.charCodeAt(o)),a=xa(e.charCodeAt(o+1));if(c===void 0||a===void 0){const l=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+o)}n[i]=c*16+a}return n}Ie.hexToBytes=Ti;function y0(e){return vo(xo(e))}Ie.bytesToNumberBE=y0;function g0(e){if(!hn(e))throw new Error("Uint8Array expected");return vo(xo(Uint8Array.from(e).reverse()))}Ie.bytesToNumberLE=g0;function va(e,t){return Ti(e.toString(16).padStart(t*2,"0"))}Ie.numberToBytesBE=va;function b0(e,t){return va(e,t).reverse()}Ie.numberToBytesLE=b0;function w0(e){return Ti(Ea(e))}Ie.numberToVarBytesBE=w0;function m0(e,t,r){let n;if(typeof t=="string")try{n=Ti(t)}catch(o){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${o}`)}else if(hn(t))n=Uint8Array.from(t);else throw new Error(`${e} must be hex string or Uint8Array`);const i=n.length;if(typeof r=="number"&&i!==r)throw new Error(`${e} expected ${r} bytes, got ${i}`);return n}Ie.ensureBytes=m0;function _a(...e){let t=0;for(let i=0;i<e.length;i++){const o=e[i];if(!hn(o))throw new Error("Uint8Array expected");t+=o.length}let r=new Uint8Array(t),n=0;for(let i=0;i<e.length;i++){const o=e[i];r.set(o,n),n+=o.length}return r}Ie.concatBytes=_a;function E0(e,t){if(e.length!==t.length)return!1;let r=0;for(let n=0;n<e.length;n++)r|=e[n]^t[n];return r===0}Ie.equalBytes=E0;function x0(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}Ie.utf8ToBytes=x0;function v0(e){let t;for(t=0;e>ma;e>>=$i,t+=1);return t}Ie.bitLen=v0;function _0(e,t){return e>>BigInt(t)&$i}Ie.bitGet=_0;const B0=(e,t,r)=>e|(r?$i:ma)<<BigInt(t);Ie.bitSet=B0;const S0=e=>(h0<<BigInt(e-1))-$i;Ie.bitMask=S0;const _o=e=>new Uint8Array(e),Ba=e=>Uint8Array.from(e);function A0(e,t,r){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=_o(e),i=_o(e),o=0;const c=()=>{n.fill(1),i.fill(0),o=0},a=(...v)=>r(i,n,...v),l=(v=_o())=>{i=a(Ba([0]),v),n=a(),v.length!==0&&(i=a(Ba([1]),v),n=a())},p=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let v=0;const T=[];for(;v<t;){n=a();const A=n.slice();T.push(A),v+=n.length}return _a(...T)};return(v,T)=>{c(),l(v);let A;for(;!(A=T(p()));)l();return c(),A}}Ie.createHmacDrbg=A0;const I0={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||hn(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function $0(e,t,r={}){const n=(i,o,c)=>{const a=I0[o];if(typeof a!="function")throw new Error(`Invalid validator "${o}", expected function`);const l=e[i];if(!(c&&l===void 0)&&!a(l,e))throw new Error(`Invalid param ${String(i)}=${l} (${typeof l}), expected ${o}`)};for(const[i,o]of Object.entries(t))n(i,o,!1);for(const[i,o]of Object.entries(r))n(i,o,!0);return e}Ie.validateObject=$0,Object.defineProperty(Ne,"__esModule",{value:!0}),Ne.mapHashToField=Ne.getMinHashLength=Ne.getFieldBytesLength=Ne.hashToPrivateScalar=Ne.FpSqrtEven=Ne.FpSqrtOdd=Ne.Field=Ne.nLength=Ne.FpIsSquare=Ne.FpDiv=Ne.FpInvertBatch=Ne.FpPow=Ne.validateField=Ne.isNegativeLE=Ne.FpSqrt=Ne.tonelliShanks=Ne.invert=Ne.pow2=Ne.pow=Ne.mod=void 0;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const tr=Ie,Ht=BigInt(0),dt=BigInt(1),qr=BigInt(2),T0=BigInt(3),Bo=BigInt(4),Sa=BigInt(5),Aa=BigInt(8);BigInt(9),BigInt(16);function rr(e,t){const r=e%t;return r>=Ht?r:t+r}Ne.mod=rr;function Ia(e,t,r){if(r<=Ht||t<Ht)throw new Error("Expected power/modulo > 0");if(r===dt)return Ht;let n=dt;for(;t>Ht;)t&dt&&(n=n*e%r),e=e*e%r,t>>=dt;return n}Ne.pow=Ia;function R0(e,t,r){let n=e;for(;t-- >Ht;)n*=n,n%=r;return n}Ne.pow2=R0;function Ri(e,t){if(e===Ht||t<=Ht)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let r=rr(e,t),n=t,i=Ht,o=dt;for(;r!==Ht;){const a=n/r,l=n%r,p=i-o*a;n=r,r=l,i=o,o=p}if(n!==dt)throw new Error("invert: does not exist");return rr(i,t)}Ne.invert=Ri;function $a(e){const t=(e-dt)/qr;let r,n,i;for(r=e-dt,n=0;r%qr===Ht;r/=qr,n++);for(i=qr;i<e&&Ia(i,t,e)!==e-dt;i++);if(n===1){const c=(e+dt)/Bo;return function(l,p){const m=l.pow(p,c);if(!l.eql(l.sqr(m),p))throw new Error("Cannot find square root");return m}}const o=(r+dt)/qr;return function(a,l){if(a.pow(l,t)===a.neg(a.ONE))throw new Error("Cannot find square root");let p=n,m=a.pow(a.mul(a.ONE,i),r),v=a.pow(l,o),T=a.pow(l,r);for(;!a.eql(T,a.ONE);){if(a.eql(T,a.ZERO))return a.ZERO;let A=1;for(let Q=a.sqr(T);A<p&&!a.eql(Q,a.ONE);A++)Q=a.sqr(Q);const D=a.pow(m,dt<<BigInt(p-A-1));m=a.sqr(D),v=a.mul(v,D),T=a.mul(T,m),p=A}return v}}Ne.tonelliShanks=$a;function Ta(e){if(e%Bo===T0){const t=(e+dt)/Bo;return function(n,i){const o=n.pow(i,t);if(!n.eql(n.sqr(o),i))throw new Error("Cannot find square root");return o}}if(e%Aa===Sa){const t=(e-Sa)/Aa;return function(n,i){const o=n.mul(i,qr),c=n.pow(o,t),a=n.mul(i,c),l=n.mul(n.mul(a,qr),c),p=n.mul(a,n.sub(l,n.ONE));if(!n.eql(n.sqr(p),i))throw new Error("Cannot find square root");return p}}return $a(e)}Ne.FpSqrt=Ta;const C0=(e,t)=>(rr(e,t)&dt)===dt;Ne.isNegativeLE=C0;const L0=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function O0(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=L0.reduce((n,i)=>(n[i]="function",n),t);return(0,tr.validateObject)(e,r)}Ne.validateField=O0;function Ra(e,t,r){if(r<Ht)throw new Error("Expected power > 0");if(r===Ht)return e.ONE;if(r===dt)return t;let n=e.ONE,i=t;for(;r>Ht;)r&dt&&(n=e.mul(n,i)),i=e.sqr(i),r>>=dt;return n}Ne.FpPow=Ra;function Ca(e,t){const r=new Array(t.length),n=t.reduce((o,c,a)=>e.is0(c)?o:(r[a]=o,e.mul(o,c)),e.ONE),i=e.inv(n);return t.reduceRight((o,c,a)=>e.is0(c)?o:(r[a]=e.mul(o,r[a]),e.mul(o,c)),i),r}Ne.FpInvertBatch=Ca;function P0(e,t,r){return e.mul(t,typeof r=="bigint"?Ri(r,e.ORDER):e.inv(r))}Ne.FpDiv=P0;function N0(e){const t=(e.ORDER-dt)/qr;return r=>{const n=e.pow(r,t);return e.eql(n,e.ZERO)||e.eql(n,e.ONE)}}Ne.FpIsSquare=N0;function So(e,t){const r=t!==void 0?t:e.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}Ne.nLength=So;function j0(e,t,r=!1,n={}){if(e<=Ht)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:i,nByteLength:o}=So(e,t);if(o>2048)throw new Error("Field lengths over 2048 bytes are not supported");const c=Ta(e),a=Object.freeze({ORDER:e,BITS:i,BYTES:o,MASK:(0,tr.bitMask)(i),ZERO:Ht,ONE:dt,create:l=>rr(l,e),isValid:l=>{if(typeof l!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof l}`);return Ht<=l&&l<e},is0:l=>l===Ht,isOdd:l=>(l&dt)===dt,neg:l=>rr(-l,e),eql:(l,p)=>l===p,sqr:l=>rr(l*l,e),add:(l,p)=>rr(l+p,e),sub:(l,p)=>rr(l-p,e),mul:(l,p)=>rr(l*p,e),pow:(l,p)=>Ra(a,l,p),div:(l,p)=>rr(l*Ri(p,e),e),sqrN:l=>l*l,addN:(l,p)=>l+p,subN:(l,p)=>l-p,mulN:(l,p)=>l*p,inv:l=>Ri(l,e),sqrt:n.sqrt||(l=>c(a,l)),invertBatch:l=>Ca(a,l),cmov:(l,p,m)=>m?p:l,toBytes:l=>r?(0,tr.numberToBytesLE)(l,o):(0,tr.numberToBytesBE)(l,o),fromBytes:l=>{if(l.length!==o)throw new Error(`Fp.fromBytes: expected ${o}, got ${l.length}`);return r?(0,tr.bytesToNumberLE)(l):(0,tr.bytesToNumberBE)(l)}});return Object.freeze(a)}Ne.Field=j0;function k0(e,t){if(!e.isOdd)throw new Error("Field doesn't have isOdd");const r=e.sqrt(t);return e.isOdd(r)?r:e.neg(r)}Ne.FpSqrtOdd=k0;function U0(e,t){if(!e.isOdd)throw new Error("Field doesn't have isOdd");const r=e.sqrt(t);return e.isOdd(r)?e.neg(r):r}Ne.FpSqrtEven=U0;function H0(e,t,r=!1){e=(0,tr.ensureBytes)("privateHash",e);const n=e.length,i=So(t).nByteLength+8;if(i<24||n<i||n>1024)throw new Error(`hashToPrivateScalar: expected ${i}-1024 bytes of input, got ${n}`);const o=r?(0,tr.bytesToNumberLE)(e):(0,tr.bytesToNumberBE)(e);return rr(o,t-dt)+dt}Ne.hashToPrivateScalar=H0;function Ao(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}Ne.getFieldBytesLength=Ao;function La(e){const t=Ao(e);return t+Math.ceil(t/2)}Ne.getMinHashLength=La;function M0(e,t,r=!1){const n=e.length,i=Ao(t),o=La(t);if(n<16||n<o||n>1024)throw new Error(`expected ${o}-1024 bytes of input, got ${n}`);const c=r?(0,tr.bytesToNumberBE)(e):(0,tr.bytesToNumberLE)(e),a=rr(c,t-dt)+dt;return r?(0,tr.numberToBytesLE)(a,i):(0,tr.numberToBytesBE)(a,i)}Ne.mapHashToField=M0;var Io={},pn={};Object.defineProperty(pn,"__esModule",{value:!0}),pn.validateBasic=pn.wNAF=void 0;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Oa=Ne,F0=Ie,D0=BigInt(0),$o=BigInt(1);function V0(e,t){const r=(i,o)=>{const c=o.negate();return i?c:o},n=i=>{const o=Math.ceil(t/i)+1,c=2**(i-1);return{windows:o,windowSize:c}};return{constTimeNegate:r,unsafeLadder(i,o){let c=e.ZERO,a=i;for(;o>D0;)o&$o&&(c=c.add(a)),a=a.double(),o>>=$o;return c},precomputeWindow(i,o){const{windows:c,windowSize:a}=n(o),l=[];let p=i,m=p;for(let v=0;v<c;v++){m=p,l.push(m);for(let T=1;T<a;T++)m=m.add(p),l.push(m);p=m.double()}return l},wNAF(i,o,c){const{windows:a,windowSize:l}=n(i);let p=e.ZERO,m=e.BASE;const v=BigInt(2**i-1),T=2**i,A=BigInt(i);for(let D=0;D<a;D++){const Q=D*l;let oe=Number(c&v);c>>=A,oe>l&&(oe-=T,c+=$o);const he=Q,P=Q+Math.abs(oe)-1,q=D%2!==0,C=oe<0;oe===0?m=m.add(r(q,o[he])):p=p.add(r(C,o[P]))}return{p,f:m}},wNAFCached(i,o,c,a){const l=i._WINDOW_SIZE||1;let p=o.get(i);return p||(p=this.precomputeWindow(i,l),l!==1&&o.set(i,a(p))),this.wNAF(l,p,c)}}}pn.wNAF=V0;function q0(e){return(0,Oa.validateField)(e.Fp),(0,F0.validateObject)(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,Oa.nLength)(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}pn.validateBasic=q0,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.mapToCurveSimpleSWU=e.SWUFpSqrtRatio=e.weierstrass=e.weierstrassPoints=e.DER=void 0;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const t=Ne,r=Ie,n=Ie,i=pn;function o(P){const q=(0,i.validateBasic)(P);r.validateObject(q,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:C,Fp:pe,a:ge}=q;if(C){if(!pe.eql(ge,pe.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof C!="object"||typeof C.beta!="bigint"||typeof C.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...q})}const{bytesToNumberBE:c,hexToBytes:a}=r;e.DER={Err:class extends Error{constructor(q=""){super(q)}},_parseInt(P){const{Err:q}=e.DER;if(P.length<2||P[0]!==2)throw new q("Invalid signature integer tag");const C=P[1],pe=P.subarray(2,C+2);if(!C||pe.length!==C)throw new q("Invalid signature integer: wrong length");if(pe[0]&128)throw new q("Invalid signature integer: negative");if(pe[0]===0&&!(pe[1]&128))throw new q("Invalid signature integer: unnecessary leading zero");return{d:c(pe),l:P.subarray(C+2)}},toSig(P){const{Err:q}=e.DER,C=typeof P=="string"?a(P):P;if(!r.isBytes(C))throw new Error("ui8a expected");let pe=C.length;if(pe<2||C[0]!=48)throw new q("Invalid signature tag");if(C[1]!==pe-2)throw new q("Invalid signature: incorrect length");const{d:ge,l:be}=e.DER._parseInt(C.subarray(2)),{d:G,l:ne}=e.DER._parseInt(be);if(ne.length)throw new q("Invalid signature: left bytes after parsing");return{r:ge,s:G}},hexFromSig(P){const q=ae=>Number.parseInt(ae[0],16)&8?"00"+ae:ae,C=ae=>{const g=ae.toString(16);return g.length&1?`0${g}`:g},pe=q(C(P.s)),ge=q(C(P.r)),be=pe.length/2,G=ge.length/2,ne=C(be),me=C(G);return`30${C(G+be+4)}02${me}${ge}02${ne}${pe}`}};const l=BigInt(0),p=BigInt(1),m=BigInt(2),v=BigInt(3),T=BigInt(4);function A(P){const q=o(P),{Fp:C}=q,pe=q.toBytes||((I,$,L)=>{const R=$.toAffine();return r.concatBytes(Uint8Array.from([4]),C.toBytes(R.x),C.toBytes(R.y))}),ge=q.fromBytes||(I=>{const $=I.subarray(1),L=C.fromBytes($.subarray(0,C.BYTES)),R=C.fromBytes($.subarray(C.BYTES,2*C.BYTES));return{x:L,y:R}});function be(I){const{a:$,b:L}=q,R=C.sqr(I),j=C.mul(R,I);return C.add(C.add(j,C.mul(I,$)),L)}if(!C.eql(C.sqr(q.Gy),be(q.Gx)))throw new Error("bad generator point: equation left != right");function G(I){return typeof I=="bigint"&&l<I&&I<q.n}function ne(I){if(!G(I))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function me(I){const{allowedPrivateKeyLengths:$,nByteLength:L,wrapPrivateKey:R,n:j}=q;if($&&typeof I!="bigint"){if(r.isBytes(I)&&(I=r.bytesToHex(I)),typeof I!="string"||!$.includes(I.length))throw new Error("Invalid key");I=I.padStart(L*2,"0")}let M;try{M=typeof I=="bigint"?I:r.bytesToNumberBE((0,n.ensureBytes)("private key",I,L))}catch{throw new Error(`private key must be ${L} bytes, hex or bigint, not ${typeof I}`)}return R&&(M=t.mod(M,j)),ne(M),M}const ae=new Map;function g(I){if(!(I instanceof y))throw new Error("ProjectivePoint expected")}class y{constructor($,L,R){if(this.px=$,this.py=L,this.pz=R,$==null||!C.isValid($))throw new Error("x required");if(L==null||!C.isValid(L))throw new Error("y required");if(R==null||!C.isValid(R))throw new Error("z required")}static fromAffine($){const{x:L,y:R}=$||{};if(!$||!C.isValid(L)||!C.isValid(R))throw new Error("invalid affine point");if($ instanceof y)throw new Error("projective point not allowed");const j=M=>C.eql(M,C.ZERO);return j(L)&&j(R)?y.ZERO:new y(L,R,C.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ($){const L=C.invertBatch($.map(R=>R.pz));return $.map((R,j)=>R.toAffine(L[j])).map(y.fromAffine)}static fromHex($){const L=y.fromAffine(ge((0,n.ensureBytes)("pointHex",$)));return L.assertValidity(),L}static fromPrivateKey($){return y.BASE.multiply(me($))}_setWindowSize($){this._WINDOW_SIZE=$,ae.delete(this)}assertValidity(){if(this.is0()){if(q.allowInfinityPoint&&!C.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:$,y:L}=this.toAffine();if(!C.isValid($)||!C.isValid(L))throw new Error("bad point: x or y not FE");const R=C.sqr(L),j=be($);if(!C.eql(R,j))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:$}=this.toAffine();if(C.isOdd)return!C.isOdd($);throw new Error("Field doesn't support isOdd")}equals($){g($);const{px:L,py:R,pz:j}=this,{px:M,py:z,pz:te}=$,Z=C.eql(C.mul(L,te),C.mul(M,j)),K=C.eql(C.mul(R,te),C.mul(z,j));return Z&&K}negate(){return new y(this.px,C.neg(this.py),this.pz)}double(){const{a:$,b:L}=q,R=C.mul(L,v),{px:j,py:M,pz:z}=this;let te=C.ZERO,Z=C.ZERO,K=C.ZERO,ce=C.mul(j,j),Ge=C.mul(M,M),Se=C.mul(z,z),_e=C.mul(j,M);return _e=C.add(_e,_e),K=C.mul(j,z),K=C.add(K,K),te=C.mul($,K),Z=C.mul(R,Se),Z=C.add(te,Z),te=C.sub(Ge,Z),Z=C.add(Ge,Z),Z=C.mul(te,Z),te=C.mul(_e,te),K=C.mul(R,K),Se=C.mul($,Se),_e=C.sub(ce,Se),_e=C.mul($,_e),_e=C.add(_e,K),K=C.add(ce,ce),ce=C.add(K,ce),ce=C.add(ce,Se),ce=C.mul(ce,_e),Z=C.add(Z,ce),Se=C.mul(M,z),Se=C.add(Se,Se),ce=C.mul(Se,_e),te=C.sub(te,ce),K=C.mul(Se,Ge),K=C.add(K,K),K=C.add(K,K),new y(te,Z,K)}add($){g($);const{px:L,py:R,pz:j}=this,{px:M,py:z,pz:te}=$;let Z=C.ZERO,K=C.ZERO,ce=C.ZERO;const Ge=q.a,Se=C.mul(q.b,v);let _e=C.mul(L,M),ut=C.mul(R,z),gt=C.mul(j,te),mt=C.add(L,R),se=C.add(M,z);mt=C.mul(mt,se),se=C.add(_e,ut),mt=C.sub(mt,se),se=C.add(L,j);let ue=C.add(M,te);return se=C.mul(se,ue),ue=C.add(_e,gt),se=C.sub(se,ue),ue=C.add(R,j),Z=C.add(z,te),ue=C.mul(ue,Z),Z=C.add(ut,gt),ue=C.sub(ue,Z),ce=C.mul(Ge,se),Z=C.mul(Se,gt),ce=C.add(Z,ce),Z=C.sub(ut,ce),ce=C.add(ut,ce),K=C.mul(Z,ce),ut=C.add(_e,_e),ut=C.add(ut,_e),gt=C.mul(Ge,gt),se=C.mul(Se,se),ut=C.add(ut,gt),gt=C.sub(_e,gt),gt=C.mul(Ge,gt),se=C.add(se,gt),_e=C.mul(ut,se),K=C.add(K,_e),_e=C.mul(ue,se),Z=C.mul(mt,Z),Z=C.sub(Z,_e),_e=C.mul(mt,ut),ce=C.mul(ue,ce),ce=C.add(ce,_e),new y(Z,K,ce)}subtract($){return this.add($.negate())}is0(){return this.equals(y.ZERO)}wNAF($){return B.wNAFCached(this,ae,$,L=>{const R=C.invertBatch(L.map(j=>j.pz));return L.map((j,M)=>j.toAffine(R[M])).map(y.fromAffine)})}multiplyUnsafe($){const L=y.ZERO;if($===l)return L;if(ne($),$===p)return this;const{endo:R}=q;if(!R)return B.unsafeLadder(this,$);let{k1neg:j,k1:M,k2neg:z,k2:te}=R.splitScalar($),Z=L,K=L,ce=this;for(;M>l||te>l;)M&p&&(Z=Z.add(ce)),te&p&&(K=K.add(ce)),ce=ce.double(),M>>=p,te>>=p;return j&&(Z=Z.negate()),z&&(K=K.negate()),K=new y(C.mul(K.px,R.beta),K.py,K.pz),Z.add(K)}multiply($){ne($);let L=$,R,j;const{endo:M}=q;if(M){const{k1neg:z,k1:te,k2neg:Z,k2:K}=M.splitScalar(L);let{p:ce,f:Ge}=this.wNAF(te),{p:Se,f:_e}=this.wNAF(K);ce=B.constTimeNegate(z,ce),Se=B.constTimeNegate(Z,Se),Se=new y(C.mul(Se.px,M.beta),Se.py,Se.pz),R=ce.add(Se),j=Ge.add(_e)}else{const{p:z,f:te}=this.wNAF(L);R=z,j=te}return y.normalizeZ([R,j])[0]}multiplyAndAddUnsafe($,L,R){const j=y.BASE,M=(te,Z)=>Z===l||Z===p||!te.equals(j)?te.multiplyUnsafe(Z):te.multiply(Z),z=M(this,L).add(M($,R));return z.is0()?void 0:z}toAffine($){const{px:L,py:R,pz:j}=this,M=this.is0();$==null&&($=M?C.ONE:C.inv(j));const z=C.mul(L,$),te=C.mul(R,$),Z=C.mul(j,$);if(M)return{x:C.ZERO,y:C.ZERO};if(!C.eql(Z,C.ONE))throw new Error("invZ was invalid");return{x:z,y:te}}isTorsionFree(){const{h:$,isTorsionFree:L}=q;if($===p)return!0;if(L)return L(y,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:$,clearCofactor:L}=q;return $===p?this:L?L(y,this):this.multiplyUnsafe(q.h)}toRawBytes($=!0){return this.assertValidity(),pe(y,this,$)}toHex($=!0){return r.bytesToHex(this.toRawBytes($))}}y.BASE=new y(q.Gx,q.Gy,C.ONE),y.ZERO=new y(C.ZERO,C.ONE,C.ZERO);const h=q.nBitLength,B=(0,i.wNAF)(y,q.endo?Math.ceil(h/2):h);return{CURVE:q,ProjectivePoint:y,normPrivateKeyToScalar:me,weierstrassEquation:be,isWithinCurveOrder:G}}e.weierstrassPoints=A;function D(P){const q=(0,i.validateBasic)(P);return r.validateObject(q,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...q})}function Q(P){const q=D(P),{Fp:C,n:pe}=q,ge=C.BYTES+1,be=2*C.BYTES+1;function G(se){return l<se&&se<C.ORDER}function ne(se){return t.mod(se,pe)}function me(se){return t.invert(se,pe)}const{ProjectivePoint:ae,normPrivateKeyToScalar:g,weierstrassEquation:y,isWithinCurveOrder:h}=A({...q,toBytes(se,ue,ke){const it=ue.toAffine(),We=C.toBytes(it.x),bt=r.concatBytes;return ke?bt(Uint8Array.from([ue.hasEvenY()?2:3]),We):bt(Uint8Array.from([4]),We,C.toBytes(it.y))},fromBytes(se){const ue=se.length,ke=se[0],it=se.subarray(1);if(ue===ge&&(ke===2||ke===3)){const We=r.bytesToNumberBE(it);if(!G(We))throw new Error("Point is not on curve");const bt=y(We);let wt=C.sqrt(bt);const xt=(wt&p)===p;return(ke&1)===1!==xt&&(wt=C.neg(wt)),{x:We,y:wt}}else if(ue===be&&ke===4){const We=C.fromBytes(it.subarray(0,C.BYTES)),bt=C.fromBytes(it.subarray(C.BYTES,2*C.BYTES));return{x:We,y:bt}}else throw new Error(`Point of length ${ue} was invalid. Expected ${ge} compressed bytes or ${be} uncompressed bytes`)}}),B=se=>r.bytesToHex(r.numberToBytesBE(se,q.nByteLength));function I(se){const ue=pe>>p;return se>ue}function $(se){return I(se)?ne(-se):se}const L=(se,ue,ke)=>r.bytesToNumberBE(se.slice(ue,ke));class R{constructor(ue,ke,it){this.r=ue,this.s=ke,this.recovery=it,this.assertValidity()}static fromCompact(ue){const ke=q.nByteLength;return ue=(0,n.ensureBytes)("compactSignature",ue,ke*2),new R(L(ue,0,ke),L(ue,ke,2*ke))}static fromDER(ue){const{r:ke,s:it}=e.DER.toSig((0,n.ensureBytes)("DER",ue));return new R(ke,it)}assertValidity(){if(!h(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!h(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(ue){return new R(this.r,this.s,ue)}recoverPublicKey(ue){const{r:ke,s:it,recovery:We}=this,bt=K((0,n.ensureBytes)("msgHash",ue));if(We==null||![0,1,2,3].includes(We))throw new Error("recovery id invalid");const wt=We===2||We===3?ke+q.n:ke;if(wt>=C.ORDER)throw new Error("recovery id 2 or 3 invalid");const xt=We&1?"03":"02",jt=ae.fromHex(xt+B(wt)),vt=me(wt),er=ne(-bt*vt),gr=ne(it*vt),Rt=ae.BASE.multiplyAndAddUnsafe(jt,er,gr);if(!Rt)throw new Error("point at infinify");return Rt.assertValidity(),Rt}hasHighS(){return I(this.s)}normalizeS(){return this.hasHighS()?new R(this.r,ne(-this.s),this.recovery):this}toDERRawBytes(){return r.hexToBytes(this.toDERHex())}toDERHex(){return e.DER.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return r.hexToBytes(this.toCompactHex())}toCompactHex(){return B(this.r)+B(this.s)}}const j={isValidPrivateKey(se){try{return g(se),!0}catch{return!1}},normPrivateKeyToScalar:g,randomPrivateKey:()=>{const se=t.getMinHashLength(q.n);return t.mapHashToField(q.randomBytes(se),q.n)},precompute(se=8,ue=ae.BASE){return ue._setWindowSize(se),ue.multiply(BigInt(3)),ue}};function M(se,ue=!0){return ae.fromPrivateKey(se).toRawBytes(ue)}function z(se){const ue=r.isBytes(se),ke=typeof se=="string",it=(ue||ke)&&se.length;return ue?it===ge||it===be:ke?it===2*ge||it===2*be:se instanceof ae}function te(se,ue,ke=!0){if(z(se))throw new Error("first arg must be private key");if(!z(ue))throw new Error("second arg must be public key");return ae.fromHex(ue).multiply(g(se)).toRawBytes(ke)}const Z=q.bits2int||function(se){const ue=r.bytesToNumberBE(se),ke=se.length*8-q.nBitLength;return ke>0?ue>>BigInt(ke):ue},K=q.bits2int_modN||function(se){return ne(Z(se))},ce=r.bitMask(q.nBitLength);function Ge(se){if(typeof se!="bigint")throw new Error("bigint expected");if(!(l<=se&&se<ce))throw new Error(`bigint expected < 2^${q.nBitLength}`);return r.numberToBytesBE(se,q.nByteLength)}function Se(se,ue,ke=_e){if(["recovered","canonical"].some(b=>b in ke))throw new Error("sign() legacy options not supported");const{hash:it,randomBytes:We}=q;let{lowS:bt,prehash:wt,extraEntropy:xt}=ke;bt==null&&(bt=!0),se=(0,n.ensureBytes)("msgHash",se),wt&&(se=(0,n.ensureBytes)("prehashed msgHash",it(se)));const jt=K(se),vt=g(ue),er=[Ge(vt),Ge(jt)];if(xt!=null){const b=xt===!0?We(C.BYTES):xt;er.push((0,n.ensureBytes)("extraEntropy",b))}const gr=r.concatBytes(...er),Rt=jt;function Cr(b){const f=Z(b);if(!h(f))return;const u=me(f),_=ae.BASE.multiply(f).toAffine(),O=ne(_.x);if(O===l)return;const U=ne(u*ne(Rt+O*vt));if(U===l)return;let W=(_.x===O?0:2)|Number(_.y&p),Re=U;return bt&&I(U)&&(Re=$(U),W^=1),new R(O,Re,W)}return{seed:gr,k2sig:Cr}}const _e={lowS:q.lowS,prehash:!1},ut={lowS:q.lowS,prehash:!1};function gt(se,ue,ke=_e){const{seed:it,k2sig:We}=Se(se,ue,ke),bt=q;return r.createHmacDrbg(bt.hash.outputLen,bt.nByteLength,bt.hmac)(it,We)}ae.BASE._setWindowSize(8);function mt(se,ue,ke,it=ut){const We=se;if(ue=(0,n.ensureBytes)("msgHash",ue),ke=(0,n.ensureBytes)("publicKey",ke),"strict"in it)throw new Error("options.strict was renamed to lowS");const{lowS:bt,prehash:wt}=it;let xt,jt;try{if(typeof We=="string"||r.isBytes(We))try{xt=R.fromDER(We)}catch(_){if(!(_ instanceof e.DER.Err))throw _;xt=R.fromCompact(We)}else if(typeof We=="object"&&typeof We.r=="bigint"&&typeof We.s=="bigint"){const{r:_,s:O}=We;xt=new R(_,O)}else throw new Error("PARSE");jt=ae.fromHex(ke)}catch(_){if(_.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(bt&&xt.hasHighS())return!1;wt&&(ue=q.hash(ue));const{r:vt,s:er}=xt,gr=K(ue),Rt=me(er),Cr=ne(gr*Rt),b=ne(vt*Rt),f=ae.BASE.multiplyAndAddUnsafe(jt,Cr,b)?.toAffine();return f?ne(f.x)===vt:!1}return{CURVE:q,getPublicKey:M,getSharedSecret:te,sign:gt,verify:mt,ProjectivePoint:ae,Signature:R,utils:j}}e.weierstrass=Q;function oe(P,q){const C=P.ORDER;let pe=l;for(let I=C-p;I%m===l;I/=m)pe+=p;const ge=pe,be=m<<ge-p-p,G=be*m,ne=(C-p)/G,me=(ne-p)/m,ae=G-p,g=be,y=P.pow(q,ne),h=P.pow(q,(ne+p)/m);let B=(I,$)=>{let L=y,R=P.pow($,ae),j=P.sqr(R);j=P.mul(j,$);let M=P.mul(I,j);M=P.pow(M,me),M=P.mul(M,R),R=P.mul(M,$),j=P.mul(M,I);let z=P.mul(j,R);M=P.pow(z,g);let te=P.eql(M,P.ONE);R=P.mul(j,h),M=P.mul(z,L),j=P.cmov(R,j,te),z=P.cmov(M,z,te);for(let Z=ge;Z>p;Z--){let K=Z-m;K=m<<K-p;let ce=P.pow(z,K);const Ge=P.eql(ce,P.ONE);R=P.mul(j,L),L=P.mul(L,L),ce=P.mul(z,L),j=P.cmov(R,j,Ge),z=P.cmov(ce,z,Ge)}return{isValid:te,value:j}};if(P.ORDER%T===v){const I=(P.ORDER-v)/T,$=P.sqrt(P.neg(q));B=(L,R)=>{let j=P.sqr(R);const M=P.mul(L,R);j=P.mul(j,M);let z=P.pow(j,I);z=P.mul(z,M);const te=P.mul(z,$),Z=P.mul(P.sqr(z),R),K=P.eql(Z,L);let ce=P.cmov(te,z,K);return{isValid:K,value:ce}}}return B}e.SWUFpSqrtRatio=oe;function he(P,q){if(t.validateField(P),!P.isValid(q.A)||!P.isValid(q.B)||!P.isValid(q.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");const C=oe(P,q.Z);if(!P.isOdd)throw new Error("Fp.isOdd is not implemented!");return pe=>{let ge,be,G,ne,me,ae,g,y;ge=P.sqr(pe),ge=P.mul(ge,q.Z),be=P.sqr(ge),be=P.add(be,ge),G=P.add(be,P.ONE),G=P.mul(G,q.B),ne=P.cmov(q.Z,P.neg(be),!P.eql(be,P.ZERO)),ne=P.mul(ne,q.A),be=P.sqr(G),ae=P.sqr(ne),me=P.mul(ae,q.A),be=P.add(be,me),be=P.mul(be,G),ae=P.mul(ae,ne),me=P.mul(ae,q.B),be=P.add(be,me),g=P.mul(ge,G);const{isValid:h,value:B}=C(be,ae);y=P.mul(ge,pe),y=P.mul(y,B),g=P.cmov(g,G,h),y=P.cmov(y,B,h);const I=P.isOdd(pe)===P.isOdd(y);return y=P.cmov(P.neg(y),y,I),g=P.div(g,ne),{x:g,y}}}e.mapToCurveSimpleSWU=he}(Io);var fr={};Object.defineProperty(fr,"__esModule",{value:!0}),fr.createHasher=fr.isogenyMap=fr.hash_to_field=fr.expand_message_xof=fr.expand_message_xmd=void 0;const z0=Ne,nr=Ie;function G0(e){if((0,nr.isBytes)(e))return e;if(typeof e=="string")return(0,nr.utf8ToBytes)(e);throw new Error("DST must be Uint8Array or string")}const W0=nr.bytesToNumberBE;function zr(e,t){if(e<0||e>=1<<8*t)throw new Error(`bad I2OSP call: value=${e} length=${t}`);const r=Array.from({length:t}).fill(0);for(let n=t-1;n>=0;n--)r[n]=e&255,e>>>=8;return new Uint8Array(r)}function K0(e,t){const r=new Uint8Array(e.length);for(let n=0;n<e.length;n++)r[n]=e[n]^t[n];return r}function Dn(e){if(!(0,nr.isBytes)(e))throw new Error("Uint8Array expected")}function To(e){if(!Number.isSafeInteger(e))throw new Error("number expected")}function Pa(e,t,r,n){Dn(e),Dn(t),To(r),t.length>255&&(t=n((0,nr.concatBytes)((0,nr.utf8ToBytes)("H2C-OVERSIZE-DST-"),t)));const{outputLen:i,blockLen:o}=n,c=Math.ceil(r/i);if(c>255)throw new Error("Invalid xmd length");const a=(0,nr.concatBytes)(t,zr(t.length,1)),l=zr(0,o),p=zr(r,2),m=new Array(c),v=n((0,nr.concatBytes)(l,e,p,zr(0,1),a));m[0]=n((0,nr.concatBytes)(v,zr(1,1),a));for(let A=1;A<=c;A++){const D=[K0(v,m[A-1]),zr(A+1,1),a];m[A]=n((0,nr.concatBytes)(...D))}return(0,nr.concatBytes)(...m).slice(0,r)}fr.expand_message_xmd=Pa;function Na(e,t,r,n,i){if(Dn(e),Dn(t),To(r),t.length>255){const o=Math.ceil(2*n/8);t=i.create({dkLen:o}).update((0,nr.utf8ToBytes)("H2C-OVERSIZE-DST-")).update(t).digest()}if(r>65535||t.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return i.create({dkLen:r}).update(e).update(zr(r,2)).update(t).update(zr(t.length,1)).digest()}fr.expand_message_xof=Na;function Ro(e,t,r){(0,nr.validateObject)(r,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});const{p:n,k:i,m:o,hash:c,expand:a,DST:l}=r;Dn(e),To(t);const p=G0(l),m=n.toString(2).length,v=Math.ceil((m+i)/8),T=t*o*v;let A;if(a==="xmd")A=Pa(e,p,T,c);else if(a==="xof")A=Na(e,p,T,i,c);else if(a==="_internal_pass")A=e;else throw new Error('expand must be "xmd" or "xof"');const D=new Array(t);for(let Q=0;Q<t;Q++){const oe=new Array(o);for(let he=0;he<o;he++){const P=v*(he+Q*o),q=A.subarray(P,P+v);oe[he]=(0,z0.mod)(W0(q),n)}D[Q]=oe}return D}fr.hash_to_field=Ro;function J0(e,t){const r=t.map(n=>Array.from(n).reverse());return(n,i)=>{const[o,c,a,l]=r.map(p=>p.reduce((m,v)=>e.add(e.mul(m,n),v)));return n=e.div(o,c),i=e.mul(i,e.div(a,l)),{x:n,y:i}}}fr.isogenyMap=J0;function X0(e,t,r){if(typeof t!="function")throw new Error("mapToCurve() must be defined");return{hashToCurve(n,i){const o=Ro(n,2,{...r,DST:r.DST,...i}),c=e.fromAffine(t(o[0])),a=e.fromAffine(t(o[1])),l=c.add(a).clearCofactor();return l.assertValidity(),l},encodeToCurve(n,i){const o=Ro(n,1,{...r,DST:r.encodeDST,...i}),c=e.fromAffine(t(o[0])).clearCofactor();return c.assertValidity(),c}}}fr.createHasher=X0;var yn={},ja={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.hmac=e.HMAC=void 0;const t=Ut,r=Lr;class n extends r.Hash{constructor(c,a){super(),this.finished=!1,this.destroyed=!1,(0,t.hash)(c);const l=(0,r.toBytes)(a);if(this.iHash=c.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const p=this.blockLen,m=new Uint8Array(p);m.set(l.length>p?c.create().update(l).digest():l);for(let v=0;v<m.length;v++)m[v]^=54;this.iHash.update(m),this.oHash=c.create();for(let v=0;v<m.length;v++)m[v]^=106;this.oHash.update(m),m.fill(0)}update(c){return(0,t.exists)(this),this.iHash.update(c),this}digestInto(c){(0,t.exists)(this),(0,t.bytes)(c,this.outputLen),this.finished=!0,this.iHash.digestInto(c),this.oHash.update(c),this.oHash.digestInto(c),this.destroy()}digest(){const c=new Uint8Array(this.oHash.outputLen);return this.digestInto(c),c}_cloneInto(c){c||(c=Object.create(Object.getPrototypeOf(this),{}));const{oHash:a,iHash:l,finished:p,destroyed:m,blockLen:v,outputLen:T}=this;return c=c,c.finished=p,c.destroyed=m,c.blockLen=v,c.outputLen=T,c.oHash=a._cloneInto(c.oHash),c.iHash=l._cloneInto(c.iHash),c}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}e.HMAC=n;const i=(o,c,a)=>new n(o,c).update(a).digest();e.hmac=i,e.hmac.create=(o,c)=>new n(o,c)})(ja),Object.defineProperty(yn,"__esModule",{value:!0}),yn.createCurve=yn.getHash=void 0;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Y0=ja,ka=Lr,Z0=Io;function Ua(e){return{hash:e,hmac:(t,...r)=>(0,Y0.hmac)(e,t,(0,ka.concatBytes)(...r)),randomBytes:ka.randomBytes}}yn.getHash=Ua;function Q0(e,t){const r=n=>(0,Z0.weierstrass)({...e,...Ua(n)});return Object.freeze({...r(t),create:r})}yn.createCurve=Q0,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.encodeToCurve=e.hashToCurve=e.schnorr=e.secp256k1=void 0;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const t=dn,r=Lr,n=Ne,i=Io,o=Ie,c=fr,a=yn,l=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),p=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),m=BigInt(1),v=BigInt(2),T=(R,j)=>(R+j/v)/j;function A(R){const j=l,M=BigInt(3),z=BigInt(6),te=BigInt(11),Z=BigInt(22),K=BigInt(23),ce=BigInt(44),Ge=BigInt(88),Se=R*R*R%j,_e=Se*Se*R%j,ut=(0,n.pow2)(_e,M,j)*_e%j,gt=(0,n.pow2)(ut,M,j)*_e%j,mt=(0,n.pow2)(gt,v,j)*Se%j,se=(0,n.pow2)(mt,te,j)*mt%j,ue=(0,n.pow2)(se,Z,j)*se%j,ke=(0,n.pow2)(ue,ce,j)*ue%j,it=(0,n.pow2)(ke,Ge,j)*ke%j,We=(0,n.pow2)(it,ce,j)*ue%j,bt=(0,n.pow2)(We,M,j)*_e%j,wt=(0,n.pow2)(bt,K,j)*se%j,xt=(0,n.pow2)(wt,z,j)*Se%j,jt=(0,n.pow2)(xt,v,j);if(!D.eql(D.sqr(jt),R))throw new Error("Cannot find square root");return jt}const D=(0,n.Field)(l,void 0,void 0,{sqrt:A});e.secp256k1=(0,a.createCurve)({a:BigInt(0),b:BigInt(7),Fp:D,n:p,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:R=>{const j=p,M=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),z=-m*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),te=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),Z=M,K=BigInt("0x100000000000000000000000000000000"),ce=T(Z*R,j),Ge=T(-z*R,j);let Se=(0,n.mod)(R-ce*M-Ge*te,j),_e=(0,n.mod)(-ce*z-Ge*Z,j);const ut=Se>K,gt=_e>K;if(ut&&(Se=j-Se),gt&&(_e=j-_e),Se>K||_e>K)throw new Error("splitScalar: Endomorphism failed, k="+R);return{k1neg:ut,k1:Se,k2neg:gt,k2:_e}}}},t.sha256);const Q=BigInt(0),oe=R=>typeof R=="bigint"&&Q<R&&R<l,he=R=>typeof R=="bigint"&&Q<R&&R<p,P={};function q(R,...j){let M=P[R];if(M===void 0){const z=(0,t.sha256)(Uint8Array.from(R,te=>te.charCodeAt(0)));M=(0,o.concatBytes)(z,z),P[R]=M}return(0,t.sha256)((0,o.concatBytes)(M,...j))}const C=R=>R.toRawBytes(!0).slice(1),pe=R=>(0,o.numberToBytesBE)(R,32),ge=R=>(0,n.mod)(R,l),be=R=>(0,n.mod)(R,p),G=e.secp256k1.ProjectivePoint,ne=(R,j,M)=>G.BASE.multiplyAndAddUnsafe(R,j,M);function me(R){let j=e.secp256k1.utils.normPrivateKeyToScalar(R),M=G.fromPrivateKey(j);return{scalar:M.hasEvenY()?j:be(-j),bytes:C(M)}}function ae(R){if(!oe(R))throw new Error("bad x: need 0 < x < p");const j=ge(R*R),M=ge(j*R+BigInt(7));let z=A(M);z%v!==Q&&(z=ge(-z));const te=new G(R,z,m);return te.assertValidity(),te}function g(...R){return be((0,o.bytesToNumberBE)(q("BIP0340/challenge",...R)))}function y(R){return me(R).bytes}function h(R,j,M=(0,r.randomBytes)(32)){const z=(0,o.ensureBytes)("message",R),{bytes:te,scalar:Z}=me(j),K=(0,o.ensureBytes)("auxRand",M,32),ce=pe(Z^(0,o.bytesToNumberBE)(q("BIP0340/aux",K))),Ge=q("BIP0340/nonce",ce,te,z),Se=be((0,o.bytesToNumberBE)(Ge));if(Se===Q)throw new Error("sign failed: k is zero");const{bytes:_e,scalar:ut}=me(Se),gt=g(_e,te,z),mt=new Uint8Array(64);if(mt.set(_e,0),mt.set(pe(be(ut+gt*Z)),32),!B(mt,z,te))throw new Error("sign: Invalid signature produced");return mt}function B(R,j,M){const z=(0,o.ensureBytes)("signature",R,64),te=(0,o.ensureBytes)("message",j),Z=(0,o.ensureBytes)("publicKey",M,32);try{const K=ae((0,o.bytesToNumberBE)(Z)),ce=(0,o.bytesToNumberBE)(z.subarray(0,32));if(!oe(ce))return!1;const Ge=(0,o.bytesToNumberBE)(z.subarray(32,64));if(!he(Ge))return!1;const Se=g(pe(ce),C(K),te),_e=ne(K,Ge,be(-Se));return!(!_e||!_e.hasEvenY()||_e.toAffine().x!==ce)}catch{return!1}}e.schnorr=(()=>({getPublicKey:y,sign:h,verify:B,utils:{randomPrivateKey:e.secp256k1.utils.randomPrivateKey,lift_x:ae,pointToBytes:C,numberToBytesBE:o.numberToBytesBE,bytesToNumberBE:o.bytesToNumberBE,taggedHash:q,mod:n.mod}}))();const I=(()=>(0,c.isogenyMap)(D,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(R=>R.map(j=>BigInt(j)))))(),$=(()=>(0,i.mapToCurveSimpleSWU)(D,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:D.create(BigInt("-11"))}))(),L=(()=>(0,c.createHasher)(e.secp256k1.ProjectivePoint,R=>{const{x:j,y:M}=$(D.create(R[0]));return I(j,M)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:D.ORDER,m:1,k:128,expand:"xmd",hash:t.sha256}))();e.hashToCurve=(()=>L.hashToCurve)(),e.encodeToCurve=(()=>L.encodeToCurve)()}(ha),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.secp256k1=void 0;var t=ha;Object.defineProperty(e,"secp256k1",{enumerable:!0,get:function(){return t.secp256k1}})}(Bi),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.MAX_WITHDRAWALS_PER_PAYLOAD=e.RLP_EMPTY_STRING=e.KECCAK256_RLP=e.KECCAK256_RLP_S=e.KECCAK256_RLP_ARRAY=e.KECCAK256_RLP_ARRAY_S=e.KECCAK256_NULL=e.KECCAK256_NULL_S=e.TWO_POW256=e.SECP256K1_ORDER_DIV_2=e.SECP256K1_ORDER=e.MAX_INTEGER_BIGINT=e.MAX_INTEGER=e.MAX_UINT64=void 0;const t=la,r=Bi;e.MAX_UINT64=BigInt("0xffffffffffffffff"),e.MAX_INTEGER=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),e.MAX_INTEGER_BIGINT=BigInt("115792089237316195423570985008687907853269984665640564039457584007913129639935"),e.SECP256K1_ORDER=r.secp256k1.CURVE.n,e.SECP256K1_ORDER_DIV_2=r.secp256k1.CURVE.n/BigInt(2),e.TWO_POW256=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000"),e.KECCAK256_NULL_S="c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",e.KECCAK256_NULL=t.Buffer.from(e.KECCAK256_NULL_S,"hex"),e.KECCAK256_RLP_ARRAY_S="1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347",e.KECCAK256_RLP_ARRAY=t.Buffer.from(e.KECCAK256_RLP_ARRAY_S,"hex"),e.KECCAK256_RLP_S="56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421",e.KECCAK256_RLP=t.Buffer.from(e.KECCAK256_RLP_S,"hex"),e.RLP_EMPTY_STRING=t.Buffer.from([128]),e.MAX_WITHDRAWALS_PER_PAYLOAD=16}(vi);var Ci={};Object.defineProperty(Ci,"__esModule",{value:!0}),Ci.GWEI_TO_WEI=void 0,Ci.GWEI_TO_WEI=BigInt(1e9);var Co={},Ar={};Object.defineProperty(Ar,"__esModule",{value:!0}),Ar.RLP=Ar.utils=Ar.decode=Ar.encode=void 0;function Lo(e){if(Array.isArray(e)){const r=[];let n=0;for(let i=0;i<e.length;i++){const o=Lo(e[i]);r.push(o),n+=o.length}return Po(Ma(n,192),...r)}const t=Ga(e);return t.length===1&&t[0]<128?t:Po(Ma(t.length,128),t)}Ar.encode=Lo;function gn(e,t,r){if(r>e.length)throw new Error("invalid RLP (safeSlice): end slice of Uint8Array out-of-bounds");return e.slice(t,r)}function Ha(e){if(e[0]===0)throw new Error("invalid RLP: extra zeros");return Va(Da(e))}function Ma(e,t){if(e<56)return Uint8Array.from([e+t]);const r=No(e),n=r.length/2,i=No(t+55+n);return Uint8Array.from(Li(i+r))}function Fa(e,t=!1){if(typeof e>"u"||e===null||e.length===0)return Uint8Array.from([]);const r=Ga(e),n=Oo(r);if(t)return n;if(n.remainder.length!==0)throw new Error("invalid RLP: remainder must be zero");return n.data}Ar.decode=Fa;function Oo(e){let t,r,n,i,o;const c=[],a=e[0];if(a<=127)return{data:e.slice(0,1),remainder:e.slice(1)};if(a<=183){if(t=a-127,a===128?n=Uint8Array.from([]):n=gn(e,1,t),t===2&&n[0]<128)throw new Error("invalid RLP encoding: invalid prefix, single byte < 0x80 are not prefixed");return{data:n,remainder:e.slice(t)}}else if(a<=191){if(r=a-182,e.length-1<r)throw new Error("invalid RLP: not enough bytes for string length");if(t=Ha(gn(e,1,r)),t<=55)throw new Error("invalid RLP: expected string length to be greater than 55");return n=gn(e,r,t+r),{data:n,remainder:e.slice(t+r)}}else if(a<=247){for(t=a-191,i=gn(e,1,t);i.length;)o=Oo(i),c.push(o.data),i=o.remainder;return{data:c,remainder:e.slice(t)}}else{if(r=a-246,t=Ha(gn(e,1,r)),t<56)throw new Error("invalid RLP: encoded list too short");const l=r+t;if(l>e.length)throw new Error("invalid RLP: total length is larger than the data");for(i=gn(e,r,l);i.length;)o=Oo(i),c.push(o.data),i=o.remainder;return{data:c,remainder:e.slice(l)}}}const ed=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Da(e){let t="";for(let r=0;r<e.length;r++)t+=ed[e[r]];return t}function Va(e){const t=Number.parseInt(e,16);if(Number.isNaN(t))throw new Error("Invalid byte sequence");return t}function Li(e){if(typeof e!="string")throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const t=new Uint8Array(e.length/2);for(let r=0;r<t.length;r++){const n=r*2;t[r]=Va(e.slice(n,n+2))}return t}function Po(...e){if(e.length===1)return e[0];const t=e.reduce((n,i)=>n+i.length,0),r=new Uint8Array(t);for(let n=0,i=0;n<e.length;n++){const o=e[n];r.set(o,i),i+=o.length}return r}function qa(e){return new TextEncoder().encode(e)}function No(e){if(e<0)throw new Error("Invalid integer as argument, must be unsigned!");const t=e.toString(16);return t.length%2?`0${t}`:t}function td(e){return e.length%2?`0${e}`:e}function za(e){return e.length>=2&&e[0]==="0"&&e[1]==="x"}function rd(e){return typeof e!="string"?e:za(e)?e.slice(2):e}function Ga(e){if(e instanceof Uint8Array)return e;if(typeof e=="string")return za(e)?Li(td(rd(e))):qa(e);if(typeof e=="number"||typeof e=="bigint")return e?Li(No(e)):Uint8Array.from([]);if(e==null)return Uint8Array.from([]);throw new Error("toBytes: received unsupported type "+typeof e)}Ar.utils={bytesToHex:Da,concatBytes:Po,hexToBytes:Li,utf8ToBytes:qa},Ar.RLP={encode:Lo,decode:Fa};var ur={},ht={},$e={};Object.defineProperty($e,"__esModule",{value:!0}),$e.add5L=$e.add5H=$e.add4H=$e.add4L=$e.add3H=$e.add3L=$e.add=$e.rotlBL=$e.rotlBH=$e.rotlSL=$e.rotlSH=$e.rotr32L=$e.rotr32H=$e.rotrBL=$e.rotrBH=$e.rotrSL=$e.rotrSH=$e.shrSL=$e.shrSH=$e.toBig=$e.split=$e.fromBig=void 0;const Oi=BigInt(2**32-1),jo=BigInt(32);function ko(e,t=!1){return t?{h:Number(e&Oi),l:Number(e>>jo&Oi)}:{h:Number(e>>jo&Oi)|0,l:Number(e&Oi)|0}}$e.fromBig=ko;function Wa(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:o,l:c}=ko(e[i],t);[r[i],n[i]]=[o,c]}return[r,n]}$e.split=Wa;const Ka=(e,t)=>BigInt(e>>>0)<<jo|BigInt(t>>>0);$e.toBig=Ka;const Ja=(e,t,r)=>e>>>r;$e.shrSH=Ja;const Xa=(e,t,r)=>e<<32-r|t>>>r;$e.shrSL=Xa;const Ya=(e,t,r)=>e>>>r|t<<32-r;$e.rotrSH=Ya;const Za=(e,t,r)=>e<<32-r|t>>>r;$e.rotrSL=Za;const Qa=(e,t,r)=>e<<64-r|t>>>r-32;$e.rotrBH=Qa;const ec=(e,t,r)=>e>>>r-32|t<<64-r;$e.rotrBL=ec;const tc=(e,t)=>t;$e.rotr32H=tc;const rc=(e,t)=>e;$e.rotr32L=rc;const nc=(e,t,r)=>e<<r|t>>>32-r;$e.rotlSH=nc;const ic=(e,t,r)=>t<<r|e>>>32-r;$e.rotlSL=ic;const oc=(e,t,r)=>t<<r-32|e>>>64-r;$e.rotlBH=oc;const sc=(e,t,r)=>e<<r-32|t>>>64-r;$e.rotlBL=sc;function ac(e,t,r,n){const i=(t>>>0)+(n>>>0);return{h:e+r+(i/2**32|0)|0,l:i|0}}$e.add=ac;const cc=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0);$e.add3L=cc;const fc=(e,t,r,n)=>t+r+n+(e/2**32|0)|0;$e.add3H=fc;const uc=(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0);$e.add4L=uc;const lc=(e,t,r,n,i)=>t+r+n+i+(e/2**32|0)|0;$e.add4H=lc;const dc=(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0);$e.add5L=dc;const hc=(e,t,r,n,i,o)=>t+r+n+i+o+(e/2**32|0)|0;$e.add5H=hc;const nd={fromBig:ko,split:Wa,toBig:Ka,shrSH:Ja,shrSL:Xa,rotrSH:Ya,rotrSL:Za,rotrBH:Qa,rotrBL:ec,rotr32H:tc,rotr32L:rc,rotlSH:nc,rotlSL:ic,rotlBH:oc,rotlBL:sc,add:ac,add3L:cc,add3H:fc,add4L:uc,add4H:lc,add5H:hc,add5L:dc};$e.default=nd,Object.defineProperty(ht,"__esModule",{value:!0}),ht.shake256=ht.shake128=ht.keccak_512=ht.keccak_384=ht.keccak_256=ht.keccak_224=ht.sha3_512=ht.sha3_384=ht.sha3_256=ht.sha3_224=ht.Keccak=ht.keccakP=void 0;const bn=Ut,Vn=$e,qn=Lr,[pc,yc,gc]=[[],[],[]],id=BigInt(0),zn=BigInt(1),od=BigInt(2),sd=BigInt(7),ad=BigInt(256),cd=BigInt(113);for(let e=0,t=zn,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],pc.push(2*(5*n+r)),yc.push((e+1)*(e+2)/2%64);let i=id;for(let o=0;o<7;o++)t=(t<<zn^(t>>sd)*cd)%ad,t&od&&(i^=zn<<(zn<<BigInt(o))-zn);gc.push(i)}const[fd,ud]=(0,Vn.split)(gc,!0),bc=(e,t,r)=>r>32?(0,Vn.rotlBH)(e,t,r):(0,Vn.rotlSH)(e,t,r),wc=(e,t,r)=>r>32?(0,Vn.rotlBL)(e,t,r):(0,Vn.rotlSL)(e,t,r);function mc(e,t=24){const r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let c=0;c<10;c++)r[c]=e[c]^e[c+10]^e[c+20]^e[c+30]^e[c+40];for(let c=0;c<10;c+=2){const a=(c+8)%10,l=(c+2)%10,p=r[l],m=r[l+1],v=bc(p,m,1)^r[a],T=wc(p,m,1)^r[a+1];for(let A=0;A<50;A+=10)e[c+A]^=v,e[c+A+1]^=T}let i=e[2],o=e[3];for(let c=0;c<24;c++){const a=yc[c],l=bc(i,o,a),p=wc(i,o,a),m=pc[c];i=e[m],o=e[m+1],e[m]=l,e[m+1]=p}for(let c=0;c<50;c+=10){for(let a=0;a<10;a++)r[a]=e[c+a];for(let a=0;a<10;a++)e[c+a]^=~r[(a+2)%10]&r[(a+4)%10]}e[0]^=fd[n],e[1]^=ud[n]}r.fill(0)}ht.keccakP=mc;class Gn extends qn.Hash{constructor(t,r,n,i=!1,o=24){if(super(),this.blockLen=t,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=o,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,(0,bn.number)(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,qn.u32)(this.state)}keccak(){mc(this.state32,this.rounds),this.posOut=0,this.pos=0}update(t){(0,bn.exists)(this);const{blockLen:r,state:n}=this;t=(0,qn.toBytes)(t);const i=t.length;for(let o=0;o<i;){const c=Math.min(r-this.pos,i-o);for(let a=0;a<c;a++)n[this.pos++]^=t[o++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:r,pos:n,blockLen:i}=this;t[n]^=r,r&128&&n===i-1&&this.keccak(),t[i-1]^=128,this.keccak()}writeInto(t){(0,bn.exists)(this,!1),(0,bn.bytes)(t),this.finish();const r=this.state,{blockLen:n}=this;for(let i=0,o=t.length;i<o;){this.posOut>=n&&this.keccak();const c=Math.min(n-this.posOut,o-i);t.set(r.subarray(this.posOut,this.posOut+c),i),this.posOut+=c,i+=c}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return(0,bn.number)(t),this.xofInto(new Uint8Array(t))}digestInto(t){if((0,bn.output)(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){const{blockLen:r,suffix:n,outputLen:i,rounds:o,enableXOF:c}=this;return t||(t=new Gn(r,n,i,c,o)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=o,t.suffix=n,t.outputLen=i,t.enableXOF=c,t.destroyed=this.destroyed,t}}ht.Keccak=Gn;const Gr=(e,t,r)=>(0,qn.wrapConstructor)(()=>new Gn(t,e,r));ht.sha3_224=Gr(6,144,224/8),ht.sha3_256=Gr(6,136,256/8),ht.sha3_384=Gr(6,104,384/8),ht.sha3_512=Gr(6,72,512/8),ht.keccak_224=Gr(1,144,224/8),ht.keccak_256=Gr(1,136,256/8),ht.keccak_384=Gr(1,104,384/8),ht.keccak_512=Gr(1,72,512/8);const Ec=(e,t,r)=>(0,qn.wrapXOFConstructorWithOpts)((n={})=>new Gn(t,e,n.dkLen===void 0?r:n.dkLen,!0));ht.shake128=Ec(31,168,128/8),ht.shake256=Ec(31,136,256/8);function Uo(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Pi={exports:{}};(function(e,t){var r=nt&&nt.__importDefault||function(T){return T&&T.__esModule?T:{default:T}};Object.defineProperty(t,"__esModule",{value:!0}),t.crypto=t.wrapHash=t.equalsBytes=t.hexToBytes=t.bytesToUtf8=t.utf8ToBytes=t.createView=t.concatBytes=t.toHex=t.bytesToHex=t.assertBytes=t.assertBool=void 0;const n=r(Ut),i=Lr,o=n.default.bool;t.assertBool=o;const c=n.default.bytes;t.assertBytes=c;var a=Lr;Object.defineProperty(t,"bytesToHex",{enumerable:!0,get:function(){return a.bytesToHex}}),Object.defineProperty(t,"toHex",{enumerable:!0,get:function(){return a.bytesToHex}}),Object.defineProperty(t,"concatBytes",{enumerable:!0,get:function(){return a.concatBytes}}),Object.defineProperty(t,"createView",{enumerable:!0,get:function(){return a.createView}}),Object.defineProperty(t,"utf8ToBytes",{enumerable:!0,get:function(){return a.utf8ToBytes}});function l(T){if(!(T instanceof Uint8Array))throw new TypeError(`bytesToUtf8 expected Uint8Array, got ${typeof T}`);return new TextDecoder().decode(T)}t.bytesToUtf8=l;function p(T){const A=T.startsWith("0x")?T.substring(2):T;return(0,i.hexToBytes)(A)}t.hexToBytes=p;function m(T,A){if(T.length!==A.length)return!1;for(let D=0;D<T.length;D++)if(T[D]!==A[D])return!1;return!0}t.equalsBytes=m;function v(T){return A=>(n.default.bytes(A),T(A))}t.wrapHash=v,t.crypto=(()=>{const T=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0,A=typeof Uo=="function"&&Uo.bind(e);return{node:A&&!T?A("crypto"):void 0,web:T}})()})(Pi,Pi.exports),Object.defineProperty(ur,"__esModule",{value:!0}),ur.keccak512=ur.keccak384=ur.keccak256=ur.keccak224=void 0;const Wn=ht,Ni=Pi.exports;ur.keccak224=(0,Ni.wrapHash)(Wn.keccak_224),ur.keccak256=(()=>{const e=(0,Ni.wrapHash)(Wn.keccak_256);return e.create=Wn.keccak_256.create,e})(),ur.keccak384=(0,Ni.wrapHash)(Wn.keccak_384),ur.keccak512=(0,Ni.wrapHash)(Wn.keccak_512);var Qr={},lr={},pt={};Object.defineProperty(pt,"__esModule",{value:!0}),pt.isHexString=pt.getKeys=pt.fromAscii=pt.fromUtf8=pt.toAscii=pt.arrayContainsArray=pt.getBinarySize=pt.padToEven=pt.stripHexPrefix=pt.isHexPrefixed=void 0;function xc(e){if(typeof e!="string")throw new Error(`[isHexPrefixed] input must be type 'string', received type ${typeof e}`);return e[0]==="0"&&e[1]==="x"}pt.isHexPrefixed=xc;const ld=e=>{if(typeof e!="string")throw new Error(`[stripHexPrefix] input must be type 'string', received ${typeof e}`);return xc(e)?e.slice(2):e};pt.stripHexPrefix=ld;function vc(e){let t=e;if(typeof t!="string")throw new Error(`[padToEven] value must be type 'string', received ${typeof t}`);return t.length%2&&(t=`0${t}`),t}pt.padToEven=vc;function dd(e){if(typeof e!="string")throw new Error(`[getBinarySize] method requires input type 'string', received ${typeof e}`);return Buffer.byteLength(e,"utf8")}pt.getBinarySize=dd;function hd(e,t,r){if(Array.isArray(e)!==!0)throw new Error(`[arrayContainsArray] method requires input 'superset' to be an array, got type '${typeof e}'`);if(Array.isArray(t)!==!0)throw new Error(`[arrayContainsArray] method requires input 'subset' to be an array, got type '${typeof t}'`);return t[r===!0?"some":"every"](n=>e.indexOf(n)>=0)}pt.arrayContainsArray=hd;function pd(e){let t="",r=0;const n=e.length;for(e.substring(0,2)==="0x"&&(r=2);r<n;r+=2){const i=parseInt(e.substr(r,2),16);t+=String.fromCharCode(i)}return t}pt.toAscii=pd;function yd(e){const t=Buffer.from(e,"utf8");return`0x${vc(t.toString("hex")).replace(/^0+|0+$/g,"")}`}pt.fromUtf8=yd;function gd(e){let t="";for(let r=0;r<e.length;r++){const i=e.charCodeAt(r).toString(16);t+=i.length<2?`0${i}`:i}return`0x${t}`}pt.fromAscii=gd;function bd(e,t,r){if(!Array.isArray(e))throw new Error(`[getKeys] method expects input 'params' to be an array, got ${typeof e}`);if(typeof t!="string")throw new Error(`[getKeys] method expects input 'key' to be type 'string', got ${typeof e}`);const n=[];for(let i=0;i<e.length;i++){let o=e[i][t];if(r===!0&&!o)o="";else if(typeof o!="string")throw new Error(`invalid abi - expected type 'string', received ${typeof o}`);n.push(o)}return n}pt.getKeys=bd;function wd(e,t){return!(typeof e!="string"||!e.match(/^0x[0-9A-Fa-f]*$/)||typeof t<"u"&&t>0&&e.length!==2+2*t)}pt.isHexString=wd,Object.defineProperty(lr,"__esModule",{value:!0}),lr.assertIsString=lr.assertIsArray=lr.assertIsBuffer=lr.assertIsHexString=void 0;const md=pt,Ed=function(e){if(!(0,md.isHexString)(e)){const t=`This method only supports 0x-prefixed hex strings but input was: ${e}`;throw new Error(t)}};lr.assertIsHexString=Ed;const xd=function(e){if(!Buffer.isBuffer(e)){const t=`This method only supports Buffer but input was: ${e}`;throw new Error(t)}};lr.assertIsBuffer=xd;const vd=function(e){if(!Array.isArray(e)){const t=`This method only supports number arrays but input was: ${e}`;throw new Error(t)}};lr.assertIsArray=vd;const _d=function(e){if(typeof e!="string"){const t=`This method only supports strings but input was: ${e}`;throw new Error(t)}};lr.assertIsString=_d,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.intToUnpaddedBuffer=e.bigIntToUnpaddedBuffer=e.bigIntToHex=e.bufArrToArr=e.arrToBufArr=e.validateNoLeadingZeroes=e.baToJSON=e.toUtf8=e.short=e.addHexPrefix=e.toUnsigned=e.fromSigned=e.bufferToInt=e.bigIntToBuffer=e.bufferToBigInt=e.bufferToHex=e.toBuffer=e.unpadHexString=e.unpadArray=e.unpadBuffer=e.setLengthRight=e.setLengthLeft=e.zeros=e.intToBuffer=e.intToHex=void 0;const t=lr,r=pt,n=function(h){if(!Number.isSafeInteger(h)||h<0)throw new Error(`Received an invalid integer type: ${h}`);return`0x${h.toString(16)}`};e.intToHex=n;const i=function(h){const B=(0,e.intToHex)(h);return Buffer.from((0,r.padToEven)(B.slice(2)),"hex")};e.intToBuffer=i;const o=function(h){return Buffer.allocUnsafe(h).fill(0)};e.zeros=o;const c=function(h,B,I){const $=(0,e.zeros)(B);return I?h.length<B?(h.copy($),$):h.slice(0,B):h.length<B?(h.copy($,B-h.length),$):h.slice(-B)},a=function(h,B){return(0,t.assertIsBuffer)(h),c(h,B,!1)};e.setLengthLeft=a;const l=function(h,B){return(0,t.assertIsBuffer)(h),c(h,B,!0)};e.setLengthRight=l;const p=function(h){let B=h[0];for(;h.length>0&&B.toString()==="0";)h=h.slice(1),B=h[0];return h},m=function(h){return(0,t.assertIsBuffer)(h),p(h)};e.unpadBuffer=m;const v=function(h){return(0,t.assertIsArray)(h),p(h)};e.unpadArray=v;const T=function(h){return(0,t.assertIsHexString)(h),h=(0,r.stripHexPrefix)(h),"0x"+p(h)};e.unpadHexString=T;const A=function(h){if(h==null)return Buffer.allocUnsafe(0);if(Buffer.isBuffer(h)||Array.isArray(h)||h instanceof Uint8Array)return Buffer.from(h);if(typeof h=="string"){if(!(0,r.isHexString)(h))throw new Error(`Cannot convert string to buffer. toBuffer only supports 0x-prefixed hex strings and this string was given: ${h}`);return Buffer.from((0,r.padToEven)((0,r.stripHexPrefix)(h)),"hex")}if(typeof h=="number")return(0,e.intToBuffer)(h);if(typeof h=="bigint"){if(h<BigInt(0))throw new Error(`Cannot convert negative bigint to buffer. Given: ${h}`);let B=h.toString(16);return B.length%2&&(B="0"+B),Buffer.from(B,"hex")}if(h.toArray)return Buffer.from(h.toArray());if(h.toBuffer)return Buffer.from(h.toBuffer());throw new Error("invalid type")};e.toBuffer=A;const D=function(h){return h=(0,e.toBuffer)(h),"0x"+h.toString("hex")};e.bufferToHex=D;function Q(h){const B=(0,e.bufferToHex)(h);return BigInt(B==="0x"?0:B)}e.bufferToBigInt=Q;function oe(h){return(0,e.toBuffer)("0x"+h.toString(16))}e.bigIntToBuffer=oe;const he=function(h){const B=Number(Q(h));if(!Number.isSafeInteger(B))throw new Error("Number exceeds 53 bits");return B};e.bufferToInt=he;const P=function(h){return BigInt.asIntN(256,Q(h))};e.fromSigned=P;const q=function(h){return oe(BigInt.asUintN(256,h))};e.toUnsigned=q;const C=function(h){return typeof h!="string"||(0,r.isHexPrefixed)(h)?h:"0x"+h};e.addHexPrefix=C;function pe(h,B=50){const I=Buffer.isBuffer(h)?h.toString("hex"):h;return I.length<=B?I:I.slice(0,B)+"\u2026"}e.short=pe;const ge=function(h){const B=/^(00)+|(00)+$/g;if(h=(0,r.stripHexPrefix)(h),h.length%2!==0)throw new Error("Invalid non-even hex string input for toUtf8() provided");return Buffer.from(h.replace(B,""),"hex").toString("utf8")};e.toUtf8=ge;const be=function(h){if(Buffer.isBuffer(h))return`0x${h.toString("hex")}`;if(h instanceof Array){const B=[];for(let I=0;I<h.length;I++)B.push((0,e.baToJSON)(h[I]));return B}};e.baToJSON=be;const G=function(h){for(const[B,I]of Object.entries(h))if(I!==void 0&&I.length>0&&I[0]===0)throw new Error(`${B} cannot have leading zeroes, received: ${I.toString("hex")}`)};e.validateNoLeadingZeroes=G;function ne(h){return Array.isArray(h)?h.map(B=>ne(B)):Buffer.from(h)}e.arrToBufArr=ne;function me(h){return Array.isArray(h)?h.map(B=>me(B)):Uint8Array.from(h??[])}e.bufArrToArr=me;const ae=h=>"0x"+h.toString(16);e.bigIntToHex=ae;function g(h){return(0,e.unpadBuffer)(oe(h))}e.bigIntToUnpaddedBuffer=g;function y(h){return(0,e.unpadBuffer)((0,e.intToBuffer)(h))}e.intToUnpaddedBuffer=y}(Qr),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.accountBodyToRLP=e.accountBodyToSlim=e.accountBodyFromSlim=e.isZeroAddress=e.zeroAddress=e.importPublic=e.privateToAddress=e.privateToPublic=e.publicToAddress=e.pubToAddress=e.isValidPublic=e.isValidPrivate=e.generateAddress2=e.generateAddress=e.isValidChecksumAddress=e.toChecksumAddress=e.isValidAddress=e.Account=void 0;const t=Ar,r=ur,n=Bi,i=Pi.exports,o=Qr,c=vi,a=lr,l=pt,p=BigInt(0);class m{constructor(y=p,h=p,B=c.KECCAK256_RLP,I=c.KECCAK256_NULL){this.nonce=y,this.balance=h,this.storageRoot=B,this.codeHash=I,this._validate()}static fromAccountData(y){const{nonce:h,balance:B,storageRoot:I,codeHash:$}=y;return new m(h!==void 0?(0,o.bufferToBigInt)((0,o.toBuffer)(h)):void 0,B!==void 0?(0,o.bufferToBigInt)((0,o.toBuffer)(B)):void 0,I!==void 0?(0,o.toBuffer)(I):void 0,$!==void 0?(0,o.toBuffer)($):void 0)}static fromRlpSerializedAccount(y){const h=(0,o.arrToBufArr)(t.RLP.decode(Uint8Array.from(y)));if(!Array.isArray(h))throw new Error("Invalid serialized account input. Must be array");return this.fromValuesArray(h)}static fromValuesArray(y){const[h,B,I,$]=y;return new m((0,o.bufferToBigInt)(h),(0,o.bufferToBigInt)(B),I,$)}_validate(){if(this.nonce<p)throw new Error("nonce must be greater than zero");if(this.balance<p)throw new Error("balance must be greater than zero");if(this.storageRoot.length!==32)throw new Error("storageRoot must have a length of 32");if(this.codeHash.length!==32)throw new Error("codeHash must have a length of 32")}raw(){return[(0,o.bigIntToUnpaddedBuffer)(this.nonce),(0,o.bigIntToUnpaddedBuffer)(this.balance),this.storageRoot,this.codeHash]}serialize(){return Buffer.from(t.RLP.encode((0,o.bufArrToArr)(this.raw())))}isContract(){return!this.codeHash.equals(c.KECCAK256_NULL)}isEmpty(){return this.balance===p&&this.nonce===p&&this.codeHash.equals(c.KECCAK256_NULL)}}e.Account=m;const v=function(g){try{(0,a.assertIsString)(g)}catch{return!1}return/^0x[0-9a-fA-F]{40}$/.test(g)};e.isValidAddress=v;const T=function(g,y){(0,a.assertIsHexString)(g);const h=(0,l.stripHexPrefix)(g).toLowerCase();let B="";y!==void 0&&(B=(0,o.bufferToBigInt)((0,o.toBuffer)(y)).toString()+"0x");const I=Buffer.from(B+h,"utf8"),$=(0,i.bytesToHex)((0,r.keccak256)(I));let L="0x";for(let R=0;R<h.length;R++)parseInt($[R],16)>=8?L+=h[R].toUpperCase():L+=h[R];return L};e.toChecksumAddress=T;const A=function(g,y){return(0,e.isValidAddress)(g)&&(0,e.toChecksumAddress)(g,y)===g};e.isValidChecksumAddress=A;const D=function(g,y){return(0,a.assertIsBuffer)(g),(0,a.assertIsBuffer)(y),(0,o.bufferToBigInt)(y)===BigInt(0)?Buffer.from((0,r.keccak256)(t.RLP.encode((0,o.bufArrToArr)([g,null])))).slice(-20):Buffer.from((0,r.keccak256)(t.RLP.encode((0,o.bufArrToArr)([g,y])))).slice(-20)};e.generateAddress=D;const Q=function(g,y,h){if((0,a.assertIsBuffer)(g),(0,a.assertIsBuffer)(y),(0,a.assertIsBuffer)(h),g.length!==20)throw new Error("Expected from to be of length 20");if(y.length!==32)throw new Error("Expected salt to be of length 32");const B=(0,r.keccak256)(Buffer.concat([Buffer.from("ff","hex"),g,y,(0,r.keccak256)(h)]));return(0,o.toBuffer)(B).slice(-20)};e.generateAddress2=Q;const oe=function(g){return n.secp256k1.utils.isValidPrivateKey(g)};e.isValidPrivate=oe;const he=function(g,y=!1){if((0,a.assertIsBuffer)(g),g.length===64)try{return n.secp256k1.ProjectivePoint.fromHex(Buffer.concat([Buffer.from([4]),g])),!0}catch{return!1}if(!y)return!1;try{return n.secp256k1.ProjectivePoint.fromHex(g),!0}catch{return!1}};e.isValidPublic=he;const P=function(g,y=!1){if((0,a.assertIsBuffer)(g),y&&g.length!==64&&(g=Buffer.from(n.secp256k1.ProjectivePoint.fromHex(g).toRawBytes(!1).slice(1))),g.length!==64)throw new Error("Expected pubKey to be of length 64");return Buffer.from((0,r.keccak256)(g)).slice(-20)};e.pubToAddress=P,e.publicToAddress=e.pubToAddress;const q=function(g){return(0,a.assertIsBuffer)(g),Buffer.from(n.secp256k1.ProjectivePoint.fromPrivateKey(g).toRawBytes(!1).slice(1))};e.privateToPublic=q;const C=function(g){return(0,e.publicToAddress)((0,e.privateToPublic)(g))};e.privateToAddress=C;const pe=function(g){return(0,a.assertIsBuffer)(g),g.length!==64&&(g=Buffer.from(n.secp256k1.ProjectivePoint.fromHex(g).toRawBytes(!1).slice(1))),g};e.importPublic=pe;const ge=function(){const y=(0,o.zeros)(20);return(0,o.bufferToHex)(y)};e.zeroAddress=ge;const be=function(g){try{(0,a.assertIsString)(g)}catch{return!1}return(0,e.zeroAddress)()===g};e.isZeroAddress=be;function G(g){const[y,h,B,I]=g;return[y,h,(0,o.arrToBufArr)(B).length===0?c.KECCAK256_RLP:B,(0,o.arrToBufArr)(I).length===0?c.KECCAK256_NULL:I]}e.accountBodyFromSlim=G;const ne=new Uint8Array(0);function me(g){const[y,h,B,I]=g;return[y,h,(0,o.arrToBufArr)(B).equals(c.KECCAK256_RLP)?ne:B,(0,o.arrToBufArr)(I).equals(c.KECCAK256_NULL)?ne:I]}e.accountBodyToSlim=me;function ae(g,y=!0){const h=y?G(g):g;return(0,o.arrToBufArr)(t.RLP.encode(h))}e.accountBodyToRLP=ae}(Co);var Kn={};Object.defineProperty(Kn,"__esModule",{value:!0}),Kn.Address=void 0;const Jn=Co,ji=Qr;class Pr{constructor(t){if(t.length!==20)throw new Error("Invalid address length");this.buf=t}static zero(){return new Pr((0,ji.zeros)(20))}static fromString(t){if(!(0,Jn.isValidAddress)(t))throw new Error("Invalid address");return new Pr((0,ji.toBuffer)(t))}static fromPublicKey(t){if(!Buffer.isBuffer(t))throw new Error("Public key should be Buffer");const r=(0,Jn.pubToAddress)(t);return new Pr(r)}static fromPrivateKey(t){if(!Buffer.isBuffer(t))throw new Error("Private key should be Buffer");const r=(0,Jn.privateToAddress)(t);return new Pr(r)}static generate(t,r){if(typeof r!="bigint")throw new Error("Expected nonce to be a bigint");return new Pr((0,Jn.generateAddress)(t.buf,(0,ji.bigIntToBuffer)(r)))}static generate2(t,r,n){if(!Buffer.isBuffer(r))throw new Error("Expected salt to be a Buffer");if(!Buffer.isBuffer(n))throw new Error("Expected initCode to be a Buffer");return new Pr((0,Jn.generateAddress2)(t.buf,r,n))}equals(t){return this.buf.equals(t.buf)}isZero(){return this.equals(Pr.zero())}isPrecompileOrSystemAddress(){const t=(0,ji.bufferToBigInt)(this.buf),r=BigInt(0),n=BigInt("0xffff");return t>=r&&t<=n}toString(){return"0x"+this.buf.toString("hex")}toBuffer(){return Buffer.from(this.buf)}}Kn.Address=Pr;var ki={},Ho={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.toType=e.TypeOutput=void 0;const t=Qr,r=pt;var n;(function(o){o[o.Number=0]="Number",o[o.BigInt=1]="BigInt",o[o.Buffer=2]="Buffer",o[o.PrefixedHexString=3]="PrefixedHexString"})(n=e.TypeOutput||(e.TypeOutput={}));function i(o,c){if(o===null)return null;if(o===void 0)return;if(typeof o=="string"&&!(0,r.isHexString)(o))throw new Error(`A string must be provided with a 0x-prefix, given: ${o}`);if(typeof o=="number"&&!Number.isSafeInteger(o))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative input type)");const a=(0,t.toBuffer)(o);switch(c){case n.Buffer:return a;case n.BigInt:return(0,t.bufferToBigInt)(a);case n.Number:{const l=(0,t.bufferToBigInt)(a);if(l>BigInt(Number.MAX_SAFE_INTEGER))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative output type)");return Number(l)}case n.PrefixedHexString:return(0,t.bufferToHex)(a);default:throw new Error("unknown outputType")}}e.toType=i})(Ho),Object.defineProperty(ki,"__esModule",{value:!0}),ki.Withdrawal=void 0;const _c=Kn,Mo=Qr,_t=Ho;class Xn{constructor(t,r,n,i){this.index=t,this.validatorIndex=r,this.address=n,this.amount=i}static fromWithdrawalData(t){const{index:r,validatorIndex:n,address:i,amount:o}=t,c=(0,_t.toType)(r,_t.TypeOutput.BigInt),a=(0,_t.toType)(n,_t.TypeOutput.BigInt),l=new _c.Address((0,_t.toType)(i,_t.TypeOutput.Buffer)),p=(0,_t.toType)(o,_t.TypeOutput.BigInt);return new Xn(c,a,l,p)}static fromValuesArray(t){if(t.length!==4)throw Error(`Invalid withdrawalArray length expected=4 actual=${t.length}`);const[r,n,i,o]=t;return Xn.fromWithdrawalData({index:r,validatorIndex:n,address:i,amount:o})}static toBufferArray(t){const{index:r,validatorIndex:n,address:i,amount:o}=t,c=(0,_t.toType)(r,_t.TypeOutput.BigInt)===BigInt(0)?Buffer.alloc(0):(0,_t.toType)(r,_t.TypeOutput.Buffer),a=(0,_t.toType)(n,_t.TypeOutput.BigInt)===BigInt(0)?Buffer.alloc(0):(0,_t.toType)(n,_t.TypeOutput.Buffer);let l;i instanceof _c.Address?l=i.buf:l=(0,_t.toType)(i,_t.TypeOutput.Buffer);const p=(0,_t.toType)(o,_t.TypeOutput.BigInt)===BigInt(0)?Buffer.alloc(0):(0,_t.toType)(o,_t.TypeOutput.Buffer);return[c,a,l,p]}raw(){return Xn.toBufferArray(this)}toValue(){return{index:this.index,validatorIndex:this.validatorIndex,address:this.address.buf,amount:this.amount}}toJSON(){return{index:(0,Mo.bigIntToHex)(this.index),validatorIndex:(0,Mo.bigIntToHex)(this.validatorIndex),address:"0x"+this.address.buf.toString("hex"),amount:(0,Mo.bigIntToHex)(this.amount)}}}ki.Withdrawal=Xn;var Vt={};Object.defineProperty(Vt,"__esModule",{value:!0}),Vt.hashPersonalMessage=Vt.isValidSignature=Vt.fromRpcSig=Vt.toCompactSig=Vt.toRpcSig=Vt.ecrecover=Vt.ecsign=void 0;const Bd=ur,Bc=Bi,Yt=Qr,Fo=vi,Sd=lr;function Ad(e,t,r){const n=Bc.secp256k1.sign(e,t),i=n.toCompactRawBytes(),o=Buffer.from(i.slice(0,32)),c=Buffer.from(i.slice(32,64)),a=r===void 0?BigInt(n.recovery+27):BigInt(n.recovery+35)+BigInt(r)*BigInt(2);return{r:o,s:c,v:a}}Vt.ecsign=Ad;function Ui(e,t){return e===BigInt(0)||e===BigInt(1)?e:t===void 0?e-BigInt(27):e-(t*BigInt(2)+BigInt(35))}function Hi(e){return e===BigInt(0)||e===BigInt(1)}const Id=function(e,t,r,n,i){const o=Buffer.concat([(0,Yt.setLengthLeft)(r,32),(0,Yt.setLengthLeft)(n,32)],64),c=Ui(t,i);if(!Hi(c))throw new Error("Invalid signature v value");const l=Bc.secp256k1.Signature.fromCompact(o).addRecoveryBit(Number(c)).recoverPublicKey(e);return Buffer.from(l.toRawBytes(!1).slice(1))};Vt.ecrecover=Id;const $d=function(e,t,r,n){const i=Ui(e,n);if(!Hi(i))throw new Error("Invalid signature v value");return(0,Yt.bufferToHex)(Buffer.concat([(0,Yt.setLengthLeft)(t,32),(0,Yt.setLengthLeft)(r,32),(0,Yt.toBuffer)(e)]))};Vt.toRpcSig=$d;const Td=function(e,t,r,n){const i=Ui(e,n);if(!Hi(i))throw new Error("Invalid signature v value");let o=r;return(e>BigInt(28)&&e%BigInt(2)===BigInt(1)||e===BigInt(1)||e===BigInt(28))&&(o=Buffer.from(r),o[0]|=128),(0,Yt.bufferToHex)(Buffer.concat([(0,Yt.setLengthLeft)(t,32),(0,Yt.setLengthLeft)(o,32)]))};Vt.toCompactSig=Td;const Rd=function(e){const t=(0,Yt.toBuffer)(e);let r,n,i;if(t.length>=65)r=t.slice(0,32),n=t.slice(32,64),i=(0,Yt.bufferToBigInt)(t.slice(64));else if(t.length===64)r=t.slice(0,32),n=t.slice(32,64),i=BigInt((0,Yt.bufferToInt)(t.slice(32,33))>>7),n[0]&=127;else throw new Error("Invalid signature length");return i<27&&(i=i+BigInt(27)),{v:i,r,s:n}};Vt.fromRpcSig=Rd;const Cd=function(e,t,r,n=!0,i){if(t.length!==32||r.length!==32||!Hi(Ui(e,i)))return!1;const o=(0,Yt.bufferToBigInt)(t),c=(0,Yt.bufferToBigInt)(r);return!(o===BigInt(0)||o>=Fo.SECP256K1_ORDER||c===BigInt(0)||c>=Fo.SECP256K1_ORDER||n&&c>=Fo.SECP256K1_ORDER_DIV_2)};Vt.isValidSignature=Cd;const Ld=function(e){(0,Sd.assertIsBuffer)(e);const t=Buffer.from(`Ethereum Signed Message:
${e.length}`,"utf-8");return Buffer.from((0,Bd.keccak256)(Buffer.concat([t,e])))};Vt.hashPersonalMessage=Ld;var Sc={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.compactBytesToNibbles=e.bytesToNibbles=e.nibblesToCompactBytes=e.nibblesToBytes=e.hasTerminator=void 0;const t=c=>c.length>0&&c[c.length-1]===16;e.hasTerminator=t;const r=(c,a)=>{for(let l=0,p=0;p<c.length;l+=1,p+=2)a[l]=c[p]<<4|c[p+1]};e.nibblesToBytes=r;const n=c=>{let a=0;(0,e.hasTerminator)(c)&&(a=1,c=c.subarray(0,c.length-1));const l=new Uint8Array(c.length/2+1);return l[0]=a<<5,(c.length&1)===1&&(l[0]|=16,l[0]|=c[0],c=c.subarray(1)),(0,e.nibblesToBytes)(c,l.subarray(1)),l};e.nibblesToCompactBytes=n;const i=c=>{const a=c.length*2+1,l=new Uint8Array(a);for(let p=0;p<c.length;p++){const m=c[p];l[p*2]=m/16,l[p*2+1]=m%16}return l[a-1]=16,l};e.bytesToNibbles=i;const o=c=>{if(c.length===0)return c;let a=(0,e.bytesToNibbles)(c);a[0]<2&&(a=a.subarray(0,a.length-1));const l=2-(a[0]&1);return a.subarray(l)};e.compactBytesToNibbles=o})(Sc);var Mi={};Object.defineProperty(Mi,"__esModule",{value:!0}),Mi.AsyncEventEmitter=void 0;const Od=wi.exports;async function Pd(e,t,r){let n;for await(const i of t)try{i.length<2?i.call(e,r):await new Promise((o,c)=>{i.call(e,r,a=>{a?c(a):o()})})}catch(o){n=o}if(n)throw n}class Nd extends Od.EventEmitter{emit(t,...r){let[n,i]=r;const o=this;let c=o._events[t]??[];return i===void 0&&typeof n=="function"&&(i=n,n=void 0),(t==="newListener"||t==="removeListener")&&(n={event:n,fn:i},i=void 0),c=Array.isArray(c)?c:[c],Pd(o,c.slice(),n).then(i).catch(i),o.listenerCount(t)>0}once(t,r){const n=this;let i;if(typeof r!="function")throw new TypeError("listener must be a function");return r.length>=2?i=function(o,c){n.removeListener(t,i),r(o,c)}:i=function(o){n.removeListener(t,i),r(o,i)},n.on(t,i),n}first(t,r){let n=this._events[t]??[];if(typeof r!="function")throw new TypeError("listener must be a function");return Array.isArray(n)||(this._events[t]=n=[n]),n.unshift(r),this}before(t,r,n){return this.beforeOrAfter(t,r,n)}after(t,r,n){return this.beforeOrAfter(t,r,n,"after")}beforeOrAfter(t,r,n,i){let o=this._events[t]??[],c,a;const l=i==="after"?1:0;if(typeof n!="function")throw new TypeError("listener must be a function");if(typeof r!="function")throw new TypeError("target must be a function");for(Array.isArray(o)||(this._events[t]=o=[o]),a=o.length,c=o.length;c--;)if(o[c]===r){a=c+l;break}return o.splice(a,0,n),this}on(t,r){return super.on(t,r)}addListener(t,r){return super.addListener(t,r)}prependListener(t,r){return super.prependListener(t,r)}prependOnceListener(t,r){return super.prependOnceListener(t,r)}removeAllListeners(t){return super.removeAllListeners(t)}removeListener(t,r){return super.removeListener(t,r)}eventNames(){return super.eventNames()}listeners(t){return super.listeners(t)}listenerCount(t){return super.listenerCount(t)}getMaxListeners(){return super.getMaxListeners()}setMaxListeners(t){return super.setMaxListeners(t)}}Mi.AsyncEventEmitter=Nd;var Fi={};Object.defineProperty(Fi,"__esModule",{value:!0}),Fi.Lock=void 0;class jd{constructor(){this.permits=1,this.promiseResolverQueue=[]}async acquire(){return this.permits>0?(this.permits-=1,Promise.resolve(!0)):new Promise(t=>this.promiseResolverQueue.push(t))}release(){if(this.permits+=1,this.permits>1&&this.promiseResolverQueue.length>0)console.warn("Lock.permits should never be > 0 when there is someone waiting.");else if(this.permits===1&&this.promiseResolverQueue.length>0){this.permits-=1;const t=this.promiseResolverQueue.shift();t&&t(!0)}}}Fi.Lock=jd;var wn={},en={};Object.defineProperty(en,"__esModule",{value:!0}),en.InvalidStatusCodeError=en.InvalidCertError=void 0;const Ac=Object.freeze({redirect:!0,expectStatusCode:200,headers:{},full:!1,keepAlive:!0,cors:!1,referrer:!1,sslAllowSelfSigned:!1,_redirectCount:0});class Do extends Error{constructor(t,r){super(t),this.fingerprint256=r}}en.InvalidCertError=Do;class Vo extends Error{constructor(t){super(`Request Failed. Status Code: ${t}`),this.statusCode=t}}en.InvalidStatusCodeError=Vo;function Ic(e,t){if(!t||t==="text"||t==="json")try{let r=new TextDecoder("utf8",{fatal:!0}).decode(e);if(t==="text")return r;try{return JSON.parse(r)}catch(n){if(t==="json")throw n;return r}}catch(r){if(t==="text"||t==="json")throw r}return e}let $c={};function qo(e,t){let r={...Ac,...t};const n=Ul.default,i=Hl.default,o=Ml.default,{promisify:c}=Fl.default,{resolve:a}=Dl.default,l=!!/^https/.test(e);let p={method:r.method||"GET",headers:{"Accept-Encoding":"gzip, deflate, br"}};const m=T=>T.replace(/:| /g,"").toLowerCase();if(r.keepAlive){const T={keepAlive:!0,keepAliveMsecs:3e4,maxFreeSockets:1024,maxCachedSessions:1024},A=[l,l&&r.sslPinnedCertificates?.map(D=>m(D)).sort()].join();p.agent=$c[A]||($c[A]=new(l?i:n).Agent(T))}r.type==="json"&&(p.headers["Content-Type"]="application/json"),r.data&&(r.method||(p.method="POST"),p.body=r.type==="json"?JSON.stringify(r.data):r.data),p.headers={...p.headers,...r.headers},r.sslAllowSelfSigned&&(p.rejectUnauthorized=!1);const v=async T=>{const A=T.statusCode;if(r.redirect&&300<=A&&A<400&&T.headers.location){if(r._redirectCount==10)throw new Error("Request failed. Too much redirects.");return r._redirectCount+=1,await qo(a(e,T.headers.location),r)}if(r.expectStatusCode&&A!==r.expectStatusCode)throw T.resume(),new Vo(A);let D=[];for await(const P of T)D.push(P);let Q=Buffer.concat(D);const oe=T.headers["content-encoding"];oe==="br"&&(Q=await c(o.brotliDecompress)(Q)),(oe==="gzip"||oe==="deflate")&&(Q=await c(o.unzip)(Q));const he=Ic(Q,r.type);return r.full?{headers:T.headers,status:A,body:he}:he};return new Promise((T,A)=>{const D=async P=>{if(P&&P.code==="DEPTH_ZERO_SELF_SIGNED_CERT")try{await qo(e,{...r,sslAllowSelfSigned:!0,sslPinnedCertificates:[]})}catch(q){q&&q.fingerprint256&&(P=new Do(`Self-signed SSL certificate: ${q.fingerprint256}`,q.fingerprint256))}A(P)},Q=(l?i:n).request(e,p,P=>{P.on("error",D),(async()=>{try{T(await v(P))}catch(q){A(q)}})()});Q.on("error",D);const oe=r.sslPinnedCertificates?.map(P=>m(P)),he=P=>{const q=m(P.getPeerCertificate()?.fingerprint256||"");if(!(!q&&P.isSessionReused())&&!oe.includes(q))return Q.emit("error",new Do(`Invalid SSL certificate: ${q} Expected: ${oe}`,q)),Q.abort()};r.sslPinnedCertificates&&Q.on("socket",P=>{P.listeners("secureConnect").map(C=>(C.name||"").replace("bound ","")).includes("mfetchSecureConnect")||P.on("secureConnect",he.bind(null,P))}),r.keepAlive&&Q.setNoDelay(!0),p.body&&Q.write(p.body),Q.end()})}const kd=new Set(["Accept","Accept-Language","Content-Language","Content-Type"].map(e=>e.toLowerCase())),Ud=new Set(["Accept-Charset","Accept-Encoding","Access-Control-Request-Headers","Access-Control-Request-Method","Connection","Content-Length","Cookie","Cookie2","Date","DNT","Expect","Host","Keep-Alive","Origin","Referer","TE","Trailer","Transfer-Encoding","Upgrade","Via"].map(e=>e.toLowerCase()));async function Hd(e,t){let r={...Ac,...t};const n=new Headers;r.type==="json"&&n.set("Content-Type","application/json");let i=new URL(e);if(i.username){const l=btoa(`${i.username}:${i.password}`);n.set("Authorization",`Basic ${l}`),i.username="",i.password=""}e=""+i;for(let l in r.headers){const p=l.toLowerCase();(kd.has(p)||r.cors&&!Ud.has(p))&&n.set(l,r.headers[l])}let o={headers:n,redirect:r.redirect?"follow":"manual"};r.referrer||(o.referrerPolicy="no-referrer"),r.cors&&(o.mode="cors"),r.data&&(r.method||(o.method="POST"),o.body=r.type==="json"?JSON.stringify(r.data):r.data);const c=await fetch(e,o);if(r.expectStatusCode&&c.status!==r.expectStatusCode)throw new Vo(c.status);const a=Ic(new Uint8Array(await c.arrayBuffer()),r.type);return r.full?{headers:Object.fromEntries(c.headers.entries()),status:c.status,body:a}:a}const Md=!!(typeof process=="object"&&process.versions&&process.versions.node&&process.versions.v8);function Fd(e,t){return(Md?qo:Hd)(e,t)}en.default=Fd,Object.defineProperty(wn,"__esModule",{value:!0}),wn.getProvider=wn.fetchFromProvider=void 0;const Dd=en,Vd=async(e,t)=>(await(0,Dd.default)(e,{headers:{"content-type":"application/json"},type:"json",data:{method:t.method,params:t.params,jsonrpc:"2.0",id:1}})).result;wn.fetchFromProvider=Vd;const qd=e=>{if(typeof e=="string")return e;if(e?.connection?.url!==void 0)return e.connection.url;throw new Error("Must provide valid provider URL or Web3Provider")};wn.getProvider=qd,function(e){var t=nt&&nt.__createBinding||(Object.create?function(i,o,c,a){a===void 0&&(a=c);var l=Object.getOwnPropertyDescriptor(o,c);(!l||("get"in l?!o.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return o[c]}}),Object.defineProperty(i,a,l)}:function(i,o,c,a){a===void 0&&(a=c),i[a]=o[c]}),r=nt&&nt.__exportStar||function(i,o){for(var c in i)c!=="default"&&!Object.prototype.hasOwnProperty.call(o,c)&&t(o,i,c)};Object.defineProperty(e,"__esModule",{value:!0}),e.toAscii=e.stripHexPrefix=e.padToEven=e.isHexString=e.isHexPrefixed=e.getKeys=e.getBinarySize=e.fromUtf8=e.fromAscii=e.arrayContainsArray=void 0,r(vi,e),r(Ci,e),r(Co,e),r(Kn,e),r(ki,e),r(Vt,e),r(Qr,e),r(Ho,e),r(Sc,e),r(Mi,e);var n=pt;Object.defineProperty(e,"arrayContainsArray",{enumerable:!0,get:function(){return n.arrayContainsArray}}),Object.defineProperty(e,"fromAscii",{enumerable:!0,get:function(){return n.fromAscii}}),Object.defineProperty(e,"fromUtf8",{enumerable:!0,get:function(){return n.fromUtf8}}),Object.defineProperty(e,"getBinarySize",{enumerable:!0,get:function(){return n.getBinarySize}}),Object.defineProperty(e,"getKeys",{enumerable:!0,get:function(){return n.getKeys}}),Object.defineProperty(e,"isHexPrefixed",{enumerable:!0,get:function(){return n.isHexPrefixed}}),Object.defineProperty(e,"isHexString",{enumerable:!0,get:function(){return n.isHexString}}),Object.defineProperty(e,"padToEven",{enumerable:!0,get:function(){return n.padToEven}}),Object.defineProperty(e,"stripHexPrefix",{enumerable:!0,get:function(){return n.stripHexPrefix}}),Object.defineProperty(e,"toAscii",{enumerable:!0,get:function(){return n.toAscii}}),r(Fi,e),r(wn,e)}(xi);var Dt={},H={},mn={},Je={},dr={},Wr={},Wt={};Object.defineProperty(Wt,"__esModule",{value:!0});function zd(e,t){return e??t()}function Gd(e){return Array.isArray(e)&&e.length>0}function Wd(e){return e==null}function Kd(e){return!!e&&typeof e=="object"&&!Array.isArray(e)}var Jd=(e,t)=>Object.hasOwnProperty.call(e,t);function Xd(e){return Object.getOwnPropertyNames(e)}var Tc=(e=>(e[e.Null=4]="Null",e[e.Comma=1]="Comma",e[e.Wrapper=1]="Wrapper",e[e.True=4]="True",e[e.False=5]="False",e[e.Quote=1]="Quote",e[e.Colon=1]="Colon",e[e.Date=24]="Date",e))(Tc||{}),Rc=/"|\\|\n|\r|\t/gu;function Yd(e){if(typeof e!="object"||e===null)return!1;try{let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}catch{return!1}}function Cc(e){return e.charCodeAt(0)<=127}function Zd(e){return e.split("").reduce((r,n)=>Cc(n)?r+1:r+2,0)+zd(e.match(Rc),()=>[]).length}function Qd(e){return e.toString().length}Wt.isNonEmptyArray=Gd,Wt.isNullOrUndefined=Wd,Wt.isObject=Kd,Wt.hasProperty=Jd,Wt.getKnownPropertyNames=Xd,Wt.JsonSize=Tc,Wt.ESCAPE_CHARACTERS_REGEXP=Rc,Wt.isPlainObject=Yd,Wt.isASCII=Cc,Wt.calculateStringSize=Zd,Wt.calculateNumberSize=Qd;class zo extends Error{constructor(t,{cause:r}={}){super(t),this.name=zo.name,r&&(this.cause=r),this.message=t}}var eh=Object.freeze({__proto__:null,ErrorWithCause:zo}),th=Mn(eh);const rh=(e,t)=>{if(!e||!t||!(e instanceof Error)||!(t.prototype instanceof Error)&&t!==Error)return;const r=new Set;let n=e;for(;n&&!r.has(n);){if(r.add(n),n instanceof t)return n;n=Di(n)}},Di=e=>{if(!(!e||typeof e!="object"||!("cause"in e)))if(typeof e.cause=="function"){const t=e.cause();return t instanceof Error?t:void 0}else return e.cause instanceof Error?e.cause:void 0},Lc=(e,t)=>{if(!(e instanceof Error))return"";const r=e.stack||"";if(t.has(e))return r+`
causes have become circular...`;const n=Di(e);return n?(t.add(e),r+`
caused by: `+Lc(n,t)):r},nh=e=>Lc(e,new Set),Oc=(e,t,r)=>{if(!(e instanceof Error))return"";const n=r?"":e.message||"";if(t.has(e))return n+": ...";const i=Di(e);if(i){t.add(e);const o="cause"in e&&typeof e.cause=="function";return n+(o?"":": ")+Oc(i,t,o)}else return n};var ih=Object.freeze({__proto__:null,findCauseByReference:rh,getErrorCause:Di,stackWithCauses:nh,messageWithCauses:e=>Oc(e,new Set)}),oh=Mn(ih);const{ErrorWithCause:sh}=th,{findCauseByReference:ah,getErrorCause:ch,messageWithCauses:fh,stackWithCauses:uh}=oh;var lh={ErrorWithCause:sh,findCauseByReference:ah,getErrorCause:ch,stackWithCauses:uh,messageWithCauses:fh};Object.defineProperty(Wr,"__esModule",{value:!0});var Pc=Wt,dh=lh;function hh(e){return e instanceof Error||Pc.isObject.call(void 0,e)&&e.constructor.name==="Error"}function Nc(e){return typeof e=="object"&&e!==null&&"code"in e}function jc(e){return typeof e=="object"&&e!==null&&"message"in e}function ph(e){return typeof e=="object"&&e!==null&&"stack"in e}function yh(e){return jc(e)&&typeof e.message=="string"?e.message:Pc.isNullOrUndefined.call(void 0,e)?"":String(e)}function gh(e,t){if(hh(e)){let r;return Error.length===2?r=new Error(t,{cause:e}):r=new dh.ErrorWithCause(t,{cause:e}),Nc(e)&&(r.code=e.code),r}return t.length>0?new Error(`${String(e)}: ${t}`):new Error(String(e))}Wr.isErrorWithCode=Nc,Wr.isErrorWithMessage=jc,Wr.isErrorWithStack=ph,Wr.getErrorMessage=yh,Wr.wrapError=gh;class kc extends TypeError{constructor(t,r){let n;const{message:i,explanation:o,...c}=t,{path:a}=t,l=a.length===0?i:`At path: ${a.join(".")} -- ${i}`;super(o??l),o!=null&&(this.cause=l),Object.assign(this,c),this.name=this.constructor.name,this.failures=()=>n??(n=[t,...r()])}}function bh(e){return hr(e)&&typeof e[Symbol.iterator]=="function"}function hr(e){return typeof e=="object"&&e!=null}function Uc(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;const t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function Lt(e){return typeof e=="symbol"?e.toString():typeof e=="string"?JSON.stringify(e):`${e}`}function wh(e){const{done:t,value:r}=e.next();return t?void 0:r}function mh(e,t,r,n){if(e===!0)return;e===!1?e={}:typeof e=="string"&&(e={message:e});const{path:i,branch:o}=t,{type:c}=r,{refinement:a,message:l=`Expected a value of type \`${c}\`${a?` with refinement \`${a}\``:""}, but received: \`${Lt(n)}\``}=e;return{value:n,type:c,refinement:a,key:i[i.length-1],path:i,branch:o,...e,message:l}}function*Go(e,t,r,n){bh(e)||(e=[e]);for(const i of e){const o=mh(i,t,r,n);o&&(yield o)}}function*Wo(e,t,r={}){const{path:n=[],branch:i=[e],coerce:o=!1,mask:c=!1}=r,a={path:n,branch:i};if(o&&(e=t.coercer(e,a),c&&t.type!=="type"&&hr(t.schema)&&hr(e)&&!Array.isArray(e)))for(const p in e)t.schema[p]===void 0&&delete e[p];let l="valid";for(const p of t.validator(e,a))p.explanation=r.message,l="not_valid",yield[p,void 0];for(let[p,m,v]of t.entries(e,a)){const T=Wo(m,v,{path:p===void 0?n:[...n,p],branch:p===void 0?i:[...i,m],coerce:o,mask:c,message:r.message});for(const A of T)A[0]?(l=A[0].refinement!=null?"not_refined":"not_valid",yield[A[0],void 0]):o&&(m=A[1],p===void 0?e=m:e instanceof Map?e.set(p,m):e instanceof Set?e.add(m):hr(e)&&(m!==void 0||p in e)&&(e[p]=m))}if(l!=="not_valid")for(const p of t.refiner(e,a))p.explanation=r.message,l="not_refined",yield[p,void 0];l==="valid"&&(yield[void 0,e])}class It{constructor(t){const{type:r,schema:n,validator:i,refiner:o,coercer:c=l=>l,entries:a=function*(){}}=t;this.type=r,this.schema=n,this.entries=a,this.coercer=c,i?this.validator=(l,p)=>{const m=i(l,p);return Go(m,p,this,l)}:this.validator=()=>[],o?this.refiner=(l,p)=>{const m=o(l,p);return Go(m,p,this,l)}:this.refiner=()=>[]}assert(t,r){return Hc(t,this,r)}create(t,r){return Mc(t,this,r)}is(t){return Ko(t,this)}mask(t,r){return Fc(t,this,r)}validate(t,r={}){return En(t,this,r)}}function Hc(e,t,r){const n=En(e,t,{message:r});if(n[0])throw n[0]}function Mc(e,t,r){const n=En(e,t,{coerce:!0,message:r});if(n[0])throw n[0];return n[1]}function Fc(e,t,r){const n=En(e,t,{coerce:!0,mask:!0,message:r});if(n[0])throw n[0];return n[1]}function Ko(e,t){return!En(e,t)[0]}function En(e,t,r={}){const n=Wo(e,t,r),i=wh(n);return i[0]?[new kc(i[0],function*(){for(const c of n)c[0]&&(yield c[0])}),void 0]:[void 0,i[1]]}function Eh(...e){const t=e[0].type==="type",r=e.map(i=>i.schema),n=Object.assign({},...r);return t?Zn(n):Yn(n)}function Zt(e,t){return new It({type:e,schema:null,validator:t})}function xh(e,t){return new It({...e,refiner:(r,n)=>r===void 0||e.refiner(r,n),validator(r,n){return r===void 0?!0:(t(r,n),e.validator(r,n))}})}function vh(e){return new It({type:"dynamic",schema:null,*entries(t,r){yield*e(t,r).entries(t,r)},validator(t,r){return e(t,r).validator(t,r)},coercer(t,r){return e(t,r).coercer(t,r)},refiner(t,r){return e(t,r).refiner(t,r)}})}function _h(e){let t;return new It({type:"lazy",schema:null,*entries(r,n){t??(t=e()),yield*t.entries(r,n)},validator(r,n){return t??(t=e()),t.validator(r,n)},coercer(r,n){return t??(t=e()),t.coercer(r,n)},refiner(r,n){return t??(t=e()),t.refiner(r,n)}})}function Bh(e,t){const{schema:r}=e,n={...r};for(const i of t)delete n[i];switch(e.type){case"type":return Zn(n);default:return Yn(n)}}function Sh(e){const t=e instanceof It,r=t?{...e.schema}:{...e};for(const n in r)r[n]=Dc(r[n]);return t&&e.type==="type"?Zn(r):Yn(r)}function Ah(e,t){const{schema:r}=e,n={};for(const i of t)n[i]=r[i];switch(e.type){case"type":return Zn(n);default:return Yn(n)}}function Ih(e,t){return console.warn("superstruct@0.11 - The `struct` helper has been renamed to `define`."),Zt(e,t)}function $h(){return Zt("any",()=>!0)}function Th(e){return new It({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(const[r,n]of t.entries())yield[r,n,e]},coercer(t){return Array.isArray(t)?t.slice():t},validator(t){return Array.isArray(t)||`Expected an array value, but received: ${Lt(t)}`}})}function Rh(){return Zt("bigint",e=>typeof e=="bigint")}function Ch(){return Zt("boolean",e=>typeof e=="boolean")}function Lh(){return Zt("date",e=>e instanceof Date&&!isNaN(e.getTime())||`Expected a valid \`Date\` object, but received: ${Lt(e)}`)}function Oh(e){const t={},r=e.map(n=>Lt(n)).join();for(const n of e)t[n]=n;return new It({type:"enums",schema:t,validator(n){return e.includes(n)||`Expected one of \`${r}\`, but received: ${Lt(n)}`}})}function Ph(){return Zt("func",e=>typeof e=="function"||`Expected a function, but received: ${Lt(e)}`)}function Nh(e){return Zt("instance",t=>t instanceof e||`Expected a \`${e.name}\` instance, but received: ${Lt(t)}`)}function jh(){return Zt("integer",e=>typeof e=="number"&&!isNaN(e)&&Number.isInteger(e)||`Expected an integer, but received: ${Lt(e)}`)}function kh(e){return new It({type:"intersection",schema:null,*entries(t,r){for(const n of e)yield*n.entries(t,r)},*validator(t,r){for(const n of e)yield*n.validator(t,r)},*refiner(t,r){for(const n of e)yield*n.refiner(t,r)}})}function Uh(e){const t=Lt(e),r=typeof e;return new It({type:"literal",schema:r==="string"||r==="number"||r==="boolean"?e:null,validator(n){return n===e||`Expected the literal \`${t}\`, but received: ${Lt(n)}`}})}function Hh(e,t){return new It({type:"map",schema:null,*entries(r){if(e&&t&&r instanceof Map)for(const[n,i]of r.entries())yield[n,n,e],yield[n,i,t]},coercer(r){return r instanceof Map?new Map(r):r},validator(r){return r instanceof Map||`Expected a \`Map\` object, but received: ${Lt(r)}`}})}function Jo(){return Zt("never",()=>!1)}function Mh(e){return new It({...e,validator:(t,r)=>t===null||e.validator(t,r),refiner:(t,r)=>t===null||e.refiner(t,r)})}function Fh(){return Zt("number",e=>typeof e=="number"&&!isNaN(e)||`Expected a number, but received: ${Lt(e)}`)}function Yn(e){const t=e?Object.keys(e):[],r=Jo();return new It({type:"object",schema:e||null,*entries(n){if(e&&hr(n)){const i=new Set(Object.keys(n));for(const o of t)i.delete(o),yield[o,n[o],e[o]];for(const o of i)yield[o,n[o],r]}},validator(n){return hr(n)||`Expected an object, but received: ${Lt(n)}`},coercer(n){return hr(n)?{...n}:n}})}function Dc(e){return new It({...e,validator:(t,r)=>t===void 0||e.validator(t,r),refiner:(t,r)=>t===void 0||e.refiner(t,r)})}function Dh(e,t){return new It({type:"record",schema:null,*entries(r){if(hr(r))for(const n in r){const i=r[n];yield[n,n,e],yield[n,i,t]}},validator(r){return hr(r)||`Expected an object, but received: ${Lt(r)}`}})}function Vh(){return Zt("regexp",e=>e instanceof RegExp)}function qh(e){return new It({type:"set",schema:null,*entries(t){if(e&&t instanceof Set)for(const r of t)yield[r,r,e]},coercer(t){return t instanceof Set?new Set(t):t},validator(t){return t instanceof Set||`Expected a \`Set\` object, but received: ${Lt(t)}`}})}function Vc(){return Zt("string",e=>typeof e=="string"||`Expected a string, but received: ${Lt(e)}`)}function zh(e){const t=Jo();return new It({type:"tuple",schema:null,*entries(r){if(Array.isArray(r)){const n=Math.max(e.length,r.length);for(let i=0;i<n;i++)yield[i,r[i],e[i]||t]}},validator(r){return Array.isArray(r)||`Expected an array, but received: ${Lt(r)}`}})}function Zn(e){const t=Object.keys(e);return new It({type:"type",schema:e,*entries(r){if(hr(r))for(const n of t)yield[n,r[n],e[n]]},validator(r){return hr(r)||`Expected an object, but received: ${Lt(r)}`},coercer(r){return hr(r)?{...r}:r}})}function Gh(e){const t=e.map(r=>r.type).join(" | ");return new It({type:"union",schema:null,coercer(r){for(const n of e){const[i,o]=n.validate(r,{coerce:!0});if(!i)return o}return r},validator(r,n){const i=[];for(const o of e){const[...c]=Wo(r,o,n),[a]=c;if(a[0])for(const[l]of c)l&&i.push(l);else return[]}return[`Expected the value to satisfy a union of \`${t}\`, but received: ${Lt(r)}`,...i]}})}function qc(){return Zt("unknown",()=>!0)}function Xo(e,t,r){return new It({...e,coercer:(n,i)=>Ko(n,t)?e.coercer(r(n,i),i):e.coercer(n,i)})}function Wh(e,t,r={}){return Xo(e,qc(),n=>{const i=typeof t=="function"?t():t;if(n===void 0)return i;if(!r.strict&&Uc(n)&&Uc(i)){const o={...n};let c=!1;for(const a in i)o[a]===void 0&&(o[a]=i[a],c=!0);if(c)return o}return n})}function Kh(e){return Xo(e,Vc(),t=>t.trim())}function Jh(e){return tn(e,"empty",t=>{const r=zc(t);return r===0||`Expected an empty ${e.type} but received one with a size of \`${r}\``})}function zc(e){return e instanceof Map||e instanceof Set?e.size:e.length}function Xh(e,t,r={}){const{exclusive:n}=r;return tn(e,"max",i=>n?i<t:i<=t||`Expected a ${e.type} less than ${n?"":"or equal to "}${t} but received \`${i}\``)}function Yh(e,t,r={}){const{exclusive:n}=r;return tn(e,"min",i=>n?i>t:i>=t||`Expected a ${e.type} greater than ${n?"":"or equal to "}${t} but received \`${i}\``)}function Zh(e){return tn(e,"nonempty",t=>zc(t)>0||`Expected a nonempty ${e.type} but received an empty one`)}function Qh(e,t){return tn(e,"pattern",r=>t.test(r)||`Expected a ${e.type} matching \`/${t.source}/\` but received "${r}"`)}function ep(e,t,r=t){const n=`Expected a ${e.type}`,i=t===r?`of \`${t}\``:`between \`${t}\` and \`${r}\``;return tn(e,"size",o=>{if(typeof o=="number"||o instanceof Date)return t<=o&&o<=r||`${n} ${i} but received \`${o}\``;if(o instanceof Map||o instanceof Set){const{size:c}=o;return t<=c&&c<=r||`${n} with a size ${i} but received one with a size of \`${c}\``}else{const{length:c}=o;return t<=c&&c<=r||`${n} with a length ${i} but received one with a length of \`${c}\``}})}function tn(e,t,r){return new It({...e,*refiner(n,i){yield*e.refiner(n,i);const o=r(n,i),c=Go(o,i,e,n);for(const a of c)yield{...a,refinement:t}}})}var tp=Object.freeze({__proto__:null,Struct:It,StructError:kc,any:$h,array:Th,assert:Hc,assign:Eh,bigint:Rh,boolean:Ch,coerce:Xo,create:Mc,date:Lh,defaulted:Wh,define:Zt,deprecated:xh,dynamic:vh,empty:Jh,enums:Oh,func:Ph,instance:Nh,integer:jh,intersection:kh,is:Ko,lazy:_h,literal:Uh,map:Hh,mask:Fc,max:Xh,min:Yh,never:Jo,nonempty:Zh,nullable:Mh,number:Fh,object:Yn,omit:Bh,optional:Dc,partial:Sh,pattern:Qh,pick:Ah,record:Dh,refine:tn,regexp:Vh,set:qh,size:ep,string:Vc,struct:Ih,trimmed:Kh,tuple:zh,type:Zn,union:Gh,unknown:qc,validate:En}),Kr=Mn(tp);Object.defineProperty(dr,"__esModule",{value:!0});function rp(e){let t,r=e[0],n=1;for(;n<e.length;){const i=e[n],o=e[n+1];if(n+=2,(i==="optionalAccess"||i==="optionalCall")&&r==null)return;i==="access"||i==="optionalAccess"?(t=r,r=o(r)):(i==="call"||i==="optionalCall")&&(r=o((...c)=>r.call(t,...c)),t=void 0)}return r}var np=Wr,ip=Kr;function op(e){return typeof rp([e,"optionalAccess",t=>t.prototype,"optionalAccess",t=>t.constructor,"optionalAccess",t=>t.name])=="string"}function sp(e){return np.getErrorMessage.call(void 0,e).replace(/\.$/u,"")}function Gc(e,t){return op(e)?new e({message:t}):e({message:t})}var Yo=class extends Error{constructor(e){super(e.message),this.code="ERR_ASSERTION"}};function ap(e,t="Assertion failed.",r=Yo){if(!e)throw t instanceof Error?t:Gc(r,t)}function cp(e,t,r="Assertion failed",n=Yo){try{ip.assert.call(void 0,e,t)}catch(i){throw Gc(n,`${r}: ${sp(i)}.`)}}function fp(e){throw new Error("Invalid branch reached. Should be detected during compilation.")}dr.AssertionError=Yo,dr.assert=ap,dr.assertStruct=cp,dr.assertExhaustive=fp;var yt={},Mt={};Object.defineProperty(Mt,"__esModule",{value:!0}),Mt.output=Mt.exists=Mt.hash=Mt.bytes=Mt.bool=Mt.number=Mt.isBytes=void 0;function Vi(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`positive integer expected, not ${e}`)}Mt.number=Vi;function Wc(e){if(typeof e!="boolean")throw new Error(`boolean expected, not ${e}`)}Mt.bool=Wc;function Kc(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}Mt.isBytes=Kc;function Zo(e,...t){if(!Kc(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}Mt.bytes=Zo;function Jc(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Vi(e.outputLen),Vi(e.blockLen)}Mt.hash=Jc;function Xc(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}Mt.exists=Xc;function Yc(e,t){Zo(e);const r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}Mt.output=Yc;const up={number:Vi,bool:Wc,bytes:Zo,hash:Jc,exists:Xc,output:Yc};Mt.default=up;var Te={};Object.defineProperty(Te,"__esModule",{value:!0}),Te.add5L=Te.add5H=Te.add4H=Te.add4L=Te.add3H=Te.add3L=Te.add=Te.rotlBL=Te.rotlBH=Te.rotlSL=Te.rotlSH=Te.rotr32L=Te.rotr32H=Te.rotrBL=Te.rotrBH=Te.rotrSL=Te.rotrSH=Te.shrSL=Te.shrSH=Te.toBig=Te.split=Te.fromBig=void 0;const qi=BigInt(2**32-1),Qo=BigInt(32);function es(e,t=!1){return t?{h:Number(e&qi),l:Number(e>>Qo&qi)}:{h:Number(e>>Qo&qi)|0,l:Number(e&qi)|0}}Te.fromBig=es;function Zc(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:o,l:c}=es(e[i],t);[r[i],n[i]]=[o,c]}return[r,n]}Te.split=Zc;const Qc=(e,t)=>BigInt(e>>>0)<<Qo|BigInt(t>>>0);Te.toBig=Qc;const ef=(e,t,r)=>e>>>r;Te.shrSH=ef;const tf=(e,t,r)=>e<<32-r|t>>>r;Te.shrSL=tf;const rf=(e,t,r)=>e>>>r|t<<32-r;Te.rotrSH=rf;const nf=(e,t,r)=>e<<32-r|t>>>r;Te.rotrSL=nf;const of=(e,t,r)=>e<<64-r|t>>>r-32;Te.rotrBH=of;const sf=(e,t,r)=>e>>>r-32|t<<64-r;Te.rotrBL=sf;const af=(e,t)=>t;Te.rotr32H=af;const cf=(e,t)=>e;Te.rotr32L=cf;const ff=(e,t,r)=>e<<r|t>>>32-r;Te.rotlSH=ff;const uf=(e,t,r)=>t<<r|e>>>32-r;Te.rotlSL=uf;const lf=(e,t,r)=>t<<r-32|e>>>64-r;Te.rotlBH=lf;const df=(e,t,r)=>e<<r-32|t>>>64-r;Te.rotlBL=df;function hf(e,t,r,n){const i=(t>>>0)+(n>>>0);return{h:e+r+(i/2**32|0)|0,l:i|0}}Te.add=hf;const pf=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0);Te.add3L=pf;const yf=(e,t,r,n)=>t+r+n+(e/2**32|0)|0;Te.add3H=yf;const gf=(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0);Te.add4L=gf;const bf=(e,t,r,n,i)=>t+r+n+i+(e/2**32|0)|0;Te.add4H=bf;const wf=(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0);Te.add5L=wf;const mf=(e,t,r,n,i,o)=>t+r+n+i+o+(e/2**32|0)|0;Te.add5H=mf;const lp={fromBig:es,split:Zc,toBig:Qc,shrSH:ef,shrSL:tf,rotrSH:rf,rotrSL:nf,rotrBH:of,rotrBL:sf,rotr32H:af,rotr32L:cf,rotlSH:ff,rotlSL:uf,rotlBH:lf,rotlBL:df,add:hf,add3L:pf,add3H:yf,add4L:gf,add4H:bf,add5H:mf,add5L:wf};Te.default=lp;var Ef={},zi={};Object.defineProperty(zi,"__esModule",{value:!0}),zi.crypto=void 0,zi.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0,function(e){/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(e,"__esModule",{value:!0}),e.randomBytes=e.wrapXOFConstructorWithOpts=e.wrapConstructorWithOpts=e.wrapConstructor=e.checkOpts=e.Hash=e.concatBytes=e.toBytes=e.utf8ToBytes=e.asyncLoop=e.nextTick=e.hexToBytes=e.bytesToHex=e.byteSwap32=e.byteSwapIfBE=e.byteSwap=e.isLE=e.rotl=e.rotr=e.createView=e.u32=e.u8=e.isBytes=void 0;const t=zi,r=Mt;function n(g){return g instanceof Uint8Array||g!=null&&typeof g=="object"&&g.constructor.name==="Uint8Array"}e.isBytes=n;const i=g=>new Uint8Array(g.buffer,g.byteOffset,g.byteLength);e.u8=i;const o=g=>new Uint32Array(g.buffer,g.byteOffset,Math.floor(g.byteLength/4));e.u32=o;const c=g=>new DataView(g.buffer,g.byteOffset,g.byteLength);e.createView=c;const a=(g,y)=>g<<32-y|g>>>y;e.rotr=a;const l=(g,y)=>g<<y|g>>>32-y>>>0;e.rotl=l,e.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;const p=g=>g<<24&4278190080|g<<8&16711680|g>>>8&65280|g>>>24&255;e.byteSwap=p,e.byteSwapIfBE=e.isLE?g=>g:g=>(0,e.byteSwap)(g);function m(g){for(let y=0;y<g.length;y++)g[y]=(0,e.byteSwap)(g[y])}e.byteSwap32=m;const v=Array.from({length:256},(g,y)=>y.toString(16).padStart(2,"0"));function T(g){(0,r.bytes)(g);let y="";for(let h=0;h<g.length;h++)y+=v[g[h]];return y}e.bytesToHex=T;const A={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function D(g){if(g>=A._0&&g<=A._9)return g-A._0;if(g>=A._A&&g<=A._F)return g-(A._A-10);if(g>=A._a&&g<=A._f)return g-(A._a-10)}function Q(g){if(typeof g!="string")throw new Error("hex string expected, got "+typeof g);const y=g.length,h=y/2;if(y%2)throw new Error("padded hex string expected, got unpadded hex of length "+y);const B=new Uint8Array(h);for(let I=0,$=0;I<h;I++,$+=2){const L=D(g.charCodeAt($)),R=D(g.charCodeAt($+1));if(L===void 0||R===void 0){const j=g[$]+g[$+1];throw new Error('hex string expected, got non-hex character "'+j+'" at index '+$)}B[I]=L*16+R}return B}e.hexToBytes=Q;const oe=async()=>{};e.nextTick=oe;async function he(g,y,h){let B=Date.now();for(let I=0;I<g;I++){h(I);const $=Date.now()-B;$>=0&&$<y||(await(0,e.nextTick)(),B+=$)}}e.asyncLoop=he;function P(g){if(typeof g!="string")throw new Error(`utf8ToBytes expected string, got ${typeof g}`);return new Uint8Array(new TextEncoder().encode(g))}e.utf8ToBytes=P;function q(g){return typeof g=="string"&&(g=P(g)),(0,r.bytes)(g),g}e.toBytes=q;function C(...g){let y=0;for(let B=0;B<g.length;B++){const I=g[B];(0,r.bytes)(I),y+=I.length}const h=new Uint8Array(y);for(let B=0,I=0;B<g.length;B++){const $=g[B];h.set($,I),I+=$.length}return h}e.concatBytes=C;class pe{clone(){return this._cloneInto()}}e.Hash=pe;const ge={}.toString;function be(g,y){if(y!==void 0&&ge.call(y)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(g,y)}e.checkOpts=be;function G(g){const y=B=>g().update(q(B)).digest(),h=g();return y.outputLen=h.outputLen,y.blockLen=h.blockLen,y.create=()=>g(),y}e.wrapConstructor=G;function ne(g){const y=(B,I)=>g(I).update(q(B)).digest(),h=g({});return y.outputLen=h.outputLen,y.blockLen=h.blockLen,y.create=B=>g(B),y}e.wrapConstructorWithOpts=ne;function me(g){const y=(B,I)=>g(I).update(q(B)).digest(),h=g({});return y.outputLen=h.outputLen,y.blockLen=h.blockLen,y.create=B=>g(B),y}e.wrapXOFConstructorWithOpts=me;function ae(g=32){if(t.crypto&&typeof t.crypto.getRandomValues=="function")return t.crypto.getRandomValues(new Uint8Array(g));throw new Error("crypto.getRandomValues must be defined")}e.randomBytes=ae}(Ef),Object.defineProperty(yt,"__esModule",{value:!0}),yt.shake256=yt.shake128=yt.keccak_512=yt.keccak_384=yt.keccak_256=yt.keccak_224=yt.sha3_512=yt.sha3_384=yt.sha3_256=yt.sha3_224=yt.Keccak=yt.keccakP=void 0;const xn=Mt,Qn=Te,Nr=Ef,xf=[],vf=[],_f=[],dp=BigInt(0),ei=BigInt(1),hp=BigInt(2),pp=BigInt(7),yp=BigInt(256),gp=BigInt(113);for(let e=0,t=ei,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],xf.push(2*(5*n+r)),vf.push((e+1)*(e+2)/2%64);let i=dp;for(let o=0;o<7;o++)t=(t<<ei^(t>>pp)*gp)%yp,t&hp&&(i^=ei<<(ei<<BigInt(o))-ei);_f.push(i)}const[bp,wp]=(0,Qn.split)(_f,!0),Bf=(e,t,r)=>r>32?(0,Qn.rotlBH)(e,t,r):(0,Qn.rotlSH)(e,t,r),Sf=(e,t,r)=>r>32?(0,Qn.rotlBL)(e,t,r):(0,Qn.rotlSL)(e,t,r);function Af(e,t=24){const r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let c=0;c<10;c++)r[c]=e[c]^e[c+10]^e[c+20]^e[c+30]^e[c+40];for(let c=0;c<10;c+=2){const a=(c+8)%10,l=(c+2)%10,p=r[l],m=r[l+1],v=Bf(p,m,1)^r[a],T=Sf(p,m,1)^r[a+1];for(let A=0;A<50;A+=10)e[c+A]^=v,e[c+A+1]^=T}let i=e[2],o=e[3];for(let c=0;c<24;c++){const a=vf[c],l=Bf(i,o,a),p=Sf(i,o,a),m=xf[c];i=e[m],o=e[m+1],e[m]=l,e[m+1]=p}for(let c=0;c<50;c+=10){for(let a=0;a<10;a++)r[a]=e[c+a];for(let a=0;a<10;a++)e[c+a]^=~r[(a+2)%10]&r[(a+4)%10]}e[0]^=bp[n],e[1]^=wp[n]}r.fill(0)}yt.keccakP=Af;class ti extends Nr.Hash{constructor(t,r,n,i=!1,o=24){if(super(),this.blockLen=t,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=o,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,(0,xn.number)(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,Nr.u32)(this.state)}keccak(){Nr.isLE||(0,Nr.byteSwap32)(this.state32),Af(this.state32,this.rounds),Nr.isLE||(0,Nr.byteSwap32)(this.state32),this.posOut=0,this.pos=0}update(t){(0,xn.exists)(this);const{blockLen:r,state:n}=this;t=(0,Nr.toBytes)(t);const i=t.length;for(let o=0;o<i;){const c=Math.min(r-this.pos,i-o);for(let a=0;a<c;a++)n[this.pos++]^=t[o++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:r,pos:n,blockLen:i}=this;t[n]^=r,r&128&&n===i-1&&this.keccak(),t[i-1]^=128,this.keccak()}writeInto(t){(0,xn.exists)(this,!1),(0,xn.bytes)(t),this.finish();const r=this.state,{blockLen:n}=this;for(let i=0,o=t.length;i<o;){this.posOut>=n&&this.keccak();const c=Math.min(n-this.posOut,o-i);t.set(r.subarray(this.posOut,this.posOut+c),i),this.posOut+=c,i+=c}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return(0,xn.number)(t),this.xofInto(new Uint8Array(t))}digestInto(t){if((0,xn.output)(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){const{blockLen:r,suffix:n,outputLen:i,rounds:o,enableXOF:c}=this;return t||(t=new ti(r,n,i,c,o)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=o,t.suffix=n,t.outputLen=i,t.enableXOF=c,t.destroyed=this.destroyed,t}}yt.Keccak=ti;const Jr=(e,t,r)=>(0,Nr.wrapConstructor)(()=>new ti(t,e,r));yt.sha3_224=Jr(6,144,224/8),yt.sha3_256=Jr(6,136,256/8),yt.sha3_384=Jr(6,104,384/8),yt.sha3_512=Jr(6,72,512/8),yt.keccak_224=Jr(1,144,224/8),yt.keccak_256=Jr(1,136,256/8),yt.keccak_384=Jr(1,104,384/8),yt.keccak_512=Jr(1,72,512/8);const If=(e,t,r)=>(0,Nr.wrapXOFConstructorWithOpts)((n={})=>new ti(t,e,n.dkLen===void 0?r:n.dkLen,!0));yt.shake128=If(31,168,128/8),yt.shake256=If(31,136,256/8);var ts={};(function(e){/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(e,"__esModule",{value:!0}),e.bytes=e.stringToBytes=e.str=e.bytesToString=e.hex=e.utf8=e.bech32m=e.bech32=e.base58check=e.createBase58check=e.base58xmr=e.base58xrp=e.base58flickr=e.base58=e.base64urlnopad=e.base64url=e.base64nopad=e.base64=e.base32crockford=e.base32hex=e.base32=e.base16=e.utils=e.assertNumber=void 0;function t(g){if(!Number.isSafeInteger(g))throw new Error(`Wrong integer: ${g}`)}e.assertNumber=t;function r(g){return g instanceof Uint8Array||g!=null&&typeof g=="object"&&g.constructor.name==="Uint8Array"}function n(...g){const y=$=>$,h=($,L)=>R=>$(L(R)),B=g.map($=>$.encode).reduceRight(h,y),I=g.map($=>$.decode).reduce(h,y);return{encode:B,decode:I}}function i(g){return{encode:y=>{if(!Array.isArray(y)||y.length&&typeof y[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return y.map(h=>{if(t(h),h<0||h>=g.length)throw new Error(`Digit index outside alphabet: ${h} (alphabet: ${g.length})`);return g[h]})},decode:y=>{if(!Array.isArray(y)||y.length&&typeof y[0]!="string")throw new Error("alphabet.decode input should be array of strings");return y.map(h=>{if(typeof h!="string")throw new Error(`alphabet.decode: not string element=${h}`);const B=g.indexOf(h);if(B===-1)throw new Error(`Unknown letter: "${h}". Allowed: ${g}`);return B})}}}function o(g=""){if(typeof g!="string")throw new Error("join separator should be string");return{encode:y=>{if(!Array.isArray(y)||y.length&&typeof y[0]!="string")throw new Error("join.encode input should be array of strings");for(let h of y)if(typeof h!="string")throw new Error(`join.encode: non-string input=${h}`);return y.join(g)},decode:y=>{if(typeof y!="string")throw new Error("join.decode input should be string");return y.split(g)}}}function c(g,y="="){if(t(g),typeof y!="string")throw new Error("padding chr should be string");return{encode(h){if(!Array.isArray(h)||h.length&&typeof h[0]!="string")throw new Error("padding.encode input should be array of strings");for(let B of h)if(typeof B!="string")throw new Error(`padding.encode: non-string input=${B}`);for(;h.length*g%8;)h.push(y);return h},decode(h){if(!Array.isArray(h)||h.length&&typeof h[0]!="string")throw new Error("padding.encode input should be array of strings");for(let I of h)if(typeof I!="string")throw new Error(`padding.decode: non-string input=${I}`);let B=h.length;if(B*g%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;B>0&&h[B-1]===y;B--)if(!((B-1)*g%8))throw new Error("Invalid padding: string has too much padding");return h.slice(0,B)}}}function a(g){if(typeof g!="function")throw new Error("normalize fn should be function");return{encode:y=>y,decode:y=>g(y)}}function l(g,y,h){if(y<2)throw new Error(`convertRadix: wrong from=${y}, base cannot be less than 2`);if(h<2)throw new Error(`convertRadix: wrong to=${h}, base cannot be less than 2`);if(!Array.isArray(g))throw new Error("convertRadix: data should be array");if(!g.length)return[];let B=0;const I=[],$=Array.from(g);for($.forEach(L=>{if(t(L),L<0||L>=y)throw new Error(`Wrong integer: ${L}`)});;){let L=0,R=!0;for(let j=B;j<$.length;j++){const M=$[j],z=y*L+M;if(!Number.isSafeInteger(z)||y*L/y!==L||z-M!==y*L)throw new Error("convertRadix: carry overflow");L=z%h;const te=Math.floor(z/h);if($[j]=te,!Number.isSafeInteger(te)||te*h+L!==z)throw new Error("convertRadix: carry overflow");if(R)te?R=!1:B=j;else continue}if(I.push(L),R)break}for(let L=0;L<g.length-1&&g[L]===0;L++)I.push(0);return I.reverse()}const p=(g,y)=>y?p(y,g%y):g,m=(g,y)=>g+(y-p(g,y));function v(g,y,h,B){if(!Array.isArray(g))throw new Error("convertRadix2: data should be array");if(y<=0||y>32)throw new Error(`convertRadix2: wrong from=${y}`);if(h<=0||h>32)throw new Error(`convertRadix2: wrong to=${h}`);if(m(y,h)>32)throw new Error(`convertRadix2: carry overflow from=${y} to=${h} carryBits=${m(y,h)}`);let I=0,$=0;const L=2**h-1,R=[];for(const j of g){if(t(j),j>=2**y)throw new Error(`convertRadix2: invalid data word=${j} from=${y}`);if(I=I<<y|j,$+y>32)throw new Error(`convertRadix2: carry overflow pos=${$} from=${y}`);for($+=y;$>=h;$-=h)R.push((I>>$-h&L)>>>0);I&=2**$-1}if(I=I<<h-$&L,!B&&$>=y)throw new Error("Excess padding");if(!B&&I)throw new Error(`Non-zero padding: ${I}`);return B&&$>0&&R.push(I>>>0),R}function T(g){return t(g),{encode:y=>{if(!r(y))throw new Error("radix.encode input should be Uint8Array");return l(Array.from(y),2**8,g)},decode:y=>{if(!Array.isArray(y)||y.length&&typeof y[0]!="number")throw new Error("radix.decode input should be array of numbers");return Uint8Array.from(l(y,g,2**8))}}}function A(g,y=!1){if(t(g),g<=0||g>32)throw new Error("radix2: bits should be in (0..32]");if(m(8,g)>32||m(g,8)>32)throw new Error("radix2: carry overflow");return{encode:h=>{if(!r(h))throw new Error("radix2.encode input should be Uint8Array");return v(Array.from(h),8,g,!y)},decode:h=>{if(!Array.isArray(h)||h.length&&typeof h[0]!="number")throw new Error("radix2.decode input should be array of numbers");return Uint8Array.from(v(h,g,8,y))}}}function D(g){if(typeof g!="function")throw new Error("unsafeWrapper fn should be function");return function(...y){try{return g.apply(null,y)}catch{}}}function Q(g,y){if(t(g),typeof y!="function")throw new Error("checksum fn should be function");return{encode(h){if(!r(h))throw new Error("checksum.encode: input should be Uint8Array");const B=y(h).slice(0,g),I=new Uint8Array(h.length+g);return I.set(h),I.set(B,h.length),I},decode(h){if(!r(h))throw new Error("checksum.decode: input should be Uint8Array");const B=h.slice(0,-g),I=y(B).slice(0,g),$=h.slice(-g);for(let L=0;L<g;L++)if(I[L]!==$[L])throw new Error("Invalid checksum");return B}}}e.utils={alphabet:i,chain:n,checksum:Q,convertRadix:l,convertRadix2:v,radix:T,radix2:A,join:o,padding:c},e.base16=n(A(4),i("0123456789ABCDEF"),o("")),e.base32=n(A(5),i("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),c(5),o("")),e.base32hex=n(A(5),i("0123456789ABCDEFGHIJKLMNOPQRSTUV"),c(5),o("")),e.base32crockford=n(A(5),i("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),o(""),a(g=>g.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1"))),e.base64=n(A(6),i("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),c(6),o("")),e.base64nopad=n(A(6),i("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),o("")),e.base64url=n(A(6),i("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),c(6),o("")),e.base64urlnopad=n(A(6),i("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),o(""));const oe=g=>n(T(58),i(g),o(""));e.base58=oe("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),e.base58flickr=oe("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),e.base58xrp=oe("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");const he=[0,2,3,5,6,7,9,10,11];e.base58xmr={encode(g){let y="";for(let h=0;h<g.length;h+=8){const B=g.subarray(h,h+8);y+=e.base58.encode(B).padStart(he[B.length],"1")}return y},decode(g){let y=[];for(let h=0;h<g.length;h+=11){const B=g.slice(h,h+11),I=he.indexOf(B.length),$=e.base58.decode(B);for(let L=0;L<$.length-I;L++)if($[L]!==0)throw new Error("base58xmr: wrong padding");y=y.concat(Array.from($.slice($.length-I)))}return Uint8Array.from(y)}};const P=g=>n(Q(4,y=>g(g(y))),e.base58);e.createBase58check=P,e.base58check=e.createBase58check;const q=n(i("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),o("")),C=[996825010,642813549,513874426,1027748829,705979059];function pe(g){const y=g>>25;let h=(g&33554431)<<5;for(let B=0;B<C.length;B++)(y>>B&1)===1&&(h^=C[B]);return h}function ge(g,y,h=1){const B=g.length;let I=1;for(let $=0;$<B;$++){const L=g.charCodeAt($);if(L<33||L>126)throw new Error(`Invalid prefix (${g})`);I=pe(I)^L>>5}I=pe(I);for(let $=0;$<B;$++)I=pe(I)^g.charCodeAt($)&31;for(let $ of y)I=pe(I)^$;for(let $=0;$<6;$++)I=pe(I);return I^=h,q.encode(v([I%2**30],30,5,!1))}function be(g){const y=g==="bech32"?1:734539939,h=A(5),B=h.decode,I=h.encode,$=D(B);function L(z,te,Z=90){if(typeof z!="string")throw new Error(`bech32.encode prefix should be string, not ${typeof z}`);if(!Array.isArray(te)||te.length&&typeof te[0]!="number")throw new Error(`bech32.encode words should be array of numbers, not ${typeof te}`);if(z.length===0)throw new TypeError(`Invalid prefix length ${z.length}`);const K=z.length+7+te.length;if(Z!==!1&&K>Z)throw new TypeError(`Length ${K} exceeds limit ${Z}`);const ce=z.toLowerCase(),Ge=ge(ce,te,y);return`${ce}1${q.encode(te)}${Ge}`}function R(z,te=90){if(typeof z!="string")throw new Error(`bech32.decode input should be string, not ${typeof z}`);if(z.length<8||te!==!1&&z.length>te)throw new TypeError(`Wrong string length: ${z.length} (${z}). Expected (8..${te})`);const Z=z.toLowerCase();if(z!==Z&&z!==z.toUpperCase())throw new Error("String must be lowercase or uppercase");const K=Z.lastIndexOf("1");if(K===0||K===-1)throw new Error('Letter "1" must be present between prefix and data only');const ce=Z.slice(0,K),Ge=Z.slice(K+1);if(Ge.length<6)throw new Error("Data must be at least 6 characters long");const Se=q.decode(Ge).slice(0,-6),_e=ge(ce,Se,y);if(!Ge.endsWith(_e))throw new Error(`Invalid checksum in ${z}: expected "${_e}"`);return{prefix:ce,words:Se}}const j=D(R);function M(z){const{prefix:te,words:Z}=R(z,!1);return{prefix:te,words:Z,bytes:B(Z)}}return{encode:L,decode:R,decodeToBytes:M,decodeUnsafe:j,fromWords:B,fromWordsUnsafe:$,toWords:I}}e.bech32=be("bech32"),e.bech32m=be("bech32m"),e.utf8={encode:g=>new TextDecoder().decode(g),decode:g=>new TextEncoder().encode(g)},e.hex=n(A(4),i("0123456789abcdef"),o(""),a(g=>{if(typeof g!="string"||g.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof g} with length ${g.length}`);return g.toLowerCase()}));const G={utf8:e.utf8,hex:e.hex,base16:e.base16,base32:e.base32,base64:e.base64,base64url:e.base64url,base58:e.base58,base58xmr:e.base58xmr},ne="Invalid encoding type. Available types: utf8, hex, base16, base32, base64, base64url, base58, base58xmr",me=(g,y)=>{if(typeof g!="string"||!G.hasOwnProperty(g))throw new TypeError(ne);if(!r(y))throw new TypeError("bytesToString() expects Uint8Array");return G[g].encode(y)};e.bytesToString=me,e.str=e.bytesToString;const ae=(g,y)=>{if(!G.hasOwnProperty(g))throw new TypeError(ne);if(typeof y!="string")throw new TypeError("stringToBytes() expects string");return G[g].decode(y)};e.stringToBytes=ae,e.bytes=e.stringToBytes})(ts),Object.defineProperty(Je,"__esModule",{value:!0});function mp(e){let t,r=e[0],n=1;for(;n<e.length;){const i=e[n],o=e[n+1];if(n+=2,(i==="optionalAccess"||i==="optionalCall")&&r==null)return;i==="access"||i==="optionalAccess"?(t=r,r=o(r)):(i==="call"||i==="optionalCall")&&(r=o((...c)=>r.call(t,...c)),t=void 0)}return r}var Ft=dr,Ep=yt,Kt=Kr,$f=ts,Tf=48,Rf=58,Cf=87;function xp(){const e=[];return()=>{if(e.length===0)for(let t=0;t<256;t++)e.push(t.toString(16).padStart(2,"0"));return e}}var vp=xp();function rs(e){return e instanceof Uint8Array}function rn(e){Ft.assert.call(void 0,rs(e),"Value must be a Uint8Array.")}function ns(e){if(rn(e),e.length===0)return"0x";const t=vp(),r=new Array(e.length);for(let n=0;n<e.length;n++)r[n]=t[e[n]];return zf(r.join(""))}function Lf(e){rn(e);const t=ns(e);return BigInt(t)}function _p(e){rn(e);let t=BigInt(0);for(const r of e)t=(t<<BigInt(8))+BigInt(r);return BigInt.asIntN(e.length*8,t)}function Bp(e){rn(e);const t=Lf(e);return Ft.assert.call(void 0,t<=BigInt(Number.MAX_SAFE_INTEGER),"Number is not a safe integer. Use `bytesToBigInt` instead."),Number(t)}function Sp(e){return rn(e),new TextDecoder().decode(e)}function Ap(e){return rn(e),$f.base64.encode(e)}function Gi(e){if(mp([e,"optionalAccess",i=>i.toLowerCase,"optionalCall",i=>i()])==="0x")return new Uint8Array;Df(e);const t=Wi(e).toLowerCase(),r=t.length%2===0?t:`0${t}`,n=new Uint8Array(r.length/2);for(let i=0;i<n.length;i++){const o=r.charCodeAt(i*2),c=r.charCodeAt(i*2+1),a=o-(o<Rf?Tf:Cf),l=c-(c<Rf?Tf:Cf);n[i]=a*16+l}return n}function Of(e){Ft.assert.call(void 0,typeof e=="bigint","Value must be a bigint."),Ft.assert.call(void 0,e>=BigInt(0),"Value must be a non-negative bigint.");const t=e.toString(16);return Gi(t)}function Ip(e,t){Ft.assert.call(void 0,t>0);const r=e>>BigInt(31);return!((~e&r)+(e&~r)>>BigInt(t*8+-1))}function $p(e,t){Ft.assert.call(void 0,typeof e=="bigint","Value must be a bigint."),Ft.assert.call(void 0,typeof t=="number","Byte length must be a number."),Ft.assert.call(void 0,t>0,"Byte length must be greater than 0."),Ft.assert.call(void 0,Ip(e,t),"Byte length is too small to represent the given value.");let r=e;const n=new Uint8Array(t);for(let i=0;i<n.length;i++)n[i]=Number(BigInt.asUintN(8,r)),r>>=BigInt(8);return n.reverse()}function Pf(e){Ft.assert.call(void 0,typeof e=="number","Value must be a number."),Ft.assert.call(void 0,e>=0,"Value must be a non-negative number."),Ft.assert.call(void 0,Number.isSafeInteger(e),"Value is not a safe integer. Use `bigIntToBytes` instead.");const t=e.toString(16);return Gi(t)}function Nf(e){return Ft.assert.call(void 0,typeof e=="string","Value must be a string."),new TextEncoder().encode(e)}function Tp(e){return Ft.assert.call(void 0,typeof e=="string","Value must be a string."),$f.base64.decode(e)}function jf(e){if(typeof e=="bigint")return Of(e);if(typeof e=="number")return Pf(e);if(typeof e=="string")return e.startsWith("0x")?Gi(e):Nf(e);if(rs(e))return e;throw new TypeError(`Unsupported value type: "${typeof e}".`)}function Rp(e){const t=new Array(e.length);let r=0;for(let i=0;i<e.length;i++){const o=jf(e[i]);t[i]=o,r+=o.length}const n=new Uint8Array(r);for(let i=0,o=0;i<t.length;i++)n.set(t[i],o),o+=t[i].length;return n}function Cp(e){if(typeof Buffer<"u"&&e instanceof Buffer){const t=e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength);return new DataView(t)}return new DataView(e.buffer,e.byteOffset,e.byteLength)}var kf=Kt.pattern.call(void 0,Kt.string.call(void 0),/^(?:0x)?[0-9a-f]+$/iu),Uf=Kt.pattern.call(void 0,Kt.string.call(void 0),/^0x[0-9a-f]+$/iu),Hf=Kt.pattern.call(void 0,Kt.string.call(void 0),/^0x[0-9a-f]{40}$/u),is=Kt.pattern.call(void 0,Kt.string.call(void 0),/^0x[0-9a-fA-F]{40}$/u);function Mf(e){return Kt.is.call(void 0,e,kf)}function Ff(e){return Kt.is.call(void 0,e,Uf)}function Df(e){Ft.assert.call(void 0,Mf(e),"Value must be a hexadecimal string.")}function Lp(e){Ft.assert.call(void 0,Ff(e),'Value must be a hexadecimal string, starting with "0x".')}function Op(e){return Kt.is.call(void 0,e,Hf)||qf(e)}function Vf(e){Ft.assert.call(void 0,Kt.is.call(void 0,e,is),"Invalid hex address.");const t=Wi(e.toLowerCase()),r=Wi(ns(Ep.keccak_256.call(void 0,t)));return`0x${t.split("").map((n,i)=>{const o=r[i];return Ft.assert.call(void 0,Kt.is.call(void 0,o,Kt.string.call(void 0)),"Hash shorter than address."),parseInt(o,16)>7?n.toUpperCase():n}).join("")}`}function qf(e){return Kt.is.call(void 0,e,is)?Vf(e)===e:!1}function zf(e){return e.startsWith("0x")?e:e.startsWith("0X")?`0x${e.substring(2)}`:`0x${e}`}function Wi(e){return e.startsWith("0x")||e.startsWith("0X")?e.substring(2):e}Je.HexStruct=kf,Je.StrictHexStruct=Uf,Je.HexAddressStruct=Hf,Je.HexChecksumAddressStruct=is,Je.isHexString=Mf,Je.isStrictHexString=Ff,Je.assertIsHexString=Df,Je.assertIsStrictHexString=Lp,Je.isValidHexAddress=Op,Je.getChecksumAddress=Vf,Je.isValidChecksumAddress=qf,Je.add0x=zf,Je.remove0x=Wi,Je.isBytes=rs,Je.assertIsBytes=rn,Je.bytesToHex=ns,Je.bytesToBigInt=Lf,Je.bytesToSignedBigInt=_p,Je.bytesToNumber=Bp,Je.bytesToString=Sp,Je.bytesToBase64=Ap,Je.hexToBytes=Gi,Je.bigIntToBytes=Of,Je.signedBigIntToBytes=$p,Je.numberToBytes=Pf,Je.stringToBytes=Nf,Je.base64ToBytes=Tp,Je.valueToBytes=jf,Je.concatBytes=Rp,Je.createDataView=Cp,Object.defineProperty(mn,"__esModule",{value:!0});var ri=Je,vn=dr,Pp=e=>(vn.assert.call(void 0,typeof e=="number","Value must be a number."),vn.assert.call(void 0,e>=0,"Value must be a non-negative number."),vn.assert.call(void 0,Number.isSafeInteger(e),"Value is not a safe integer. Use `bigIntToHex` instead."),ri.add0x.call(void 0,e.toString(16))),Np=e=>(vn.assert.call(void 0,typeof e=="bigint","Value must be a bigint."),vn.assert.call(void 0,e>=0,"Value must be a non-negative bigint."),ri.add0x.call(void 0,e.toString(16))),jp=e=>{ri.assertIsHexString.call(void 0,e);const t=parseInt(e,16);return vn.assert.call(void 0,Number.isSafeInteger(t),"Value is not a safe integer. Use `hexToBigInt` instead."),t},kp=e=>(ri.assertIsHexString.call(void 0,e),BigInt(ri.add0x.call(void 0,e)));mn.numberToHex=Pp,mn.bigIntToHex=Np,mn.hexToNumber=jp,mn.hexToBigInt=kp;var os={};Object.defineProperty(os,"__esModule",{value:!0});function Up({suppressUnhandledRejection:e=!1}={}){let t,r;const n=new Promise((i,o)=>{t=i,r=o});return e&&n.catch(i=>{}),{promise:n,resolve:t,reject:r}}os.createDeferredPromise=Up;var ni={};Object.defineProperty(ni,"__esModule",{value:!0});var Gf=(e=>(e[e.Millisecond=1]="Millisecond",e[e.Second=1e3]="Second",e[e.Minute=6e4]="Minute",e[e.Hour=36e5]="Hour",e[e.Day=864e5]="Day",e[e.Week=6048e5]="Week",e[e.Year=31536e6]="Year",e))(Gf||{}),Hp=e=>Number.isInteger(e)&&e>=0,Wf=(e,t)=>{if(!Hp(e))throw new Error(`"${t}" must be a non-negative integer. Received: "${e}".`)};function Mp(e,t){return Wf(e,"count"),e*t}function Fp(e){return Wf(e,"timestamp"),Date.now()-e}ni.Duration=Gf,ni.inMilliseconds=Mp,ni.timeSince=Fp;var wr={},nn={exports:{}};const Dp="2.0.0",Kf=256,Vp=Number.MAX_SAFE_INTEGER||9007199254740991,qp=16,zp=Kf-6;var Ki={MAX_LENGTH:Kf,MAX_SAFE_COMPONENT_LENGTH:qp,MAX_SAFE_BUILD_LENGTH:zp,MAX_SAFE_INTEGER:Vp,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:Dp,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},Ji=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};(function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:n,MAX_LENGTH:i}=Ki,o=Ji;t=e.exports={};const c=t.re=[],a=t.safeRe=[],l=t.src=[],p=t.t={};let m=0;const v="[a-zA-Z0-9-]",T=[["\\s",1],["\\d",i],[v,n]],A=Q=>{for(const[oe,he]of T)Q=Q.split(`${oe}*`).join(`${oe}{0,${he}}`).split(`${oe}+`).join(`${oe}{1,${he}}`);return Q},D=(Q,oe,he)=>{const P=A(oe),q=m++;o(Q,q,oe),p[Q]=q,l[q]=oe,c[q]=new RegExp(oe,he?"g":void 0),a[q]=new RegExp(P,he?"g":void 0)};D("NUMERICIDENTIFIER","0|[1-9]\\d*"),D("NUMERICIDENTIFIERLOOSE","\\d+"),D("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${v}*`),D("MAINVERSION",`(${l[p.NUMERICIDENTIFIER]})\\.(${l[p.NUMERICIDENTIFIER]})\\.(${l[p.NUMERICIDENTIFIER]})`),D("MAINVERSIONLOOSE",`(${l[p.NUMERICIDENTIFIERLOOSE]})\\.(${l[p.NUMERICIDENTIFIERLOOSE]})\\.(${l[p.NUMERICIDENTIFIERLOOSE]})`),D("PRERELEASEIDENTIFIER",`(?:${l[p.NUMERICIDENTIFIER]}|${l[p.NONNUMERICIDENTIFIER]})`),D("PRERELEASEIDENTIFIERLOOSE",`(?:${l[p.NUMERICIDENTIFIERLOOSE]}|${l[p.NONNUMERICIDENTIFIER]})`),D("PRERELEASE",`(?:-(${l[p.PRERELEASEIDENTIFIER]}(?:\\.${l[p.PRERELEASEIDENTIFIER]})*))`),D("PRERELEASELOOSE",`(?:-?(${l[p.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${l[p.PRERELEASEIDENTIFIERLOOSE]})*))`),D("BUILDIDENTIFIER",`${v}+`),D("BUILD",`(?:\\+(${l[p.BUILDIDENTIFIER]}(?:\\.${l[p.BUILDIDENTIFIER]})*))`),D("FULLPLAIN",`v?${l[p.MAINVERSION]}${l[p.PRERELEASE]}?${l[p.BUILD]}?`),D("FULL",`^${l[p.FULLPLAIN]}$`),D("LOOSEPLAIN",`[v=\\s]*${l[p.MAINVERSIONLOOSE]}${l[p.PRERELEASELOOSE]}?${l[p.BUILD]}?`),D("LOOSE",`^${l[p.LOOSEPLAIN]}$`),D("GTLT","((?:<|>)?=?)"),D("XRANGEIDENTIFIERLOOSE",`${l[p.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),D("XRANGEIDENTIFIER",`${l[p.NUMERICIDENTIFIER]}|x|X|\\*`),D("XRANGEPLAIN",`[v=\\s]*(${l[p.XRANGEIDENTIFIER]})(?:\\.(${l[p.XRANGEIDENTIFIER]})(?:\\.(${l[p.XRANGEIDENTIFIER]})(?:${l[p.PRERELEASE]})?${l[p.BUILD]}?)?)?`),D("XRANGEPLAINLOOSE",`[v=\\s]*(${l[p.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[p.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[p.XRANGEIDENTIFIERLOOSE]})(?:${l[p.PRERELEASELOOSE]})?${l[p.BUILD]}?)?)?`),D("XRANGE",`^${l[p.GTLT]}\\s*${l[p.XRANGEPLAIN]}$`),D("XRANGELOOSE",`^${l[p.GTLT]}\\s*${l[p.XRANGEPLAINLOOSE]}$`),D("COERCEPLAIN",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?`),D("COERCE",`${l[p.COERCEPLAIN]}(?:$|[^\\d])`),D("COERCEFULL",l[p.COERCEPLAIN]+`(?:${l[p.PRERELEASE]})?(?:${l[p.BUILD]})?(?:$|[^\\d])`),D("COERCERTL",l[p.COERCE],!0),D("COERCERTLFULL",l[p.COERCEFULL],!0),D("LONETILDE","(?:~>?)"),D("TILDETRIM",`(\\s*)${l[p.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",D("TILDE",`^${l[p.LONETILDE]}${l[p.XRANGEPLAIN]}$`),D("TILDELOOSE",`^${l[p.LONETILDE]}${l[p.XRANGEPLAINLOOSE]}$`),D("LONECARET","(?:\\^)"),D("CARETTRIM",`(\\s*)${l[p.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",D("CARET",`^${l[p.LONECARET]}${l[p.XRANGEPLAIN]}$`),D("CARETLOOSE",`^${l[p.LONECARET]}${l[p.XRANGEPLAINLOOSE]}$`),D("COMPARATORLOOSE",`^${l[p.GTLT]}\\s*(${l[p.LOOSEPLAIN]})$|^$`),D("COMPARATOR",`^${l[p.GTLT]}\\s*(${l[p.FULLPLAIN]})$|^$`),D("COMPARATORTRIM",`(\\s*)${l[p.GTLT]}\\s*(${l[p.LOOSEPLAIN]}|${l[p.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",D("HYPHENRANGE",`^\\s*(${l[p.XRANGEPLAIN]})\\s+-\\s+(${l[p.XRANGEPLAIN]})\\s*$`),D("HYPHENRANGELOOSE",`^\\s*(${l[p.XRANGEPLAINLOOSE]})\\s+-\\s+(${l[p.XRANGEPLAINLOOSE]})\\s*$`),D("STAR","(<|>)?=?\\s*\\*"),D("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),D("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(nn,nn.exports);const Gp=Object.freeze({loose:!0}),Wp=Object.freeze({});var ss=e=>e?typeof e!="object"?Gp:e:Wp;const Jf=/^[0-9]+$/,Xf=(e,t)=>{const r=Jf.test(e),n=Jf.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1};var Yf={compareIdentifiers:Xf,rcompareIdentifiers:(e,t)=>Xf(t,e)};const Xi=Ji,{MAX_LENGTH:Zf,MAX_SAFE_INTEGER:Yi}=Ki,{safeRe:Qf,t:eu}=nn.exports,Kp=ss,{compareIdentifiers:_n}=Yf;class mr{constructor(t,r){if(r=Kp(r),t instanceof mr){if(t.loose===!!r.loose&&t.includePrerelease===!!r.includePrerelease)return t;t=t.version}else if(typeof t!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof t}".`);if(t.length>Zf)throw new TypeError(`version is longer than ${Zf} characters`);Xi("SemVer",t,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;const n=t.trim().match(r.loose?Qf[eu.LOOSE]:Qf[eu.FULL]);if(!n)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>Yi||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Yi||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Yi||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){const o=+i;if(o>=0&&o<Yi)return o}return i}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(Xi("SemVer.compare",this.version,this.options,t),!(t instanceof mr)){if(typeof t=="string"&&t===this.version)return 0;t=new mr(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof mr||(t=new mr(t,this.options)),_n(this.major,t.major)||_n(this.minor,t.minor)||_n(this.patch,t.patch)}comparePre(t){if(t instanceof mr||(t=new mr(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let r=0;do{const n=this.prerelease[r],i=t.prerelease[r];if(Xi("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return _n(n,i)}while(++r)}compareBuild(t){t instanceof mr||(t=new mr(t,this.options));let r=0;do{const n=this.build[r],i=t.build[r];if(Xi("build compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return _n(n,i)}while(++r)}inc(t,r,n){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const i=Number(n)?1:0;if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[i];else{let o=this.prerelease.length;for(;--o>=0;)typeof this.prerelease[o]=="number"&&(this.prerelease[o]++,o=-2);if(o===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(r){let o=[r,i];n===!1&&(o=[r]),_n(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=o):this.prerelease=o}break}default:throw new Error(`invalid increment argument: ${t}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}var Jt=mr;const tu=Jt;var Bn=(e,t,r=!1)=>{if(e instanceof tu)return e;try{return new tu(e,t)}catch(n){if(!r)return null;throw n}};const Jp=Bn;var Xp=(e,t)=>{const r=Jp(e,t);return r?r.version:null};const Yp=Bn;var Zp=(e,t)=>{const r=Yp(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null};const ru=Jt;var Qp=(e,t,r,n,i)=>{typeof r=="string"&&(i=n,n=r,r=void 0);try{return new ru(e instanceof ru?e.version:e,r).inc(t,n,i).version}catch{return null}};const nu=Bn;var ey=(e,t)=>{const r=nu(e,null,!0),n=nu(t,null,!0),i=r.compare(n);if(i===0)return null;const o=i>0,c=o?r:n,a=o?n:r,l=!!c.prerelease.length;if(!!a.prerelease.length&&!l)return!a.patch&&!a.minor?"major":c.patch?"patch":c.minor?"minor":"major";const m=l?"pre":"";return r.major!==n.major?m+"major":r.minor!==n.minor?m+"minor":r.patch!==n.patch?m+"patch":"prerelease"};const ty=Jt;var ry=(e,t)=>new ty(e,t).major;const ny=Jt;var iy=(e,t)=>new ny(e,t).minor;const oy=Jt;var sy=(e,t)=>new oy(e,t).patch;const ay=Bn;var cy=(e,t)=>{const r=ay(e,t);return r&&r.prerelease.length?r.prerelease:null};const iu=Jt;var Er=(e,t,r)=>new iu(e,r).compare(new iu(t,r));const fy=Er;var uy=(e,t,r)=>fy(t,e,r);const ly=Er;var dy=(e,t)=>ly(e,t,!0);const ou=Jt;var as=(e,t,r)=>{const n=new ou(e,r),i=new ou(t,r);return n.compare(i)||n.compareBuild(i)};const hy=as;var py=(e,t)=>e.sort((r,n)=>hy(r,n,t));const yy=as;var gy=(e,t)=>e.sort((r,n)=>yy(n,r,t));const by=Er;var Zi=(e,t,r)=>by(e,t,r)>0;const wy=Er;var cs=(e,t,r)=>wy(e,t,r)<0;const my=Er;var su=(e,t,r)=>my(e,t,r)===0;const Ey=Er;var au=(e,t,r)=>Ey(e,t,r)!==0;const xy=Er;var fs=(e,t,r)=>xy(e,t,r)>=0;const vy=Er;var us=(e,t,r)=>vy(e,t,r)<=0;const _y=su,By=au,Sy=Zi,Ay=fs,Iy=cs,$y=us;var cu=(e,t,r,n)=>{switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e===r;case"!==":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e!==r;case"":case"=":case"==":return _y(e,r,n);case"!=":return By(e,r,n);case">":return Sy(e,r,n);case">=":return Ay(e,r,n);case"<":return Iy(e,r,n);case"<=":return $y(e,r,n);default:throw new TypeError(`Invalid operator: ${t}`)}};const Ty=Jt,Ry=Bn,{safeRe:Qi,t:eo}=nn.exports;var Cy=(e,t)=>{if(e instanceof Ty)return e;if(typeof e=="number"&&(e=String(e)),typeof e!="string")return null;t=t||{};let r=null;if(!t.rtl)r=e.match(t.includePrerelease?Qi[eo.COERCEFULL]:Qi[eo.COERCE]);else{const l=t.includePrerelease?Qi[eo.COERCERTLFULL]:Qi[eo.COERCERTL];let p;for(;(p=l.exec(e))&&(!r||r.index+r[0].length!==e.length);)(!r||p.index+p[0].length!==r.index+r[0].length)&&(r=p),l.lastIndex=p.index+p[1].length+p[2].length;l.lastIndex=-1}if(r===null)return null;const n=r[2],i=r[3]||"0",o=r[4]||"0",c=t.includePrerelease&&r[5]?`-${r[5]}`:"",a=t.includePrerelease&&r[6]?`+${r[6]}`:"";return Ry(`${n}.${i}.${o}${c}${a}`,t)};class Ly{constructor(){this.max=1e3,this.map=new Map}get(t){const r=this.map.get(t);if(r!==void 0)return this.map.delete(t),this.map.set(t,r),r}delete(t){return this.map.delete(t)}set(t,r){if(!this.delete(t)&&r!==void 0){if(this.map.size>=this.max){const i=this.map.keys().next().value;this.delete(i)}this.map.set(t,r)}return this}}var Oy=Ly,ls,fu;function xr(){if(fu)return ls;fu=1;class e{constructor(h,B){if(B=n(B),h instanceof e)return h.loose===!!B.loose&&h.includePrerelease===!!B.includePrerelease?h:new e(h.raw,B);if(h instanceof i)return this.raw=h.value,this.set=[[h]],this.format(),this;if(this.options=B,this.loose=!!B.loose,this.includePrerelease=!!B.includePrerelease,this.raw=h.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(I=>this.parseRange(I.trim())).filter(I=>I.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const I=this.set[0];if(this.set=this.set.filter($=>!D($[0])),this.set.length===0)this.set=[I];else if(this.set.length>1){for(const $ of this.set)if($.length===1&&Q($[0])){this.set=[$];break}}}this.format()}format(){return this.range=this.set.map(h=>h.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(h){const I=((this.options.includePrerelease&&T)|(this.options.loose&&A))+":"+h,$=r.get(I);if($)return $;const L=this.options.loose,R=L?a[l.HYPHENRANGELOOSE]:a[l.HYPHENRANGE];h=h.replace(R,ae(this.options.includePrerelease)),o("hyphen replace",h),h=h.replace(a[l.COMPARATORTRIM],p),o("comparator trim",h),h=h.replace(a[l.TILDETRIM],m),o("tilde trim",h),h=h.replace(a[l.CARETTRIM],v),o("caret trim",h);let j=h.split(" ").map(Z=>he(Z,this.options)).join(" ").split(/\s+/).map(Z=>me(Z,this.options));L&&(j=j.filter(Z=>(o("loose invalid filter",Z,this.options),!!Z.match(a[l.COMPARATORLOOSE])))),o("range list",j);const M=new Map,z=j.map(Z=>new i(Z,this.options));for(const Z of z){if(D(Z))return[Z];M.set(Z.value,Z)}M.size>1&&M.has("")&&M.delete("");const te=[...M.values()];return r.set(I,te),te}intersects(h,B){if(!(h instanceof e))throw new TypeError("a Range is required");return this.set.some(I=>oe(I,B)&&h.set.some($=>oe($,B)&&I.every(L=>$.every(R=>L.intersects(R,B)))))}test(h){if(!h)return!1;if(typeof h=="string")try{h=new c(h,this.options)}catch{return!1}for(let B=0;B<this.set.length;B++)if(g(this.set[B],h,this.options))return!0;return!1}}ls=e;const t=Oy,r=new t,n=ss,i=to(),o=Ji,c=Jt,{safeRe:a,t:l,comparatorTrimReplace:p,tildeTrimReplace:m,caretTrimReplace:v}=nn.exports,{FLAG_INCLUDE_PRERELEASE:T,FLAG_LOOSE:A}=Ki,D=y=>y.value==="<0.0.0-0",Q=y=>y.value==="",oe=(y,h)=>{let B=!0;const I=y.slice();let $=I.pop();for(;B&&I.length;)B=I.every(L=>$.intersects(L,h)),$=I.pop();return B},he=(y,h)=>(o("comp",y,h),y=pe(y,h),o("caret",y),y=q(y,h),o("tildes",y),y=be(y,h),o("xrange",y),y=ne(y,h),o("stars",y),y),P=y=>!y||y.toLowerCase()==="x"||y==="*",q=(y,h)=>y.trim().split(/\s+/).map(B=>C(B,h)).join(" "),C=(y,h)=>{const B=h.loose?a[l.TILDELOOSE]:a[l.TILDE];return y.replace(B,(I,$,L,R,j)=>{o("tilde",y,I,$,L,R,j);let M;return P($)?M="":P(L)?M=`>=${$}.0.0 <${+$+1}.0.0-0`:P(R)?M=`>=${$}.${L}.0 <${$}.${+L+1}.0-0`:j?(o("replaceTilde pr",j),M=`>=${$}.${L}.${R}-${j} <${$}.${+L+1}.0-0`):M=`>=${$}.${L}.${R} <${$}.${+L+1}.0-0`,o("tilde return",M),M})},pe=(y,h)=>y.trim().split(/\s+/).map(B=>ge(B,h)).join(" "),ge=(y,h)=>{o("caret",y,h);const B=h.loose?a[l.CARETLOOSE]:a[l.CARET],I=h.includePrerelease?"-0":"";return y.replace(B,($,L,R,j,M)=>{o("caret",y,$,L,R,j,M);let z;return P(L)?z="":P(R)?z=`>=${L}.0.0${I} <${+L+1}.0.0-0`:P(j)?L==="0"?z=`>=${L}.${R}.0${I} <${L}.${+R+1}.0-0`:z=`>=${L}.${R}.0${I} <${+L+1}.0.0-0`:M?(o("replaceCaret pr",M),L==="0"?R==="0"?z=`>=${L}.${R}.${j}-${M} <${L}.${R}.${+j+1}-0`:z=`>=${L}.${R}.${j}-${M} <${L}.${+R+1}.0-0`:z=`>=${L}.${R}.${j}-${M} <${+L+1}.0.0-0`):(o("no pr"),L==="0"?R==="0"?z=`>=${L}.${R}.${j}${I} <${L}.${R}.${+j+1}-0`:z=`>=${L}.${R}.${j}${I} <${L}.${+R+1}.0-0`:z=`>=${L}.${R}.${j} <${+L+1}.0.0-0`),o("caret return",z),z})},be=(y,h)=>(o("replaceXRanges",y,h),y.split(/\s+/).map(B=>G(B,h)).join(" ")),G=(y,h)=>{y=y.trim();const B=h.loose?a[l.XRANGELOOSE]:a[l.XRANGE];return y.replace(B,(I,$,L,R,j,M)=>{o("xRange",y,I,$,L,R,j,M);const z=P(L),te=z||P(R),Z=te||P(j),K=Z;return $==="="&&K&&($=""),M=h.includePrerelease?"-0":"",z?$===">"||$==="<"?I="<0.0.0-0":I="*":$&&K?(te&&(R=0),j=0,$===">"?($=">=",te?(L=+L+1,R=0,j=0):(R=+R+1,j=0)):$==="<="&&($="<",te?L=+L+1:R=+R+1),$==="<"&&(M="-0"),I=`${$+L}.${R}.${j}${M}`):te?I=`>=${L}.0.0${M} <${+L+1}.0.0-0`:Z&&(I=`>=${L}.${R}.0${M} <${L}.${+R+1}.0-0`),o("xRange return",I),I})},ne=(y,h)=>(o("replaceStars",y,h),y.trim().replace(a[l.STAR],"")),me=(y,h)=>(o("replaceGTE0",y,h),y.trim().replace(a[h.includePrerelease?l.GTE0PRE:l.GTE0],"")),ae=y=>(h,B,I,$,L,R,j,M,z,te,Z,K)=>(P(I)?B="":P($)?B=`>=${I}.0.0${y?"-0":""}`:P(L)?B=`>=${I}.${$}.0${y?"-0":""}`:R?B=`>=${B}`:B=`>=${B}${y?"-0":""}`,P(z)?M="":P(te)?M=`<${+z+1}.0.0-0`:P(Z)?M=`<${z}.${+te+1}.0-0`:K?M=`<=${z}.${te}.${Z}-${K}`:y?M=`<${z}.${te}.${+Z+1}-0`:M=`<=${M}`,`${B} ${M}`.trim()),g=(y,h,B)=>{for(let I=0;I<y.length;I++)if(!y[I].test(h))return!1;if(h.prerelease.length&&!B.includePrerelease){for(let I=0;I<y.length;I++)if(o(y[I].semver),y[I].semver!==i.ANY&&y[I].semver.prerelease.length>0){const $=y[I].semver;if($.major===h.major&&$.minor===h.minor&&$.patch===h.patch)return!0}return!1}return!0};return ls}var ds,uu;function to(){if(uu)return ds;uu=1;const e=Symbol("SemVer ANY");class t{static get ANY(){return e}constructor(m,v){if(v=r(v),m instanceof t){if(m.loose===!!v.loose)return m;m=m.value}m=m.trim().split(/\s+/).join(" "),c("comparator",m,v),this.options=v,this.loose=!!v.loose,this.parse(m),this.semver===e?this.value="":this.value=this.operator+this.semver.version,c("comp",this)}parse(m){const v=this.options.loose?n[i.COMPARATORLOOSE]:n[i.COMPARATOR],T=m.match(v);if(!T)throw new TypeError(`Invalid comparator: ${m}`);this.operator=T[1]!==void 0?T[1]:"",this.operator==="="&&(this.operator=""),T[2]?this.semver=new a(T[2],this.options.loose):this.semver=e}toString(){return this.value}test(m){if(c("Comparator.test",m,this.options.loose),this.semver===e||m===e)return!0;if(typeof m=="string")try{m=new a(m,this.options)}catch{return!1}return o(m,this.operator,this.semver,this.options)}intersects(m,v){if(!(m instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new l(m.value,v).test(this.value):m.operator===""?m.value===""?!0:new l(this.value,v).test(m.semver):(v=r(v),v.includePrerelease&&(this.value==="<0.0.0-0"||m.value==="<0.0.0-0")||!v.includePrerelease&&(this.value.startsWith("<0.0.0")||m.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&m.operator.startsWith(">")||this.operator.startsWith("<")&&m.operator.startsWith("<")||this.semver.version===m.semver.version&&this.operator.includes("=")&&m.operator.includes("=")||o(this.semver,"<",m.semver,v)&&this.operator.startsWith(">")&&m.operator.startsWith("<")||o(this.semver,">",m.semver,v)&&this.operator.startsWith("<")&&m.operator.startsWith(">")))}}ds=t;const r=ss,{safeRe:n,t:i}=nn.exports,o=cu,c=Ji,a=Jt,l=xr();return ds}const Py=xr();var ro=(e,t,r)=>{try{t=new Py(t,r)}catch{return!1}return t.test(e)};const Ny=xr();var jy=(e,t)=>new Ny(e,t).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));const ky=Jt,Uy=xr();var Hy=(e,t,r)=>{let n=null,i=null,o=null;try{o=new Uy(t,r)}catch{return null}return e.forEach(c=>{o.test(c)&&(!n||i.compare(c)===-1)&&(n=c,i=new ky(n,r))}),n};const My=Jt,Fy=xr();var Dy=(e,t,r)=>{let n=null,i=null,o=null;try{o=new Fy(t,r)}catch{return null}return e.forEach(c=>{o.test(c)&&(!n||i.compare(c)===1)&&(n=c,i=new My(n,r))}),n};const hs=Jt,Vy=xr(),lu=Zi;var qy=(e,t)=>{e=new Vy(e,t);let r=new hs("0.0.0");if(e.test(r)||(r=new hs("0.0.0-0"),e.test(r)))return r;r=null;for(let n=0;n<e.set.length;++n){const i=e.set[n];let o=null;i.forEach(c=>{const a=new hs(c.semver.version);switch(c.operator){case">":a.prerelease.length===0?a.patch++:a.prerelease.push(0),a.raw=a.format();case"":case">=":(!o||lu(a,o))&&(o=a);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${c.operator}`)}}),o&&(!r||lu(r,o))&&(r=o)}return r&&e.test(r)?r:null};const zy=xr();var Gy=(e,t)=>{try{return new zy(e,t).range||"*"}catch{return null}};const Wy=Jt,du=to(),{ANY:Ky}=du,Jy=xr(),Xy=ro,hu=Zi,pu=cs,Yy=us,Zy=fs;var ps=(e,t,r,n)=>{e=new Wy(e,n),t=new Jy(t,n);let i,o,c,a,l;switch(r){case">":i=hu,o=Yy,c=pu,a=">",l=">=";break;case"<":i=pu,o=Zy,c=hu,a="<",l="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(Xy(e,t,n))return!1;for(let p=0;p<t.set.length;++p){const m=t.set[p];let v=null,T=null;if(m.forEach(A=>{A.semver===Ky&&(A=new du(">=0.0.0")),v=v||A,T=T||A,i(A.semver,v.semver,n)?v=A:c(A.semver,T.semver,n)&&(T=A)}),v.operator===a||v.operator===l||(!T.operator||T.operator===a)&&o(e,T.semver))return!1;if(T.operator===l&&c(e,T.semver))return!1}return!0};const Qy=ps;var eg=(e,t,r)=>Qy(e,t,">",r);const tg=ps;var rg=(e,t,r)=>tg(e,t,"<",r);const yu=xr();var ng=(e,t,r)=>(e=new yu(e,r),t=new yu(t,r),e.intersects(t,r));const ig=ro,og=Er;var sg=(e,t,r)=>{const n=[];let i=null,o=null;const c=e.sort((m,v)=>og(m,v,r));for(const m of c)ig(m,t,r)?(o=m,i||(i=m)):(o&&n.push([i,o]),o=null,i=null);i&&n.push([i,null]);const a=[];for(const[m,v]of n)m===v?a.push(m):!v&&m===c[0]?a.push("*"):v?m===c[0]?a.push(`<=${v}`):a.push(`${m} - ${v}`):a.push(`>=${m}`);const l=a.join(" || "),p=typeof t.raw=="string"?t.raw:String(t);return l.length<p.length?l:t};const gu=xr(),ys=to(),{ANY:gs}=ys,ii=ro,bs=Er,ag=(e,t,r={})=>{if(e===t)return!0;e=new gu(e,r),t=new gu(t,r);let n=!1;e:for(const i of e.set){for(const o of t.set){const c=fg(i,o,r);if(n=n||c!==null,c)continue e}if(n)return!1}return!0},cg=[new ys(">=0.0.0-0")],bu=[new ys(">=0.0.0")],fg=(e,t,r)=>{if(e===t)return!0;if(e.length===1&&e[0].semver===gs){if(t.length===1&&t[0].semver===gs)return!0;r.includePrerelease?e=cg:e=bu}if(t.length===1&&t[0].semver===gs){if(r.includePrerelease)return!0;t=bu}const n=new Set;let i,o;for(const A of e)A.operator===">"||A.operator===">="?i=wu(i,A,r):A.operator==="<"||A.operator==="<="?o=mu(o,A,r):n.add(A.semver);if(n.size>1)return null;let c;if(i&&o){if(c=bs(i.semver,o.semver,r),c>0)return null;if(c===0&&(i.operator!==">="||o.operator!=="<="))return null}for(const A of n){if(i&&!ii(A,String(i),r)||o&&!ii(A,String(o),r))return null;for(const D of t)if(!ii(A,String(D),r))return!1;return!0}let a,l,p,m,v=o&&!r.includePrerelease&&o.semver.prerelease.length?o.semver:!1,T=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1;v&&v.prerelease.length===1&&o.operator==="<"&&v.prerelease[0]===0&&(v=!1);for(const A of t){if(m=m||A.operator===">"||A.operator===">=",p=p||A.operator==="<"||A.operator==="<=",i){if(T&&A.semver.prerelease&&A.semver.prerelease.length&&A.semver.major===T.major&&A.semver.minor===T.minor&&A.semver.patch===T.patch&&(T=!1),A.operator===">"||A.operator===">="){if(a=wu(i,A,r),a===A&&a!==i)return!1}else if(i.operator===">="&&!ii(i.semver,String(A),r))return!1}if(o){if(v&&A.semver.prerelease&&A.semver.prerelease.length&&A.semver.major===v.major&&A.semver.minor===v.minor&&A.semver.patch===v.patch&&(v=!1),A.operator==="<"||A.operator==="<="){if(l=mu(o,A,r),l===A&&l!==o)return!1}else if(o.operator==="<="&&!ii(o.semver,String(A),r))return!1}if(!A.operator&&(o||i)&&c!==0)return!1}return!(i&&p&&!o&&c!==0||o&&m&&!i&&c!==0||T||v)},wu=(e,t,r)=>{if(!e)return t;const n=bs(e.semver,t.semver,r);return n>0?e:n<0||t.operator===">"&&e.operator===">="?t:e},mu=(e,t,r)=>{if(!e)return t;const n=bs(e.semver,t.semver,r);return n<0?e:n>0||t.operator==="<"&&e.operator==="<="?t:e};var ug=ag;const ws=nn.exports,Eu=Ki,lg=Jt,xu=Yf,dg=Bn,hg=Xp,pg=Zp,yg=Qp,gg=ey,bg=ry,wg=iy,mg=sy,Eg=cy,xg=Er,vg=uy,_g=dy,Bg=as,Sg=py,Ag=gy,Ig=Zi,$g=cs,Tg=su,Rg=au,Cg=fs,Lg=us,Og=cu,Pg=Cy,Ng=to(),jg=xr();var kg={parse:dg,valid:hg,clean:pg,inc:yg,diff:gg,major:bg,minor:wg,patch:mg,prerelease:Eg,compare:xg,rcompare:vg,compareLoose:_g,compareBuild:Bg,sort:Sg,rsort:Ag,gt:Ig,lt:$g,eq:Tg,neq:Rg,gte:Cg,lte:Lg,cmp:Og,coerce:Pg,Comparator:Ng,Range:jg,satisfies:ro,toComparators:jy,maxSatisfying:Hy,minSatisfying:Dy,minVersion:qy,validRange:Gy,outside:ps,gtr:eg,ltr:rg,intersects:ng,simplifyRange:sg,subset:ug,SemVer:lg,re:ws.re,src:ws.src,tokens:ws.t,SEMVER_SPEC_VERSION:Eu.SEMVER_SPEC_VERSION,RELEASE_TYPES:Eu.RELEASE_TYPES,compareIdentifiers:xu.compareIdentifiers,rcompareIdentifiers:xu.rcompareIdentifiers};Object.defineProperty(wr,"__esModule",{value:!0});var vu=dr,oi=kg,Sn=Kr,ms=Sn.refine.call(void 0,Sn.string.call(void 0),"Version",e=>oi.valid.call(void 0,e)===null?`Expected SemVer version, got "${e}"`:!0),Es=Sn.refine.call(void 0,Sn.string.call(void 0),"Version range",e=>oi.validRange.call(void 0,e)===null?`Expected SemVer range, got "${e}"`:!0);function Ug(e){return Sn.is.call(void 0,e,ms)}function Hg(e){return Sn.is.call(void 0,e,Es)}function Mg(e){vu.assertStruct.call(void 0,e,ms)}function Fg(e){vu.assertStruct.call(void 0,e,Es)}function Dg(e,t){return oi.gt.call(void 0,e,t)}function Vg(e,t){return oi.gtr.call(void 0,e,t)}function qg(e,t){return oi.satisfies.call(void 0,e,t,{includePrerelease:!0})}wr.VersionStruct=ms,wr.VersionRangeStruct=Es,wr.isValidSemVerVersion=Ug,wr.isValidSemVerRange=Hg,wr.assertIsSemVerVersion=Mg,wr.assertIsSemVerRange=Fg,wr.gtVersion=Dg,wr.gtRange=Vg,wr.satisfiesVersionRange=qg;var Ke={};Object.defineProperty(Ke,"__esModule",{value:!0});var jr=dr,zg=Wt,Ue=Kr,An=e=>Ue.object.call(void 0,e);function _u({path:e,branch:t}){const r=e[e.length-1];return zg.hasProperty.call(void 0,t[t.length-2],r)}function si(e){return new Ue.Struct({...e,type:`optional ${e.type}`,validator:(t,r)=>!_u(r)||e.validator(t,r),refiner:(t,r)=>!_u(r)||e.refiner(t,r)})}var Gg=()=>Ue.define.call(void 0,"finite number",e=>Ue.is.call(void 0,e,Ue.number.call(void 0))&&Number.isFinite(e)),ai=Ue.union.call(void 0,[Ue.literal.call(void 0,null),Ue.boolean.call(void 0),Gg(),Ue.string.call(void 0),Ue.array.call(void 0,Ue.lazy.call(void 0,()=>ai)),Ue.record.call(void 0,Ue.string.call(void 0),Ue.lazy.call(void 0,()=>ai))]),on=Ue.coerce.call(void 0,ai,Ue.any.call(void 0),e=>(jr.assertStruct.call(void 0,e,ai),JSON.parse(JSON.stringify(e,(t,r)=>{if(!(t==="__proto__"||t==="constructor"))return r}))));function Wg(e){try{return Bu(e),!0}catch{return!1}}function Bu(e){return Ue.create.call(void 0,e,on)}function Kg(e){jr.assertStruct.call(void 0,e,on,"Invalid JSON value");const t=JSON.stringify(e);return new TextEncoder().encode(t).byteLength}var Su="2.0",In=Ue.literal.call(void 0,Su),ci=Ue.nullable.call(void 0,Ue.union.call(void 0,[Ue.number.call(void 0),Ue.string.call(void 0)])),fi=An({code:Ue.integer.call(void 0),message:Ue.string.call(void 0),data:si(on),stack:si(Ue.string.call(void 0))}),xs=Ue.union.call(void 0,[Ue.record.call(void 0,Ue.string.call(void 0),on),Ue.array.call(void 0,on)]),vs=An({id:ci,jsonrpc:In,method:Ue.string.call(void 0),params:si(xs)}),_s=An({jsonrpc:In,method:Ue.string.call(void 0),params:si(xs)});function Jg(e){return Ue.is.call(void 0,e,_s)}function Xg(e,t){jr.assertStruct.call(void 0,e,_s,"Invalid JSON-RPC notification",t)}function Yg(e){return Ue.is.call(void 0,e,vs)}function Zg(e,t){jr.assertStruct.call(void 0,e,vs,"Invalid JSON-RPC request",t)}var Bs=Ue.object.call(void 0,{id:ci,jsonrpc:In,result:Ue.optional.call(void 0,Ue.unknown.call(void 0)),error:Ue.optional.call(void 0,fi)}),no=An({id:ci,jsonrpc:In,result:on}),io=An({id:ci,jsonrpc:In,error:fi}),Ss=Ue.union.call(void 0,[no,io]);function Qg(e){return Ue.is.call(void 0,e,Bs)}function e1(e,t){jr.assertStruct.call(void 0,e,Bs,"Invalid pending JSON-RPC response",t)}function t1(e){return Ue.is.call(void 0,e,Ss)}function r1(e,t){jr.assertStruct.call(void 0,e,Ss,"Invalid JSON-RPC response",t)}function n1(e){return Ue.is.call(void 0,e,no)}function i1(e,t){jr.assertStruct.call(void 0,e,no,"Invalid JSON-RPC success response",t)}function o1(e){return Ue.is.call(void 0,e,io)}function s1(e,t){jr.assertStruct.call(void 0,e,io,"Invalid JSON-RPC failure response",t)}function a1(e){return Ue.is.call(void 0,e,fi)}function c1(e,t){jr.assertStruct.call(void 0,e,fi,"Invalid JSON-RPC error",t)}function f1(e){const{permitEmptyString:t,permitFractions:r,permitNull:n}={permitEmptyString:!0,permitFractions:!1,permitNull:!0,...e};return o=>!!(typeof o=="number"&&(r||Number.isInteger(o))||typeof o=="string"&&(t||o.length>0)||n&&o===null)}Ke.object=An,Ke.exactOptional=si,Ke.UnsafeJsonStruct=ai,Ke.JsonStruct=on,Ke.isValidJson=Wg,Ke.getSafeJson=Bu,Ke.getJsonSize=Kg,Ke.jsonrpc2=Su,Ke.JsonRpcVersionStruct=In,Ke.JsonRpcIdStruct=ci,Ke.JsonRpcErrorStruct=fi,Ke.JsonRpcParamsStruct=xs,Ke.JsonRpcRequestStruct=vs,Ke.JsonRpcNotificationStruct=_s,Ke.isJsonRpcNotification=Jg,Ke.assertIsJsonRpcNotification=Xg,Ke.isJsonRpcRequest=Yg,Ke.assertIsJsonRpcRequest=Zg,Ke.PendingJsonRpcResponseStruct=Bs,Ke.JsonRpcSuccessStruct=no,Ke.JsonRpcFailureStruct=io,Ke.JsonRpcResponseStruct=Ss,Ke.isPendingJsonRpcResponse=Qg,Ke.assertIsPendingJsonRpcResponse=e1,Ke.isJsonRpcResponse=t1,Ke.assertIsJsonRpcResponse=r1,Ke.isJsonRpcSuccess=n1,Ke.assertIsJsonRpcSuccess=i1,Ke.isJsonRpcFailure=o1,Ke.assertIsJsonRpcFailure=s1,Ke.isJsonRpcError=a1,Ke.assertIsJsonRpcError=c1,Ke.getJsonRpcIdValidator=f1;var oo={},As={exports:{}},Is,Au;function u1(){if(Au)return Is;Au=1;var e=1e3,t=e*60,r=t*60,n=r*24,i=n*7,o=n*365.25;Is=function(m,v){v=v||{};var T=typeof m;if(T==="string"&&m.length>0)return c(m);if(T==="number"&&isFinite(m))return v.long?l(m):a(m);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(m))};function c(m){if(m=String(m),!(m.length>100)){var v=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(m);if(v){var T=parseFloat(v[1]),A=(v[2]||"ms").toLowerCase();switch(A){case"years":case"year":case"yrs":case"yr":case"y":return T*o;case"weeks":case"week":case"w":return T*i;case"days":case"day":case"d":return T*n;case"hours":case"hour":case"hrs":case"hr":case"h":return T*r;case"minutes":case"minute":case"mins":case"min":case"m":return T*t;case"seconds":case"second":case"secs":case"sec":case"s":return T*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return T;default:return}}}}function a(m){var v=Math.abs(m);return v>=n?Math.round(m/n)+"d":v>=r?Math.round(m/r)+"h":v>=t?Math.round(m/t)+"m":v>=e?Math.round(m/e)+"s":m+"ms"}function l(m){var v=Math.abs(m);return v>=n?p(m,v,n,"day"):v>=r?p(m,v,r,"hour"):v>=t?p(m,v,t,"minute"):v>=e?p(m,v,e,"second"):m+" ms"}function p(m,v,T,A){var D=v>=T*1.5;return Math.round(m/T)+" "+A+(D?"s":"")}return Is}function l1(e){r.debug=r,r.default=r,r.coerce=l,r.disable=o,r.enable=i,r.enabled=c,r.humanize=u1(),r.destroy=p,Object.keys(e).forEach(m=>{r[m]=e[m]}),r.names=[],r.skips=[],r.formatters={};function t(m){let v=0;for(let T=0;T<m.length;T++)v=(v<<5)-v+m.charCodeAt(T),v|=0;return r.colors[Math.abs(v)%r.colors.length]}r.selectColor=t;function r(m){let v,T=null,A,D;function Q(...oe){if(!Q.enabled)return;const he=Q,P=Number(new Date),q=P-(v||P);he.diff=q,he.prev=v,he.curr=P,v=P,oe[0]=r.coerce(oe[0]),typeof oe[0]!="string"&&oe.unshift("%O");let C=0;oe[0]=oe[0].replace(/%([a-zA-Z%])/g,(ge,be)=>{if(ge==="%%")return"%";C++;const G=r.formatters[be];if(typeof G=="function"){const ne=oe[C];ge=G.call(he,ne),oe.splice(C,1),C--}return ge}),r.formatArgs.call(he,oe),(he.log||r.log).apply(he,oe)}return Q.namespace=m,Q.useColors=r.useColors(),Q.color=r.selectColor(m),Q.extend=n,Q.destroy=r.destroy,Object.defineProperty(Q,"enabled",{enumerable:!0,configurable:!1,get:()=>T!==null?T:(A!==r.namespaces&&(A=r.namespaces,D=r.enabled(m)),D),set:oe=>{T=oe}}),typeof r.init=="function"&&r.init(Q),Q}function n(m,v){const T=r(this.namespace+(typeof v>"u"?":":v)+m);return T.log=this.log,T}function i(m){r.save(m),r.namespaces=m,r.names=[],r.skips=[];let v;const T=(typeof m=="string"?m:"").split(/[\s,]+/),A=T.length;for(v=0;v<A;v++)T[v]&&(m=T[v].replace(/\*/g,".*?"),m[0]==="-"?r.skips.push(new RegExp("^"+m.slice(1)+"$")):r.names.push(new RegExp("^"+m+"$")))}function o(){const m=[...r.names.map(a),...r.skips.map(a).map(v=>"-"+v)].join(",");return r.enable(""),m}function c(m){if(m[m.length-1]==="*")return!0;let v,T;for(v=0,T=r.skips.length;v<T;v++)if(r.skips[v].test(m))return!1;for(v=0,T=r.names.length;v<T;v++)if(r.names[v].test(m))return!0;return!1}function a(m){return m.toString().substring(2,m.toString().length-2).replace(/\.\*\?$/,"*")}function l(m){return m instanceof Error?m.stack||m.message:m}function p(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}var d1=l1;(function(e,t){t.formatArgs=n,t.save=i,t.load=o,t.useColors=r,t.storage=c(),t.destroy=(()=>{let l=!1;return()=>{l||(l=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function n(l){if(l[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+l[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const p="color: "+this.color;l.splice(1,0,p,"color: inherit");let m=0,v=0;l[0].replace(/%[a-zA-Z%]/g,T=>{T!=="%%"&&(m++,T==="%c"&&(v=m))}),l.splice(v,0,p)}t.log=console.debug||console.log||(()=>{});function i(l){try{l?t.storage.setItem("debug",l):t.storage.removeItem("debug")}catch{}}function o(){let l;try{l=t.storage.getItem("debug")}catch{}return!l&&typeof process<"u"&&"env"in process&&(l=process.env.DEBUG),l}function c(){try{return localStorage}catch{}}e.exports=d1(t);const{formatters:a}=e.exports;a.j=function(l){try{return JSON.stringify(l)}catch(p){return"[UnexpectedJSONParseError]: "+p.message}}})(As,As.exports),Object.defineProperty(oo,"__esModule",{value:!0});function h1(e){return e&&e.__esModule?e:{default:e}}var p1=As.exports,y1=h1(p1),g1=y1.default.call(void 0,"metamask");function b1(e){return g1.extend(e)}function w1(e,t){return e.extend(t)}oo.createProjectLogger=b1,oo.createModuleLogger=w1;var $t={};Object.defineProperty($t,"__esModule",{value:!0});function Iu(e){let t,r=e[0],n=1;for(;n<e.length;){const i=e[n],o=e[n+1];if(n+=2,(i==="optionalAccess"||i==="optionalCall")&&r==null)return;i==="access"||i==="optionalAccess"?(t=r,r=o(r)):(i==="call"||i==="optionalCall")&&(r=o((...c)=>r.call(t,...c)),t=void 0)}return r}var Xt=Kr,$s=/^(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32})$/u,Ts=/^[-a-z0-9]{3,8}$/u,Rs=/^[-_a-zA-Z0-9]{1,32}$/u,Cs=/^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32})):(?<accountAddress>[-.%a-zA-Z0-9]{1,128})$/u,$u=/^[-.%a-zA-Z0-9]{1,128}$/u,Tu=Xt.pattern.call(void 0,Xt.string.call(void 0),$s),Ru=Xt.pattern.call(void 0,Xt.string.call(void 0),Ts),Cu=Xt.pattern.call(void 0,Xt.string.call(void 0),Rs),Lu=Xt.pattern.call(void 0,Xt.string.call(void 0),Cs),Ou=Xt.pattern.call(void 0,Xt.string.call(void 0),$u),Pu=(e=>(e.Eip155="eip155",e))(Pu||{});function m1(e){return Xt.is.call(void 0,e,Tu)}function Nu(e){return Xt.is.call(void 0,e,Ru)}function ju(e){return Xt.is.call(void 0,e,Cu)}function E1(e){return Xt.is.call(void 0,e,Lu)}function x1(e){return Xt.is.call(void 0,e,Ou)}function v1(e){const t=$s.exec(e);if(!Iu([t,"optionalAccess",r=>r.groups]))throw new Error("Invalid CAIP chain ID.");return{namespace:t.groups.namespace,reference:t.groups.reference}}function _1(e){const t=Cs.exec(e);if(!Iu([t,"optionalAccess",r=>r.groups]))throw new Error("Invalid CAIP account ID.");return{address:t.groups.accountAddress,chainId:t.groups.chainId,chain:{namespace:t.groups.namespace,reference:t.groups.reference}}}function B1(e,t){if(!Nu(e))throw new Error(`Invalid "namespace", must match: ${Ts.toString()}`);if(!ju(t))throw new Error(`Invalid "reference", must match: ${Rs.toString()}`);return`${e}:${t}`}$t.CAIP_CHAIN_ID_REGEX=$s,$t.CAIP_NAMESPACE_REGEX=Ts,$t.CAIP_REFERENCE_REGEX=Rs,$t.CAIP_ACCOUNT_ID_REGEX=Cs,$t.CAIP_ACCOUNT_ADDRESS_REGEX=$u,$t.CaipChainIdStruct=Tu,$t.CaipNamespaceStruct=Ru,$t.CaipReferenceStruct=Cu,$t.CaipAccountIdStruct=Lu,$t.CaipAccountAddressStruct=Ou,$t.KnownCaipNamespace=Pu,$t.isCaipChainId=m1,$t.isCaipNamespace=Nu,$t.isCaipReference=ju,$t.isCaipAccountId=E1,$t.isCaipAccountAddress=x1,$t.parseCaipChainId=v1,$t.parseCaipAccountId=_1,$t.toCaipChainId=B1;var Ls={},so={};Object.defineProperty(so,"__esModule",{value:!0});function ku(e,t){return e??t()}var S1=dr,A1=Kr,I1=(e,t={})=>{const r=ku(t.paddingRequired,()=>!1),n=ku(t.characterSet,()=>"base64");let i;n==="base64"?i=String.raw`[A-Za-z0-9+\/]`:(S1.assert.call(void 0,n==="base64url"),i=String.raw`[-_A-Za-z0-9]`);let o;return r?o=new RegExp(`^(?:${i}{4})*(?:${i}{3}=|${i}{2}==)?$`,"u"):o=new RegExp(`^(?:${i}{4})*(?:${i}{2,3}|${i}{3}=|${i}{2}==)?$`,"u"),A1.pattern.call(void 0,e,o)};so.base64=I1,Object.defineProperty(Ls,"__esModule",{value:!0});var $1=so,Uu=Kr,T1=Uu.size.call(void 0,$1.base64.call(void 0,Uu.string.call(void 0),{paddingRequired:!0}),44,44);Ls.ChecksumStruct=T1;var $n={};Object.defineProperty($n,"__esModule",{value:!0});var Tn=Je,R1=dr,Et=Kr,Hu=Et.union.call(void 0,[Et.number.call(void 0),Et.bigint.call(void 0),Et.string.call(void 0),Tn.StrictHexStruct]),C1=Et.coerce.call(void 0,Et.number.call(void 0),Hu,Number),L1=Et.coerce.call(void 0,Et.bigint.call(void 0),Hu,BigInt);Et.union.call(void 0,[Tn.StrictHexStruct,Et.instance.call(void 0,Uint8Array)]);var O1=Et.coerce.call(void 0,Et.instance.call(void 0,Uint8Array),Et.union.call(void 0,[Tn.StrictHexStruct]),Tn.hexToBytes),P1=Et.coerce.call(void 0,Tn.StrictHexStruct,Et.instance.call(void 0,Uint8Array),Tn.bytesToHex);function N1(e){try{const t=Et.create.call(void 0,e,C1);return R1.assert.call(void 0,Number.isFinite(t),`Expected a number-like value, got "${e}".`),t}catch(t){throw t instanceof Et.StructError?new Error(`Expected a number-like value, got "${e}".`):t}}function j1(e){try{return Et.create.call(void 0,e,L1)}catch(t){throw t instanceof Et.StructError?new Error(`Expected a number-like value, got "${String(t.value)}".`):t}}function k1(e){if(typeof e=="string"&&e.toLowerCase()==="0x")return new Uint8Array;try{return Et.create.call(void 0,e,O1)}catch(t){throw t instanceof Et.StructError?new Error(`Expected a bytes-like value, got "${String(t.value)}".`):t}}function U1(e){if(e instanceof Uint8Array&&e.length===0||typeof e=="string"&&e.toLowerCase()==="0x")return"0x";try{return Et.create.call(void 0,e,P1)}catch(t){throw t instanceof Et.StructError?new Error(`Expected a bytes-like value, got "${String(t.value)}".`):t}}$n.createNumber=N1,$n.createBigInt=j1,$n.createBytes=k1,$n.createHex=U1;var ao={},ui={};Object.defineProperty(ui,"__esModule",{value:!0});var Mu=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},H1=(e,t,r)=>(Mu(e,t,"read from private field"),r?r.call(e):t.get(e)),M1=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},F1=(e,t,r,n)=>(Mu(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r);ui.__privateGet=H1,ui.__privateAdd=M1,ui.__privateSet=F1,Object.defineProperty(ao,"__esModule",{value:!0});var Ot=ui,vr,Os=class{constructor(e){Ot.__privateAdd.call(void 0,this,vr,void 0),Ot.__privateSet.call(void 0,this,vr,new Map(e)),Object.freeze(this)}get size(){return Ot.__privateGet.call(void 0,this,vr).size}[Symbol.iterator](){return Ot.__privateGet.call(void 0,this,vr)[Symbol.iterator]()}entries(){return Ot.__privateGet.call(void 0,this,vr).entries()}forEach(e,t){return Ot.__privateGet.call(void 0,this,vr).forEach((r,n,i)=>e.call(t,r,n,this))}get(e){return Ot.__privateGet.call(void 0,this,vr).get(e)}has(e){return Ot.__privateGet.call(void 0,this,vr).has(e)}keys(){return Ot.__privateGet.call(void 0,this,vr).keys()}values(){return Ot.__privateGet.call(void 0,this,vr).values()}toString(){return`FrozenMap(${this.size}) {${this.size>0?` ${[...this.entries()].map(([e,t])=>`${String(e)} => ${String(t)}`).join(", ")} `:""}}`}};vr=new WeakMap;var Ir,Ps=class{constructor(e){Ot.__privateAdd.call(void 0,this,Ir,void 0),Ot.__privateSet.call(void 0,this,Ir,new Set(e)),Object.freeze(this)}get size(){return Ot.__privateGet.call(void 0,this,Ir).size}[Symbol.iterator](){return Ot.__privateGet.call(void 0,this,Ir)[Symbol.iterator]()}entries(){return Ot.__privateGet.call(void 0,this,Ir).entries()}forEach(e,t){return Ot.__privateGet.call(void 0,this,Ir).forEach((r,n,i)=>e.call(t,r,n,this))}has(e){return Ot.__privateGet.call(void 0,this,Ir).has(e)}keys(){return Ot.__privateGet.call(void 0,this,Ir).keys()}values(){return Ot.__privateGet.call(void 0,this,Ir).values()}toString(){return`FrozenSet(${this.size}) {${this.size>0?` ${[...this.values()].map(e=>String(e)).join(", ")} `:""}}`}};Ir=new WeakMap,Object.freeze(Os),Object.freeze(Os.prototype),Object.freeze(Ps),Object.freeze(Ps.prototype),ao.FrozenMap=Os,ao.FrozenSet=Ps,Object.defineProperty(H,"__esModule",{value:!0});var co=mn,D1=os,Ns=ni,kr=wr,Ze=Ke,Fu=oo,Pt=$t,V1=Ls,q1=so,fo=$n,ot=Je,uo=dr,li=Wr,_r=Wt,Du=ao;H.AssertionError=uo.AssertionError,H.CAIP_ACCOUNT_ADDRESS_REGEX=Pt.CAIP_ACCOUNT_ADDRESS_REGEX,H.CAIP_ACCOUNT_ID_REGEX=Pt.CAIP_ACCOUNT_ID_REGEX,H.CAIP_CHAIN_ID_REGEX=Pt.CAIP_CHAIN_ID_REGEX,H.CAIP_NAMESPACE_REGEX=Pt.CAIP_NAMESPACE_REGEX,H.CAIP_REFERENCE_REGEX=Pt.CAIP_REFERENCE_REGEX,H.CaipAccountAddressStruct=Pt.CaipAccountAddressStruct,H.CaipAccountIdStruct=Pt.CaipAccountIdStruct,H.CaipChainIdStruct=Pt.CaipChainIdStruct,H.CaipNamespaceStruct=Pt.CaipNamespaceStruct,H.CaipReferenceStruct=Pt.CaipReferenceStruct,H.ChecksumStruct=V1.ChecksumStruct,H.Duration=Ns.Duration,H.ESCAPE_CHARACTERS_REGEXP=_r.ESCAPE_CHARACTERS_REGEXP,H.FrozenMap=Du.FrozenMap,H.FrozenSet=Du.FrozenSet,H.HexAddressStruct=ot.HexAddressStruct,H.HexChecksumAddressStruct=ot.HexChecksumAddressStruct,H.HexStruct=ot.HexStruct,H.JsonRpcErrorStruct=Ze.JsonRpcErrorStruct,H.JsonRpcFailureStruct=Ze.JsonRpcFailureStruct,H.JsonRpcIdStruct=Ze.JsonRpcIdStruct,H.JsonRpcNotificationStruct=Ze.JsonRpcNotificationStruct,H.JsonRpcParamsStruct=Ze.JsonRpcParamsStruct,H.JsonRpcRequestStruct=Ze.JsonRpcRequestStruct,H.JsonRpcResponseStruct=Ze.JsonRpcResponseStruct,H.JsonRpcSuccessStruct=Ze.JsonRpcSuccessStruct,H.JsonRpcVersionStruct=Ze.JsonRpcVersionStruct,H.JsonSize=_r.JsonSize,H.JsonStruct=Ze.JsonStruct,H.KnownCaipNamespace=Pt.KnownCaipNamespace,H.PendingJsonRpcResponseStruct=Ze.PendingJsonRpcResponseStruct,H.StrictHexStruct=ot.StrictHexStruct,H.UnsafeJsonStruct=Ze.UnsafeJsonStruct,H.VersionRangeStruct=kr.VersionRangeStruct,H.VersionStruct=kr.VersionStruct,H.add0x=ot.add0x,H.assert=uo.assert,H.assertExhaustive=uo.assertExhaustive,H.assertIsBytes=ot.assertIsBytes,H.assertIsHexString=ot.assertIsHexString,H.assertIsJsonRpcError=Ze.assertIsJsonRpcError,H.assertIsJsonRpcFailure=Ze.assertIsJsonRpcFailure,H.assertIsJsonRpcNotification=Ze.assertIsJsonRpcNotification,H.assertIsJsonRpcRequest=Ze.assertIsJsonRpcRequest,H.assertIsJsonRpcResponse=Ze.assertIsJsonRpcResponse,H.assertIsJsonRpcSuccess=Ze.assertIsJsonRpcSuccess,H.assertIsPendingJsonRpcResponse=Ze.assertIsPendingJsonRpcResponse,H.assertIsSemVerRange=kr.assertIsSemVerRange,H.assertIsSemVerVersion=kr.assertIsSemVerVersion,H.assertIsStrictHexString=ot.assertIsStrictHexString,H.assertStruct=uo.assertStruct,H.base64=q1.base64,H.base64ToBytes=ot.base64ToBytes,H.bigIntToBytes=ot.bigIntToBytes,H.bigIntToHex=co.bigIntToHex,H.bytesToBase64=ot.bytesToBase64,H.bytesToBigInt=ot.bytesToBigInt,H.bytesToHex=ot.bytesToHex,H.bytesToNumber=ot.bytesToNumber,H.bytesToSignedBigInt=ot.bytesToSignedBigInt,H.bytesToString=ot.bytesToString,H.calculateNumberSize=_r.calculateNumberSize,H.calculateStringSize=_r.calculateStringSize,H.concatBytes=ot.concatBytes,H.createBigInt=fo.createBigInt,H.createBytes=fo.createBytes,H.createDataView=ot.createDataView,H.createDeferredPromise=D1.createDeferredPromise,H.createHex=fo.createHex,H.createModuleLogger=Fu.createModuleLogger,H.createNumber=fo.createNumber,H.createProjectLogger=Fu.createProjectLogger,H.exactOptional=Ze.exactOptional,H.getChecksumAddress=ot.getChecksumAddress,H.getErrorMessage=li.getErrorMessage,H.getJsonRpcIdValidator=Ze.getJsonRpcIdValidator,H.getJsonSize=Ze.getJsonSize,H.getKnownPropertyNames=_r.getKnownPropertyNames,H.getSafeJson=Ze.getSafeJson,H.gtRange=kr.gtRange,H.gtVersion=kr.gtVersion,H.hasProperty=_r.hasProperty,H.hexToBigInt=co.hexToBigInt,H.hexToBytes=ot.hexToBytes,H.hexToNumber=co.hexToNumber,H.inMilliseconds=Ns.inMilliseconds,H.isASCII=_r.isASCII,H.isBytes=ot.isBytes,H.isCaipAccountAddress=Pt.isCaipAccountAddress,H.isCaipAccountId=Pt.isCaipAccountId,H.isCaipChainId=Pt.isCaipChainId,H.isCaipNamespace=Pt.isCaipNamespace,H.isCaipReference=Pt.isCaipReference,H.isErrorWithCode=li.isErrorWithCode,H.isErrorWithMessage=li.isErrorWithMessage,H.isErrorWithStack=li.isErrorWithStack,H.isHexString=ot.isHexString,H.isJsonRpcError=Ze.isJsonRpcError,H.isJsonRpcFailure=Ze.isJsonRpcFailure,H.isJsonRpcNotification=Ze.isJsonRpcNotification,H.isJsonRpcRequest=Ze.isJsonRpcRequest,H.isJsonRpcResponse=Ze.isJsonRpcResponse,H.isJsonRpcSuccess=Ze.isJsonRpcSuccess,H.isNonEmptyArray=_r.isNonEmptyArray,H.isNullOrUndefined=_r.isNullOrUndefined,H.isObject=_r.isObject,H.isPendingJsonRpcResponse=Ze.isPendingJsonRpcResponse,H.isPlainObject=_r.isPlainObject,H.isStrictHexString=ot.isStrictHexString,H.isValidChecksumAddress=ot.isValidChecksumAddress,H.isValidHexAddress=ot.isValidHexAddress,H.isValidJson=Ze.isValidJson,H.isValidSemVerRange=kr.isValidSemVerRange,H.isValidSemVerVersion=kr.isValidSemVerVersion,H.jsonrpc2=Ze.jsonrpc2,H.numberToBytes=ot.numberToBytes,H.numberToHex=co.numberToHex,H.object=Ze.object,H.parseCaipAccountId=Pt.parseCaipAccountId,H.parseCaipChainId=Pt.parseCaipChainId,H.remove0x=ot.remove0x,H.satisfiesVersionRange=kr.satisfiesVersionRange,H.signedBigIntToBytes=ot.signedBigIntToBytes,H.stringToBytes=ot.stringToBytes,H.timeSince=Ns.timeSince,H.toCaipChainId=Pt.toCaipChainId,H.valueToBytes=ot.valueToBytes,H.wrapError=li.wrapError,Object.defineProperty(Dt,"__esModule",{value:!0}),Dt.normalize=Dt.recoverPublicKey=Dt.concatSig=Dt.legacyToBuffer=Dt.isNullish=Dt.padWithZeroes=void 0;const Ur=xi,Rn=H;function js(e,t){if(e!==""&&!/^[a-f0-9]+$/iu.test(e))throw new Error(`Expected an unprefixed hex string. Received: ${e}`);if(t<0)throw new Error(`Expected a non-negative integer target length. Received: ${t}`);return String.prototype.padStart.call(e,t,"0")}Dt.padWithZeroes=js;function Vu(e){return e==null}Dt.isNullish=Vu;function z1(e){return typeof e=="string"&&!(0,Ur.isHexString)(e)?Buffer.from(e):(0,Ur.toBuffer)(e)}Dt.legacyToBuffer=z1;function G1(e,t,r){const n=(0,Ur.fromSigned)(t),i=(0,Ur.fromSigned)(r),o=(0,Ur.bufferToInt)(e),c=js((0,Ur.toUnsigned)(n).toString("hex"),64),a=js((0,Ur.toUnsigned)(i).toString("hex"),64),l=(0,Rn.remove0x)((0,Rn.numberToHex)(o));return(0,Rn.add0x)(c.concat(a,l))}Dt.concatSig=G1;function W1(e,t){const r=(0,Ur.fromRpcSig)(t);return(0,Ur.ecrecover)(e,r.v,r.r,r.s)}Dt.recoverPublicKey=W1;function K1(e){if(!Vu(e)){if(typeof e=="number"){if(e<0)return"0x";const t=(0,Rn.numberToBytes)(e);e=(0,Rn.bytesToHex)(t)}if(typeof e!="string"){let t="eth-sig-util.normalize() requires hex string or integer input.";throw t+=` received ${typeof e}: ${e}`,new Error(t)}return(0,Rn.add0x)(e.toLowerCase())}}Dt.normalize=K1,Object.defineProperty(Fr,"__esModule",{value:!0}),Fr.extractPublicKey=Fr.recoverPersonalSignature=Fr.personalSign=void 0;const Cn=xi,$r=Dt;function J1({privateKey:e,data:t}){if((0,$r.isNullish)(t))throw new Error("Missing data parameter");if((0,$r.isNullish)(e))throw new Error("Missing privateKey parameter");const r=(0,$r.legacyToBuffer)(t),n=(0,Cn.hashPersonalMessage)(r),i=(0,Cn.ecsign)(n,e);return(0,$r.concatSig)((0,Cn.toBuffer)(i.v),i.r,i.s)}Fr.personalSign=J1;function X1({data:e,signature:t}){if((0,$r.isNullish)(e))throw new Error("Missing data parameter");if((0,$r.isNullish)(t))throw new Error("Missing signature parameter");const r=qu(e,t),n=(0,Cn.publicToAddress)(r);return(0,Cn.bufferToHex)(n)}Fr.recoverPersonalSignature=X1;function Y1({data:e,signature:t}){if((0,$r.isNullish)(e))throw new Error("Missing data parameter");if((0,$r.isNullish)(t))throw new Error("Missing signature parameter");return`0x${qu(e,t).toString("hex")}`}Fr.extractPublicKey=Y1;function qu(e,t){const r=(0,Cn.hashPersonalMessage)((0,$r.legacyToBuffer)(e));return(0,$r.recoverPublicKey)(r,t)}var zu={},Gu={},Wu={},Br={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ParserError=e.getErrorStack=e.getErrorMessage=void 0;const t=H,r=o=>typeof o=="string"?o:o instanceof Error||(0,t.isObject)(o)&&(0,t.hasProperty)(o,"message")&&typeof o.message=="string"?o.message:"Unknown error.";e.getErrorMessage=r;const n=o=>{if(o instanceof Error)return o.stack};e.getErrorStack=n;class i extends Error{constructor(c,a){super(c),this.name="ParserError";const l=(0,e.getErrorStack)(a);l&&(this.stack=l)}}e.ParserError=i})(Br);var ks={},lo={};Object.defineProperty(lo,"__esModule",{value:!0}),lo.iterate=void 0;const Ku=H,Z1=function*(e,t=32){for(let r=0;r<e.length;r+=t){const n=o=>{(0,Ku.assert)(o>=0,"Cannot skip a negative number of bytes."),(0,Ku.assert)(o%t===0,"Length must be a multiple of the size."),r+=o},i=e.subarray(r);yield{skip:n,value:i}}return{skip:()=>{},value:new Uint8Array}};lo.iterate=Z1;var Us={},Ju={},Xr={},Yr={};Object.defineProperty(Yr,"__esModule",{value:!0}),Yr.padEnd=Yr.padStart=Yr.set=void 0;const Hs=H,Xu=32,Q1=(e,t,r)=>(0,Hs.concatBytes)([e.subarray(0,r),t,e.subarray(r+t.length)]);Yr.set=Q1;const eb=(e,t=Xu)=>{const r=new Uint8Array(Math.max(t-e.length,0)).fill(0);return(0,Hs.concatBytes)([r,e])};Yr.padStart=eb;const tb=(e,t=Xu)=>{const r=new Uint8Array(Math.max(t-e.length,0)).fill(0);return(0,Hs.concatBytes)([e,r])};Yr.padEnd=tb,function(e){var t=nt&&nt.__createBinding||(Object.create?function(n,i,o,c){c===void 0&&(c=o);var a=Object.getOwnPropertyDescriptor(i,o);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(n,c,a)}:function(n,i,o,c){c===void 0&&(c=o),n[c]=i[o]}),r=nt&&nt.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&t(i,n,o)};Object.defineProperty(e,"__esModule",{value:!0}),r(Yr,e)}(Xr),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.address=e.getAddress=void 0;const t=H,r=Br,n=Xr,i=o=>{const c=(0,t.createBytes)(o);return(0,t.assert)(c.length<=20,new r.ParserError(`Invalid address value. Expected address to be 20 bytes long, but received ${c.length} bytes.`)),(0,n.padStart)(c,20)};e.getAddress=i,e.address={isDynamic:!1,isType:o=>o==="address",getByteLength(){return 32},encode({buffer:o,value:c,packed:a}){const l=(0,e.getAddress)(c);if(a)return(0,t.concatBytes)([o,l]);const p=(0,n.padStart)(l);return(0,t.concatBytes)([o,p])},decode({value:o}){return(0,t.add0x)((0,t.bytesToHex)(o.slice(12,32)))}}}(Ju);var Ms={},ho={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.fixedBytes=e.getByteLength=void 0;const t=H,r=Br,n=Xr,i=/^bytes([0-9]{1,2})$/u,o=c=>{const a=c.match(i)?.[1];(0,t.assert)(a,`Invalid byte length. Expected a number between 1 and 32, but received "${c}".`);const l=Number(a);return(0,t.assert)(l>0&&l<=32,new r.ParserError(`Invalid byte length. Expected a number between 1 and 32, but received "${c}".`)),l};e.getByteLength=o,e.fixedBytes={isDynamic:!1,isType(c){return i.test(c)},getByteLength(){return 32},encode({type:c,buffer:a,value:l,packed:p}){const m=(0,e.getByteLength)(c),v=(0,t.createBytes)(l);return(0,t.assert)(v.length<=m,new r.ParserError(`Expected a value of length ${m}, but received a value of length ${v.length}.`)),p?(0,t.concatBytes)([a,(0,n.padEnd)(v,m)]):(0,t.concatBytes)([a,(0,n.padEnd)(v)])},decode({type:c,value:a}){const l=(0,e.getByteLength)(c);return a.slice(0,l)}}})(ho);var Fs={},Yu;function Zu(){return Yu||(Yu=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.tuple=e.getTupleElements=void 0;const t=H,r=Br,n=Ks(),i=/^\((.+)\)$/u,o=a=>i.test(a),c=a=>{(0,t.assert)(a.startsWith("(")&&a.endsWith(")"),new r.ParserError(`Invalid tuple type. Expected tuple type, but received "${a}".`));const l=[];let p="",m=0;for(let v=1;v<a.length-1;v++){const T=a[v];T===","&&m===0?(l.push(p.trim()),p=""):(p+=T,T==="("?m+=1:T===")"&&(m-=1))}return p.trim()&&l.push(p.trim()),l};e.getTupleElements=c,e.tuple={isDynamic(a){return(0,e.getTupleElements)(a).some(p=>{const m=(0,n.getParser)(p);return(0,n.isDynamicParser)(m,p)})},isType(a){return o(a)},getByteLength(a){return(0,n.isDynamicParser)(this,a)?32:(0,e.getTupleElements)(a).reduce((p,m)=>p+(0,n.getParser)(m).getByteLength(m),0)},encode({type:a,buffer:l,value:p,packed:m,tight:v}){const T=(0,e.getTupleElements)(a);return(0,n.pack)({types:T,values:p,byteArray:l,packed:m,tight:v})},decode({type:a,value:l,skip:p}){const m=(0,e.getTupleElements)(a),v=this.getByteLength(a)-32;return p(v),(0,n.unpack)(m,l)}}}(Fs)),Fs}var Qu;function rb(){return Qu||(Qu=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.array=e.getTupleType=e.getArrayType=e.isArrayType=void 0;const t=H,r=Br,n=Ks(),i=Xr,o=ho,c=Zu(),a=/^(?<type>.*)\[(?<length>\d*?)\]$/u,l=v=>a.test(v);e.isArrayType=l;const p=v=>{const T=v.match(a);return(0,t.assert)(T?.groups?.type,new r.ParserError(`Invalid array type. Expected an array type, but received "${v}".`)),[T.groups.type,T.groups.length?parseInt(T.groups.length,10):void 0]};e.getArrayType=p;const m=(v,T)=>`(${new Array(T).fill(v).join(",")})`;e.getTupleType=m,e.array={isDynamic(v){const[T,A]=(0,e.getArrayType)(v);return A===void 0||(0,n.isDynamicParser)((0,n.getParser)(T),T)},isType(v){return(0,e.isArrayType)(v)},getByteLength(v){(0,t.assert)((0,e.isArrayType)(v),new r.ParserError(`Expected an array type, but received "${v}".`));const[T,A]=(0,e.getArrayType)(v);return!(0,n.isDynamicParser)(this,v)&&A!==void 0?c.tuple.getByteLength((0,e.getTupleType)(T,A)):32},encode({type:v,buffer:T,value:A,packed:D,tight:Q}){const[oe,he]=(0,e.getArrayType)(v);if((0,t.assert)(!D||!(0,e.isArrayType)(oe),new r.ParserError("Cannot pack nested arrays.")),D&&(0,n.isDynamicParser)((0,n.getParser)(oe),oe))return(0,n.pack)({types:new Array(A.length).fill(oe),values:A,byteArray:T,packed:D,arrayPacked:!0,tight:Q});if(he)return(0,t.assert)(he===A.length,new r.ParserError(`Array length does not match type length. Expected a length of ${he}, but received ${A.length}.`)),c.tuple.encode({type:(0,e.getTupleType)(oe,he),buffer:T,value:A,packed:o.fixedBytes.isType(oe)&&Q,tight:Q});if(D)return(0,n.pack)({types:new Array(A.length).fill(oe),values:A,byteArray:T,packed:o.fixedBytes.isType(oe)&&Q,arrayPacked:!0,tight:Q});const P=(0,i.padStart)((0,t.numberToBytes)(A.length));return(0,n.pack)({types:new Array(A.length).fill(oe),values:A,byteArray:(0,t.concatBytes)([T,P]),packed:D,tight:Q})},decode({type:v,value:T,...A}){const[D,Q]=(0,e.getArrayType)(v);if(Q){const he=c.tuple.decode({type:(0,e.getTupleType)(D,Q),value:T,...A});return(0,t.assert)(he.length===Q,new r.ParserError(`Array length does not match type length. Expected a length of ${Q}, but received ${he.length}.`)),he}const oe=(0,t.bytesToNumber)(T.subarray(0,32));return(0,n.unpack)(new Array(oe).fill(D),T.subarray(32))}}}(Ms)),Ms}var el={};class tl extends TypeError{constructor(t,r){let n;const{message:i,explanation:o,...c}=t,{path:a}=t,l=a.length===0?i:`At path: ${a.join(".")} -- ${i}`;super(o??l),o!=null&&(this.cause=l),Object.assign(this,c),this.name=this.constructor.name,this.failures=()=>n??(n=[t,...r()])}}function nb(e){return pr(e)&&typeof e[Symbol.iterator]=="function"}function pr(e){return typeof e=="object"&&e!=null}function rl(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;const t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function Nt(e){return typeof e=="symbol"?e.toString():typeof e=="string"?JSON.stringify(e):`${e}`}function ib(e){const{done:t,value:r}=e.next();return t?void 0:r}function ob(e,t,r,n){if(e===!0)return;e===!1?e={}:typeof e=="string"&&(e={message:e});const{path:i,branch:o}=t,{type:c}=r,{refinement:a,message:l=`Expected a value of type \`${c}\`${a?` with refinement \`${a}\``:""}, but received: \`${Nt(n)}\``}=e;return{value:n,type:c,refinement:a,key:i[i.length-1],path:i,branch:o,...e,message:l}}function*Ds(e,t,r,n){nb(e)||(e=[e]);for(const i of e){const o=ob(i,t,r,n);o&&(yield o)}}function*Vs(e,t,r={}){const{path:n=[],branch:i=[e],coerce:o=!1,mask:c=!1}=r,a={path:n,branch:i};if(o&&(e=t.coercer(e,a),c&&t.type!=="type"&&pr(t.schema)&&pr(e)&&!Array.isArray(e)))for(const p in e)t.schema[p]===void 0&&delete e[p];let l="valid";for(const p of t.validator(e,a))p.explanation=r.message,l="not_valid",yield[p,void 0];for(let[p,m,v]of t.entries(e,a)){const T=Vs(m,v,{path:p===void 0?n:[...n,p],branch:p===void 0?i:[...i,m],coerce:o,mask:c,message:r.message});for(const A of T)A[0]?(l=A[0].refinement!=null?"not_refined":"not_valid",yield[A[0],void 0]):o&&(m=A[1],p===void 0?e=m:e instanceof Map?e.set(p,m):e instanceof Set?e.add(m):pr(e)&&(m!==void 0||p in e)&&(e[p]=m))}if(l!=="not_valid")for(const p of t.refiner(e,a))p.explanation=r.message,l="not_refined",yield[p,void 0];l==="valid"&&(yield[void 0,e])}class Tt{constructor(t){const{type:r,schema:n,validator:i,refiner:o,coercer:c=l=>l,entries:a=function*(){}}=t;this.type=r,this.schema=n,this.entries=a,this.coercer=c,i?this.validator=(l,p)=>{const m=i(l,p);return Ds(m,p,this,l)}:this.validator=()=>[],o?this.refiner=(l,p)=>{const m=o(l,p);return Ds(m,p,this,l)}:this.refiner=()=>[]}assert(t,r){return nl(t,this,r)}create(t,r){return il(t,this,r)}is(t){return qs(t,this)}mask(t,r){return ol(t,this,r)}validate(t,r={}){return Ln(t,this,r)}}function nl(e,t,r){const n=Ln(e,t,{message:r});if(n[0])throw n[0]}function il(e,t,r){const n=Ln(e,t,{coerce:!0,message:r});if(n[0])throw n[0];return n[1]}function ol(e,t,r){const n=Ln(e,t,{coerce:!0,mask:!0,message:r});if(n[0])throw n[0];return n[1]}function qs(e,t){return!Ln(e,t)[0]}function Ln(e,t,r={}){const n=Vs(e,t,r),i=ib(n);return i[0]?[new tl(i[0],function*(){for(const c of n)c[0]&&(yield c[0])}),void 0]:[void 0,i[1]]}function sb(...e){const t=e[0].type==="type",r=e.map(i=>i.schema),n=Object.assign({},...r);return t?hi(n):di(n)}function Qt(e,t){return new Tt({type:e,schema:null,validator:t})}function ab(e,t){return new Tt({...e,refiner:(r,n)=>r===void 0||e.refiner(r,n),validator(r,n){return r===void 0?!0:(t(r,n),e.validator(r,n))}})}function cb(e){return new Tt({type:"dynamic",schema:null,*entries(t,r){yield*e(t,r).entries(t,r)},validator(t,r){return e(t,r).validator(t,r)},coercer(t,r){return e(t,r).coercer(t,r)},refiner(t,r){return e(t,r).refiner(t,r)}})}function fb(e){let t;return new Tt({type:"lazy",schema:null,*entries(r,n){t??(t=e()),yield*t.entries(r,n)},validator(r,n){return t??(t=e()),t.validator(r,n)},coercer(r,n){return t??(t=e()),t.coercer(r,n)},refiner(r,n){return t??(t=e()),t.refiner(r,n)}})}function ub(e,t){const{schema:r}=e,n={...r};for(const i of t)delete n[i];switch(e.type){case"type":return hi(n);default:return di(n)}}function lb(e){const t=e instanceof Tt,r=t?{...e.schema}:{...e};for(const n in r)r[n]=sl(r[n]);return t&&e.type==="type"?hi(r):di(r)}function db(e,t){const{schema:r}=e,n={};for(const i of t)n[i]=r[i];switch(e.type){case"type":return hi(n);default:return di(n)}}function hb(e,t){return console.warn("superstruct@0.11 - The `struct` helper has been renamed to `define`."),Qt(e,t)}function pb(){return Qt("any",()=>!0)}function yb(e){return new Tt({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(const[r,n]of t.entries())yield[r,n,e]},coercer(t){return Array.isArray(t)?t.slice():t},validator(t){return Array.isArray(t)||`Expected an array value, but received: ${Nt(t)}`}})}function gb(){return Qt("bigint",e=>typeof e=="bigint")}function bb(){return Qt("boolean",e=>typeof e=="boolean")}function wb(){return Qt("date",e=>e instanceof Date&&!isNaN(e.getTime())||`Expected a valid \`Date\` object, but received: ${Nt(e)}`)}function mb(e){const t={},r=e.map(n=>Nt(n)).join();for(const n of e)t[n]=n;return new Tt({type:"enums",schema:t,validator(n){return e.includes(n)||`Expected one of \`${r}\`, but received: ${Nt(n)}`}})}function Eb(){return Qt("func",e=>typeof e=="function"||`Expected a function, but received: ${Nt(e)}`)}function xb(e){return Qt("instance",t=>t instanceof e||`Expected a \`${e.name}\` instance, but received: ${Nt(t)}`)}function vb(){return Qt("integer",e=>typeof e=="number"&&!isNaN(e)&&Number.isInteger(e)||`Expected an integer, but received: ${Nt(e)}`)}function _b(e){return new Tt({type:"intersection",schema:null,*entries(t,r){for(const n of e)yield*n.entries(t,r)},*validator(t,r){for(const n of e)yield*n.validator(t,r)},*refiner(t,r){for(const n of e)yield*n.refiner(t,r)}})}function Bb(e){const t=Nt(e),r=typeof e;return new Tt({type:"literal",schema:r==="string"||r==="number"||r==="boolean"?e:null,validator(n){return n===e||`Expected the literal \`${t}\`, but received: ${Nt(n)}`}})}function Sb(e,t){return new Tt({type:"map",schema:null,*entries(r){if(e&&t&&r instanceof Map)for(const[n,i]of r.entries())yield[n,n,e],yield[n,i,t]},coercer(r){return r instanceof Map?new Map(r):r},validator(r){return r instanceof Map||`Expected a \`Map\` object, but received: ${Nt(r)}`}})}function zs(){return Qt("never",()=>!1)}function Ab(e){return new Tt({...e,validator:(t,r)=>t===null||e.validator(t,r),refiner:(t,r)=>t===null||e.refiner(t,r)})}function Ib(){return Qt("number",e=>typeof e=="number"&&!isNaN(e)||`Expected a number, but received: ${Nt(e)}`)}function di(e){const t=e?Object.keys(e):[],r=zs();return new Tt({type:"object",schema:e||null,*entries(n){if(e&&pr(n)){const i=new Set(Object.keys(n));for(const o of t)i.delete(o),yield[o,n[o],e[o]];for(const o of i)yield[o,n[o],r]}},validator(n){return pr(n)||`Expected an object, but received: ${Nt(n)}`},coercer(n){return pr(n)?{...n}:n}})}function sl(e){return new Tt({...e,validator:(t,r)=>t===void 0||e.validator(t,r),refiner:(t,r)=>t===void 0||e.refiner(t,r)})}function $b(e,t){return new Tt({type:"record",schema:null,*entries(r){if(pr(r))for(const n in r){const i=r[n];yield[n,n,e],yield[n,i,t]}},validator(r){return pr(r)||`Expected an object, but received: ${Nt(r)}`}})}function Tb(){return Qt("regexp",e=>e instanceof RegExp)}function Rb(e){return new Tt({type:"set",schema:null,*entries(t){if(e&&t instanceof Set)for(const r of t)yield[r,r,e]},coercer(t){return t instanceof Set?new Set(t):t},validator(t){return t instanceof Set||`Expected a \`Set\` object, but received: ${Nt(t)}`}})}function al(){return Qt("string",e=>typeof e=="string"||`Expected a string, but received: ${Nt(e)}`)}function Cb(e){const t=zs();return new Tt({type:"tuple",schema:null,*entries(r){if(Array.isArray(r)){const n=Math.max(e.length,r.length);for(let i=0;i<n;i++)yield[i,r[i],e[i]||t]}},validator(r){return Array.isArray(r)||`Expected an array, but received: ${Nt(r)}`}})}function hi(e){const t=Object.keys(e);return new Tt({type:"type",schema:e,*entries(r){if(pr(r))for(const n of t)yield[n,r[n],e[n]]},validator(r){return pr(r)||`Expected an object, but received: ${Nt(r)}`},coercer(r){return pr(r)?{...r}:r}})}function Lb(e){const t=e.map(r=>r.type).join(" | ");return new Tt({type:"union",schema:null,coercer(r){for(const n of e){const[i,o]=n.validate(r,{coerce:!0});if(!i)return o}return r},validator(r,n){const i=[];for(const o of e){const[...c]=Vs(r,o,n),[a]=c;if(a[0])for(const[l]of c)l&&i.push(l);else return[]}return[`Expected the value to satisfy a union of \`${t}\`, but received: ${Nt(r)}`,...i]}})}function cl(){return Qt("unknown",()=>!0)}function Gs(e,t,r){return new Tt({...e,coercer:(n,i)=>qs(n,t)?e.coercer(r(n,i),i):e.coercer(n,i)})}function Ob(e,t,r={}){return Gs(e,cl(),n=>{const i=typeof t=="function"?t():t;if(n===void 0)return i;if(!r.strict&&rl(n)&&rl(i)){const o={...n};let c=!1;for(const a in i)o[a]===void 0&&(o[a]=i[a],c=!0);if(c)return o}return n})}function Pb(e){return Gs(e,al(),t=>t.trim())}function Nb(e){return sn(e,"empty",t=>{const r=fl(t);return r===0||`Expected an empty ${e.type} but received one with a size of \`${r}\``})}function fl(e){return e instanceof Map||e instanceof Set?e.size:e.length}function jb(e,t,r={}){const{exclusive:n}=r;return sn(e,"max",i=>n?i<t:i<=t||`Expected a ${e.type} less than ${n?"":"or equal to "}${t} but received \`${i}\``)}function kb(e,t,r={}){const{exclusive:n}=r;return sn(e,"min",i=>n?i>t:i>=t||`Expected a ${e.type} greater than ${n?"":"or equal to "}${t} but received \`${i}\``)}function Ub(e){return sn(e,"nonempty",t=>fl(t)>0||`Expected a nonempty ${e.type} but received an empty one`)}function Hb(e,t){return sn(e,"pattern",r=>t.test(r)||`Expected a ${e.type} matching \`/${t.source}/\` but received "${r}"`)}function Mb(e,t,r=t){const n=`Expected a ${e.type}`,i=t===r?`of \`${t}\``:`between \`${t}\` and \`${r}\``;return sn(e,"size",o=>{if(typeof o=="number"||o instanceof Date)return t<=o&&o<=r||`${n} ${i} but received \`${o}\``;if(o instanceof Map||o instanceof Set){const{size:c}=o;return t<=c&&c<=r||`${n} with a size ${i} but received one with a size of \`${c}\``}else{const{length:c}=o;return t<=c&&c<=r||`${n} with a length ${i} but received one with a length of \`${c}\``}})}function sn(e,t,r){return new Tt({...e,*refiner(n,i){yield*e.refiner(n,i);const o=r(n,i),c=Ds(o,i,e,n);for(const a of c)yield{...a,refinement:t}}})}var Fb=Object.freeze({__proto__:null,Struct:Tt,StructError:tl,any:pb,array:yb,assert:nl,assign:sb,bigint:gb,boolean:bb,coerce:Gs,create:il,date:wb,defaulted:Ob,define:Qt,deprecated:ab,dynamic:cb,empty:Nb,enums:mb,func:Eb,instance:xb,integer:vb,intersection:_b,is:qs,lazy:fb,literal:Bb,map:Sb,mask:ol,max:jb,min:kb,never:zs,nonempty:Ub,nullable:Ab,number:Ib,object:di,omit:ub,optional:sl,partial:lb,pattern:Hb,pick:db,record:$b,refine:sn,regexp:Tb,set:Rb,size:Mb,string:al,struct:hb,trimmed:Pb,tuple:Cb,type:hi,union:Lb,unknown:cl,validate:Ln}),ul=Mn(Fb),Ws={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.number=e.getBigInt=e.assertNumberLength=e.getLength=e.isSigned=void 0;const t=H,r=Br,n=Xr,i=/^u?int(?<length>[0-9]*)?$/u,o=p=>!p.startsWith("u");e.isSigned=o;const c=p=>{if(p==="int"||p==="uint")return 256;const m=p.match(i);(0,t.assert)(m?.groups?.length,new r.ParserError(`Invalid number type. Expected a number type, but received "${p}".`));const v=parseInt(m.groups.length,10);return(0,t.assert)(v>=8&&v<=256,new r.ParserError(`Invalid number length. Expected a number between 8 and 256, but received "${p}".`)),(0,t.assert)(v%8===0,new r.ParserError(`Invalid number length. Expected a multiple of 8, but received "${p}".`)),v};e.getLength=c;const a=(p,m)=>{const v=(0,e.getLength)(m),T=BigInt(2)**BigInt(v-((0,e.isSigned)(m)?1:0))-BigInt(1);if((0,e.isSigned)(m)){(0,t.assert)(p>=-(T+BigInt(1))&&p<=T,new r.ParserError(`Number "${p}" is out of range for type "${m}".`));return}(0,t.assert)(p<=T,new r.ParserError(`Number "${p}" is out of range for type "${m}".`))};e.assertNumberLength=a;const l=p=>{try{return(0,t.createBigInt)(p)}catch{throw new r.ParserError(`Invalid number. Expected a valid number value, but received "${p}".`)}};e.getBigInt=l,e.number={isDynamic:!1,isType(p){return i.test(p)},getByteLength(){return 32},encode({type:p,buffer:m,value:v,packed:T}){const A=(0,e.getBigInt)(v);if((0,e.assertNumberLength)(A,p),(0,e.isSigned)(p)){if(T){const D=(0,e.getLength)(p)/8;return(0,t.concatBytes)([m,(0,t.signedBigIntToBytes)(A,D)])}return(0,t.concatBytes)([m,(0,n.padStart)((0,t.signedBigIntToBytes)(A,32))])}if(T){const D=(0,e.getLength)(p)/8;return(0,t.concatBytes)([m,(0,n.padStart)((0,t.bigIntToBytes)(A),D)])}return(0,t.concatBytes)([m,(0,n.padStart)((0,t.bigIntToBytes)(A))])},decode({type:p,value:m}){const v=m.subarray(0,32);if((0,e.isSigned)(p)){const A=(0,t.bytesToSignedBigInt)(v);return(0,e.assertNumberLength)(A,p),A}const T=(0,t.bytesToBigInt)(v);return(0,e.assertNumberLength)(T,p),T}}})(Ws),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.bool=e.getBooleanValue=void 0;const t=H,r=ul,n=Br,i=Ws,o=(0,r.coerce)((0,r.boolean)(),(0,r.union)([(0,r.literal)("true"),(0,r.literal)("false")]),a=>a==="true"),c=a=>{try{return(0,r.create)(a,o)?BigInt(1):BigInt(0)}catch{throw new n.ParserError(`Invalid boolean value. Expected a boolean literal, or the string "true" or "false", but received "${a}".`)}};e.getBooleanValue=c,e.bool={isDynamic:!1,isType:a=>a==="bool",getByteLength(){return 32},encode({buffer:a,value:l,packed:p,tight:m}){const v=(0,e.getBooleanValue)(l);return p?(0,t.concatBytes)([a,(0,t.bigIntToBytes)(v)]):i.number.encode({type:"uint256",buffer:a,value:v,packed:p,tight:m})},decode(a){return i.number.decode({...a,type:"uint256"})===BigInt(1)}}}(el);var pi={};Object.defineProperty(pi,"__esModule",{value:!0}),pi.bytes=void 0;const yi=H,ll=Xr;pi.bytes={isDynamic:!0,isType:e=>e==="bytes",getByteLength(){return 32},encode({buffer:e,value:t,packed:r}){const n=(0,yi.createBytes)(t);if(r)return(0,yi.concatBytes)([e,n]);const i=Math.ceil(n.byteLength/32)*32;return(0,yi.concatBytes)([e,(0,ll.padStart)((0,yi.numberToBytes)(n.byteLength)),(0,ll.padEnd)(n,i)])},decode({value:e}){const t=e.subarray(0,32),r=(0,yi.bytesToNumber)(t);return e.slice(32,32+r)}};var dl={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.fn=e.getFunction=void 0;const t=H,r=ul,n=Br,i=ho,o=(0,r.coerce)((0,r.object)({address:t.StrictHexStruct,selector:t.StrictHexStruct}),(0,r.union)([t.StrictHexStruct,(0,r.instance)(Uint8Array)]),a=>{const l=(0,t.createBytes)(a);return(0,t.assert)(l.length===24,new n.ParserError(`Invalid Solidity function. Expected function to be 24 bytes long, but received ${l.length} bytes.`)),{address:(0,t.bytesToHex)(l.subarray(0,20)),selector:(0,t.bytesToHex)(l.subarray(20,24))}}),c=a=>{const l=(0,r.create)(a,o);return(0,t.concatBytes)([(0,t.hexToBytes)(l.address),(0,t.hexToBytes)(l.selector)])};e.getFunction=c,e.fn={isDynamic:!1,isType:a=>a==="function",getByteLength(){return 32},encode({buffer:a,value:l,packed:p,tight:m}){const v=(0,e.getFunction)(l);return i.fixedBytes.encode({type:"bytes24",buffer:a,value:v,packed:p,tight:m})},decode({value:a}){return{address:(0,t.bytesToHex)(a.slice(0,20)),selector:(0,t.bytesToHex)(a.slice(20,24))}}}})(dl);var hl={};Object.defineProperty(hl,"__esModule",{value:!0});var po={};Object.defineProperty(po,"__esModule",{value:!0}),po.string=void 0;const pl=H,yl=pi;po.string={isDynamic:!0,isType:e=>e==="string",getByteLength(){return 32},encode({buffer:e,value:t,packed:r,tight:n}){return yl.bytes.encode({type:"bytes",buffer:e,value:(0,pl.stringToBytes)(t),packed:r,tight:n})},decode(e){return(0,pl.bytesToString)(yl.bytes.decode(e))}};var gl;function bl(){return gl||(gl=1,function(e){var t=nt&&nt.__createBinding||(Object.create?function(n,i,o,c){c===void 0&&(c=o);var a=Object.getOwnPropertyDescriptor(i,o);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(n,c,a)}:function(n,i,o,c){c===void 0&&(c=o),n[c]=i[o]}),r=nt&&nt.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&t(i,n,o)};Object.defineProperty(e,"__esModule",{value:!0}),r(Ju,e),r(rb(),e),r(el,e),r(pi,e),r(ho,e),r(dl,e),r(Ws,e),r(hl,e),r(po,e),r(Zu(),e)}(Us)),Us}var wl;function Ks(){return wl||(wl=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.unpack=e.pack=e.isDynamicParser=e.getParser=void 0;const t=H,r=Br,n=lo,i=bl(),o=Xr,c=m=>{const v={address:i.address,array:i.array,bool:i.bool,bytes:i.bytes,fixedBytes:i.fixedBytes,function:i.fn,number:i.number,string:i.string,tuple:i.tuple},T=v[m];if(T)return T;const A=Object.values(v).find(D=>D.isType(m));if(A)return A;throw new r.ParserError(`The type "${m}" is not supported.`)};e.getParser=c;const a=(m,v)=>{const{isDynamic:T}=m;return typeof T=="function"?T(v):T};e.isDynamicParser=a;const l=({types:m,values:v,packed:T=!1,tight:A=!1,arrayPacked:D=!1,byteArray:Q=new Uint8Array})=>{(0,t.assert)(m.length===v.length,new r.ParserError(`The number of types (${m.length}) does not match the number of values (${v.length}).`));const{staticBuffer:oe,dynamicBuffer:he,pointers:P}=m.reduce(({staticBuffer:pe,dynamicBuffer:ge,pointers:be},G,ne)=>{const me=(0,e.getParser)(G),ae=v[ne];if(T||D||!(0,e.isDynamicParser)(me,G))return{staticBuffer:me.encode({buffer:pe,value:ae,type:G,packed:T,tight:A}),dynamicBuffer:ge,pointers:be};const g=(0,t.concatBytes)([pe,new Uint8Array(32)]),y=me.encode({buffer:ge,value:ae,type:G,packed:T,tight:A});return{staticBuffer:g,dynamicBuffer:y,pointers:[...be,{position:pe.length,pointer:ge.length}]}},{staticBuffer:new Uint8Array,dynamicBuffer:new Uint8Array,pointers:[]});(0,t.assert)(!T&&!D||he.length===0,new r.ParserError("Invalid pack state."));const q=oe.length,C=P.reduce((pe,{pointer:ge,position:be})=>{const G=(0,o.padStart)((0,t.numberToBytes)(q+ge));return(0,o.set)(pe,G,be)},oe);return(0,t.concatBytes)([Q,C,he])};e.pack=l;const p=(m,v)=>{const T=(0,n.iterate)(v);return m.map(A=>{const{value:{value:D,skip:Q},done:oe}=T.next();(0,t.assert)(!oe,new r.ParserError(`The encoded value is invalid for the provided types. Reached end of buffer while attempting to parse "${A}".`));const he=(0,e.getParser)(A);if((0,e.isDynamicParser)(he,A)){const q=(0,t.bytesToNumber)(D.subarray(0,32)),C=v.subarray(q);return he.decode({type:A,value:C,skip:Q})}return he.decode({type:A,value:D,skip:Q})})};e.unpack=p}(ks)),ks}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.decodeSingle=e.decode=e.encodePacked=e.encodeSingle=e.encode=void 0;const t=H,r=Br,n=Ks(),i=(p,m,v,T)=>{try{return(0,n.pack)({types:p,values:m,packed:v,tight:T})}catch(A){throw A instanceof r.ParserError?new r.ParserError(`Unable to encode value: ${A.message}`,A):new r.ParserError(`An unexpected error occurred: ${(0,r.getErrorMessage)(A)}`,A)}};e.encode=i;const o=(p,m)=>(0,e.encode)([p],[m]);e.encodeSingle=o;const c=(p,m,v)=>(0,e.encode)(p,m,!0,v);e.encodePacked=c;const a=(p,m)=>{const v=(0,t.createBytes)(m);try{return(0,n.unpack)(p,v)}catch(T){throw T instanceof r.ParserError?new r.ParserError(`Unable to decode value: ${T.message}`,T):new r.ParserError(`An unexpected error occurred: ${(0,r.getErrorMessage)(T)}`,T)}};e.decode=a;const l=(p,m)=>{const v=(0,e.decode)([p],m);return(0,t.assert)(v.length===1,new r.ParserError("Decoded value array has unexpected length.")),v[0]};e.decodeSingle=l})(Wu);var ml={},El={};Object.defineProperty(El,"__esModule",{value:!0}),function(e){var t=nt&&nt.__createBinding||(Object.create?function(n,i,o,c){c===void 0&&(c=o);var a=Object.getOwnPropertyDescriptor(i,o);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(n,c,a)}:function(n,i,o,c){c===void 0&&(c=o),n[c]=i[o]}),r=nt&&nt.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&t(i,n,o)};Object.defineProperty(e,"__esModule",{value:!0}),r(El,e)}(ml),function(e){var t=nt&&nt.__createBinding||(Object.create?function(n,i,o,c){c===void 0&&(c=o);var a=Object.getOwnPropertyDescriptor(i,o);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(n,c,a)}:function(n,i,o,c){c===void 0&&(c=o),n[c]=i[o]}),r=nt&&nt.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&t(i,n,o)};Object.defineProperty(e,"__esModule",{value:!0}),r(Wu,e),r(Br,e),r(ml,e)}(Gu),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.recoverTypedSignature=e.signTypedData=e.typedSignatureHash=e.TypedDataUtils=e.TYPED_MESSAGE_SCHEMA=e.SignTypedDataVersion=void 0;const t=xi,r=Gu,n=bl(),i=Xr,o=H,c=ur,a=Dt;var l;(function(g){g.V1="V1",g.V3="V3",g.V4="V4"})(l=e.SignTypedDataVersion||(e.SignTypedDataVersion={})),e.TYPED_MESSAGE_SCHEMA={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]};function p(g,y){if(Object.keys(l).includes(g)){if(y&&!y.includes(g))throw new Error(`SignTypedDataVersion not allowed: '${g}'. Allowed versions are: ${y.join(", ")}`)}else throw new Error(`Invalid version: '${g}'`)}function m(g,y){(0,o.assert)(y!==null,`Unable to encode value: Invalid number. Expected a valid number value, but received "${y}".`);const h=BigInt(y),B=(0,n.getLength)(g),I=BigInt(2)**BigInt(B)-BigInt(1);return(0,o.assert)(h>=-I&&h<=I,`Unable to encode value: Number "${y}" is out of range for type "${g}".`),h}function v(g){let y=BigInt(0);for(let h=0;h<g.length;h++){const B=BigInt(g.charCodeAt(h)-48);y*=BigInt(10),B>=49?y+=B-BigInt(49)+BigInt(10):B>=17?y+=B-BigInt(17)+BigInt(10):y+=B}return(0,i.padStart)((0,o.bigIntToBytes)(y),20)}function T(g,y,h,B,I){if(p(I,[l.V3,l.V4]),g[h]!==void 0)return["bytes32",I===l.V4&&B==null?"0x0000000000000000000000000000000000000000000000000000000000000000":(0,t.arrToBufArr)((0,c.keccak256)(A(h,B,g,I)))];if(h==="function")throw new Error('Unsupported or invalid type: "function"');if(B===void 0)throw new Error(`missing value for field ${y} of type ${h}`);if(h==="address"){if(typeof B=="number")return["address",(0,i.padStart)((0,o.numberToBytes)(B),20)];if((0,o.isStrictHexString)(B))return["address",(0,o.add0x)(B)];if(typeof B=="string")return["address",v(B).subarray(0,20)]}if(h==="bool")return["bool",!!B];if(h==="bytes")return typeof B=="number"?B=(0,o.numberToBytes)(B):(0,o.isStrictHexString)(B)||B==="0x"?B=(0,o.hexToBytes)(B):typeof B=="string"&&(B=(0,o.stringToBytes)(B)),["bytes32",(0,t.arrToBufArr)((0,c.keccak256)(B))];if(h.startsWith("bytes")&&h!=="bytes"&&!h.includes("["))return typeof B=="number"?B<0?["bytes32",new Uint8Array(32)]:["bytes32",(0,o.bigIntToBytes)(BigInt(B))]:(0,o.isStrictHexString)(B)?["bytes32",(0,o.hexToBytes)(B)]:["bytes32",B];if(h.startsWith("int")&&!h.includes("[")){const $=m(h,B);return $>=BigInt(0)?["uint256",$]:["int256",$]}if(h==="string")return typeof B=="number"?B=(0,o.numberToBytes)(B):B=(0,o.stringToBytes)(B??""),["bytes32",(0,t.arrToBufArr)((0,c.keccak256)(B))];if(h.endsWith("]")){if(I===l.V3)throw new Error("Arrays are unimplemented in encodeData; use V4 extension");const $=h.slice(0,h.lastIndexOf("[")),L=B.map(R=>T(g,y,$,R,I));return["bytes32",(0,t.arrToBufArr)((0,c.keccak256)((0,r.encode)(L.map(([R])=>R),L.map(([,R])=>R))))]}return[h,B]}function A(g,y,h,B){p(B,[l.V3,l.V4]);const I=["bytes32"],$=[he(g,h)];for(const L of h[g]){if(B===l.V3&&y[L.name]===void 0)continue;const[R,j]=T(h,L.name,L.type,y[L.name],B);I.push(R),$.push(j)}return(0,t.arrToBufArr)((0,r.encode)(I,$))}function D(g,y){let h="";const B=Q(g,y);B.delete(g);const I=[g,...Array.from(B).sort()];for(const $ of I){if(!y[$])throw new Error(`No type definition specified: ${$}`);h+=`${$}(${y[$].map(({name:R,type:j})=>`${j} ${R}`).join(",")})`}return h}function Q(g,y,h=new Set){if(typeof g!="string")throw new Error(`Invalid findTypeDependencies input ${JSON.stringify(g)}`);if([g]=g.match(/^\w*/u),h.has(g)||y[g]===void 0)return h;h.add(g);for(const I of y[g])Q(I.type,y,h);return h}function oe(g,y,h,B){p(B,[l.V3,l.V4]);const I=A(g,y,h,B),$=(0,c.keccak256)(I);return(0,t.arrToBufArr)($)}function he(g,y){const h=(0,o.stringToBytes)(D(g,y));return(0,t.arrToBufArr)((0,c.keccak256)(h))}function P(g){const y={};for(const h in e.TYPED_MESSAGE_SCHEMA.properties)g[h]&&(y[h]=g[h]);return"types"in y&&(y.types=Object.assign({EIP712Domain:[]},y.types)),y}function q(g,y){p(y,[l.V3,l.V4]);const h=P(g),{domain:B}=h,I={EIP712Domain:h.types.EIP712Domain};return oe("EIP712Domain",B,I,y)}function C(g,y){p(y,[l.V3,l.V4]);const h=P(g),B=[(0,o.hexToBytes)("1901")];return B.push(q(g,y)),h.primaryType!=="EIP712Domain"&&B.push(oe(h.primaryType,h.message,h.types,y)),(0,t.arrToBufArr)((0,c.keccak256)((0,o.concatBytes)(B)))}e.TypedDataUtils={encodeData:A,encodeType:D,findTypeDependencies:Q,hashStruct:oe,hashType:he,sanitizeData:P,eip712Hash:C,eip712DomainHash:q};function pe(g){const y=ne(g);return(0,o.bytesToHex)(y)}e.typedSignatureHash=pe;function ge(g,y){if((0,n.isArrayType)(g)&&Array.isArray(y)){const[h]=(0,n.getArrayType)(g);return y.map(B=>ge(h,B))}if(g==="address"){if(typeof y=="number")return(0,i.padStart)((0,o.numberToBytes)(y),20);if((0,o.isStrictHexString)(y))return(0,i.padStart)((0,o.hexToBytes)(y).subarray(0,20),20);if(y instanceof Uint8Array)return(0,i.padStart)(y.subarray(0,20),20)}if(g==="bool")return!!y;if(g.startsWith("bytes")&&g!=="bytes"){const h=(0,n.getByteLength)(g);if(typeof y=="number")return y<0?new Uint8Array:(0,o.numberToBytes)(y).subarray(0,h);if((0,o.isStrictHexString)(y))return(0,o.hexToBytes)(y).subarray(0,h);if(y instanceof Uint8Array)return y.subarray(0,h)}if(g.startsWith("uint")&&typeof y=="number")return Math.abs(y);if(g.startsWith("int")&&typeof y=="number"){const h=(0,n.getLength)(g);return BigInt.asIntN(h,BigInt(y))}return y}function be(g){return g.map(y=>typeof y=="number"?(0,i.padStart)((0,o.numberToBytes)(y),32):(0,o.isStrictHexString)(y)?(0,i.padStart)((0,o.hexToBytes)(y).subarray(0,32),32):y instanceof Uint8Array?(0,i.padStart)(y.subarray(0,32),32):y)}function G(g,y){return y.map(h=>{if(typeof h=="string"||typeof h=="number"||typeof h=="bigint"){const B=m(g,h);if(B>=BigInt(0))return(0,i.padStart)((0,o.bigIntToBytes)(B),32);const I=(0,n.getLength)(g),$=BigInt.asIntN(I,B);return(0,o.signedBigIntToBytes)($,32)}return h})}function ne(g){const y=new Error("Expect argument to be non-empty array");if(typeof g!="object"||!("length"in g)||!g.length)throw y;const h=g.map(({name:L,type:R,value:j})=>{if(R==="address[]")return{name:L,type:"bytes32[]",value:be(j)};if(R.startsWith("int")&&(0,n.isArrayType)(R)){const[M,z]=(0,n.getArrayType)(R);return{name:L,type:`bytes32[${z??""}]`,value:G(M,j)}}return{name:L,type:R,value:ge(R,j)}}),B=h.map(L=>L.type!=="bytes"?L.value:(0,a.legacyToBuffer)(L.value)),I=h.map(L=>{if(L.type==="function")throw new Error('Unsupported or invalid type: "function"');return L.type}),$=g.map(L=>{if(!L.name)throw y;return`${L.type} ${L.name}`});return(0,t.arrToBufArr)((0,c.keccak256)((0,r.encodePacked)(["bytes32","bytes32"],[(0,c.keccak256)((0,r.encodePacked)(["string[]"],[$],!0)),(0,c.keccak256)((0,r.encodePacked)(I,B,!0))])))}function me({privateKey:g,data:y,version:h}){if(p(h),(0,a.isNullish)(y))throw new Error("Missing data parameter");if((0,a.isNullish)(g))throw new Error("Missing private key parameter");const B=h===l.V1?ne(y):e.TypedDataUtils.eip712Hash(y,h),I=(0,t.ecsign)(B,g);return(0,a.concatSig)((0,t.arrToBufArr)((0,o.bigIntToBytes)(I.v)),I.r,I.s)}e.signTypedData=me;function ae({data:g,signature:y,version:h}){if(p(h),(0,a.isNullish)(g))throw new Error("Missing data parameter");if((0,a.isNullish)(y))throw new Error("Missing signature parameter");const B=h===l.V1?ne(g):e.TypedDataUtils.eip712Hash(g,h),I=(0,a.recoverPublicKey)(B,y),$=(0,t.publicToAddress)(I);return(0,o.bytesToHex)($)}e.recoverTypedSignature=ae}(zu);var yr={},xl={exports:{}},Db={},Vb=Object.freeze({__proto__:null,default:Db}),qb=Mn(Vb);(function(e){(function(t){var r=function(d){var E,w=new Float64Array(16);if(d)for(E=0;E<d.length;E++)w[E]=d[E];return w},n=function(){throw new Error("no PRNG")},i=new Uint8Array(16),o=new Uint8Array(32);o[0]=9;var c=r(),a=r([1]),l=r([56129,1]),p=r([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),m=r([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),v=r([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),T=r([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),A=r([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function D(d,E,w,s){d[E]=w>>24&255,d[E+1]=w>>16&255,d[E+2]=w>>8&255,d[E+3]=w&255,d[E+4]=s>>24&255,d[E+5]=s>>16&255,d[E+6]=s>>8&255,d[E+7]=s&255}function Q(d,E,w,s,x){var N,k=0;for(N=0;N<x;N++)k|=d[E+N]^w[s+N];return(1&k-1>>>8)-1}function oe(d,E,w,s){return Q(d,E,w,s,16)}function he(d,E,w,s){return Q(d,E,w,s,32)}function P(d,E,w,s){for(var x=s[0]&255|(s[1]&255)<<8|(s[2]&255)<<16|(s[3]&255)<<24,N=w[0]&255|(w[1]&255)<<8|(w[2]&255)<<16|(w[3]&255)<<24,k=w[4]&255|(w[5]&255)<<8|(w[6]&255)<<16|(w[7]&255)<<24,X=w[8]&255|(w[9]&255)<<8|(w[10]&255)<<16|(w[11]&255)<<24,ie=w[12]&255|(w[13]&255)<<8|(w[14]&255)<<16|(w[15]&255)<<24,ve=s[4]&255|(s[5]&255)<<8|(s[6]&255)<<16|(s[7]&255)<<24,le=E[0]&255|(E[1]&255)<<8|(E[2]&255)<<16|(E[3]&255)<<24,et=E[4]&255|(E[5]&255)<<8|(E[6]&255)<<16|(E[7]&255)<<24,ye=E[8]&255|(E[9]&255)<<8|(E[10]&255)<<16|(E[11]&255)<<24,Ce=E[12]&255|(E[13]&255)<<8|(E[14]&255)<<16|(E[15]&255)<<24,Le=s[8]&255|(s[9]&255)<<8|(s[10]&255)<<16|(s[11]&255)<<24,Me=w[16]&255|(w[17]&255)<<8|(w[18]&255)<<16|(w[19]&255)<<24,He=w[20]&255|(w[21]&255)<<8|(w[22]&255)<<16|(w[23]&255)<<24,Oe=w[24]&255|(w[25]&255)<<8|(w[26]&255)<<16|(w[27]&255)<<24,je=w[28]&255|(w[29]&255)<<8|(w[30]&255)<<16|(w[31]&255)<<24,Pe=s[12]&255|(s[13]&255)<<8|(s[14]&255)<<16|(s[15]&255)<<24,we=x,Be=N,de=k,Ee=X,xe=ie,fe=ve,F=le,V=et,ee=ye,J=Ce,Y=Le,re=Me,Ae=He,Fe=Oe,Ve=je,De=Pe,S,ze=0;ze<20;ze+=2)S=we+Ae|0,xe^=S<<7|S>>>32-7,S=xe+we|0,ee^=S<<9|S>>>32-9,S=ee+xe|0,Ae^=S<<13|S>>>32-13,S=Ae+ee|0,we^=S<<18|S>>>32-18,S=fe+Be|0,J^=S<<7|S>>>32-7,S=J+fe|0,Fe^=S<<9|S>>>32-9,S=Fe+J|0,Be^=S<<13|S>>>32-13,S=Be+Fe|0,fe^=S<<18|S>>>32-18,S=Y+F|0,Ve^=S<<7|S>>>32-7,S=Ve+Y|0,de^=S<<9|S>>>32-9,S=de+Ve|0,F^=S<<13|S>>>32-13,S=F+de|0,Y^=S<<18|S>>>32-18,S=De+re|0,Ee^=S<<7|S>>>32-7,S=Ee+De|0,V^=S<<9|S>>>32-9,S=V+Ee|0,re^=S<<13|S>>>32-13,S=re+V|0,De^=S<<18|S>>>32-18,S=we+Ee|0,Be^=S<<7|S>>>32-7,S=Be+we|0,de^=S<<9|S>>>32-9,S=de+Be|0,Ee^=S<<13|S>>>32-13,S=Ee+de|0,we^=S<<18|S>>>32-18,S=fe+xe|0,F^=S<<7|S>>>32-7,S=F+fe|0,V^=S<<9|S>>>32-9,S=V+F|0,xe^=S<<13|S>>>32-13,S=xe+V|0,fe^=S<<18|S>>>32-18,S=Y+J|0,re^=S<<7|S>>>32-7,S=re+Y|0,ee^=S<<9|S>>>32-9,S=ee+re|0,J^=S<<13|S>>>32-13,S=J+ee|0,Y^=S<<18|S>>>32-18,S=De+Ve|0,Ae^=S<<7|S>>>32-7,S=Ae+De|0,Fe^=S<<9|S>>>32-9,S=Fe+Ae|0,Ve^=S<<13|S>>>32-13,S=Ve+Fe|0,De^=S<<18|S>>>32-18;we=we+x|0,Be=Be+N|0,de=de+k|0,Ee=Ee+X|0,xe=xe+ie|0,fe=fe+ve|0,F=F+le|0,V=V+et|0,ee=ee+ye|0,J=J+Ce|0,Y=Y+Le|0,re=re+Me|0,Ae=Ae+He|0,Fe=Fe+Oe|0,Ve=Ve+je|0,De=De+Pe|0,d[0]=we>>>0&255,d[1]=we>>>8&255,d[2]=we>>>16&255,d[3]=we>>>24&255,d[4]=Be>>>0&255,d[5]=Be>>>8&255,d[6]=Be>>>16&255,d[7]=Be>>>24&255,d[8]=de>>>0&255,d[9]=de>>>8&255,d[10]=de>>>16&255,d[11]=de>>>24&255,d[12]=Ee>>>0&255,d[13]=Ee>>>8&255,d[14]=Ee>>>16&255,d[15]=Ee>>>24&255,d[16]=xe>>>0&255,d[17]=xe>>>8&255,d[18]=xe>>>16&255,d[19]=xe>>>24&255,d[20]=fe>>>0&255,d[21]=fe>>>8&255,d[22]=fe>>>16&255,d[23]=fe>>>24&255,d[24]=F>>>0&255,d[25]=F>>>8&255,d[26]=F>>>16&255,d[27]=F>>>24&255,d[28]=V>>>0&255,d[29]=V>>>8&255,d[30]=V>>>16&255,d[31]=V>>>24&255,d[32]=ee>>>0&255,d[33]=ee>>>8&255,d[34]=ee>>>16&255,d[35]=ee>>>24&255,d[36]=J>>>0&255,d[37]=J>>>8&255,d[38]=J>>>16&255,d[39]=J>>>24&255,d[40]=Y>>>0&255,d[41]=Y>>>8&255,d[42]=Y>>>16&255,d[43]=Y>>>24&255,d[44]=re>>>0&255,d[45]=re>>>8&255,d[46]=re>>>16&255,d[47]=re>>>24&255,d[48]=Ae>>>0&255,d[49]=Ae>>>8&255,d[50]=Ae>>>16&255,d[51]=Ae>>>24&255,d[52]=Fe>>>0&255,d[53]=Fe>>>8&255,d[54]=Fe>>>16&255,d[55]=Fe>>>24&255,d[56]=Ve>>>0&255,d[57]=Ve>>>8&255,d[58]=Ve>>>16&255,d[59]=Ve>>>24&255,d[60]=De>>>0&255,d[61]=De>>>8&255,d[62]=De>>>16&255,d[63]=De>>>24&255}function q(d,E,w,s){for(var x=s[0]&255|(s[1]&255)<<8|(s[2]&255)<<16|(s[3]&255)<<24,N=w[0]&255|(w[1]&255)<<8|(w[2]&255)<<16|(w[3]&255)<<24,k=w[4]&255|(w[5]&255)<<8|(w[6]&255)<<16|(w[7]&255)<<24,X=w[8]&255|(w[9]&255)<<8|(w[10]&255)<<16|(w[11]&255)<<24,ie=w[12]&255|(w[13]&255)<<8|(w[14]&255)<<16|(w[15]&255)<<24,ve=s[4]&255|(s[5]&255)<<8|(s[6]&255)<<16|(s[7]&255)<<24,le=E[0]&255|(E[1]&255)<<8|(E[2]&255)<<16|(E[3]&255)<<24,et=E[4]&255|(E[5]&255)<<8|(E[6]&255)<<16|(E[7]&255)<<24,ye=E[8]&255|(E[9]&255)<<8|(E[10]&255)<<16|(E[11]&255)<<24,Ce=E[12]&255|(E[13]&255)<<8|(E[14]&255)<<16|(E[15]&255)<<24,Le=s[8]&255|(s[9]&255)<<8|(s[10]&255)<<16|(s[11]&255)<<24,Me=w[16]&255|(w[17]&255)<<8|(w[18]&255)<<16|(w[19]&255)<<24,He=w[20]&255|(w[21]&255)<<8|(w[22]&255)<<16|(w[23]&255)<<24,Oe=w[24]&255|(w[25]&255)<<8|(w[26]&255)<<16|(w[27]&255)<<24,je=w[28]&255|(w[29]&255)<<8|(w[30]&255)<<16|(w[31]&255)<<24,Pe=s[12]&255|(s[13]&255)<<8|(s[14]&255)<<16|(s[15]&255)<<24,we=x,Be=N,de=k,Ee=X,xe=ie,fe=ve,F=le,V=et,ee=ye,J=Ce,Y=Le,re=Me,Ae=He,Fe=Oe,Ve=je,De=Pe,S,ze=0;ze<20;ze+=2)S=we+Ae|0,xe^=S<<7|S>>>32-7,S=xe+we|0,ee^=S<<9|S>>>32-9,S=ee+xe|0,Ae^=S<<13|S>>>32-13,S=Ae+ee|0,we^=S<<18|S>>>32-18,S=fe+Be|0,J^=S<<7|S>>>32-7,S=J+fe|0,Fe^=S<<9|S>>>32-9,S=Fe+J|0,Be^=S<<13|S>>>32-13,S=Be+Fe|0,fe^=S<<18|S>>>32-18,S=Y+F|0,Ve^=S<<7|S>>>32-7,S=Ve+Y|0,de^=S<<9|S>>>32-9,S=de+Ve|0,F^=S<<13|S>>>32-13,S=F+de|0,Y^=S<<18|S>>>32-18,S=De+re|0,Ee^=S<<7|S>>>32-7,S=Ee+De|0,V^=S<<9|S>>>32-9,S=V+Ee|0,re^=S<<13|S>>>32-13,S=re+V|0,De^=S<<18|S>>>32-18,S=we+Ee|0,Be^=S<<7|S>>>32-7,S=Be+we|0,de^=S<<9|S>>>32-9,S=de+Be|0,Ee^=S<<13|S>>>32-13,S=Ee+de|0,we^=S<<18|S>>>32-18,S=fe+xe|0,F^=S<<7|S>>>32-7,S=F+fe|0,V^=S<<9|S>>>32-9,S=V+F|0,xe^=S<<13|S>>>32-13,S=xe+V|0,fe^=S<<18|S>>>32-18,S=Y+J|0,re^=S<<7|S>>>32-7,S=re+Y|0,ee^=S<<9|S>>>32-9,S=ee+re|0,J^=S<<13|S>>>32-13,S=J+ee|0,Y^=S<<18|S>>>32-18,S=De+Ve|0,Ae^=S<<7|S>>>32-7,S=Ae+De|0,Fe^=S<<9|S>>>32-9,S=Fe+Ae|0,Ve^=S<<13|S>>>32-13,S=Ve+Fe|0,De^=S<<18|S>>>32-18;d[0]=we>>>0&255,d[1]=we>>>8&255,d[2]=we>>>16&255,d[3]=we>>>24&255,d[4]=fe>>>0&255,d[5]=fe>>>8&255,d[6]=fe>>>16&255,d[7]=fe>>>24&255,d[8]=Y>>>0&255,d[9]=Y>>>8&255,d[10]=Y>>>16&255,d[11]=Y>>>24&255,d[12]=De>>>0&255,d[13]=De>>>8&255,d[14]=De>>>16&255,d[15]=De>>>24&255,d[16]=F>>>0&255,d[17]=F>>>8&255,d[18]=F>>>16&255,d[19]=F>>>24&255,d[20]=V>>>0&255,d[21]=V>>>8&255,d[22]=V>>>16&255,d[23]=V>>>24&255,d[24]=ee>>>0&255,d[25]=ee>>>8&255,d[26]=ee>>>16&255,d[27]=ee>>>24&255,d[28]=J>>>0&255,d[29]=J>>>8&255,d[30]=J>>>16&255,d[31]=J>>>24&255}function C(d,E,w,s){P(d,E,w,s)}function pe(d,E,w,s){q(d,E,w,s)}var ge=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function be(d,E,w,s,x,N,k){var X=new Uint8Array(16),ie=new Uint8Array(64),ve,le;for(le=0;le<16;le++)X[le]=0;for(le=0;le<8;le++)X[le]=N[le];for(;x>=64;){for(C(ie,X,k,ge),le=0;le<64;le++)d[E+le]=w[s+le]^ie[le];for(ve=1,le=8;le<16;le++)ve=ve+(X[le]&255)|0,X[le]=ve&255,ve>>>=8;x-=64,E+=64,s+=64}if(x>0)for(C(ie,X,k,ge),le=0;le<x;le++)d[E+le]=w[s+le]^ie[le];return 0}function G(d,E,w,s,x){var N=new Uint8Array(16),k=new Uint8Array(64),X,ie;for(ie=0;ie<16;ie++)N[ie]=0;for(ie=0;ie<8;ie++)N[ie]=s[ie];for(;w>=64;){for(C(k,N,x,ge),ie=0;ie<64;ie++)d[E+ie]=k[ie];for(X=1,ie=8;ie<16;ie++)X=X+(N[ie]&255)|0,N[ie]=X&255,X>>>=8;w-=64,E+=64}if(w>0)for(C(k,N,x,ge),ie=0;ie<w;ie++)d[E+ie]=k[ie];return 0}function ne(d,E,w,s,x){var N=new Uint8Array(32);pe(N,s,x,ge);for(var k=new Uint8Array(8),X=0;X<8;X++)k[X]=s[X+16];return G(d,E,w,k,N)}function me(d,E,w,s,x,N,k){var X=new Uint8Array(32);pe(X,N,k,ge);for(var ie=new Uint8Array(8),ve=0;ve<8;ve++)ie[ve]=N[ve+16];return be(d,E,w,s,x,ie,X)}var ae=function(d){this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0;var E,w,s,x,N,k,X,ie;E=d[0]&255|(d[1]&255)<<8,this.r[0]=E&8191,w=d[2]&255|(d[3]&255)<<8,this.r[1]=(E>>>13|w<<3)&8191,s=d[4]&255|(d[5]&255)<<8,this.r[2]=(w>>>10|s<<6)&7939,x=d[6]&255|(d[7]&255)<<8,this.r[3]=(s>>>7|x<<9)&8191,N=d[8]&255|(d[9]&255)<<8,this.r[4]=(x>>>4|N<<12)&255,this.r[5]=N>>>1&8190,k=d[10]&255|(d[11]&255)<<8,this.r[6]=(N>>>14|k<<2)&8191,X=d[12]&255|(d[13]&255)<<8,this.r[7]=(k>>>11|X<<5)&8065,ie=d[14]&255|(d[15]&255)<<8,this.r[8]=(X>>>8|ie<<8)&8191,this.r[9]=ie>>>5&127,this.pad[0]=d[16]&255|(d[17]&255)<<8,this.pad[1]=d[18]&255|(d[19]&255)<<8,this.pad[2]=d[20]&255|(d[21]&255)<<8,this.pad[3]=d[22]&255|(d[23]&255)<<8,this.pad[4]=d[24]&255|(d[25]&255)<<8,this.pad[5]=d[26]&255|(d[27]&255)<<8,this.pad[6]=d[28]&255|(d[29]&255)<<8,this.pad[7]=d[30]&255|(d[31]&255)<<8};ae.prototype.blocks=function(d,E,w){for(var s=this.fin?0:2048,x,N,k,X,ie,ve,le,et,ye,Ce,Le,Me,He,Oe,je,Pe,we,Be,de,Ee=this.h[0],xe=this.h[1],fe=this.h[2],F=this.h[3],V=this.h[4],ee=this.h[5],J=this.h[6],Y=this.h[7],re=this.h[8],Ae=this.h[9],Fe=this.r[0],Ve=this.r[1],De=this.r[2],S=this.r[3],ze=this.r[4],tt=this.r[5],rt=this.r[6],qe=this.r[7],Xe=this.r[8],Ye=this.r[9];w>=16;)x=d[E+0]&255|(d[E+1]&255)<<8,Ee+=x&8191,N=d[E+2]&255|(d[E+3]&255)<<8,xe+=(x>>>13|N<<3)&8191,k=d[E+4]&255|(d[E+5]&255)<<8,fe+=(N>>>10|k<<6)&8191,X=d[E+6]&255|(d[E+7]&255)<<8,F+=(k>>>7|X<<9)&8191,ie=d[E+8]&255|(d[E+9]&255)<<8,V+=(X>>>4|ie<<12)&8191,ee+=ie>>>1&8191,ve=d[E+10]&255|(d[E+11]&255)<<8,J+=(ie>>>14|ve<<2)&8191,le=d[E+12]&255|(d[E+13]&255)<<8,Y+=(ve>>>11|le<<5)&8191,et=d[E+14]&255|(d[E+15]&255)<<8,re+=(le>>>8|et<<8)&8191,Ae+=et>>>5|s,ye=0,Ce=ye,Ce+=Ee*Fe,Ce+=xe*(5*Ye),Ce+=fe*(5*Xe),Ce+=F*(5*qe),Ce+=V*(5*rt),ye=Ce>>>13,Ce&=8191,Ce+=ee*(5*tt),Ce+=J*(5*ze),Ce+=Y*(5*S),Ce+=re*(5*De),Ce+=Ae*(5*Ve),ye+=Ce>>>13,Ce&=8191,Le=ye,Le+=Ee*Ve,Le+=xe*Fe,Le+=fe*(5*Ye),Le+=F*(5*Xe),Le+=V*(5*qe),ye=Le>>>13,Le&=8191,Le+=ee*(5*rt),Le+=J*(5*tt),Le+=Y*(5*ze),Le+=re*(5*S),Le+=Ae*(5*De),ye+=Le>>>13,Le&=8191,Me=ye,Me+=Ee*De,Me+=xe*Ve,Me+=fe*Fe,Me+=F*(5*Ye),Me+=V*(5*Xe),ye=Me>>>13,Me&=8191,Me+=ee*(5*qe),Me+=J*(5*rt),Me+=Y*(5*tt),Me+=re*(5*ze),Me+=Ae*(5*S),ye+=Me>>>13,Me&=8191,He=ye,He+=Ee*S,He+=xe*De,He+=fe*Ve,He+=F*Fe,He+=V*(5*Ye),ye=He>>>13,He&=8191,He+=ee*(5*Xe),He+=J*(5*qe),He+=Y*(5*rt),He+=re*(5*tt),He+=Ae*(5*ze),ye+=He>>>13,He&=8191,Oe=ye,Oe+=Ee*ze,Oe+=xe*S,Oe+=fe*De,Oe+=F*Ve,Oe+=V*Fe,ye=Oe>>>13,Oe&=8191,Oe+=ee*(5*Ye),Oe+=J*(5*Xe),Oe+=Y*(5*qe),Oe+=re*(5*rt),Oe+=Ae*(5*tt),ye+=Oe>>>13,Oe&=8191,je=ye,je+=Ee*tt,je+=xe*ze,je+=fe*S,je+=F*De,je+=V*Ve,ye=je>>>13,je&=8191,je+=ee*Fe,je+=J*(5*Ye),je+=Y*(5*Xe),je+=re*(5*qe),je+=Ae*(5*rt),ye+=je>>>13,je&=8191,Pe=ye,Pe+=Ee*rt,Pe+=xe*tt,Pe+=fe*ze,Pe+=F*S,Pe+=V*De,ye=Pe>>>13,Pe&=8191,Pe+=ee*Ve,Pe+=J*Fe,Pe+=Y*(5*Ye),Pe+=re*(5*Xe),Pe+=Ae*(5*qe),ye+=Pe>>>13,Pe&=8191,we=ye,we+=Ee*qe,we+=xe*rt,we+=fe*tt,we+=F*ze,we+=V*S,ye=we>>>13,we&=8191,we+=ee*De,we+=J*Ve,we+=Y*Fe,we+=re*(5*Ye),we+=Ae*(5*Xe),ye+=we>>>13,we&=8191,Be=ye,Be+=Ee*Xe,Be+=xe*qe,Be+=fe*rt,Be+=F*tt,Be+=V*ze,ye=Be>>>13,Be&=8191,Be+=ee*S,Be+=J*De,Be+=Y*Ve,Be+=re*Fe,Be+=Ae*(5*Ye),ye+=Be>>>13,Be&=8191,de=ye,de+=Ee*Ye,de+=xe*Xe,de+=fe*qe,de+=F*rt,de+=V*tt,ye=de>>>13,de&=8191,de+=ee*ze,de+=J*S,de+=Y*De,de+=re*Ve,de+=Ae*Fe,ye+=de>>>13,de&=8191,ye=(ye<<2)+ye|0,ye=ye+Ce|0,Ce=ye&8191,ye=ye>>>13,Le+=ye,Ee=Ce,xe=Le,fe=Me,F=He,V=Oe,ee=je,J=Pe,Y=we,re=Be,Ae=de,E+=16,w-=16;this.h[0]=Ee,this.h[1]=xe,this.h[2]=fe,this.h[3]=F,this.h[4]=V,this.h[5]=ee,this.h[6]=J,this.h[7]=Y,this.h[8]=re,this.h[9]=Ae},ae.prototype.finish=function(d,E){var w=new Uint16Array(10),s,x,N,k;if(this.leftover){for(k=this.leftover,this.buffer[k++]=1;k<16;k++)this.buffer[k]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(s=this.h[1]>>>13,this.h[1]&=8191,k=2;k<10;k++)this.h[k]+=s,s=this.h[k]>>>13,this.h[k]&=8191;for(this.h[0]+=s*5,s=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=s,s=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=s,w[0]=this.h[0]+5,s=w[0]>>>13,w[0]&=8191,k=1;k<10;k++)w[k]=this.h[k]+s,s=w[k]>>>13,w[k]&=8191;for(w[9]-=8192,x=(s^1)-1,k=0;k<10;k++)w[k]&=x;for(x=~x,k=0;k<10;k++)this.h[k]=this.h[k]&x|w[k];for(this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,N=this.h[0]+this.pad[0],this.h[0]=N&65535,k=1;k<8;k++)N=(this.h[k]+this.pad[k]|0)+(N>>>16)|0,this.h[k]=N&65535;d[E+0]=this.h[0]>>>0&255,d[E+1]=this.h[0]>>>8&255,d[E+2]=this.h[1]>>>0&255,d[E+3]=this.h[1]>>>8&255,d[E+4]=this.h[2]>>>0&255,d[E+5]=this.h[2]>>>8&255,d[E+6]=this.h[3]>>>0&255,d[E+7]=this.h[3]>>>8&255,d[E+8]=this.h[4]>>>0&255,d[E+9]=this.h[4]>>>8&255,d[E+10]=this.h[5]>>>0&255,d[E+11]=this.h[5]>>>8&255,d[E+12]=this.h[6]>>>0&255,d[E+13]=this.h[6]>>>8&255,d[E+14]=this.h[7]>>>0&255,d[E+15]=this.h[7]>>>8&255},ae.prototype.update=function(d,E,w){var s,x;if(this.leftover){for(x=16-this.leftover,x>w&&(x=w),s=0;s<x;s++)this.buffer[this.leftover+s]=d[E+s];if(w-=x,E+=x,this.leftover+=x,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(w>=16&&(x=w-w%16,this.blocks(d,E,x),E+=x,w-=x),w){for(s=0;s<w;s++)this.buffer[this.leftover+s]=d[E+s];this.leftover+=w}};function g(d,E,w,s,x,N){var k=new ae(N);return k.update(w,s,x),k.finish(d,E),0}function y(d,E,w,s,x,N){var k=new Uint8Array(16);return g(k,0,w,s,x,N),oe(d,E,k,0)}function h(d,E,w,s,x){var N;if(w<32)return-1;for(me(d,0,E,0,w,s,x),g(d,16,d,32,w-32,d),N=0;N<16;N++)d[N]=0;return 0}function B(d,E,w,s,x){var N,k=new Uint8Array(32);if(w<32||(ne(k,0,32,s,x),y(E,16,E,32,w-32,k)!==0))return-1;for(me(d,0,E,0,w,s,x),N=0;N<32;N++)d[N]=0;return 0}function I(d,E){var w;for(w=0;w<16;w++)d[w]=E[w]|0}function $(d){var E,w,s=1;for(E=0;E<16;E++)w=d[E]+s+65535,s=Math.floor(w/65536),d[E]=w-s*65536;d[0]+=s-1+37*(s-1)}function L(d,E,w){for(var s,x=~(w-1),N=0;N<16;N++)s=x&(d[N]^E[N]),d[N]^=s,E[N]^=s}function R(d,E){var w,s,x,N=r(),k=r();for(w=0;w<16;w++)k[w]=E[w];for($(k),$(k),$(k),s=0;s<2;s++){for(N[0]=k[0]-65517,w=1;w<15;w++)N[w]=k[w]-65535-(N[w-1]>>16&1),N[w-1]&=65535;N[15]=k[15]-32767-(N[14]>>16&1),x=N[15]>>16&1,N[14]&=65535,L(k,N,1-x)}for(w=0;w<16;w++)d[2*w]=k[w]&255,d[2*w+1]=k[w]>>8}function j(d,E){var w=new Uint8Array(32),s=new Uint8Array(32);return R(w,d),R(s,E),he(w,0,s,0)}function M(d){var E=new Uint8Array(32);return R(E,d),E[0]&1}function z(d,E){var w;for(w=0;w<16;w++)d[w]=E[2*w]+(E[2*w+1]<<8);d[15]&=32767}function te(d,E,w){for(var s=0;s<16;s++)d[s]=E[s]+w[s]}function Z(d,E,w){for(var s=0;s<16;s++)d[s]=E[s]-w[s]}function K(d,E,w){var s,x,N=0,k=0,X=0,ie=0,ve=0,le=0,et=0,ye=0,Ce=0,Le=0,Me=0,He=0,Oe=0,je=0,Pe=0,we=0,Be=0,de=0,Ee=0,xe=0,fe=0,F=0,V=0,ee=0,J=0,Y=0,re=0,Ae=0,Fe=0,Ve=0,De=0,S=w[0],ze=w[1],tt=w[2],rt=w[3],qe=w[4],Xe=w[5],Ye=w[6],Ct=w[7],ct=w[8],Bt=w[9],St=w[10],At=w[11],kt=w[12],qt=w[13],zt=w[14],Gt=w[15];s=E[0],N+=s*S,k+=s*ze,X+=s*tt,ie+=s*rt,ve+=s*qe,le+=s*Xe,et+=s*Ye,ye+=s*Ct,Ce+=s*ct,Le+=s*Bt,Me+=s*St,He+=s*At,Oe+=s*kt,je+=s*qt,Pe+=s*zt,we+=s*Gt,s=E[1],k+=s*S,X+=s*ze,ie+=s*tt,ve+=s*rt,le+=s*qe,et+=s*Xe,ye+=s*Ye,Ce+=s*Ct,Le+=s*ct,Me+=s*Bt,He+=s*St,Oe+=s*At,je+=s*kt,Pe+=s*qt,we+=s*zt,Be+=s*Gt,s=E[2],X+=s*S,ie+=s*ze,ve+=s*tt,le+=s*rt,et+=s*qe,ye+=s*Xe,Ce+=s*Ye,Le+=s*Ct,Me+=s*ct,He+=s*Bt,Oe+=s*St,je+=s*At,Pe+=s*kt,we+=s*qt,Be+=s*zt,de+=s*Gt,s=E[3],ie+=s*S,ve+=s*ze,le+=s*tt,et+=s*rt,ye+=s*qe,Ce+=s*Xe,Le+=s*Ye,Me+=s*Ct,He+=s*ct,Oe+=s*Bt,je+=s*St,Pe+=s*At,we+=s*kt,Be+=s*qt,de+=s*zt,Ee+=s*Gt,s=E[4],ve+=s*S,le+=s*ze,et+=s*tt,ye+=s*rt,Ce+=s*qe,Le+=s*Xe,Me+=s*Ye,He+=s*Ct,Oe+=s*ct,je+=s*Bt,Pe+=s*St,we+=s*At,Be+=s*kt,de+=s*qt,Ee+=s*zt,xe+=s*Gt,s=E[5],le+=s*S,et+=s*ze,ye+=s*tt,Ce+=s*rt,Le+=s*qe,Me+=s*Xe,He+=s*Ye,Oe+=s*Ct,je+=s*ct,Pe+=s*Bt,we+=s*St,Be+=s*At,de+=s*kt,Ee+=s*qt,xe+=s*zt,fe+=s*Gt,s=E[6],et+=s*S,ye+=s*ze,Ce+=s*tt,Le+=s*rt,Me+=s*qe,He+=s*Xe,Oe+=s*Ye,je+=s*Ct,Pe+=s*ct,we+=s*Bt,Be+=s*St,de+=s*At,Ee+=s*kt,xe+=s*qt,fe+=s*zt,F+=s*Gt,s=E[7],ye+=s*S,Ce+=s*ze,Le+=s*tt,Me+=s*rt,He+=s*qe,Oe+=s*Xe,je+=s*Ye,Pe+=s*Ct,we+=s*ct,Be+=s*Bt,de+=s*St,Ee+=s*At,xe+=s*kt,fe+=s*qt,F+=s*zt,V+=s*Gt,s=E[8],Ce+=s*S,Le+=s*ze,Me+=s*tt,He+=s*rt,Oe+=s*qe,je+=s*Xe,Pe+=s*Ye,we+=s*Ct,Be+=s*ct,de+=s*Bt,Ee+=s*St,xe+=s*At,fe+=s*kt,F+=s*qt,V+=s*zt,ee+=s*Gt,s=E[9],Le+=s*S,Me+=s*ze,He+=s*tt,Oe+=s*rt,je+=s*qe,Pe+=s*Xe,we+=s*Ye,Be+=s*Ct,de+=s*ct,Ee+=s*Bt,xe+=s*St,fe+=s*At,F+=s*kt,V+=s*qt,ee+=s*zt,J+=s*Gt,s=E[10],Me+=s*S,He+=s*ze,Oe+=s*tt,je+=s*rt,Pe+=s*qe,we+=s*Xe,Be+=s*Ye,de+=s*Ct,Ee+=s*ct,xe+=s*Bt,fe+=s*St,F+=s*At,V+=s*kt,ee+=s*qt,J+=s*zt,Y+=s*Gt,s=E[11],He+=s*S,Oe+=s*ze,je+=s*tt,Pe+=s*rt,we+=s*qe,Be+=s*Xe,de+=s*Ye,Ee+=s*Ct,xe+=s*ct,fe+=s*Bt,F+=s*St,V+=s*At,ee+=s*kt,J+=s*qt,Y+=s*zt,re+=s*Gt,s=E[12],Oe+=s*S,je+=s*ze,Pe+=s*tt,we+=s*rt,Be+=s*qe,de+=s*Xe,Ee+=s*Ye,xe+=s*Ct,fe+=s*ct,F+=s*Bt,V+=s*St,ee+=s*At,J+=s*kt,Y+=s*qt,re+=s*zt,Ae+=s*Gt,s=E[13],je+=s*S,Pe+=s*ze,we+=s*tt,Be+=s*rt,de+=s*qe,Ee+=s*Xe,xe+=s*Ye,fe+=s*Ct,F+=s*ct,V+=s*Bt,ee+=s*St,J+=s*At,Y+=s*kt,re+=s*qt,Ae+=s*zt,Fe+=s*Gt,s=E[14],Pe+=s*S,we+=s*ze,Be+=s*tt,de+=s*rt,Ee+=s*qe,xe+=s*Xe,fe+=s*Ye,F+=s*Ct,V+=s*ct,ee+=s*Bt,J+=s*St,Y+=s*At,re+=s*kt,Ae+=s*qt,Fe+=s*zt,Ve+=s*Gt,s=E[15],we+=s*S,Be+=s*ze,de+=s*tt,Ee+=s*rt,xe+=s*qe,fe+=s*Xe,F+=s*Ye,V+=s*Ct,ee+=s*ct,J+=s*Bt,Y+=s*St,re+=s*At,Ae+=s*kt,Fe+=s*qt,Ve+=s*zt,De+=s*Gt,N+=38*Be,k+=38*de,X+=38*Ee,ie+=38*xe,ve+=38*fe,le+=38*F,et+=38*V,ye+=38*ee,Ce+=38*J,Le+=38*Y,Me+=38*re,He+=38*Ae,Oe+=38*Fe,je+=38*Ve,Pe+=38*De,x=1,s=N+x+65535,x=Math.floor(s/65536),N=s-x*65536,s=k+x+65535,x=Math.floor(s/65536),k=s-x*65536,s=X+x+65535,x=Math.floor(s/65536),X=s-x*65536,s=ie+x+65535,x=Math.floor(s/65536),ie=s-x*65536,s=ve+x+65535,x=Math.floor(s/65536),ve=s-x*65536,s=le+x+65535,x=Math.floor(s/65536),le=s-x*65536,s=et+x+65535,x=Math.floor(s/65536),et=s-x*65536,s=ye+x+65535,x=Math.floor(s/65536),ye=s-x*65536,s=Ce+x+65535,x=Math.floor(s/65536),Ce=s-x*65536,s=Le+x+65535,x=Math.floor(s/65536),Le=s-x*65536,s=Me+x+65535,x=Math.floor(s/65536),Me=s-x*65536,s=He+x+65535,x=Math.floor(s/65536),He=s-x*65536,s=Oe+x+65535,x=Math.floor(s/65536),Oe=s-x*65536,s=je+x+65535,x=Math.floor(s/65536),je=s-x*65536,s=Pe+x+65535,x=Math.floor(s/65536),Pe=s-x*65536,s=we+x+65535,x=Math.floor(s/65536),we=s-x*65536,N+=x-1+37*(x-1),x=1,s=N+x+65535,x=Math.floor(s/65536),N=s-x*65536,s=k+x+65535,x=Math.floor(s/65536),k=s-x*65536,s=X+x+65535,x=Math.floor(s/65536),X=s-x*65536,s=ie+x+65535,x=Math.floor(s/65536),ie=s-x*65536,s=ve+x+65535,x=Math.floor(s/65536),ve=s-x*65536,s=le+x+65535,x=Math.floor(s/65536),le=s-x*65536,s=et+x+65535,x=Math.floor(s/65536),et=s-x*65536,s=ye+x+65535,x=Math.floor(s/65536),ye=s-x*65536,s=Ce+x+65535,x=Math.floor(s/65536),Ce=s-x*65536,s=Le+x+65535,x=Math.floor(s/65536),Le=s-x*65536,s=Me+x+65535,x=Math.floor(s/65536),Me=s-x*65536,s=He+x+65535,x=Math.floor(s/65536),He=s-x*65536,s=Oe+x+65535,x=Math.floor(s/65536),Oe=s-x*65536,s=je+x+65535,x=Math.floor(s/65536),je=s-x*65536,s=Pe+x+65535,x=Math.floor(s/65536),Pe=s-x*65536,s=we+x+65535,x=Math.floor(s/65536),we=s-x*65536,N+=x-1+37*(x-1),d[0]=N,d[1]=k,d[2]=X,d[3]=ie,d[4]=ve,d[5]=le,d[6]=et,d[7]=ye,d[8]=Ce,d[9]=Le,d[10]=Me,d[11]=He,d[12]=Oe,d[13]=je,d[14]=Pe,d[15]=we}function ce(d,E){K(d,E,E)}function Ge(d,E){var w=r(),s;for(s=0;s<16;s++)w[s]=E[s];for(s=253;s>=0;s--)ce(w,w),s!==2&&s!==4&&K(w,w,E);for(s=0;s<16;s++)d[s]=w[s]}function Se(d,E){var w=r(),s;for(s=0;s<16;s++)w[s]=E[s];for(s=250;s>=0;s--)ce(w,w),s!==1&&K(w,w,E);for(s=0;s<16;s++)d[s]=w[s]}function _e(d,E,w){var s=new Uint8Array(32),x=new Float64Array(80),N,k,X=r(),ie=r(),ve=r(),le=r(),et=r(),ye=r();for(k=0;k<31;k++)s[k]=E[k];for(s[31]=E[31]&127|64,s[0]&=248,z(x,w),k=0;k<16;k++)ie[k]=x[k],le[k]=X[k]=ve[k]=0;for(X[0]=le[0]=1,k=254;k>=0;--k)N=s[k>>>3]>>>(k&7)&1,L(X,ie,N),L(ve,le,N),te(et,X,ve),Z(X,X,ve),te(ve,ie,le),Z(ie,ie,le),ce(le,et),ce(ye,X),K(X,ve,X),K(ve,ie,et),te(et,X,ve),Z(X,X,ve),ce(ie,X),Z(ve,le,ye),K(X,ve,l),te(X,X,le),K(ve,ve,X),K(X,le,ye),K(le,ie,x),ce(ie,et),L(X,ie,N),L(ve,le,N);for(k=0;k<16;k++)x[k+16]=X[k],x[k+32]=ve[k],x[k+48]=ie[k],x[k+64]=le[k];var Ce=x.subarray(32),Le=x.subarray(16);return Ge(Ce,Ce),K(Le,Le,Ce),R(d,Le),0}function ut(d,E){return _e(d,E,o)}function gt(d,E){return n(E,32),ut(d,E)}function mt(d,E,w){var s=new Uint8Array(32);return _e(s,w,E),pe(d,i,s,ge)}var se=h,ue=B;function ke(d,E,w,s,x,N){var k=new Uint8Array(32);return mt(k,x,N),se(d,E,w,s,k)}function it(d,E,w,s,x,N){var k=new Uint8Array(32);return mt(k,x,N),ue(d,E,w,s,k)}var We=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function bt(d,E,w,s){for(var x=new Int32Array(16),N=new Int32Array(16),k,X,ie,ve,le,et,ye,Ce,Le,Me,He,Oe,je,Pe,we,Be,de,Ee,xe,fe,F,V,ee,J,Y,re,Ae=d[0],Fe=d[1],Ve=d[2],De=d[3],S=d[4],ze=d[5],tt=d[6],rt=d[7],qe=E[0],Xe=E[1],Ye=E[2],Ct=E[3],ct=E[4],Bt=E[5],St=E[6],At=E[7],kt=0;s>=128;){for(xe=0;xe<16;xe++)fe=8*xe+kt,x[xe]=w[fe+0]<<24|w[fe+1]<<16|w[fe+2]<<8|w[fe+3],N[xe]=w[fe+4]<<24|w[fe+5]<<16|w[fe+6]<<8|w[fe+7];for(xe=0;xe<80;xe++)if(k=Ae,X=Fe,ie=Ve,ve=De,le=S,et=ze,ye=tt,Ce=rt,Le=qe,Me=Xe,He=Ye,Oe=Ct,je=ct,Pe=Bt,we=St,Be=At,F=rt,V=At,ee=V&65535,J=V>>>16,Y=F&65535,re=F>>>16,F=(S>>>14|ct<<32-14)^(S>>>18|ct<<32-18)^(ct>>>41-32|S<<32-(41-32)),V=(ct>>>14|S<<32-14)^(ct>>>18|S<<32-18)^(S>>>41-32|ct<<32-(41-32)),ee+=V&65535,J+=V>>>16,Y+=F&65535,re+=F>>>16,F=S&ze^~S&tt,V=ct&Bt^~ct&St,ee+=V&65535,J+=V>>>16,Y+=F&65535,re+=F>>>16,F=We[xe*2],V=We[xe*2+1],ee+=V&65535,J+=V>>>16,Y+=F&65535,re+=F>>>16,F=x[xe%16],V=N[xe%16],ee+=V&65535,J+=V>>>16,Y+=F&65535,re+=F>>>16,J+=ee>>>16,Y+=J>>>16,re+=Y>>>16,de=Y&65535|re<<16,Ee=ee&65535|J<<16,F=de,V=Ee,ee=V&65535,J=V>>>16,Y=F&65535,re=F>>>16,F=(Ae>>>28|qe<<32-28)^(qe>>>34-32|Ae<<32-(34-32))^(qe>>>39-32|Ae<<32-(39-32)),V=(qe>>>28|Ae<<32-28)^(Ae>>>34-32|qe<<32-(34-32))^(Ae>>>39-32|qe<<32-(39-32)),ee+=V&65535,J+=V>>>16,Y+=F&65535,re+=F>>>16,F=Ae&Fe^Ae&Ve^Fe&Ve,V=qe&Xe^qe&Ye^Xe&Ye,ee+=V&65535,J+=V>>>16,Y+=F&65535,re+=F>>>16,J+=ee>>>16,Y+=J>>>16,re+=Y>>>16,Ce=Y&65535|re<<16,Be=ee&65535|J<<16,F=ve,V=Oe,ee=V&65535,J=V>>>16,Y=F&65535,re=F>>>16,F=de,V=Ee,ee+=V&65535,J+=V>>>16,Y+=F&65535,re+=F>>>16,J+=ee>>>16,Y+=J>>>16,re+=Y>>>16,ve=Y&65535|re<<16,Oe=ee&65535|J<<16,Fe=k,Ve=X,De=ie,S=ve,ze=le,tt=et,rt=ye,Ae=Ce,Xe=Le,Ye=Me,Ct=He,ct=Oe,Bt=je,St=Pe,At=we,qe=Be,xe%16===15)for(fe=0;fe<16;fe++)F=x[fe],V=N[fe],ee=V&65535,J=V>>>16,Y=F&65535,re=F>>>16,F=x[(fe+9)%16],V=N[(fe+9)%16],ee+=V&65535,J+=V>>>16,Y+=F&65535,re+=F>>>16,de=x[(fe+1)%16],Ee=N[(fe+1)%16],F=(de>>>1|Ee<<32-1)^(de>>>8|Ee<<32-8)^de>>>7,V=(Ee>>>1|de<<32-1)^(Ee>>>8|de<<32-8)^(Ee>>>7|de<<32-7),ee+=V&65535,J+=V>>>16,Y+=F&65535,re+=F>>>16,de=x[(fe+14)%16],Ee=N[(fe+14)%16],F=(de>>>19|Ee<<32-19)^(Ee>>>61-32|de<<32-(61-32))^de>>>6,V=(Ee>>>19|de<<32-19)^(de>>>61-32|Ee<<32-(61-32))^(Ee>>>6|de<<32-6),ee+=V&65535,J+=V>>>16,Y+=F&65535,re+=F>>>16,J+=ee>>>16,Y+=J>>>16,re+=Y>>>16,x[fe]=Y&65535|re<<16,N[fe]=ee&65535|J<<16;F=Ae,V=qe,ee=V&65535,J=V>>>16,Y=F&65535,re=F>>>16,F=d[0],V=E[0],ee+=V&65535,J+=V>>>16,Y+=F&65535,re+=F>>>16,J+=ee>>>16,Y+=J>>>16,re+=Y>>>16,d[0]=Ae=Y&65535|re<<16,E[0]=qe=ee&65535|J<<16,F=Fe,V=Xe,ee=V&65535,J=V>>>16,Y=F&65535,re=F>>>16,F=d[1],V=E[1],ee+=V&65535,J+=V>>>16,Y+=F&65535,re+=F>>>16,J+=ee>>>16,Y+=J>>>16,re+=Y>>>16,d[1]=Fe=Y&65535|re<<16,E[1]=Xe=ee&65535|J<<16,F=Ve,V=Ye,ee=V&65535,J=V>>>16,Y=F&65535,re=F>>>16,F=d[2],V=E[2],ee+=V&65535,J+=V>>>16,Y+=F&65535,re+=F>>>16,J+=ee>>>16,Y+=J>>>16,re+=Y>>>16,d[2]=Ve=Y&65535|re<<16,E[2]=Ye=ee&65535|J<<16,F=De,V=Ct,ee=V&65535,J=V>>>16,Y=F&65535,re=F>>>16,F=d[3],V=E[3],ee+=V&65535,J+=V>>>16,Y+=F&65535,re+=F>>>16,J+=ee>>>16,Y+=J>>>16,re+=Y>>>16,d[3]=De=Y&65535|re<<16,E[3]=Ct=ee&65535|J<<16,F=S,V=ct,ee=V&65535,J=V>>>16,Y=F&65535,re=F>>>16,F=d[4],V=E[4],ee+=V&65535,J+=V>>>16,Y+=F&65535,re+=F>>>16,J+=ee>>>16,Y+=J>>>16,re+=Y>>>16,d[4]=S=Y&65535|re<<16,E[4]=ct=ee&65535|J<<16,F=ze,V=Bt,ee=V&65535,J=V>>>16,Y=F&65535,re=F>>>16,F=d[5],V=E[5],ee+=V&65535,J+=V>>>16,Y+=F&65535,re+=F>>>16,J+=ee>>>16,Y+=J>>>16,re+=Y>>>16,d[5]=ze=Y&65535|re<<16,E[5]=Bt=ee&65535|J<<16,F=tt,V=St,ee=V&65535,J=V>>>16,Y=F&65535,re=F>>>16,F=d[6],V=E[6],ee+=V&65535,J+=V>>>16,Y+=F&65535,re+=F>>>16,J+=ee>>>16,Y+=J>>>16,re+=Y>>>16,d[6]=tt=Y&65535|re<<16,E[6]=St=ee&65535|J<<16,F=rt,V=At,ee=V&65535,J=V>>>16,Y=F&65535,re=F>>>16,F=d[7],V=E[7],ee+=V&65535,J+=V>>>16,Y+=F&65535,re+=F>>>16,J+=ee>>>16,Y+=J>>>16,re+=Y>>>16,d[7]=rt=Y&65535|re<<16,E[7]=At=ee&65535|J<<16,kt+=128,s-=128}return s}function wt(d,E,w){var s=new Int32Array(8),x=new Int32Array(8),N=new Uint8Array(256),k,X=w;for(s[0]=1779033703,s[1]=3144134277,s[2]=1013904242,s[3]=2773480762,s[4]=1359893119,s[5]=2600822924,s[6]=528734635,s[7]=1541459225,x[0]=4089235720,x[1]=2227873595,x[2]=4271175723,x[3]=1595750129,x[4]=2917565137,x[5]=725511199,x[6]=4215389547,x[7]=327033209,bt(s,x,E,w),w%=128,k=0;k<w;k++)N[k]=E[X-w+k];for(N[w]=128,w=256-128*(w<112?1:0),N[w-9]=0,D(N,w-8,X/536870912|0,X<<3),bt(s,x,N,w),k=0;k<8;k++)D(d,8*k,s[k],x[k]);return 0}function xt(d,E){var w=r(),s=r(),x=r(),N=r(),k=r(),X=r(),ie=r(),ve=r(),le=r();Z(w,d[1],d[0]),Z(le,E[1],E[0]),K(w,w,le),te(s,d[0],d[1]),te(le,E[0],E[1]),K(s,s,le),K(x,d[3],E[3]),K(x,x,m),K(N,d[2],E[2]),te(N,N,N),Z(k,s,w),Z(X,N,x),te(ie,N,x),te(ve,s,w),K(d[0],k,X),K(d[1],ve,ie),K(d[2],ie,X),K(d[3],k,ve)}function jt(d,E,w){var s;for(s=0;s<4;s++)L(d[s],E[s],w)}function vt(d,E){var w=r(),s=r(),x=r();Ge(x,E[2]),K(w,E[0],x),K(s,E[1],x),R(d,s),d[31]^=M(w)<<7}function er(d,E,w){var s,x;for(I(d[0],c),I(d[1],a),I(d[2],a),I(d[3],c),x=255;x>=0;--x)s=w[x/8|0]>>(x&7)&1,jt(d,E,s),xt(E,d),xt(d,d),jt(d,E,s)}function gr(d,E){var w=[r(),r(),r(),r()];I(w[0],v),I(w[1],T),I(w[2],a),K(w[3],v,T),er(d,w,E)}function Rt(d,E,w){var s=new Uint8Array(64),x=[r(),r(),r(),r()],N;for(w||n(E,32),wt(s,E,32),s[0]&=248,s[31]&=127,s[31]|=64,gr(x,s),vt(d,x),N=0;N<32;N++)E[N+32]=d[N];return 0}var Cr=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function b(d,E){var w,s,x,N;for(s=63;s>=32;--s){for(w=0,x=s-32,N=s-12;x<N;++x)E[x]+=w-16*E[s]*Cr[x-(s-32)],w=Math.floor((E[x]+128)/256),E[x]-=w*256;E[x]+=w,E[s]=0}for(w=0,x=0;x<32;x++)E[x]+=w-(E[31]>>4)*Cr[x],w=E[x]>>8,E[x]&=255;for(x=0;x<32;x++)E[x]-=w*Cr[x];for(s=0;s<32;s++)E[s+1]+=E[s]>>8,d[s]=E[s]&255}function f(d){var E=new Float64Array(64),w;for(w=0;w<64;w++)E[w]=d[w];for(w=0;w<64;w++)d[w]=0;b(d,E)}function u(d,E,w,s){var x=new Uint8Array(64),N=new Uint8Array(64),k=new Uint8Array(64),X,ie,ve=new Float64Array(64),le=[r(),r(),r(),r()];wt(x,s,32),x[0]&=248,x[31]&=127,x[31]|=64;var et=w+64;for(X=0;X<w;X++)d[64+X]=E[X];for(X=0;X<32;X++)d[32+X]=x[32+X];for(wt(k,d.subarray(32),w+32),f(k),gr(le,k),vt(d,le),X=32;X<64;X++)d[X]=s[X];for(wt(N,d,w+64),f(N),X=0;X<64;X++)ve[X]=0;for(X=0;X<32;X++)ve[X]=k[X];for(X=0;X<32;X++)for(ie=0;ie<32;ie++)ve[X+ie]+=N[X]*x[ie];return b(d.subarray(32),ve),et}function _(d,E){var w=r(),s=r(),x=r(),N=r(),k=r(),X=r(),ie=r();return I(d[2],a),z(d[1],E),ce(x,d[1]),K(N,x,p),Z(x,x,d[2]),te(N,d[2],N),ce(k,N),ce(X,k),K(ie,X,k),K(w,ie,x),K(w,w,N),Se(w,w),K(w,w,x),K(w,w,N),K(w,w,N),K(d[0],w,N),ce(s,d[0]),K(s,s,N),j(s,x)&&K(d[0],d[0],A),ce(s,d[0]),K(s,s,N),j(s,x)?-1:(M(d[0])===E[31]>>7&&Z(d[0],c,d[0]),K(d[3],d[0],d[1]),0)}function O(d,E,w,s){var x,N=new Uint8Array(32),k=new Uint8Array(64),X=[r(),r(),r(),r()],ie=[r(),r(),r(),r()];if(w<64||_(ie,s))return-1;for(x=0;x<w;x++)d[x]=E[x];for(x=0;x<32;x++)d[x+32]=s[x];if(wt(k,d,w),f(k),er(X,ie,k),gr(ie,E.subarray(32)),xt(X,ie),vt(N,X),w-=64,he(E,0,N,0)){for(x=0;x<w;x++)d[x]=0;return-1}for(x=0;x<w;x++)d[x]=E[x+64];return w}var U=32,W=24,Re=32,at=16,st=32,lt=32,Qe=32,bi=32,Xs=32,Cl=W,cw=Re,fw=at,Mr=64,cn=32,kn=64,Ys=32,Zs=64;t.lowlevel={crypto_core_hsalsa20:pe,crypto_stream_xor:me,crypto_stream:ne,crypto_stream_salsa20_xor:be,crypto_stream_salsa20:G,crypto_onetimeauth:g,crypto_onetimeauth_verify:y,crypto_verify_16:oe,crypto_verify_32:he,crypto_secretbox:h,crypto_secretbox_open:B,crypto_scalarmult:_e,crypto_scalarmult_base:ut,crypto_box_beforenm:mt,crypto_box_afternm:se,crypto_box:ke,crypto_box_open:it,crypto_box_keypair:gt,crypto_hash:wt,crypto_sign:u,crypto_sign_keypair:Rt,crypto_sign_open:O,crypto_secretbox_KEYBYTES:U,crypto_secretbox_NONCEBYTES:W,crypto_secretbox_ZEROBYTES:Re,crypto_secretbox_BOXZEROBYTES:at,crypto_scalarmult_BYTES:st,crypto_scalarmult_SCALARBYTES:lt,crypto_box_PUBLICKEYBYTES:Qe,crypto_box_SECRETKEYBYTES:bi,crypto_box_BEFORENMBYTES:Xs,crypto_box_NONCEBYTES:Cl,crypto_box_ZEROBYTES:cw,crypto_box_BOXZEROBYTES:fw,crypto_sign_BYTES:Mr,crypto_sign_PUBLICKEYBYTES:cn,crypto_sign_SECRETKEYBYTES:kn,crypto_sign_SEEDBYTES:Ys,crypto_hash_BYTES:Zs,gf:r,D:p,L:Cr,pack25519:R,unpack25519:z,M:K,A:te,S:ce,Z,pow2523:Se,add:xt,set25519:I,modL:b,scalarmult:er,scalarbase:gr};function Ll(d,E){if(d.length!==U)throw new Error("bad key size");if(E.length!==W)throw new Error("bad nonce size")}function uw(d,E){if(d.length!==Qe)throw new Error("bad public key size");if(E.length!==bi)throw new Error("bad secret key size")}function sr(){for(var d=0;d<arguments.length;d++)if(!(arguments[d]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function Ol(d){for(var E=0;E<d.length;E++)d[E]=0}t.randomBytes=function(d){var E=new Uint8Array(d);return n(E,d),E},t.secretbox=function(d,E,w){sr(d,E,w),Ll(w,E);for(var s=new Uint8Array(Re+d.length),x=new Uint8Array(s.length),N=0;N<d.length;N++)s[N+Re]=d[N];return h(x,s,s.length,E,w),x.subarray(at)},t.secretbox.open=function(d,E,w){sr(d,E,w),Ll(w,E);for(var s=new Uint8Array(at+d.length),x=new Uint8Array(s.length),N=0;N<d.length;N++)s[N+at]=d[N];return s.length<32||B(x,s,s.length,E,w)!==0?null:x.subarray(Re)},t.secretbox.keyLength=U,t.secretbox.nonceLength=W,t.secretbox.overheadLength=at,t.scalarMult=function(d,E){if(sr(d,E),d.length!==lt)throw new Error("bad n size");if(E.length!==st)throw new Error("bad p size");var w=new Uint8Array(st);return _e(w,d,E),w},t.scalarMult.base=function(d){if(sr(d),d.length!==lt)throw new Error("bad n size");var E=new Uint8Array(st);return ut(E,d),E},t.scalarMult.scalarLength=lt,t.scalarMult.groupElementLength=st,t.box=function(d,E,w,s){var x=t.box.before(w,s);return t.secretbox(d,E,x)},t.box.before=function(d,E){sr(d,E),uw(d,E);var w=new Uint8Array(Xs);return mt(w,d,E),w},t.box.after=t.secretbox,t.box.open=function(d,E,w,s){var x=t.box.before(w,s);return t.secretbox.open(d,E,x)},t.box.open.after=t.secretbox.open,t.box.keyPair=function(){var d=new Uint8Array(Qe),E=new Uint8Array(bi);return gt(d,E),{publicKey:d,secretKey:E}},t.box.keyPair.fromSecretKey=function(d){if(sr(d),d.length!==bi)throw new Error("bad secret key size");var E=new Uint8Array(Qe);return ut(E,d),{publicKey:E,secretKey:new Uint8Array(d)}},t.box.publicKeyLength=Qe,t.box.secretKeyLength=bi,t.box.sharedKeyLength=Xs,t.box.nonceLength=Cl,t.box.overheadLength=t.secretbox.overheadLength,t.sign=function(d,E){if(sr(d,E),E.length!==kn)throw new Error("bad secret key size");var w=new Uint8Array(Mr+d.length);return u(w,d,d.length,E),w},t.sign.open=function(d,E){if(sr(d,E),E.length!==cn)throw new Error("bad public key size");var w=new Uint8Array(d.length),s=O(w,d,d.length,E);if(s<0)return null;for(var x=new Uint8Array(s),N=0;N<x.length;N++)x[N]=w[N];return x},t.sign.detached=function(d,E){for(var w=t.sign(d,E),s=new Uint8Array(Mr),x=0;x<s.length;x++)s[x]=w[x];return s},t.sign.detached.verify=function(d,E,w){if(sr(d,E,w),E.length!==Mr)throw new Error("bad signature size");if(w.length!==cn)throw new Error("bad public key size");var s=new Uint8Array(Mr+d.length),x=new Uint8Array(Mr+d.length),N;for(N=0;N<Mr;N++)s[N]=E[N];for(N=0;N<d.length;N++)s[N+Mr]=d[N];return O(x,s,s.length,w)>=0},t.sign.keyPair=function(){var d=new Uint8Array(cn),E=new Uint8Array(kn);return Rt(d,E),{publicKey:d,secretKey:E}},t.sign.keyPair.fromSecretKey=function(d){if(sr(d),d.length!==kn)throw new Error("bad secret key size");for(var E=new Uint8Array(cn),w=0;w<E.length;w++)E[w]=d[32+w];return{publicKey:E,secretKey:new Uint8Array(d)}},t.sign.keyPair.fromSeed=function(d){if(sr(d),d.length!==Ys)throw new Error("bad seed size");for(var E=new Uint8Array(cn),w=new Uint8Array(kn),s=0;s<32;s++)w[s]=d[s];return Rt(E,w,!0),{publicKey:E,secretKey:w}},t.sign.publicKeyLength=cn,t.sign.secretKeyLength=kn,t.sign.seedLength=Ys,t.sign.signatureLength=Mr,t.hash=function(d){sr(d);var E=new Uint8Array(Zs);return wt(E,d,d.length),E},t.hash.hashLength=Zs,t.verify=function(d,E){return sr(d,E),d.length===0||E.length===0||d.length!==E.length?!1:Q(d,0,E,0,d.length)===0},t.setPRNG=function(d){n=d},function(){var d=typeof self<"u"?self.crypto||self.msCrypto:null;if(d&&d.getRandomValues){var E=65536;t.setPRNG(function(w,s){var x,N=new Uint8Array(s);for(x=0;x<s;x+=E)d.getRandomValues(N.subarray(x,x+Math.min(s-x,E)));for(x=0;x<s;x++)w[x]=N[x];Ol(N)})}else typeof Uo<"u"&&(d=qb,d&&d.randomBytes&&t.setPRNG(function(w,s){var x,N=d.randomBytes(s);for(x=0;x<s;x++)w[x]=N[x];Ol(N)}))}()})(e.exports?e.exports:self.nacl=self.nacl||{})})(xl);var zb=nt&&nt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Gb=nt&&nt.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Wb=nt&&nt.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&zb(t,e,r);return Gb(t,e),t};Object.defineProperty(yr,"__esModule",{value:!0}),yr.getEncryptionPublicKey=yr.decryptSafely=yr.decrypt=yr.encryptSafely=yr.encrypt=void 0;const Tr=ts,an=Wb(xl.exports),Rr=Dt;function vl({publicKey:e,data:t,version:r}){if((0,Rr.isNullish)(e))throw new Error("Missing publicKey parameter");if((0,Rr.isNullish)(t))throw new Error("Missing data parameter");if((0,Rr.isNullish)(r))throw new Error("Missing version parameter");switch(r){case"x25519-xsalsa20-poly1305":{if(typeof t!="string")throw new Error("Message data must be given as a string");const n=an.box.keyPair();let i;try{i=Tr.base64.decode(e)}catch{throw new Error("Bad public key")}const o=Tr.utf8.decode(t),c=an.randomBytes(an.box.nonceLength),a=an.box(o,c,i,n.secretKey);return{version:"x25519-xsalsa20-poly1305",nonce:Tr.base64.encode(c),ephemPublicKey:Tr.base64.encode(n.publicKey),ciphertext:Tr.base64.encode(a)}}default:throw new Error("Encryption type/version not supported")}}yr.encrypt=vl;function Kb({publicKey:e,data:t,version:r}){if((0,Rr.isNullish)(e))throw new Error("Missing publicKey parameter");if((0,Rr.isNullish)(t))throw new Error("Missing data parameter");if((0,Rr.isNullish)(r))throw new Error("Missing version parameter");const n=2**11,i=16;if(typeof t=="object"&&t&&"toJSON"in t)throw new Error("Cannot encrypt with toJSON property.  Please remove toJSON property");const o={data:t,padding:""},a=Buffer.byteLength(JSON.stringify(o),"utf-8")%n;let l=0;a>0&&(l=n-a-i),o.padding="0".repeat(l);const p=JSON.stringify(o);return vl({publicKey:e,data:p,version:r})}yr.encryptSafely=Kb;function _l({encryptedData:e,privateKey:t}){if((0,Rr.isNullish)(e))throw new Error("Missing encryptedData parameter");if((0,Rr.isNullish)(t))throw new Error("Missing privateKey parameter");switch(e.version){case"x25519-xsalsa20-poly1305":{const r=Buffer.from(t,"hex"),n=an.box.keyPair.fromSecretKey(r).secretKey,i=Tr.base64.decode(e.nonce),o=Tr.base64.decode(e.ciphertext),c=Tr.base64.decode(e.ephemPublicKey),a=an.box.open(o,i,c,n);try{if(!a)throw new Error;const l=Tr.utf8.encode(a);if(!l)throw new Error;return l}catch(l){throw l&&typeof l.message=="string"&&l.message.length?new Error(`Decryption failed: ${l.message}`):new Error("Decryption failed.")}}default:throw new Error("Encryption type/version not supported.")}}yr.decrypt=_l;function Jb({encryptedData:e,privateKey:t}){if((0,Rr.isNullish)(e))throw new Error("Missing encryptedData parameter");if((0,Rr.isNullish)(t))throw new Error("Missing privateKey parameter");return JSON.parse(_l({encryptedData:e,privateKey:t})).data}yr.decryptSafely=Jb;function Xb(e){const t=Buffer.from(e,"hex"),r=an.box.keyPair.fromSecretKey(t).publicKey;return Tr.base64.encode(r)}yr.getEncryptionPublicKey=Xb,function(e){var t=nt&&nt.__createBinding||(Object.create?function(i,o,c,a){a===void 0&&(a=c);var l=Object.getOwnPropertyDescriptor(o,c);(!l||("get"in l?!o.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return o[c]}}),Object.defineProperty(i,a,l)}:function(i,o,c,a){a===void 0&&(a=c),i[a]=o[c]}),r=nt&&nt.__exportStar||function(i,o){for(var c in i)c!=="default"&&!Object.prototype.hasOwnProperty.call(o,c)&&t(o,i,c)};Object.defineProperty(e,"__esModule",{value:!0}),e.normalize=e.concatSig=void 0,r(Fr,e),r(zu,e),r(yr,e);var n=Dt;Object.defineProperty(e,"concatSig",{enumerable:!0,get:function(){return n.concatSig}}),Object.defineProperty(e,"normalize",{enumerable:!0,get:function(){return n.normalize}})}(un);var Yb=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},Zb=(e,t,r)=>(Yb(e,t,"read from private field"),r?r.call(e):t.get(e)),Qb=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},Js;const On=class{constructor(e){Qb(this,Js,["eth_newFilter","eth_newBlockFilter","eth_newPendingTransactionFilter","eth_uninstallFilter","eth_subscribe"]),this.provider=e}static isUTF8(e){try{return new TextDecoder("utf8",{fatal:!0}).decode(e),!0}catch{return!1}}static bufferToHex(e){return"0x"+Buffer.from(e).toString("hex")}static messageToBuffer(e){let t=Buffer.from([]);try{typeof e=="string"?t=Buffer.from(e.replace("0x",""),"hex"):t=Buffer.from(e)}catch(r){console.log(`messageToBuffer error: ${r}`)}return t}async request(e){if(Zb(this,Js).includes(e.method))return Promise.reject(new ua(4200,`EthereumProvider does not support calling ${e.method}`));switch(e.method){case"wallet_requestPermissions":return this.provider.internalRequest({method:"wallet_requestPermissions",params:e.params});case"eth_requestAccounts":return this.provider.internalRequest({method:"requestAccounts",params:{}});case"eth_sign":return this.ethSign(e.params);case"personal_sign":return this.personalSign(e.params);case"personal_ecRecover":return this.personalECRecover(e.params);case"eth_signTypedData_v3":return this.ethSignTypedData(e.params,un.SignTypedDataVersion.V3);case"eth_signTypedData_v4":return this.ethSignTypedData(e.params,un.SignTypedDataVersion.V4);case"eth_signTypedData":return this.ethSignTypedData(e.params,un.SignTypedDataVersion.V1);case"eth_sendTransaction":return this.provider.internalRequest({method:"signTransaction",params:e.params[0]});case"wallet_watchAsset":{const{options:t,type:r}=e.params,{address:n,symbol:i,decimals:o}=t;return this.provider.internalRequest({method:"watchAsset",params:{type:r,contract:n,symbol:i,decimals:o||0}})}case"wallet_addEthereumChain":return this.provider.internalRequest({method:"addEthereumChain",params:e.params[0]});case"wallet_switchEthereumChain":return this.provider.internalRequest({method:"switchEthereumChain",params:e.params[0]});default:return(await this.provider.getRPC().call({method:e.method,jsonrpc:"2.0",params:e.params})).result}}personalECRecover(e){return this.provider.internalRequest({method:"ecRecover",params:{signature:e[1],message:e[0]}})}async personalSign(e){const[t]=await this.provider.request({method:"eth_accounts"});if(!t)throw new Error("Unable to execute personal_sign");let[r,n]=e;typeof r=="string"&&t.toLowerCase()===r.toLowerCase()&&(r=e[1],n=e[0]);const i=On.messageToBuffer(r);return this.provider.internalRequest({method:"signPersonalMessage",params:{data:i.length===0?On.bufferToHex(r):r,address:n}})}ethSign(e){if(!e)throw new Error("Missing params");const[t,r]=e,n=On.messageToBuffer(r),i=On.bufferToHex(n);return this.provider.internalRequest({method:On.isUTF8(n)?"signPersonalMessage":"signMessage",params:{data:i,address:t}})}async ethSignTypedData(e,t){const[r]=await this.provider.request({method:"eth_accounts"});if(!r)throw new Error("Unable to execute ethSignTypedData, address is not present");let[n,i]=e;typeof n=="string"&&r.toLowerCase()===n.toLowerCase()&&(n=e[1],i=e[0]);const o=typeof n=="string"?JSON.parse(n):n,{chainId:c}=o.domain||{};if(typeof c<"u"&&Number(c)!==Number(this.provider.getChainId()))throw new Error("Provided chainId does not match the currently active chain");const a=t!==un.SignTypedDataVersion.V1?un.TypedDataUtils.eip712Hash(o,t):"";return this.provider.internalRequest({method:"signTypedMessage",params:{data:"0x"+a.toString("hex"),raw:typeof n=="string"?n:JSON.stringify(n),address:i,version:t}})}};let ew=On;Js=new WeakMap;var tw=Object.defineProperty,Bl=Object.getOwnPropertySymbols,rw=Object.prototype.hasOwnProperty,nw=Object.prototype.propertyIsEnumerable,Sl=(e,t,r)=>t in e?tw(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,iw=(e,t)=>{for(var r in t||(t={}))rw.call(t,r)&&Sl(e,r,t[r]);if(Bl)for(var r of Bl(t))nw.call(t,r)&&Sl(e,r,t[r]);return e},Al=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},ow=(e,t,r)=>(Al(e,t,"read from private field"),r?r.call(e):t.get(e)),sw=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},aw=(e,t,r,n)=>(Al(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),yo;class Il{constructor(t){sw(this,yo,void 0),aw(this,yo,t)}async getBlockNumber(){return(await this.call({jsonrpc:"2.0",method:"eth_blockNumber",params:[]})).result}async getBlockByNumber(t){return(await this.call({jsonrpc:"2.0",method:"eth_getBlockByNumber",params:[t,!1]})).result}getFilterLogs(t){return this.call({jsonrpc:"2.0",method:"eth_getLogs",params:[t]})}async call(t){const r=await(await fetch(ow(this,yo),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(iw({id:new Date().getTime()+Math.floor(Math.random()*1e3)},t))})).json();if(!r.result&&r.error)throw new Error(r.error.message||"rpc error");return r}}yo=new WeakMap;var $l=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},ir=(e,t,r)=>($l(e,t,"read from private field"),r?r.call(e):t.get(e)),Pn=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},or=(e,t,r,n)=>($l(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Hr,Nn,go,gi,Zr,jn;const Tl=class extends Jl{constructor(e){super(),Pn(this,Hr,void 0),Pn(this,Nn,void 0),Pn(this,go,!1),Pn(this,gi,!1),Pn(this,Zr,void 0),Pn(this,jn,void 0),this.isFlowWallet=!0,this.request=this.request.bind(this),e&&(e.chainId&&or(this,Hr,e.chainId),(e.rpc||e.rpcUrl)&&or(this,Nn,e.rpc||e.rpcUrl),typeof e.overwriteMetamask<"u"&&or(this,gi,e.overwriteMetamask),typeof e.disableMobileAdapter<"u"&&or(this,go,e.disableMobileAdapter),typeof e.isFlowWallet<"u"&&(this.isFlowWallet=e.isFlowWallet),or(this,jn,new Il(ir(this,Nn)))),ir(this,go)||(this.mobileAdapter=new ew(this)),super.on("onResponseReady",this.onResponseReady.bind(this)),this.connect()}connect(){this.emit("connect",{chainId:ir(this,Hr)})}enable(){return this.request({method:"eth_requestAccounts"})}sendAsync(e,t){Array.isArray(e)?Promise.all(e.map(r=>this.request(r))).then(r=>t(null,r)).catch(r=>t(r,null)):this.request(e).then(r=>t(null,r)).catch(r=>t(r,null))}_send(e){const t={jsonrpc:"2.0",result:null};switch(e.method){case"eth_accounts":case"eth_coinbase":case"net_version":case"eth_chainId":t.result=this.handleStaticRequests({method:"eth_accounts"});break;default:throw new ua(4200,`Trust does not support calling ${e.method} synchronously without a callback. Please provide a callback parameter to call ${e.method} asynchronously.`)}return t}send(e,t){if(typeof e=="string"&&(!t||Array.isArray(t))){const r=this;return new Promise((n,i)=>{try{const o=r.request({method:e,params:t});o instanceof Promise?o.then(n).catch(i):n(o)}catch(o){i(o)}})}else if(e&&typeof e=="object"&&typeof t=="function")return this.request(e).then(t);return this._send(e)}internalRequest(e){return super.request(e)}request(e){const t=()=>this.internalRequest(e);if(this.mobileAdapter){const r=this.handleStaticRequests(e,()=>this.mobileAdapter.request(e));return r instanceof Promise?r:Promise.resolve(r)}return this.handleStaticRequests(e,t)}handleStaticRequests(e,t){switch(e.method){case"net_version":return ir(this,Hr)?parseInt(ir(this,Hr)):void 0;case"eth_chainId":return ir(this,Hr);case"eth_accounts":case"eth_coinbase":return ir(this,Zr)?[ir(this,Zr)]:[]}if(t)return t()}onResponseReady(e,t){var r,n,i,o;if(t)switch(e.method){case"eth_requestAccounts":case"requestAccounts":or(this,Zr,t[0]);break;case"wallet_requestPermissions":or(this,Zr,(o=(i=(n=(r=t[0])==null?void 0:r.caveats)==null?void 0:n[0])==null?void 0:i.value)==null?void 0:o[0]);break}}getNetwork(){return Tl.NETWORK}get connected(){return!0}get isMetaMask(){return ir(this,gi)}getChainId(){return ir(this,Hr)}getNetworkVersion(){return this.handleStaticRequests({method:"net_version "})}setChainId(e){or(this,Hr,e)}setRPCUrl(e){or(this,Nn,e),or(this,jn,new Il(ir(this,Nn)))}getRPC(){return ir(this,jn)}setOverwriteMetamask(e){or(this,gi,e)}getAddress(){return ir(this,Zr)}setAddress(e){or(this,Zr,e)}setRPC(e){or(this,jn,e)}};let Rl=Tl;Hr=new WeakMap,Nn=new WeakMap,go=new WeakMap,gi=new WeakMap,Zr=new WeakMap,jn=new WeakMap,Rl.NETWORK="ethereum",br.EthereumProvider=Rl,Object.defineProperty(br,"__esModule",{value:!0})});
//# sourceMappingURL=index.umd.js.map
